var Fd=Object.defineProperty;var wd=(E,A,C)=>A in E?Fd(E,A,{enumerable:!0,configurable:!0,writable:!0,value:C}):E[A]=C;var ut=(E,A,C)=>wd(E,typeof A!="symbol"?A+"":A,C);(function(){const A=document.createElement("link").relList;if(A&&A.supports&&A.supports("modulepreload"))return;for(const F of document.querySelectorAll('link[rel="modulepreload"]'))R(F);new MutationObserver(F=>{for(const B of F)if(B.type==="childList")for(const v of B.addedNodes)v.tagName==="LINK"&&v.rel==="modulepreload"&&R(v)}).observe(document,{childList:!0,subtree:!0});function C(F){const B={};return F.integrity&&(B.integrity=F.integrity),F.referrerPolicy&&(B.referrerPolicy=F.referrerPolicy),F.crossOrigin==="use-credentials"?B.credentials="include":F.crossOrigin==="anonymous"?B.credentials="omit":B.credentials="same-origin",B}function R(F){if(F.ep)return;F.ep=!0;const B=C(F);fetch(F.href,B)}})();function Mu(E){return E&&E.__esModule&&Object.prototype.hasOwnProperty.call(E,"default")?E.default:E}var Ar={exports:{}},Dd=Ar.exports,xh;function Nd(){return xh||(xh=1,function(E,A){(function(R,F){E.exports=F()})(Dd,()=>(()=>{var C={50792:v=>{var y=Object.prototype.hasOwnProperty,t="~";function h(){}Object.create&&(h.prototype=Object.create(null),new h().__proto__||(t=!1));function p(e,s,o){this.fn=e,this.context=s,this.once=o||!1}function a(e,s,o,i,l){if(typeof o!="function")throw new TypeError("The listener must be a function");var u=new p(o,i||e,l),f=t?t+s:s;return e._events[f]?e._events[f].fn?e._events[f]=[e._events[f],u]:e._events[f].push(u):(e._events[f]=u,e._eventsCount++),e}function n(e,s){--e._eventsCount===0?e._events=new h:delete e._events[s]}function r(){this._events=new h,this._eventsCount=0}r.prototype.eventNames=function(){var s=[],o,i;if(this._eventsCount===0)return s;for(i in o=this._events)y.call(o,i)&&s.push(t?i.slice(1):i);return Object.getOwnPropertySymbols?s.concat(Object.getOwnPropertySymbols(o)):s},r.prototype.listeners=function(s){var o=t?t+s:s,i=this._events[o];if(!i)return[];if(i.fn)return[i.fn];for(var l=0,u=i.length,f=new Array(u);l<u;l++)f[l]=i[l].fn;return f},r.prototype.listenerCount=function(s){var o=t?t+s:s,i=this._events[o];return i?i.fn?1:i.length:0},r.prototype.emit=function(s,o,i,l,u,f){var d=t?t+s:s;if(!this._events[d])return!1;var c=this._events[d],m=arguments.length,g,x;if(c.fn){switch(c.once&&this.removeListener(s,c.fn,void 0,!0),m){case 1:return c.fn.call(c.context),!0;case 2:return c.fn.call(c.context,o),!0;case 3:return c.fn.call(c.context,o,i),!0;case 4:return c.fn.call(c.context,o,i,l),!0;case 5:return c.fn.call(c.context,o,i,l,u),!0;case 6:return c.fn.call(c.context,o,i,l,u,f),!0}for(x=1,g=new Array(m-1);x<m;x++)g[x-1]=arguments[x];c.fn.apply(c.context,g)}else{var T=c.length,S;for(x=0;x<T;x++)switch(c[x].once&&this.removeListener(s,c[x].fn,void 0,!0),m){case 1:c[x].fn.call(c[x].context);break;case 2:c[x].fn.call(c[x].context,o);break;case 3:c[x].fn.call(c[x].context,o,i);break;case 4:c[x].fn.call(c[x].context,o,i,l);break;default:if(!g)for(S=1,g=new Array(m-1);S<m;S++)g[S-1]=arguments[S];c[x].fn.apply(c[x].context,g)}}return!0},r.prototype.on=function(s,o,i){return a(this,s,o,i,!1)},r.prototype.once=function(s,o,i){return a(this,s,o,i,!0)},r.prototype.removeListener=function(s,o,i,l){var u=t?t+s:s;if(!this._events[u])return this;if(!o)return n(this,u),this;var f=this._events[u];if(f.fn)f.fn===o&&(!l||f.once)&&(!i||f.context===i)&&n(this,u);else{for(var d=0,c=[],m=f.length;d<m;d++)(f[d].fn!==o||l&&!f[d].once||i&&f[d].context!==i)&&c.push(f[d]);c.length?this._events[u]=c.length===1?c[0]:c:n(this,u)}return this},r.prototype.removeAllListeners=function(s){var o;return s?(o=t?t+s:s,this._events[o]&&n(this,o)):(this._events=new h,this._eventsCount=0),this},r.prototype.off=r.prototype.removeListener,r.prototype.addListener=r.prototype.on,r.prefixed=t,r.EventEmitter=r,v.exports=r},11517:(v,y,t)=>{/**
 * @author       samme
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(38829),p=function(a,n,r,e){for(var s=a[0],o=1;o<a.length;o++){var i=a[o];h(i,s,n,r,e),s=i}return a};v.exports=p},80318:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(66979),p=function(a,n,r,e,s){return h(a,"angle",n,r,e,s)};v.exports=p},60757:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,h,p){for(var a=0;a<t.length;a++){var n=t[a];h.call(p,n)}return t};v.exports=y},69927:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,h,p){p===void 0&&(p=0);for(var a=p;a<t.length;a++){var n=t[a],r=!0;for(var e in h)n[e]!==h[e]&&(r=!1);if(r)return n}return null};v.exports=y},32265:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,h,p){p===void 0&&(p=0);for(var a=t.length-1;a>=p;a--){var n=t[a],r=!0;for(var e in h)n[e]!==h[e]&&(r=!1);if(r)return n}return null};v.exports=y},94420:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(11879),p=t(60461),a=t(95540),n=t(29747),r=t(41481),e=new r({sys:{queueDepthSort:n,events:{once:n}}},0,0,1,1).setOrigin(0,0),s=function(o,i){i===void 0&&(i={});var l=i.hasOwnProperty("width"),u=i.hasOwnProperty("height"),f=a(i,"width",-1),d=a(i,"height",-1),c=a(i,"cellWidth",1),m=a(i,"cellHeight",c),g=a(i,"position",p.TOP_LEFT),x=a(i,"x",0),T=a(i,"y",0),S=0,P=0,L=f*c,I=d*m;e.setPosition(x,T),e.setSize(c,m);for(var O=0;O<o.length;O++)if(h(o[O],e,g),l&&f===-1)e.x+=c;else if(u&&d===-1)e.y+=m;else if(u&&!l){if(P+=m,e.y+=m,P===I&&(P=0,S+=c,e.y=T,e.x+=c,S===L))break}else if(S+=c,e.x+=c,S===L&&(S=0,P+=m,e.x=x,e.y+=m,P===I))break;return o};v.exports=s},41721:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(66979),p=function(a,n,r,e,s){return h(a,"alpha",n,r,e,s)};v.exports=p},67285:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(66979),p=function(a,n,r,e,s){return h(a,"x",n,r,e,s)};v.exports=p},9074:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(66979),p=function(a,n,r,e,s,o,i){return r==null&&(r=n),h(a,"x",n,e,o,i),h(a,"y",r,s,o,i)};v.exports=p},75222:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(66979),p=function(a,n,r,e,s){return h(a,"y",n,r,e,s)};v.exports=p},22983:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,h,p,a){p===void 0&&(p=0),a===void 0&&(a=6.28);for(var n=p,r=(a-p)/t.length,e=h.x,s=h.y,o=h.radius,i=0;i<t.length;i++)t[i].x=e+o*Math.cos(n),t[i].y=s+o*Math.sin(n),n+=r;return t};v.exports=y},95253:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,h,p,a){p===void 0&&(p=0),a===void 0&&(a=6.28);for(var n=p,r=(a-p)/t.length,e=h.width/2,s=h.height/2,o=0;o<t.length;o++)t[o].x=h.x+e*Math.cos(n),t[o].y=h.y+s*Math.sin(n),n+=r;return t};v.exports=y},88505:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(15258),p=t(26708),a=function(n,r,e){var s;e?s=p(r,e,n.length):s=h(r,n.length);for(var o=0;o<n.length;o++){var i=n[o],l=s[o];i.x=l.x,i.y=l.y}return n};v.exports=a},41346:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(14649),p=t(86003),a=t(49498),n=function(r,e,s){s===void 0&&(s=0);var o=h(e,!1,r.length);s>0?p(o,s):s<0&&a(o,Math.abs(s));for(var i=0;i<r.length;i++)r[i].x=o[i].x,r[i].y=o[i].y;return r};v.exports=n},11575:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(84993),p=function(a,n,r){var e=h({x1:n.x1,y1:n.y1,x2:n.x2,y2:n.y2},r),s=h({x1:n.x2,y1:n.y2,x2:n.x3,y2:n.y3},r),o=h({x1:n.x3,y1:n.y3,x2:n.x1,y2:n.y1},r);e.pop(),s.pop(),o.pop(),e=e.concat(s,o);for(var i=e.length/a.length,l=0,u=0;u<a.length;u++){var f=a[u],d=e[Math.floor(l)];f.x=d.x,f.y=d.y,l+=i}return a};v.exports=p},29953:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,h,p){for(var a=0;a<t.length;a++){var n=t[a];n.anims&&n.anims.play(h,p)}return t};v.exports=y},66979:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,h,p,a,n,r){a===void 0&&(a=0),n===void 0&&(n=0),r===void 0&&(r=1);var e,s=0,o=t.length;if(r===1)for(e=n;e<o;e++)t[e][h]+=p+s*a,s++;else for(e=n;e>=0;e--)t[e][h]+=p+s*a,s++;return t};v.exports=y},43967:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,h,p,a,n,r){a===void 0&&(a=0),n===void 0&&(n=0),r===void 0&&(r=1);var e,s=0,o=t.length;if(r===1)for(e=n;e<o;e++)t[e][h]=p+s*a,s++;else for(e=n;e>=0;e--)t[e][h]=p+s*a,s++;return t};v.exports=y},88926:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(28176),p=function(a,n){for(var r=0;r<a.length;r++)h(n,a[r]);return a};v.exports=p},33286:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(24820),p=function(a,n){for(var r=0;r<a.length;r++)h(n,a[r]);return a};v.exports=p},96e3:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(65822),p=function(a,n){for(var r=0;r<a.length;r++)h(n,a[r]);return a};v.exports=p},28789:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(26597),p=function(a,n){for(var r=0;r<a.length;r++)h(n,a[r]);return a};v.exports=p},97154:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(90260),p=function(a,n){for(var r=0;r<a.length;r++)h(n,a[r]);return a};v.exports=p},20510:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(66979),p=function(a,n,r,e,s){return h(a,"rotation",n,r,e,s)};v.exports=p},91051:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(1163),p=t(20339),a=function(n,r,e){for(var s=r.x,o=r.y,i=0;i<n.length;i++){var l=n[i];h(l,s,o,e,Math.max(1,p(l.x,l.y,s,o)))}return n};v.exports=a},76332:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(1163),p=function(a,n,r,e){var s=n.x,o=n.y;if(e===0)return a;for(var i=0;i<a.length;i++)h(a[i],s,o,r,e);return a};v.exports=p},61619:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(66979),p=function(a,n,r,e,s){return h(a,"scaleX",n,r,e,s)};v.exports=p},94868:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(66979),p=function(a,n,r,e,s,o,i){return r==null&&(r=n),h(a,"scaleX",n,e,o,i),h(a,"scaleY",r,s,o,i)};v.exports=p},95532:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(66979),p=function(a,n,r,e,s){return h(a,"scaleY",n,r,e,s)};v.exports=p},8689:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(43967),p=function(a,n,r,e,s){return h(a,"alpha",n,r,e,s)};v.exports=p},2645:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(43967),p=function(a,n,r,e){return h(a,"blendMode",n,0,r,e)};v.exports=p},32372:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(43967),p=function(a,n,r,e,s){return h(a,"depth",n,r,e,s)};v.exports=p},85373:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,h,p){for(var a=0;a<t.length;a++)t[a].setInteractive(h,p);return t};v.exports=y},81583:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(43967),p=function(a,n,r,e,s,o,i){return r==null&&(r=n),h(a,"originX",n,e,o,i),h(a,"originY",r,s,o,i),a.forEach(function(l){l.updateDisplayOrigin()}),a};v.exports=p},79939:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(43967),p=function(a,n,r,e,s){return h(a,"rotation",n,r,e,s)};v.exports=p},2699:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(43967),p=function(a,n,r,e,s,o,i){return r==null&&(r=n),h(a,"scaleX",n,e,o,i),h(a,"scaleY",r,s,o,i)};v.exports=p},98739:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(43967),p=function(a,n,r,e,s){return h(a,"scaleX",n,r,e,s)};v.exports=p},98476:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(43967),p=function(a,n,r,e,s){return h(a,"scaleY",n,r,e,s)};v.exports=p},6207:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(43967),p=function(a,n,r,e,s,o,i){return r==null&&(r=n),h(a,"scrollFactorX",n,e,o,i),h(a,"scrollFactorY",r,s,o,i)};v.exports=p},6607:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(43967),p=function(a,n,r,e,s){return h(a,"scrollFactorX",n,r,e,s)};v.exports=p},72248:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(43967),p=function(a,n,r,e,s){return h(a,"scrollFactorY",n,r,e,s)};v.exports=p},14036:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,h,p,a,n){for(var r=0;r<t.length;r++)t[r].setTint(h,p,a,n);return t};v.exports=y},50159:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(43967),p=function(a,n,r,e){return h(a,"visible",n,0,r,e)};v.exports=p},77597:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(43967),p=function(a,n,r,e,s){return h(a,"x",n,r,e,s)};v.exports=p},83194:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(43967),p=function(a,n,r,e,s,o,i){return r==null&&(r=n),h(a,"x",n,e,o,i),h(a,"y",r,s,o,i)};v.exports=p},67678:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(43967),p=function(a,n,r,e,s){return h(a,"y",n,r,e,s)};v.exports=p},35850:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(26099),p=function(a,n,r,e,s){e===void 0&&(e=0),s===void 0&&(s=new h);var o,i,l=a.length;if(l===1)o=a[0].x,i=a[0].y,a[0].x=n,a[0].y=r;else{var u=1,f=0;e===0&&(f=l-1,u=l-2),o=a[f].x,i=a[f].y,a[f].x=n,a[f].y=r;for(var d=0;d<l;d++)if(!(u>=l||u===-1)){var c=a[u],m=c.x,g=c.y;c.x=o,c.y=i,o=m,i=g,e===0?u--:u++}}return s.x=o,s.y=i,s};v.exports=p},8628:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(33680),p=function(a){return h(a)};v.exports=p},21837:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(7602),p=function(a,n,r,e,s){s===void 0&&(s=!1);var o=Math.abs(e-r)/a.length,i;if(s)for(i=0;i<a.length;i++)a[i][n]+=h(i*o,r,e);else for(i=0;i<a.length;i++)a[i][n]=h(i*o,r,e);return a};v.exports=p},21910:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(54261),p=function(a,n,r,e,s){s===void 0&&(s=!1);var o=Math.abs(e-r)/a.length,i;if(s)for(i=0;i<a.length;i++)a[i][n]+=h(i*o,r,e);else for(i=0;i<a.length;i++)a[i][n]=h(i*o,r,e);return a};v.exports=p},62054:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,h,p,a,n){if(n===void 0&&(n=!1),t.length===0)return t;if(t.length===1)return n?t[0][h]+=(a+p)/2:t[0][h]=(a+p)/2,t;var r=Math.abs(a-p)/(t.length-1),e;if(n)for(e=0;e<t.length;e++)t[e][h]+=e*r+p;else for(e=0;e<t.length;e++)t[e][h]=e*r+p;return t};v.exports=y},79815:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){for(var h=0;h<t.length;h++)t[h].visible=!t[h].visible;return t};v.exports=y},39665:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       samme <samme.npm@gmail.com>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(15994),p=function(a,n,r){r===void 0&&(r=0);for(var e=0;e<a.length;e++){var s=a[e];s.x=h(s.x,n.left-r,n.right+r),s.y=h(s.y,n.top-r,n.bottom+r)}return a};v.exports=p},61061:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={AlignTo:t(11517),Angle:t(80318),Call:t(60757),GetFirst:t(69927),GetLast:t(32265),GridAlign:t(94420),IncAlpha:t(41721),IncX:t(67285),IncXY:t(9074),IncY:t(75222),PlaceOnCircle:t(22983),PlaceOnEllipse:t(95253),PlaceOnLine:t(88505),PlaceOnRectangle:t(41346),PlaceOnTriangle:t(11575),PlayAnimation:t(29953),PropertyValueInc:t(66979),PropertyValueSet:t(43967),RandomCircle:t(88926),RandomEllipse:t(33286),RandomLine:t(96e3),RandomRectangle:t(28789),RandomTriangle:t(97154),Rotate:t(20510),RotateAround:t(91051),RotateAroundDistance:t(76332),ScaleX:t(61619),ScaleXY:t(94868),ScaleY:t(95532),SetAlpha:t(8689),SetBlendMode:t(2645),SetDepth:t(32372),SetHitArea:t(85373),SetOrigin:t(81583),SetRotation:t(79939),SetScale:t(2699),SetScaleX:t(98739),SetScaleY:t(98476),SetScrollFactor:t(6207),SetScrollFactorX:t(6607),SetScrollFactorY:t(72248),SetTint:t(14036),SetVisible:t(50159),SetX:t(77597),SetXY:t(83194),SetY:t(67678),ShiftPosition:t(35850),Shuffle:t(8628),SmootherStep:t(21910),SmoothStep:t(21837),Spread:t(62054),ToggleVisible:t(79815),WrapInRectangle:t(39665)}},42099:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(45319),p=t(83419),a=t(74943),n=t(81957),r=t(41138),e=t(35154),s=t(90126),o=new p({initialize:function(l,u,f){this.manager=l,this.key=u,this.type="frame",this.frames=this.getFrames(l.textureManager,e(f,"frames",[]),e(f,"defaultTextureKey",null),e(f,"sortFrames",!0)),this.frameRate=e(f,"frameRate",null),this.duration=e(f,"duration",null),this.msPerFrame,this.skipMissedFrames=e(f,"skipMissedFrames",!0),this.delay=e(f,"delay",0),this.repeat=e(f,"repeat",0),this.repeatDelay=e(f,"repeatDelay",0),this.yoyo=e(f,"yoyo",!1),this.showBeforeDelay=e(f,"showBeforeDelay",!1),this.showOnStart=e(f,"showOnStart",!1),this.hideOnComplete=e(f,"hideOnComplete",!1),this.randomFrame=e(f,"randomFrame",!1),this.paused=!1,this.calculateDuration(this,this.getTotalFrames(),this.duration,this.frameRate),this.manager.on&&(this.manager.on(a.PAUSE_ALL,this.pause,this),this.manager.on(a.RESUME_ALL,this.resume,this))},getTotalFrames:function(){return this.frames.length},calculateDuration:function(i,l,u,f){u===null&&f===null?(i.frameRate=24,i.duration=24/l*1e3):u&&f===null?(i.duration=u,i.frameRate=l/(u/1e3)):(i.frameRate=f,i.duration=l/f*1e3),i.msPerFrame=1e3/i.frameRate},addFrame:function(i){return this.addFrameAt(this.frames.length,i)},addFrameAt:function(i,l){var u=this.getFrames(this.manager.textureManager,l);if(u.length>0){if(i===0)this.frames=u.concat(this.frames);else if(i===this.frames.length)this.frames=this.frames.concat(u);else{var f=this.frames.slice(0,i),d=this.frames.slice(i);this.frames=f.concat(u,d)}this.updateFrameSequence()}return this},checkFrame:function(i){return i>=0&&i<this.frames.length},getFirstTick:function(i){i.accumulator=0,i.nextTick=i.currentFrame.duration?i.currentFrame.duration:i.msPerFrame},getFrameAt:function(i){return this.frames[i]},getFrames:function(i,l,u,f){f===void 0&&(f=!0);var d=[],c,m,g=1,x,T;if(typeof l=="string"){if(T=l,!i.exists(T))return console.warn('Texture "%s" not found',T),d;var S=i.get(T),P=S.getFrameNames();f&&s(P),l=[],P.forEach(function(D){l.push({key:T,frame:D})})}if(!Array.isArray(l)||l.length===0)return d;for(x=0;x<l.length;x++){var L=l[x],I=e(L,"key",u);if(I){var O=e(L,"frame",0),M=i.getFrame(I,O);if(!M){console.warn('Texture "%s" not found',I);continue}m=new r(I,O,g,M),m.duration=e(L,"duration",0),m.isFirst=!c,c&&(c.nextFrame=m,m.prevFrame=c),d.push(m),c=m,g++}}if(d.length>0){m.isLast=!0,m.nextFrame=d[0],d[0].prevFrame=m;var w=1/(d.length-1);for(x=0;x<d.length;x++)d[x].progress=x*w}return d},getNextTick:function(i){i.accumulator-=i.nextTick,i.nextTick=i.currentFrame.duration?i.currentFrame.duration:i.msPerFrame},getFrameByProgress:function(i){return i=h(i,0,1),n(i,this.frames,"progress")},nextFrame:function(i){var l=i.currentFrame;l.isLast?i.yoyo?this.handleYoyoFrame(i,!1):i.repeatCounter>0?i.inReverse&&i.forward?i.forward=!1:this.repeatAnimation(i):i.complete():this.updateAndGetNextTick(i,l.nextFrame)},handleYoyoFrame:function(i,l){if(l||(l=!1),i.inReverse===!l&&i.repeatCounter>0){(i.repeatDelay===0||i.pendingRepeat)&&(i.forward=l),this.repeatAnimation(i);return}if(i.inReverse!==l&&i.repeatCounter===0){i.complete();return}i.forward=l;var u=l?i.currentFrame.nextFrame:i.currentFrame.prevFrame;this.updateAndGetNextTick(i,u)},getLastFrame:function(){return this.frames[this.frames.length-1]},previousFrame:function(i){var l=i.currentFrame;l.isFirst?i.yoyo?this.handleYoyoFrame(i,!0):i.repeatCounter>0?i.inReverse&&!i.forward?this.repeatAnimation(i):(i.forward=!0,this.repeatAnimation(i)):i.complete():this.updateAndGetNextTick(i,l.prevFrame)},updateAndGetNextTick:function(i,l){i.setCurrentFrame(l),this.getNextTick(i)},removeFrame:function(i){var l=this.frames.indexOf(i);return l!==-1&&this.removeFrameAt(l),this},removeFrameAt:function(i){return this.frames.splice(i,1),this.updateFrameSequence(),this},repeatAnimation:function(i){if(i._pendingStop===2){if(i._pendingStopValue===0)return i.stop();i._pendingStopValue--}i.repeatDelay>0&&!i.pendingRepeat?(i.pendingRepeat=!0,i.accumulator-=i.nextTick,i.nextTick+=i.repeatDelay):(i.repeatCounter--,i.forward?i.setCurrentFrame(i.currentFrame.nextFrame):i.setCurrentFrame(i.currentFrame.prevFrame),i.isPlaying&&(this.getNextTick(i),i.handleRepeat()))},toJSON:function(){var i={key:this.key,type:this.type,frames:[],frameRate:this.frameRate,duration:this.duration,skipMissedFrames:this.skipMissedFrames,delay:this.delay,repeat:this.repeat,repeatDelay:this.repeatDelay,yoyo:this.yoyo,showBeforeDelay:this.showBeforeDelay,showOnStart:this.showOnStart,randomFrame:this.randomFrame,hideOnComplete:this.hideOnComplete};return this.frames.forEach(function(l){i.frames.push(l.toJSON())}),i},updateFrameSequence:function(){for(var i=this.frames.length,l=1/(i-1),u,f=0;f<i;f++)u=this.frames[f],u.index=f+1,u.isFirst=!1,u.isLast=!1,u.progress=f*l,f===0?(u.isFirst=!0,i===1?(u.isLast=!0,u.nextFrame=u,u.prevFrame=u):(u.isLast=!1,u.prevFrame=this.frames[i-1],u.nextFrame=this.frames[f+1])):f===i-1&&i>1?(u.isLast=!0,u.prevFrame=this.frames[i-2],u.nextFrame=this.frames[0]):i>1&&(u.prevFrame=this.frames[f-1],u.nextFrame=this.frames[f+1]);return this},pause:function(){return this.paused=!0,this},resume:function(){return this.paused=!1,this},destroy:function(){this.manager.off&&(this.manager.off(a.PAUSE_ALL,this.pause,this),this.manager.off(a.RESUME_ALL,this.resume,this)),this.manager.remove(this.key);for(var i=0;i<this.frames.length;i++)this.frames[i].destroy();this.frames=[],this.manager=null}});v.exports=o},41138:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),p=new h({initialize:function(n,r,e,s,o){o===void 0&&(o=!1),this.textureKey=n,this.textureFrame=r,this.index=e,this.frame=s,this.isFirst=!1,this.isLast=!1,this.prevFrame=null,this.nextFrame=null,this.duration=0,this.progress=0,this.isKeyFrame=o},toJSON:function(){return{key:this.textureKey,frame:this.textureFrame,duration:this.duration,keyframe:this.isKeyFrame}},destroy:function(){this.frame=void 0}});v.exports=p},60848:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(42099),p=t(83419),a=t(90330),n=t(50792),r=t(74943),e=t(8443),s=t(95540),o=t(35154),i=t(36383),l=t(20283),u=t(41836),f=new p({Extends:n,initialize:function(c){n.call(this),this.game=c,this.textureManager=null,this.globalTimeScale=1,this.anims=new a,this.mixes=new a,this.paused=!1,this.name="AnimationManager",c.events.once(e.BOOT,this.boot,this)},boot:function(){this.textureManager=this.game.textures,this.game.events.once(e.DESTROY,this.destroy,this)},addMix:function(d,c,m){var g=this.anims,x=this.mixes,T=typeof d=="string"?d:d.key,S=typeof c=="string"?c:c.key;if(g.has(T)&&g.has(S)){var P=x.get(T);P||(P={}),P[S]=m,x.set(T,P)}return this},removeMix:function(d,c){var m=this.mixes,g=typeof d=="string"?d:d.key,x=m.get(g);if(x)if(c){var T=typeof c=="string"?c:c.key;x.hasOwnProperty(T)&&delete x[T]}else c||m.delete(g);return this},getMix:function(d,c){var m=this.mixes,g=typeof d=="string"?d:d.key,x=typeof c=="string"?c:c.key,T=m.get(g);return T&&T.hasOwnProperty(x)?T[x]:0},add:function(d,c){return this.anims.has(d)?(console.warn("Animation key exists: "+d),this):(c.key=d,this.anims.set(d,c),this.emit(r.ADD_ANIMATION,d,c),this)},exists:function(d){return this.anims.has(d)},createFromAseprite:function(d,c,m){var g=[],x=this.game.cache.json.get(d);if(!x)return console.warn("No Aseprite data found for: "+d),g;var T=this,S=o(x,"meta",null),P=o(x,"frames",null);if(S&&P){var L=o(S,"frameTags",[]);L.forEach(function(I){var O=[],M=s(I,"name",null),w=s(I,"from",0),D=s(I,"to",0),U=s(I,"direction","forward");if(M&&(!c||c&&c.indexOf(M)>-1)){for(var Y=0,H=w;H<=D;H++){var X=H.toString(),G=P[X];if(G){var z=s(G,"duration",i.MAX_SAFE_INTEGER);O.push({key:d,frame:X,duration:z}),Y+=z}}U==="reverse"&&(O=O.reverse());var b={key:M,frames:O,duration:Y,yoyo:U==="pingpong"},N;m?m.anims&&(N=m.anims.create(b)):N=T.create(b),N&&g.push(N)}})}return g},create:function(d){var c=d.key,m=!1;return c&&(m=this.get(c),m?console.warn("AnimationManager key already exists: "+c):(m=new h(this,c,d),this.anims.set(c,m),this.emit(r.ADD_ANIMATION,c,m))),m},fromJSON:function(d,c){c===void 0&&(c=!1),c&&this.anims.clear(),typeof d=="string"&&(d=JSON.parse(d));var m=[];if(d.hasOwnProperty("anims")&&Array.isArray(d.anims)){for(var g=0;g<d.anims.length;g++)m.push(this.create(d.anims[g]));d.hasOwnProperty("globalTimeScale")&&(this.globalTimeScale=d.globalTimeScale)}else d.hasOwnProperty("key")&&d.type==="frame"&&m.push(this.create(d));return m},generateFrameNames:function(d,c){var m=o(c,"prefix",""),g=o(c,"start",0),x=o(c,"end",0),T=o(c,"suffix",""),S=o(c,"zeroPad",0),P=o(c,"outputArray",[]),L=o(c,"frames",!1);if(!this.textureManager.exists(d))return console.warn('Texture "%s" not found',d),P;var I=this.textureManager.get(d);if(!I)return P;var O;if(c)for(L||(L=l(g,x)),O=0;O<L.length;O++){var M=m+u(L[O],S,"0",1)+T;I.has(M)?P.push({key:d,frame:M}):console.warn('Frame "%s" not found in texture "%s"',M,d)}else for(L=I.getFrameNames(),O=0;O<L.length;O++)P.push({key:d,frame:L[O]});return P},generateFrameNumbers:function(d,c){var m=o(c,"start",0),g=o(c,"end",-1),x=o(c,"first",!1),T=o(c,"outputArray",[]),S=o(c,"frames",!1);if(!this.textureManager.exists(d))return console.warn('Texture "%s" not found',d),T;var P=this.textureManager.get(d);if(!P)return T;x&&P.has(x)&&T.push({key:d,frame:x}),S||(g===-1&&(g=P.frameTotal-2),S=l(m,g));for(var L=0;L<S.length;L++){var I=S[L];P.has(I)?T.push({key:d,frame:I}):console.warn('Frame "%s" not found in texture "%s"',I,d)}return T},get:function(d){return this.anims.get(d)},getAnimsFromTexture:function(d){for(var c=this.textureManager.get(d),m=c.key,g=this.anims.getArray(),x=[],T=0;T<g.length;T++)for(var S=g[T],P=S.frames,L=0;L<P.length;L++)if(P[L].textureKey===m){x.push(S.key);break}return x},pauseAll:function(){return this.paused||(this.paused=!0,this.emit(r.PAUSE_ALL)),this},play:function(d,c){Array.isArray(c)||(c=[c]);for(var m=0;m<c.length;m++)c[m].anims.play(d);return this},staggerPlay:function(d,c,m,g){m===void 0&&(m=0),g===void 0&&(g=!0),Array.isArray(c)||(c=[c]);var x=c.length;g||x--;for(var T=0;T<c.length;T++){var S=m<0?Math.abs(m)*(x-T):m*T;c[T].anims.playAfterDelay(d,S)}return this},remove:function(d){var c=this.get(d);return c&&(this.emit(r.REMOVE_ANIMATION,d,c),this.anims.delete(d),this.removeMix(d)),c},resumeAll:function(){return this.paused&&(this.paused=!1,this.emit(r.RESUME_ALL)),this},toJSON:function(d){var c={anims:[],globalTimeScale:this.globalTimeScale};return d!==void 0&&d!==""?c.anims.push(this.anims.get(d).toJSON()):this.anims.each(function(m,g){c.anims.push(g.toJSON())}),c},destroy:function(){this.anims.clear(),this.mixes.clear(),this.textureManager=null,this.game=null}});v.exports=f},9674:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(42099),p=t(30976),a=t(83419),n=t(90330),r=t(74943),e=t(95540),s=new a({initialize:function(i){this.parent=i,this.animationManager=i.scene.sys.anims,this.animationManager.on(r.REMOVE_ANIMATION,this.globalRemove,this),this.textureManager=this.animationManager.textureManager,this.anims=null,this.isPlaying=!1,this.hasStarted=!1,this.currentAnim=null,this.currentFrame=null,this.nextAnim=null,this.nextAnimsQueue=[],this.timeScale=1,this.frameRate=0,this.duration=0,this.msPerFrame=0,this.skipMissedFrames=!0,this.randomFrame=!1,this.delay=0,this.repeat=0,this.repeatDelay=0,this.yoyo=!1,this.showBeforeDelay=!1,this.showOnStart=!1,this.hideOnComplete=!1,this.forward=!0,this.inReverse=!1,this.accumulator=0,this.nextTick=0,this.delayCounter=0,this.repeatCounter=0,this.pendingRepeat=!1,this._paused=!1,this._wasPlaying=!1,this._pendingStop=0,this._pendingStopValue},chain:function(o){var i=this.parent;if(o===void 0)return this.nextAnimsQueue.length=0,this.nextAnim=null,i;Array.isArray(o)||(o=[o]);for(var l=0;l<o.length;l++){var u=o[l];this.nextAnim?this.nextAnimsQueue.push(u):this.nextAnim=u}return this.parent},getName:function(){return this.currentAnim?this.currentAnim.key:""},getFrameName:function(){return this.currentFrame?this.currentFrame.textureFrame:""},load:function(o){this.isPlaying&&this.stop();var i=this.animationManager,l=typeof o=="string"?o:e(o,"key",null),u=this.exists(l)?this.get(l):i.get(l);if(!u)console.warn("Missing animation: "+l);else{this.currentAnim=u;var f=u.getTotalFrames(),d=e(o,"frameRate",u.frameRate),c=e(o,"duration",u.duration);u.calculateDuration(this,f,c,d),this.delay=e(o,"delay",u.delay),this.repeat=e(o,"repeat",u.repeat),this.repeatDelay=e(o,"repeatDelay",u.repeatDelay),this.yoyo=e(o,"yoyo",u.yoyo),this.showBeforeDelay=e(o,"showBeforeDelay",u.showBeforeDelay),this.showOnStart=e(o,"showOnStart",u.showOnStart),this.hideOnComplete=e(o,"hideOnComplete",u.hideOnComplete),this.skipMissedFrames=e(o,"skipMissedFrames",u.skipMissedFrames),this.randomFrame=e(o,"randomFrame",u.randomFrame),this.timeScale=e(o,"timeScale",this.timeScale);var m=e(o,"startFrame",0);m>f&&(m=0),this.randomFrame&&(m=p(0,f-1));var g=u.frames[m];m===0&&!this.forward&&(g=u.getLastFrame()),this.currentFrame=g}return this.parent},pause:function(o){return this._paused||(this._paused=!0,this._wasPlaying=this.isPlaying,this.isPlaying=!1),o!==void 0&&this.setCurrentFrame(o),this.parent},resume:function(o){return this._paused&&(this._paused=!1,this.isPlaying=this._wasPlaying),o!==void 0&&this.setCurrentFrame(o),this.parent},playAfterDelay:function(o,i){if(!this.isPlaying)this.delayCounter=i,this.play(o,!0);else{var l=this.nextAnim,u=this.nextAnimsQueue;l&&u.unshift(l),this.nextAnim=o,this._pendingStop=1,this._pendingStopValue=i}return this.parent},playAfterRepeat:function(o,i){if(i===void 0&&(i=1),!this.isPlaying)this.play(o);else{var l=this.nextAnim,u=this.nextAnimsQueue;l&&u.unshift(l),this.repeatCounter!==-1&&i>this.repeatCounter&&(i=this.repeatCounter),this.nextAnim=o,this._pendingStop=2,this._pendingStopValue=i}return this.parent},play:function(o,i){i===void 0&&(i=!1);var l=this.currentAnim,u=this.parent,f=typeof o=="string"?o:o.key;if(i&&this.isPlaying&&l.key===f)return u;if(l&&this.isPlaying){var d=this.animationManager.getMix(l.key,o);if(d>0)return this.playAfterDelay(o,d)}return this.forward=!0,this.inReverse=!1,this._paused=!1,this._wasPlaying=!0,this.startAnimation(o)},playReverse:function(o,i){i===void 0&&(i=!1);var l=typeof o=="string"?o:o.key;return i&&this.isPlaying&&this.currentAnim.key===l?this.parent:(this.forward=!1,this.inReverse=!0,this._paused=!1,this._wasPlaying=!0,this.startAnimation(o))},startAnimation:function(o){this.load(o);var i=this.currentAnim,l=this.parent;return i&&(this.repeatCounter=this.repeat===-1?Number.MAX_VALUE:this.repeat,i.getFirstTick(this),this.isPlaying=!0,this.pendingRepeat=!1,this.hasStarted=!1,this._pendingStop=0,this._pendingStopValue=0,this._paused=!1,this.delayCounter+=this.delay,this.delayCounter===0?this.handleStart():this.showBeforeDelay&&this.setCurrentFrame(this.currentFrame)),l},handleStart:function(){this.showOnStart&&this.parent.setVisible(!0),this.setCurrentFrame(this.currentFrame),this.hasStarted=!0,this.emitEvents(r.ANIMATION_START)},handleRepeat:function(){this.pendingRepeat=!1,this.emitEvents(r.ANIMATION_REPEAT)},handleStop:function(){this._pendingStop=0,this.isPlaying=!1,this.emitEvents(r.ANIMATION_STOP)},handleComplete:function(){this._pendingStop=0,this.isPlaying=!1,this.hideOnComplete&&this.parent.setVisible(!1),this.emitEvents(r.ANIMATION_COMPLETE,r.ANIMATION_COMPLETE_KEY)},emitEvents:function(o,i){var l=this.currentAnim;if(l){var u=this.currentFrame,f=this.parent,d=u.textureFrame;f.emit(o,l,u,f,d),i&&f.emit(i+l.key,l,u,f,d)}},reverse:function(){return this.isPlaying&&(this.inReverse=!this.inReverse,this.forward=!this.forward),this.parent},getProgress:function(){var o=this.currentFrame;if(!o)return 0;var i=o.progress;return this.inReverse&&(i*=-1),i},setProgress:function(o){return this.forward||(o=1-o),this.setCurrentFrame(this.currentAnim.getFrameByProgress(o)),this.parent},setRepeat:function(o){return this.repeatCounter=o===-1?Number.MAX_VALUE:o,this.parent},globalRemove:function(o,i){i===void 0&&(i=this.currentAnim),this.isPlaying&&i.key===this.currentAnim.key&&(this.stop(),this.setCurrentFrame(this.currentAnim.frames[0]))},restart:function(o,i){o===void 0&&(o=!1),i===void 0&&(i=!1);var l=this.currentAnim,u=this.parent;return l?(i&&(this.repeatCounter=this.repeat===-1?Number.MAX_VALUE:this.repeat),l.getFirstTick(this),this.emitEvents(r.ANIMATION_RESTART),this.isPlaying=!0,this.pendingRepeat=!1,this.hasStarted=!o,this._pendingStop=0,this._pendingStopValue=0,this._paused=!1,this.setCurrentFrame(l.frames[0]),this.parent):u},complete:function(){if(this._pendingStop=0,this.isPlaying=!1,this.currentAnim&&this.handleComplete(),this.nextAnim){var o=this.nextAnim;this.nextAnim=this.nextAnimsQueue.length>0?this.nextAnimsQueue.shift():null,this.play(o)}return this.parent},stop:function(){if(this._pendingStop=0,this.isPlaying=!1,this.delayCounter=0,this.currentAnim&&this.handleStop(),this.nextAnim){var o=this.nextAnim;this.nextAnim=this.nextAnimsQueue.shift(),this.play(o)}return this.parent},stopAfterDelay:function(o){return this._pendingStop=1,this._pendingStopValue=o,this.parent},stopAfterRepeat:function(o){return o===void 0&&(o=1),this.repeatCounter!==-1&&o>this.repeatCounter&&(o=this.repeatCounter),this._pendingStop=2,this._pendingStopValue=o,this.parent},stopOnFrame:function(o){return this._pendingStop=3,this._pendingStopValue=o,this.parent},getTotalFrames:function(){return this.currentAnim?this.currentAnim.getTotalFrames():0},update:function(o,i){var l=this.currentAnim;if(!(!this.isPlaying||!l||l.paused)){if(this.accumulator+=i*this.timeScale*this.animationManager.globalTimeScale,this._pendingStop===1&&(this._pendingStopValue-=i,this._pendingStopValue<=0))return this.stop();if(!this.hasStarted)this.accumulator>=this.delayCounter&&(this.accumulator-=this.delayCounter,this.handleStart());else if(this.accumulator>=this.nextTick&&(this.forward?l.nextFrame(this):l.previousFrame(this),this.isPlaying&&this._pendingStop===0&&this.skipMissedFrames&&this.accumulator>this.nextTick)){var u=0;do this.forward?l.nextFrame(this):l.previousFrame(this),u++;while(this.isPlaying&&this.accumulator>this.nextTick&&u<60)}}},setCurrentFrame:function(o){var i=this.parent;return this.currentFrame=o,i.texture=o.frame.texture,i.frame=o.frame,i.isCropped&&i.frame.updateCropUVs(i._crop,i.flipX,i.flipY),o.setAlpha&&(i.alpha=o.alpha),i.setSizeToFrame(),i._originComponent&&(o.frame.customPivot?i.setOrigin(o.frame.pivotX,o.frame.pivotY):i.updateDisplayOrigin()),this.isPlaying&&this.hasStarted&&(this.emitEvents(r.ANIMATION_UPDATE),this._pendingStop===3&&this._pendingStopValue===o&&this.stop()),i},nextFrame:function(){return this.currentAnim&&this.currentAnim.nextFrame(this),this.parent},previousFrame:function(){return this.currentAnim&&this.currentAnim.previousFrame(this),this.parent},get:function(o){return this.anims?this.anims.get(o):null},exists:function(o){return this.anims?this.anims.has(o):!1},create:function(o){var i=o.key,l=!1;return i&&(l=this.get(i),l?console.warn("Animation key already exists: "+i):(l=new h(this,i,o),this.anims||(this.anims=new n),this.anims.set(i,l))),l},createFromAseprite:function(o,i){return this.animationManager.createFromAseprite(o,i,this.parent)},generateFrameNames:function(o,i){return this.animationManager.generateFrameNames(o,i)},generateFrameNumbers:function(o,i){return this.animationManager.generateFrameNumbers(o,i)},remove:function(o){var i=this.get(o);return i&&(this.currentAnim===i&&this.stop(),this.anims.delete(o)),i},destroy:function(){this.animationManager.off(r.REMOVE_ANIMATION,this.globalRemove,this),this.anims&&this.anims.clear(),this.animationManager=null,this.parent=null,this.nextAnim=null,this.nextAnimsQueue.length=0,this.currentAnim=null,this.currentFrame=null},isPaused:{get:function(){return this._paused}}});v.exports=s},57090:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="add"},25312:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="animationcomplete"},89580:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="animationcomplete-"},52860:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="animationrepeat"},63850:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="animationrestart"},99085:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="animationstart"},28087:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="animationstop"},1794:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="animationupdate"},52562:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="pauseall"},57953:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="remove"},68339:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="resumeall"},74943:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={ADD_ANIMATION:t(57090),ANIMATION_COMPLETE:t(25312),ANIMATION_COMPLETE_KEY:t(89580),ANIMATION_REPEAT:t(52860),ANIMATION_RESTART:t(63850),ANIMATION_START:t(99085),ANIMATION_STOP:t(28087),ANIMATION_UPDATE:t(1794),PAUSE_ALL:t(52562),REMOVE_ANIMATION:t(57953),RESUME_ALL:t(68339)}},60421:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={Animation:t(42099),AnimationFrame:t(41138),AnimationManager:t(60848),AnimationState:t(9674),Events:t(74943)}},2161:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),p=t(90330),a=t(50792),n=t(24736),r=new h({initialize:function(){this.entries=new p,this.events=new a},add:function(e,s){return this.entries.set(e,s),this.events.emit(n.ADD,this,e,s),this},has:function(e){return this.entries.has(e)},exists:function(e){return this.entries.has(e)},get:function(e){return this.entries.get(e)},remove:function(e){var s=this.get(e);return s&&(this.entries.delete(e),this.events.emit(n.REMOVE,this,e,s.data)),this},getKeys:function(){return this.entries.keys()},destroy:function(){this.entries.clear(),this.events.removeAllListeners(),this.entries=null,this.events=null}});v.exports=r},24047:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(2161),p=t(83419),a=t(8443),n=new p({initialize:function(e){this.game=e,this.binary=new h,this.bitmapFont=new h,this.json=new h,this.physics=new h,this.shader=new h,this.audio=new h,this.video=new h,this.text=new h,this.html=new h,this.obj=new h,this.tilemap=new h,this.xml=new h,this.custom={},this.game.events.once(a.DESTROY,this.destroy,this)},addCustom:function(r){return this.custom.hasOwnProperty(r)||(this.custom[r]=new h),this.custom[r]},destroy:function(){for(var r=["binary","bitmapFont","json","physics","shader","audio","video","text","html","obj","tilemap","xml"],e=0;e<r.length;e++)this[r[e]].destroy(),this[r[e]]=null;for(var s in this.custom)this.custom[s].destroy();this.custom=null,this.game=null}});v.exports=n},51464:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="add"},59261:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="remove"},24736:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={ADD:t(51464),REMOVE:t(59261)}},83388:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={BaseCache:t(2161),CacheManager:t(24047),Events:t(24736)}},71911:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),p=t(31401),a=t(39506),n=t(50792),r=t(19715),e=t(87841),s=t(61340),o=t(80333),i=t(26099),l=new h({Extends:n,Mixins:[p.AlphaSingle,p.Visible],initialize:function(f,d,c,m){f===void 0&&(f=0),d===void 0&&(d=0),c===void 0&&(c=0),m===void 0&&(m=0),n.call(this),this.scene,this.sceneManager,this.scaleManager,this.cameraManager,this.id=0,this.name="",this.roundPixels=!1,this.useBounds=!1,this.worldView=new e,this.dirty=!0,this._x=f,this._y=d,this._width=c,this._height=m,this._bounds=new e,this._scrollX=0,this._scrollY=0,this._zoomX=1,this._zoomY=1,this._rotation=0,this.matrix=new s,this.transparent=!0,this.backgroundColor=o("rgba(0,0,0,0)"),this.disableCull=!1,this.culledObjects=[],this.midPoint=new i(c/2,m/2),this.originX=.5,this.originY=.5,this._customViewport=!1,this.mask=null,this._maskCamera=null,this.renderList=[],this.isSceneCamera=!0,this.renderRoundPixels=!0},addToRenderList:function(u){this.renderList.push(u)},setOrigin:function(u,f){return u===void 0&&(u=.5),f===void 0&&(f=u),this.originX=u,this.originY=f,this},getScroll:function(u,f,d){d===void 0&&(d=new i);var c=this.width*.5,m=this.height*.5;return d.x=u-c,d.y=f-m,this.useBounds&&(d.x=this.clampX(d.x),d.y=this.clampY(d.y)),d},centerOnX:function(u){var f=this.width*.5;return this.midPoint.x=u,this.scrollX=u-f,this.useBounds&&(this.scrollX=this.clampX(this.scrollX)),this},centerOnY:function(u){var f=this.height*.5;return this.midPoint.y=u,this.scrollY=u-f,this.useBounds&&(this.scrollY=this.clampY(this.scrollY)),this},centerOn:function(u,f){return this.centerOnX(u),this.centerOnY(f),this},centerToBounds:function(){if(this.useBounds){var u=this._bounds,f=this.width*.5,d=this.height*.5;this.midPoint.set(u.centerX,u.centerY),this.scrollX=u.centerX-f,this.scrollY=u.centerY-d}return this},centerToSize:function(){return this.scrollX=this.width*.5,this.scrollY=this.height*.5,this},cull:function(u){if(this.disableCull)return u;var f=this.matrix.matrix,d=f[0],c=f[1],m=f[2],g=f[3],x=d*g-c*m;if(!x)return u;var T=f[4],S=f[5],P=this.scrollX,L=this.scrollY,I=this.width,O=this.height,M=this.y,w=M+O,D=this.x,U=D+I,Y=this.culledObjects,H=u.length;x=1/x,Y.length=0;for(var X=0;X<H;++X){var G=u[X];if(!G.hasOwnProperty("width")||G.parentContainer){Y.push(G);continue}var z=G.width,b=G.height,N=G.x-P*G.scrollFactorX-z*G.originX,W=G.y-L*G.scrollFactorY-b*G.originY,K=N*d+W*m+T,J=N*c+W*g+S,j=(N+z)*d+(W+b)*m+T,Z=(N+z)*c+(W+b)*g+S;j>D&&K<U&&Z>M&&J<w&&Y.push(G)}return Y},getWorldPoint:function(u,f,d){d===void 0&&(d=new i);var c=this.matrix.matrix,m=c[0],g=c[1],x=c[2],T=c[3],S=c[4],P=c[5],L=m*T-g*x;if(!L)return d.x=u,d.y=f,d;L=1/L;var I=T*L,O=-g*L,M=-x*L,w=m*L,D=(x*P-T*S)*L,U=(g*S-m*P)*L,Y=Math.cos(this.rotation),H=Math.sin(this.rotation),X=this.zoomX,G=this.zoomY,z=this.scrollX,b=this.scrollY,N=u+(z*Y-b*H)*X,W=f+(z*H+b*Y)*G;return d.x=N*I+W*M+D,d.y=N*O+W*w+U,d},ignore:function(u){var f=this.id;Array.isArray(u)||(u=[u]);for(var d=0;d<u.length;d++){var c=u[d];Array.isArray(c)?this.ignore(c):c.isParent?this.ignore(c.getChildren()):c.cameraFilter|=f}return this},clampX:function(u){var f=this._bounds,d=this.displayWidth,c=f.x+(d-this.width)/2,m=Math.max(c,c+f.width-d);return u<c?u=c:u>m&&(u=m),u},clampY:function(u){var f=this._bounds,d=this.displayHeight,c=f.y+(d-this.height)/2,m=Math.max(c,c+f.height-d);return u<c?u=c:u>m&&(u=m),u},removeBounds:function(){return this.useBounds=!1,this.dirty=!0,this._bounds.setEmpty(),this},setAngle:function(u){return u===void 0&&(u=0),this.rotation=a(u),this},setBackgroundColor:function(u){return u===void 0&&(u="rgba(0,0,0,0)"),this.backgroundColor=o(u),this.transparent=this.backgroundColor.alpha===0,this},setBounds:function(u,f,d,c,m){return m===void 0&&(m=!1),this._bounds.setTo(u,f,d,c),this.dirty=!0,this.useBounds=!0,m?this.centerToBounds():(this.scrollX=this.clampX(this.scrollX),this.scrollY=this.clampY(this.scrollY)),this},getBounds:function(u){u===void 0&&(u=new e);var f=this._bounds;return u.setTo(f.x,f.y,f.width,f.height),u},setName:function(u){return u===void 0&&(u=""),this.name=u,this},setPosition:function(u,f){return f===void 0&&(f=u),this.x=u,this.y=f,this},setRotation:function(u){return u===void 0&&(u=0),this.rotation=u,this},setRoundPixels:function(u){return this.roundPixels=u,this},setScene:function(u,f){f===void 0&&(f=!0),this.scene&&this._customViewport&&this.sceneManager.customViewports--,this.scene=u,this.isSceneCamera=f;var d=u.sys;return this.sceneManager=d.game.scene,this.scaleManager=d.scale,this.cameraManager=d.cameras,this.updateSystem(),this},setScroll:function(u,f){return f===void 0&&(f=u),this.scrollX=u,this.scrollY=f,this},setSize:function(u,f){return f===void 0&&(f=u),this.width=u,this.height=f,this},setViewport:function(u,f,d,c){return this.x=u,this.y=f,this.width=d,this.height=c,this},setZoom:function(u,f){return u===void 0&&(u=1),f===void 0&&(f=u),u===0&&(u=.001),f===0&&(f=.001),this.zoomX=u,this.zoomY=f,this},setMask:function(u,f){return f===void 0&&(f=!0),this.mask=u,this._maskCamera=f?this.cameraManager.default:this,this},clearMask:function(u){return u===void 0&&(u=!1),u&&this.mask&&this.mask.destroy(),this.mask=null,this},toJSON:function(){var u={name:this.name,x:this.x,y:this.y,width:this.width,height:this.height,zoom:this.zoom,rotation:this.rotation,roundPixels:this.roundPixels,scrollX:this.scrollX,scrollY:this.scrollY,backgroundColor:this.backgroundColor.rgba};return this.useBounds&&(u.bounds={x:this._bounds.x,y:this._bounds.y,width:this._bounds.width,height:this._bounds.height}),u},update:function(){},setIsSceneCamera:function(u){return this.isSceneCamera=u,this},updateSystem:function(){if(!(!this.scaleManager||!this.isSceneCamera)){var u=this._x!==0||this._y!==0||this.scaleManager.width!==this._width||this.scaleManager.height!==this._height,f=this.sceneManager;u&&!this._customViewport?f.customViewports++:!u&&this._customViewport&&f.customViewports--,this.dirty=!0,this._customViewport=u}},destroy:function(){this.emit(r.DESTROY,this),this.removeAllListeners(),this.matrix.destroy(),this.culledObjects=[],this._customViewport&&this.sceneManager.customViewports--,this.renderList=[],this._bounds=null,this.scene=null,this.scaleManager=null,this.sceneManager=null,this.cameraManager=null},x:{get:function(){return this._x},set:function(u){this._x=u,this.updateSystem()}},y:{get:function(){return this._y},set:function(u){this._y=u,this.updateSystem()}},width:{get:function(){return this._width},set:function(u){this._width=u,this.updateSystem()}},height:{get:function(){return this._height},set:function(u){this._height=u,this.updateSystem()}},scrollX:{get:function(){return this._scrollX},set:function(u){u!==this._scrollX&&(this._scrollX=u,this.dirty=!0)}},scrollY:{get:function(){return this._scrollY},set:function(u){u!==this._scrollY&&(this._scrollY=u,this.dirty=!0)}},zoom:{get:function(){return(this._zoomX+this._zoomY)/2},set:function(u){this._zoomX=u,this._zoomY=u,this.dirty=!0}},zoomX:{get:function(){return this._zoomX},set:function(u){this._zoomX=u,this.dirty=!0}},zoomY:{get:function(){return this._zoomY},set:function(u){this._zoomY=u,this.dirty=!0}},rotation:{get:function(){return this._rotation},set:function(u){this._rotation=u,this.dirty=!0}},centerX:{get:function(){return this.x+.5*this.width}},centerY:{get:function(){return this.y+.5*this.height}},displayWidth:{get:function(){return this.width/this.zoomX}},displayHeight:{get:function(){return this.height/this.zoomY}}});v.exports=l},38058:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(71911),p=t(67502),a=t(45319),n=t(83419),r=t(31401),e=t(20052),s=t(19715),o=t(28915),i=t(87841),l=t(26099),u=new n({Extends:h,Mixins:[r.PostPipeline],initialize:function(d,c,m,g){h.call(this,d,c,m,g),this.initPostPipeline(),this.inputEnabled=!0,this.fadeEffect=new e.Fade(this),this.flashEffect=new e.Flash(this),this.shakeEffect=new e.Shake(this),this.panEffect=new e.Pan(this),this.rotateToEffect=new e.RotateTo(this),this.zoomEffect=new e.Zoom(this),this.lerp=new l(1,1),this.followOffset=new l,this.deadzone=null,this._follow=null},setDeadzone:function(f,d){if(f===void 0)this.deadzone=null;else{if(this.deadzone?(this.deadzone.width=f,this.deadzone.height=d):this.deadzone=new i(0,0,f,d),this._follow){var c=this.width/2,m=this.height/2,g=this._follow.x-this.followOffset.x,x=this._follow.y-this.followOffset.y;this.midPoint.set(g,x),this.scrollX=g-c,this.scrollY=x-m}p(this.deadzone,this.midPoint.x,this.midPoint.y)}return this},fadeIn:function(f,d,c,m,g,x){return this.fadeEffect.start(!1,f,d,c,m,!0,g,x)},fadeOut:function(f,d,c,m,g,x){return this.fadeEffect.start(!0,f,d,c,m,!0,g,x)},fadeFrom:function(f,d,c,m,g,x,T){return this.fadeEffect.start(!1,f,d,c,m,g,x,T)},fade:function(f,d,c,m,g,x,T){return this.fadeEffect.start(!0,f,d,c,m,g,x,T)},flash:function(f,d,c,m,g,x,T){return this.flashEffect.start(f,d,c,m,g,x,T)},shake:function(f,d,c,m,g){return this.shakeEffect.start(f,d,c,m,g)},pan:function(f,d,c,m,g,x,T){return this.panEffect.start(f,d,c,m,g,x,T)},rotateTo:function(f,d,c,m,g,x,T){return this.rotateToEffect.start(f,d,c,m,g,x,T)},zoomTo:function(f,d,c,m,g,x){return this.zoomEffect.start(f,d,c,m,g,x)},preRender:function(){this.renderList.length=0;var f=this.width,d=this.height,c=f*.5,m=d*.5,g=this.zoomX,x=this.zoomY,T=this.matrix;this.renderRoundPixels=this.roundPixels&&Number.isInteger(g)&&Number.isInteger(x);var S=f*this.originX,P=d*this.originY,L=this._follow,I=this.deadzone,O=this.scrollX,M=this.scrollY;I&&p(I,this.midPoint.x,this.midPoint.y);var w=!1;if(L&&!this.panEffect.isRunning){var D=this.lerp,U=L.x-this.followOffset.x,Y=L.y-this.followOffset.y;I?(U<I.x?O=o(O,O-(I.x-U),D.x):U>I.right&&(O=o(O,O+(U-I.right),D.x)),Y<I.y?M=o(M,M-(I.y-Y),D.y):Y>I.bottom&&(M=o(M,M+(Y-I.bottom),D.y))):(O=o(O,U-S,D.x),M=o(M,Y-P,D.y)),w=!0}this.roundPixels&&(O=Math.floor(O),M=Math.floor(M)),this.useBounds&&(O=this.clampX(O),M=this.clampY(M)),this.scrollX=O,this.scrollY=M;var H=O+c,X=M+m;this.midPoint.set(H,X);var G=Math.floor(f/g+.5),z=Math.floor(d/x+.5),b=Math.floor(H-G/2+.5),N=Math.floor(X-z/2+.5);this.worldView.setTo(b,N,G,z),T.applyITRS(Math.floor(this.x+S+.5),Math.floor(this.y+P+.5),this.rotation,g,x),T.translate(-S,-P),this.shakeEffect.preRender(),w&&this.emit(s.FOLLOW_UPDATE,this,L)},setLerp:function(f,d){return f===void 0&&(f=1),d===void 0&&(d=f),this.lerp.set(f,d),this},setFollowOffset:function(f,d){return f===void 0&&(f=0),d===void 0&&(d=0),this.followOffset.set(f,d),this},startFollow:function(f,d,c,m,g,x){d===void 0&&(d=!1),c===void 0&&(c=1),m===void 0&&(m=c),g===void 0&&(g=0),x===void 0&&(x=g),this._follow=f,this.roundPixels=d,c=a(c,0,1),m=a(m,0,1),this.lerp.set(c,m),this.followOffset.set(g,x);var T=this.width/2,S=this.height/2,P=f.x-g,L=f.y-x;return this.midPoint.set(P,L),this.scrollX=P-T,this.scrollY=L-S,this.useBounds&&(this.scrollX=this.clampX(this.scrollX),this.scrollY=this.clampY(this.scrollY)),this},stopFollow:function(){return this._follow=null,this},resetFX:function(){return this.rotateToEffect.reset(),this.panEffect.reset(),this.shakeEffect.reset(),this.flashEffect.reset(),this.fadeEffect.reset(),this},update:function(f,d){this.visible&&(this.rotateToEffect.update(f,d),this.panEffect.update(f,d),this.zoomEffect.update(f,d),this.shakeEffect.update(f,d),this.flashEffect.update(f,d),this.fadeEffect.update(f,d))},destroy:function(){this.resetFX(),h.prototype.destroy.call(this),this._follow=null,this.deadzone=null}});v.exports=u},32743:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(38058),p=t(83419),a=t(95540),n=t(37277),r=t(37303),e=t(97480),s=t(44594),o=new p({initialize:function(l){this.scene=l,this.systems=l.sys,this.roundPixels=l.sys.game.config.roundPixels,this.cameras=[],this.main,this.default,l.sys.events.once(s.BOOT,this.boot,this),l.sys.events.on(s.START,this.start,this)},boot:function(){var i=this.systems;i.settings.cameras?this.fromJSON(i.settings.cameras):this.add(),this.main=this.cameras[0],this.default=new h(0,0,i.scale.width,i.scale.height).setScene(this.scene),i.game.scale.on(e.RESIZE,this.onResize,this),this.systems.events.once(s.DESTROY,this.destroy,this)},start:function(){if(!this.main){var i=this.systems;i.settings.cameras?this.fromJSON(i.settings.cameras):this.add(),this.main=this.cameras[0]}var l=this.systems.events;l.on(s.UPDATE,this.update,this),l.once(s.SHUTDOWN,this.shutdown,this)},add:function(i,l,u,f,d,c){i===void 0&&(i=0),l===void 0&&(l=0),u===void 0&&(u=this.scene.sys.scale.width),f===void 0&&(f=this.scene.sys.scale.height),d===void 0&&(d=!1),c===void 0&&(c="");var m=new h(i,l,u,f);return m.setName(c),m.setScene(this.scene),m.setRoundPixels(this.roundPixels),m.id=this.getNextID(),this.cameras.push(m),d&&(this.main=m),m},addExisting:function(i,l){l===void 0&&(l=!1);var u=this.cameras.indexOf(i);return u===-1?(i.id=this.getNextID(),i.setRoundPixels(this.roundPixels),this.cameras.push(i),l&&(this.main=i),i):null},getNextID:function(){for(var i=this.cameras,l=1,u=0;u<32;u++){for(var f=!1,d=0;d<i.length;d++){var c=i[d];if(c&&c.id===l){f=!0;continue}}if(f)l=l<<1;else return l}return 0},getTotal:function(i){i===void 0&&(i=!1);for(var l=0,u=this.cameras,f=0;f<u.length;f++){var d=u[f];(!i||i&&d.visible)&&l++}return l},fromJSON:function(i){Array.isArray(i)||(i=[i]);for(var l=this.scene.sys.scale.width,u=this.scene.sys.scale.height,f=0;f<i.length;f++){var d=i[f],c=a(d,"x",0),m=a(d,"y",0),g=a(d,"width",l),x=a(d,"height",u),T=this.add(c,m,g,x);T.name=a(d,"name",""),T.zoom=a(d,"zoom",1),T.rotation=a(d,"rotation",0),T.scrollX=a(d,"scrollX",0),T.scrollY=a(d,"scrollY",0),T.roundPixels=a(d,"roundPixels",!1),T.visible=a(d,"visible",!0);var S=a(d,"backgroundColor",!1);S&&T.setBackgroundColor(S);var P=a(d,"bounds",null);if(P){var L=a(P,"x",0),I=a(P,"y",0),O=a(P,"width",l),M=a(P,"height",u);T.setBounds(L,I,O,M)}}return this},getCamera:function(i){for(var l=this.cameras,u=0;u<l.length;u++)if(l[u].name===i)return l[u];return null},getCamerasBelowPointer:function(i){for(var l=this.cameras,u=i.x,f=i.y,d=[],c=0;c<l.length;c++){var m=l[c];m.visible&&m.inputEnabled&&r(m,u,f)&&d.unshift(m)}return d},remove:function(i,l){l===void 0&&(l=!0),Array.isArray(i)||(i=[i]);for(var u=0,f=this.cameras,d=0;d<i.length;d++){var c=f.indexOf(i[d]);c!==-1&&(l?f[c].destroy():f[c].renderList=[],f.splice(c,1),u++)}return!this.main&&f[0]&&(this.main=f[0]),u},render:function(i,l){for(var u=this.scene,f=this.cameras,d=0;d<f.length;d++){var c=f[d];if(c.visible&&c.alpha>0){c.preRender();var m=this.getVisibleChildren(l.getChildren(),c);i.render(u,m,c)}}},getVisibleChildren:function(i,l){return i.filter(function(u){return u.willRender(l)})},resetAll:function(){for(var i=0;i<this.cameras.length;i++)this.cameras[i].destroy();return this.cameras=[],this.main=this.add(),this.main},update:function(i,l){for(var u=0;u<this.cameras.length;u++)this.cameras[u].update(i,l)},onResize:function(i,l,u,f,d){for(var c=0;c<this.cameras.length;c++){var m=this.cameras[c];m._x===0&&m._y===0&&m._width===f&&m._height===d&&m.setSize(l.width,l.height)}},resize:function(i,l){for(var u=0;u<this.cameras.length;u++)this.cameras[u].setSize(i,l)},shutdown:function(){this.main=void 0;for(var i=0;i<this.cameras.length;i++)this.cameras[i].destroy();this.cameras=[];var l=this.systems.events;l.off(s.UPDATE,this.update,this),l.off(s.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.default.destroy(),this.systems.events.off(s.START,this.start,this),this.systems.events.off(s.DESTROY,this.destroy,this),this.systems.game.scale.off(e.RESIZE,this.onResize,this),this.scene=null,this.systems=null}});n.register("CameraManager",o,"cameras"),v.exports=o},5020:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(45319),p=t(83419),a=t(19715),n=new p({initialize:function(e){this.camera=e,this.isRunning=!1,this.isComplete=!1,this.direction=!0,this.duration=0,this.red=0,this.green=0,this.blue=0,this.alpha=0,this.progress=0,this._elapsed=0,this._onUpdate,this._onUpdateScope},start:function(r,e,s,o,i,l,u,f){if(r===void 0&&(r=!0),e===void 0&&(e=1e3),s===void 0&&(s=0),o===void 0&&(o=0),i===void 0&&(i=0),l===void 0&&(l=!1),u===void 0&&(u=null),f===void 0&&(f=this.camera.scene),!l&&this.isRunning)return this.camera;this.isRunning=!0,this.isComplete=!1,this.duration=e,this.direction=r,this.progress=0,this.red=s,this.green=o,this.blue=i,this.alpha=r?Number.MIN_VALUE:1,this._elapsed=0,this._onUpdate=u,this._onUpdateScope=f;var d=r?a.FADE_OUT_START:a.FADE_IN_START;return this.camera.emit(d,this.camera,this,e,s,o,i),this.camera},update:function(r,e){this.isRunning&&(this._elapsed+=e,this.progress=h(this._elapsed/this.duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress),this._elapsed<this.duration?this.alpha=this.direction?this.progress:1-this.progress:(this.alpha=this.direction?1:0,this.effectComplete()))},postRenderCanvas:function(r){if(!this.isRunning&&!this.isComplete)return!1;var e=this.camera;return r.fillStyle="rgba("+this.red+","+this.green+","+this.blue+","+this.alpha+")",r.fillRect(e.x,e.y,e.width,e.height),!0},postRenderWebGL:function(r,e){if(!this.isRunning&&!this.isComplete)return!1;var s=this.camera,o=this.red/255,i=this.green/255,l=this.blue/255;return r.drawFillRect(s.x,s.y,s.width,s.height,e(l,i,o,1),this.alpha),!0},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.isComplete=!0;var r=this.direction?a.FADE_OUT_COMPLETE:a.FADE_IN_COMPLETE;this.camera.emit(r,this.camera,this)},reset:function(){this.isRunning=!1,this.isComplete=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null}});v.exports=n},10662:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(45319),p=t(83419),a=t(19715),n=new p({initialize:function(e){this.camera=e,this.isRunning=!1,this.duration=0,this.red=0,this.green=0,this.blue=0,this.alpha=1,this.progress=0,this._elapsed=0,this._alpha,this._onUpdate,this._onUpdateScope},start:function(r,e,s,o,i,l,u){return r===void 0&&(r=250),e===void 0&&(e=255),s===void 0&&(s=255),o===void 0&&(o=255),i===void 0&&(i=!1),l===void 0&&(l=null),u===void 0&&(u=this.camera.scene),!i&&this.isRunning?this.camera:(this.isRunning=!0,this.duration=r,this.progress=0,this.red=e,this.green=s,this.blue=o,this._alpha=this.alpha,this._elapsed=0,this._onUpdate=l,this._onUpdateScope=u,this.camera.emit(a.FLASH_START,this.camera,this,r,e,s,o),this.camera)},update:function(r,e){this.isRunning&&(this._elapsed+=e,this.progress=h(this._elapsed/this.duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress),this._elapsed<this.duration?this.alpha=this._alpha*(1-this.progress):this.effectComplete())},postRenderCanvas:function(r){if(!this.isRunning)return!1;var e=this.camera;return r.fillStyle="rgba("+this.red+","+this.green+","+this.blue+","+this.alpha+")",r.fillRect(e.x,e.y,e.width,e.height),!0},postRenderWebGL:function(r,e){if(!this.isRunning)return!1;var s=this.camera,o=this.red/255,i=this.green/255,l=this.blue/255;return r.drawFillRect(s.x,s.y,s.width,s.height,e(l,i,o,1),this.alpha),!0},effectComplete:function(){this.alpha=this._alpha,this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(a.FLASH_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null}});v.exports=n},20359:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(45319),p=t(83419),a=t(62640),n=t(19715),r=t(26099),e=new p({initialize:function(o){this.camera=o,this.isRunning=!1,this.duration=0,this.source=new r,this.current=new r,this.destination=new r,this.ease,this.progress=0,this._elapsed=0,this._onUpdate,this._onUpdateScope},start:function(s,o,i,l,u,f,d){i===void 0&&(i=1e3),l===void 0&&(l=a.Linear),u===void 0&&(u=!1),f===void 0&&(f=null),d===void 0&&(d=this.camera.scene);var c=this.camera;return!u&&this.isRunning||(this.isRunning=!0,this.duration=i,this.progress=0,this.source.set(c.scrollX,c.scrollY),this.destination.set(s,o),c.getScroll(s,o,this.current),typeof l=="string"&&a.hasOwnProperty(l)?this.ease=a[l]:typeof l=="function"&&(this.ease=l),this._elapsed=0,this._onUpdate=f,this._onUpdateScope=d,this.camera.emit(n.PAN_START,this.camera,this,i,s,o)),c},update:function(s,o){if(this.isRunning){this._elapsed+=o;var i=h(this._elapsed/this.duration,0,1);this.progress=i;var l=this.camera;if(this._elapsed<this.duration){var u=this.ease(i);l.getScroll(this.destination.x,this.destination.y,this.current);var f=this.source.x+(this.current.x-this.source.x)*u,d=this.source.y+(this.current.y-this.source.y)*u;l.setScroll(f,d),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,l,i,f,d)}else l.centerOn(this.destination.x,this.destination.y),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,l,i,l.scrollX,l.scrollY),this.effectComplete()}},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(n.PAN_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null,this.source=null,this.destination=null}});v.exports=e},34208:(v,y,t)=>{/**
 * @author       Jason Nicholls <nicholls.jason@gmail.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var h=t(45319),p=t(83419),a=t(19715),n=t(62640),r=new p({initialize:function(s){this.camera=s,this.isRunning=!1,this.duration=0,this.source=0,this.current=0,this.destination=0,this.ease,this.progress=0,this._elapsed=0,this._onUpdate,this._onUpdateScope,this.clockwise=!0,this.shortestPath=!1},start:function(e,s,o,i,l,u,f){o===void 0&&(o=1e3),i===void 0&&(i=n.Linear),l===void 0&&(l=!1),u===void 0&&(u=null),f===void 0&&(f=this.camera.scene),s===void 0&&(s=!1),this.shortestPath=s;var d=e;e<0?(d=-1*e,this.clockwise=!1):this.clockwise=!0;var c=360*Math.PI/180;d=d-Math.floor(d/c)*c;var m=this.camera;if(!l&&this.isRunning)return m;if(this.isRunning=!0,this.duration=o,this.progress=0,this.source=m.rotation,this.destination=d,typeof i=="string"&&n.hasOwnProperty(i)?this.ease=n[i]:typeof i=="function"&&(this.ease=i),this._elapsed=0,this._onUpdate=u,this._onUpdateScope=f,this.shortestPath){var g=0,x=0;this.destination>this.source?g=Math.abs(this.destination-this.source):g=Math.abs(this.destination+c)-this.source,this.source>this.destination?x=Math.abs(this.source-this.destination):x=Math.abs(this.source+c)-this.destination,g<x?this.clockwise=!0:g>x&&(this.clockwise=!1)}return this.camera.emit(a.ROTATE_START,this.camera,this,o,d),m},update:function(e,s){if(this.isRunning){this._elapsed+=s;var o=h(this._elapsed/this.duration,0,1);this.progress=o;var i=this.camera;if(this._elapsed<this.duration){var l=this.ease(o);this.current=i.rotation;var u=0,f=360*Math.PI/180,d=this.destination,c=this.current;this.clockwise===!1&&(d=this.current,c=this.destination),d>=c?u=Math.abs(d-c):u=Math.abs(d+f)-c;var m=0;this.clockwise?m=i.rotation+u*l:m=i.rotation-u*l,i.rotation=m,this._onUpdate&&this._onUpdate.call(this._onUpdateScope,i,o,m)}else i.rotation=this.destination,this._onUpdate&&this._onUpdate.call(this._onUpdateScope,i,o,this.destination),this.effectComplete()}},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(a.ROTATE_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null,this.source=null,this.destination=null}});v.exports=r},30330:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(45319),p=t(83419),a=t(19715),n=t(26099),r=new p({initialize:function(s){this.camera=s,this.isRunning=!1,this.duration=0,this.intensity=new n,this.progress=0,this._elapsed=0,this._offsetX=0,this._offsetY=0,this._onUpdate,this._onUpdateScope},start:function(e,s,o,i,l){return e===void 0&&(e=100),s===void 0&&(s=.05),o===void 0&&(o=!1),i===void 0&&(i=null),l===void 0&&(l=this.camera.scene),!o&&this.isRunning?this.camera:(this.isRunning=!0,this.duration=e,this.progress=0,typeof s=="number"?this.intensity.set(s):this.intensity.set(s.x,s.y),this._elapsed=0,this._offsetX=0,this._offsetY=0,this._onUpdate=i,this._onUpdateScope=l,this.camera.emit(a.SHAKE_START,this.camera,this,e,s),this.camera)},preRender:function(){this.isRunning&&this.camera.matrix.translate(this._offsetX,this._offsetY)},update:function(e,s){if(this.isRunning)if(this._elapsed+=s,this.progress=h(this._elapsed/this.duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress),this._elapsed<this.duration){var o=this.intensity,i=this.camera.width,l=this.camera.height,u=this.camera.zoom;this._offsetX=(Math.random()*o.x*i*2-o.x*i)*u,this._offsetY=(Math.random()*o.y*l*2-o.y*l)*u,this.camera.roundPixels&&(this._offsetX=Math.round(this._offsetX),this._offsetY=Math.round(this._offsetY))}else this.effectComplete()},effectComplete:function(){this._offsetX=0,this._offsetY=0,this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(a.SHAKE_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._offsetX=0,this._offsetY=0,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null,this.intensity=null}});v.exports=r},45641:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(45319),p=t(83419),a=t(62640),n=t(19715),r=new p({initialize:function(s){this.camera=s,this.isRunning=!1,this.duration=0,this.source=1,this.destination=1,this.ease,this.progress=0,this._elapsed=0,this._onUpdate,this._onUpdateScope},start:function(e,s,o,i,l,u){s===void 0&&(s=1e3),o===void 0&&(o=a.Linear),i===void 0&&(i=!1),l===void 0&&(l=null),u===void 0&&(u=this.camera.scene);var f=this.camera;return!i&&this.isRunning||(this.isRunning=!0,this.duration=s,this.progress=0,this.source=f.zoom,this.destination=e,typeof o=="string"&&a.hasOwnProperty(o)?this.ease=a[o]:typeof o=="function"&&(this.ease=o),this._elapsed=0,this._onUpdate=l,this._onUpdateScope=u,this.camera.emit(n.ZOOM_START,this.camera,this,s,e)),f},update:function(e,s){this.isRunning&&(this._elapsed+=s,this.progress=h(this._elapsed/this.duration,0,1),this._elapsed<this.duration?(this.camera.zoom=this.source+(this.destination-this.source)*this.ease(this.progress),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress,this.camera.zoom)):(this.camera.zoom=this.destination,this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress,this.destination),this.effectComplete()))},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(n.ZOOM_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null}});v.exports=r},20052:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={Fade:t(5020),Flash:t(10662),Pan:t(20359),Shake:t(30330),RotateTo:t(34208),Zoom:t(45641)}},16438:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="cameradestroy"},32726:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="camerafadeincomplete"},87807:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="camerafadeinstart"},45917:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="camerafadeoutcomplete"},95666:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="camerafadeoutstart"},47056:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="cameraflashcomplete"},91261:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="cameraflashstart"},45047:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="followupdate"},81927:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="camerapancomplete"},74264:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="camerapanstart"},54419:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="postrender"},79330:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="prerender"},93183:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="camerarotatecomplete"},80112:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="camerarotatestart"},62252:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="camerashakecomplete"},86017:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="camerashakestart"},539:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="camerazoomcomplete"},51892:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="camerazoomstart"},19715:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={DESTROY:t(16438),FADE_IN_COMPLETE:t(32726),FADE_IN_START:t(87807),FADE_OUT_COMPLETE:t(45917),FADE_OUT_START:t(95666),FLASH_COMPLETE:t(47056),FLASH_START:t(91261),FOLLOW_UPDATE:t(45047),PAN_COMPLETE:t(81927),PAN_START:t(74264),POST_RENDER:t(54419),PRE_RENDER:t(79330),ROTATE_COMPLETE:t(93183),ROTATE_START:t(80112),SHAKE_COMPLETE:t(62252),SHAKE_START:t(86017),ZOOM_COMPLETE:t(539),ZOOM_START:t(51892)}},87969:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={Camera:t(38058),BaseCamera:t(71911),CameraManager:t(32743),Effects:t(20052),Events:t(19715)}},63091:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),p=t(35154),a=new h({initialize:function(r){this.camera=p(r,"camera",null),this.left=p(r,"left",null),this.right=p(r,"right",null),this.up=p(r,"up",null),this.down=p(r,"down",null),this.zoomIn=p(r,"zoomIn",null),this.zoomOut=p(r,"zoomOut",null),this.zoomSpeed=p(r,"zoomSpeed",.01),this.minZoom=p(r,"minZoom",.001),this.maxZoom=p(r,"maxZoom",1e3),this.speedX=0,this.speedY=0;var e=p(r,"speed",null);typeof e=="number"?(this.speedX=e,this.speedY=e):(this.speedX=p(r,"speed.x",0),this.speedY=p(r,"speed.y",0)),this._zoom=0,this.active=this.camera!==null},start:function(){return this.active=this.camera!==null,this},stop:function(){return this.active=!1,this},setCamera:function(n){return this.camera=n,this},update:function(n){if(this.active){n===void 0&&(n=1);var r=this.camera;this.up&&this.up.isDown?r.scrollY-=this.speedY*n|0:this.down&&this.down.isDown&&(r.scrollY+=this.speedY*n|0),this.left&&this.left.isDown?r.scrollX-=this.speedX*n|0:this.right&&this.right.isDown&&(r.scrollX+=this.speedX*n|0),this.zoomIn&&this.zoomIn.isDown?(r.zoom-=this.zoomSpeed,r.zoom<this.minZoom&&(r.zoom=this.minZoom)):this.zoomOut&&this.zoomOut.isDown&&(r.zoom+=this.zoomSpeed,r.zoom>this.maxZoom&&(r.zoom=this.maxZoom))}},destroy:function(){this.camera=null,this.left=null,this.right=null,this.up=null,this.down=null,this.zoomIn=null,this.zoomOut=null}});v.exports=a},58818:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),p=t(35154),a=new h({initialize:function(r){this.camera=p(r,"camera",null),this.left=p(r,"left",null),this.right=p(r,"right",null),this.up=p(r,"up",null),this.down=p(r,"down",null),this.zoomIn=p(r,"zoomIn",null),this.zoomOut=p(r,"zoomOut",null),this.zoomSpeed=p(r,"zoomSpeed",.01),this.minZoom=p(r,"minZoom",.001),this.maxZoom=p(r,"maxZoom",1e3),this.accelX=0,this.accelY=0;var e=p(r,"acceleration",null);typeof e=="number"?(this.accelX=e,this.accelY=e):(this.accelX=p(r,"acceleration.x",0),this.accelY=p(r,"acceleration.y",0)),this.dragX=0,this.dragY=0;var s=p(r,"drag",null);typeof s=="number"?(this.dragX=s,this.dragY=s):(this.dragX=p(r,"drag.x",0),this.dragY=p(r,"drag.y",0)),this.maxSpeedX=0,this.maxSpeedY=0;var o=p(r,"maxSpeed",null);typeof o=="number"?(this.maxSpeedX=o,this.maxSpeedY=o):(this.maxSpeedX=p(r,"maxSpeed.x",0),this.maxSpeedY=p(r,"maxSpeed.y",0)),this._speedX=0,this._speedY=0,this._zoom=0,this.active=this.camera!==null},start:function(){return this.active=this.camera!==null,this},stop:function(){return this.active=!1,this},setCamera:function(n){return this.camera=n,this},update:function(n){if(this.active){n===void 0&&(n=1);var r=this.camera;this._speedX>0?(this._speedX-=this.dragX*n,this._speedX<0&&(this._speedX=0)):this._speedX<0&&(this._speedX+=this.dragX*n,this._speedX>0&&(this._speedX=0)),this._speedY>0?(this._speedY-=this.dragY*n,this._speedY<0&&(this._speedY=0)):this._speedY<0&&(this._speedY+=this.dragY*n,this._speedY>0&&(this._speedY=0)),this.up&&this.up.isDown?(this._speedY+=this.accelY,this._speedY>this.maxSpeedY&&(this._speedY=this.maxSpeedY)):this.down&&this.down.isDown&&(this._speedY-=this.accelY,this._speedY<-this.maxSpeedY&&(this._speedY=-this.maxSpeedY)),this.left&&this.left.isDown?(this._speedX+=this.accelX,this._speedX>this.maxSpeedX&&(this._speedX=this.maxSpeedX)):this.right&&this.right.isDown&&(this._speedX-=this.accelX,this._speedX<-this.maxSpeedX&&(this._speedX=-this.maxSpeedX)),this.zoomIn&&this.zoomIn.isDown?this._zoom=-this.zoomSpeed:this.zoomOut&&this.zoomOut.isDown?this._zoom=this.zoomSpeed:this._zoom=0,this._speedX!==0&&(r.scrollX-=this._speedX*n|0),this._speedY!==0&&(r.scrollY-=this._speedY*n|0),this._zoom!==0&&(r.zoom+=this._zoom,r.zoom<this.minZoom?r.zoom=this.minZoom:r.zoom>this.maxZoom&&(r.zoom=this.maxZoom))}},destroy:function(){this.camera=null,this.left=null,this.right=null,this.up=null,this.down=null,this.zoomIn=null,this.zoomOut=null}});v.exports=a},38865:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={FixedKeyControl:t(63091),SmoothedKeyControl:t(58818)}},26638:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={Controls:t(38865),Scene2D:t(87969)}},8054:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h={VERSION:"3.86.0",BlendModes:t(10312),ScaleModes:t(29795),AUTO:0,CANVAS:1,WEBGL:2,HEADLESS:3,FOREVER:-1,NONE:4,UP:5,DOWN:6,LEFT:7,RIGHT:8};v.exports=h},69547:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),p=t(8054),a=t(42363),n=t(82264),r=t(95540),e=t(35154),s=t(41212),o=t(29747),i=t(75508),l=t(36060),u=t(80333),f=new h({initialize:function(c){c===void 0&&(c={});var m=["#ff0000","#ffff00","#00ff00","#00ffff","#000000"],g="#ffffff",x=e(c,"scale",null);this.width=e(x,"width",1024,c),this.height=e(x,"height",768,c),this.zoom=e(x,"zoom",1,c),this.parent=e(x,"parent",void 0,c),this.scaleMode=e(x,x?"mode":"scaleMode",0,c),this.expandParent=e(x,"expandParent",!0,c),this.autoRound=e(x,"autoRound",!1,c),this.autoCenter=e(x,"autoCenter",0,c),this.resizeInterval=e(x,"resizeInterval",500,c),this.fullscreenTarget=e(x,"fullscreenTarget",null,c),this.minWidth=e(x,"min.width",0,c),this.maxWidth=e(x,"max.width",0,c),this.minHeight=e(x,"min.height",0,c),this.maxHeight=e(x,"max.height",0,c),this.snapWidth=e(x,"snap.width",0,c),this.snapHeight=e(x,"snap.height",0,c),this.renderType=e(c,"type",p.AUTO),this.canvas=e(c,"canvas",null),this.context=e(c,"context",null),this.canvasStyle=e(c,"canvasStyle",null),this.customEnvironment=e(c,"customEnvironment",!1),this.sceneConfig=e(c,"scene",null),this.seed=e(c,"seed",[(Date.now()*Math.random()).toString()]),i.RND=new i.RandomDataGenerator(this.seed),this.gameTitle=e(c,"title",""),this.gameURL=e(c,"url","https://phaser.io/v385/"),this.gameVersion=e(c,"version",""),this.autoFocus=e(c,"autoFocus",!0),this.stableSort=e(c,"stableSort",-1),this.stableSort===-1&&(this.stableSort=n.browser.es2019?1:0),n.features.stableSort=this.stableSort,this.domCreateContainer=e(c,"dom.createContainer",!1),this.domPointerEvents=e(c,"dom.pointerEvents","none"),this.inputKeyboard=e(c,"input.keyboard",!0),this.inputKeyboardEventTarget=e(c,"input.keyboard.target",window),this.inputKeyboardCapture=e(c,"input.keyboard.capture",[]),this.inputMouse=e(c,"input.mouse",!0),this.inputMouseEventTarget=e(c,"input.mouse.target",null),this.inputMousePreventDefaultDown=e(c,"input.mouse.preventDefaultDown",!0),this.inputMousePreventDefaultUp=e(c,"input.mouse.preventDefaultUp",!0),this.inputMousePreventDefaultMove=e(c,"input.mouse.preventDefaultMove",!0),this.inputMousePreventDefaultWheel=e(c,"input.mouse.preventDefaultWheel",!0),this.inputTouch=e(c,"input.touch",n.input.touch),this.inputTouchEventTarget=e(c,"input.touch.target",null),this.inputTouchCapture=e(c,"input.touch.capture",!0),this.inputActivePointers=e(c,"input.activePointers",1),this.inputSmoothFactor=e(c,"input.smoothFactor",0),this.inputWindowEvents=e(c,"input.windowEvents",!0),this.inputGamepad=e(c,"input.gamepad",!1),this.inputGamepadEventTarget=e(c,"input.gamepad.target",window),this.disableContextMenu=e(c,"disableContextMenu",!1),this.audio=e(c,"audio",{}),this.hideBanner=e(c,"banner",null)===!1,this.hidePhaser=e(c,"banner.hidePhaser",!1),this.bannerTextColor=e(c,"banner.text",g),this.bannerBackgroundColor=e(c,"banner.background",m),this.gameTitle===""&&this.hidePhaser&&(this.hideBanner=!0),this.fps=e(c,"fps",null),this.disablePreFX=e(c,"disablePreFX",!1),this.disablePostFX=e(c,"disablePostFX",!1);var T=e(c,"render",null);this.pipeline=e(T,"pipeline",null,c),this.autoMobilePipeline=e(T,"autoMobilePipeline",!0,c),this.defaultPipeline=e(T,"defaultPipeline",l.MULTI_PIPELINE,c),this.antialias=e(T,"antialias",!0,c),this.antialiasGL=e(T,"antialiasGL",!0,c),this.mipmapFilter=e(T,"mipmapFilter","",c),this.desynchronized=e(T,"desynchronized",!1,c),this.roundPixels=e(T,"roundPixels",!1,c),this.pixelArt=e(T,"pixelArt",this.zoom!==1,c),this.pixelArt&&(this.antialias=!1,this.antialiasGL=!1,this.roundPixels=!0),this.transparent=e(T,"transparent",!1,c),this.clearBeforeRender=e(T,"clearBeforeRender",!0,c),this.preserveDrawingBuffer=e(T,"preserveDrawingBuffer",!1,c),this.premultipliedAlpha=e(T,"premultipliedAlpha",!0,c),this.failIfMajorPerformanceCaveat=e(T,"failIfMajorPerformanceCaveat",!1,c),this.powerPreference=e(T,"powerPreference","default",c),this.batchSize=e(T,"batchSize",4096,c),this.maxTextures=e(T,"maxTextures",-1,c),this.maxLights=e(T,"maxLights",10,c);var S=e(c,"backgroundColor",0);this.backgroundColor=u(S),this.transparent&&(this.backgroundColor=u(0),this.backgroundColor.alpha=0),this.preBoot=e(c,"callbacks.preBoot",o),this.postBoot=e(c,"callbacks.postBoot",o),this.physics=e(c,"physics",{}),this.defaultPhysicsSystem=e(this.physics,"default",!1),this.loaderBaseURL=e(c,"loader.baseURL",""),this.loaderPath=e(c,"loader.path",""),this.loaderMaxParallelDownloads=e(c,"loader.maxParallelDownloads",n.os.android?6:32),this.loaderCrossOrigin=e(c,"loader.crossOrigin",void 0),this.loaderResponseType=e(c,"loader.responseType",""),this.loaderAsync=e(c,"loader.async",!0),this.loaderUser=e(c,"loader.user",""),this.loaderPassword=e(c,"loader.password",""),this.loaderTimeout=e(c,"loader.timeout",0),this.loaderMaxRetries=e(c,"loader.maxRetries",2),this.loaderWithCredentials=e(c,"loader.withCredentials",!1),this.loaderImageLoadType=e(c,"loader.imageLoadType","XHR"),this.loaderLocalScheme=e(c,"loader.localScheme",["file://","capacitor://"]),this.glowFXQuality=e(c,"fx.glow.quality",.1),this.glowFXDistance=e(c,"fx.glow.distance",10),this.installGlobalPlugins=[],this.installScenePlugins=[];var P=e(c,"plugins",null),L=a.DefaultScene;P&&(Array.isArray(P)?this.defaultPlugins=P:s(P)&&(this.installGlobalPlugins=r(P,"global",[]),this.installScenePlugins=r(P,"scene",[]),Array.isArray(P.default)?L=P.default:Array.isArray(P.defaultMerge)&&(L=L.concat(P.defaultMerge)))),this.defaultPlugins=L;var I="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAg";this.defaultImage=e(c,"images.default",I+"AQMAAABJtOi3AAAAA1BMVEX///+nxBvIAAAAAXRSTlMAQObYZgAAABVJREFUeF7NwIEAAAAAgKD9qdeocAMAoAABm3DkcAAAAABJRU5ErkJggg=="),this.missingImage=e(c,"images.missing",I+"CAIAAAD8GO2jAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJ9JREFUeNq01ssOwyAMRFG46v//Mt1ESmgh+DFmE2GPOBARKb2NVjo+17PXLD8a1+pl5+A+wSgFygymWYHBb0FtsKhJDdZlncG2IzJ4ayoMDv20wTmSMzClEgbWYNTAkQ0Z+OJ+A/eWnAaR9+oxCF4Os0H8htsMUp+pwcgBBiMNnAwF8GqIgL2hAzaGFFgZauDPKABmowZ4GL369/0rwACp2yA/ttmvsQAAAABJRU5ErkJggg=="),this.whiteImage=e(c,"images.white","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAAECAIAAAAmkwkpAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAABdJREFUeNpi/P//PwMMMDEgAdwcgAADAJZuAwXJYZOzAAAAAElFTkSuQmCC"),window&&(window.FORCE_WEBGL?this.renderType=p.WEBGL:window.FORCE_CANVAS&&(this.renderType=p.CANVAS))}});v.exports=f},86054:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(20623),p=t(27919),a=t(8054),n=t(89357),r=function(e){var s=e.config;if((s.customEnvironment||s.canvas)&&s.renderType===a.AUTO)throw new Error("Must set explicit renderType in custom environment");if(!s.customEnvironment&&!s.canvas&&s.renderType!==a.HEADLESS)if(s.renderType===a.AUTO&&(s.renderType=n.webGL?a.WEBGL:a.CANVAS),s.renderType===a.WEBGL){if(!n.webGL)throw new Error("Cannot create WebGL context, aborting.")}else if(s.renderType===a.CANVAS){if(!n.canvas)throw new Error("Cannot create Canvas context, aborting.")}else throw new Error("Unknown value for renderer type: "+s.renderType);s.antialias||p.disableSmoothing();var o=e.scale.baseSize,i=o.width,l=o.height;if(s.canvas?(e.canvas=s.canvas,e.canvas.width=i,e.canvas.height=l):e.canvas=p.create(e,i,l,s.renderType),s.canvasStyle&&(e.canvas.style=s.canvasStyle),s.antialias||h.setCrisp(e.canvas),s.renderType!==a.HEADLESS){var u,f;u=t(68627),f=t(74797),s.renderType===a.WEBGL?e.renderer=new f(e):(e.renderer=new u(e),e.context=e.renderer.gameContext)}};v.exports=r},96391:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(8054),p=function(a){var n=a.config;if(!n.hideBanner){var r="WebGL";n.renderType===h.CANVAS?r="Canvas":n.renderType===h.HEADLESS&&(r="Headless");var e=n.audio,s=a.device.audio,o;if(s.webAudio&&!e.disableWebAudio?o="Web Audio":e.noAudio||!s.webAudio&&!s.audioData?o="No Audio":o="HTML5 Audio",a.device.browser.ie)window.console&&console.log("Phaser v"+h.VERSION+" / https://phaser.io");else{var i="",l=[i];if(Array.isArray(n.bannerBackgroundColor)){var u;n.bannerBackgroundColor.forEach(function(d){i=i.concat("%c "),l.push("background: "+d),u=d}),l[l.length-1]="color: "+n.bannerTextColor+"; background: "+u}else i=i.concat("%c "),l.push("color: "+n.bannerTextColor+"; background: "+n.bannerBackgroundColor);l.push("background: transparent"),n.gameTitle&&(i=i.concat(n.gameTitle),n.gameVersion&&(i=i.concat(" v"+n.gameVersion)),n.hidePhaser||(i=i.concat(" / ")));var f="";n.hidePhaser||(i=i.concat("Phaser v"+h.VERSION+f+" ("+r+" | "+o+")")),i=i.concat(" %c "+n.gameURL),l[0]=i,console.log.apply(console,l)}}};v.exports=p},50127:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(40366),p=t(60848),a=t(24047),n=t(27919),r=t(83419),e=t(69547),s=t(83719),o=t(86054),i=t(45893),l=t(96391),u=t(82264),f=t(57264),d=t(50792),c=t(8443),m=t(7003),g=t(37277),x=t(77332),T=t(76531),S=t(60903),P=t(69442),L=t(17130),I=t(65898),O=t(51085),M=t(14747),w=new r({initialize:function(U){this.config=new e(U),this.renderer=null,this.domContainer=null,this.canvas=null,this.context=null,this.isBooted=!1,this.isRunning=!1,this.events=new d,this.anims=new p(this),this.textures=new L(this),this.cache=new a(this),this.registry=new i(this,new d),this.input=new m(this,this.config),this.scene=new S(this,this.config.sceneConfig),this.device=u,this.scale=new T(this,this.config),this.sound=null,this.sound=M.create(this),this.loop=new I(this,this.config.fps),this.plugins=new x(this,this.config),this.pendingDestroy=!1,this.removeCanvas=!1,this.noReturn=!1,this.hasFocus=!1,this.isPaused=!1,f(this.boot.bind(this))},boot:function(){if(!g.hasCore("EventEmitter")){console.warn("Aborting. Core Plugins missing.");return}this.isBooted=!0,this.config.preBoot(this),this.scale.preBoot(),o(this),s(this),l(this),h(this.canvas,this.config.parent),this.textures.once(P.READY,this.texturesReady,this),this.events.emit(c.BOOT)},texturesReady:function(){this.events.emit(c.READY),this.start()},start:function(){this.isRunning=!0,this.config.postBoot(this),this.renderer?this.loop.start(this.step.bind(this)):this.loop.start(this.headlessStep.bind(this)),O(this);var D=this.events;D.on(c.HIDDEN,this.onHidden,this),D.on(c.VISIBLE,this.onVisible,this),D.on(c.BLUR,this.onBlur,this),D.on(c.FOCUS,this.onFocus,this)},step:function(D,U){if(this.pendingDestroy)return this.runDestroy();if(!this.isPaused){var Y=this.events;Y.emit(c.PRE_STEP,D,U),Y.emit(c.STEP,D,U),this.scene.update(D,U),Y.emit(c.POST_STEP,D,U);var H=this.renderer;H.preRender(),Y.emit(c.PRE_RENDER,H,D,U),this.scene.render(H),H.postRender(),Y.emit(c.POST_RENDER,H,D,U)}},headlessStep:function(D,U){if(this.pendingDestroy)return this.runDestroy();if(!this.isPaused){var Y=this.events;Y.emit(c.PRE_STEP,D,U),Y.emit(c.STEP,D,U),this.scene.update(D,U),Y.emit(c.POST_STEP,D,U),this.scene.isProcessing=!1,Y.emit(c.PRE_RENDER,null,D,U),Y.emit(c.POST_RENDER,null,D,U)}},onHidden:function(){this.loop.pause(),this.events.emit(c.PAUSE)},pause:function(){var D=this.isPaused;this.isPaused=!0,D||this.events.emit(c.PAUSE)},onVisible:function(){this.loop.resume(),this.events.emit(c.RESUME,this.loop.pauseDuration)},resume:function(){var D=this.isPaused;this.isPaused=!1,D&&this.events.emit(c.RESUME,0)},onBlur:function(){this.hasFocus=!1,this.loop.blur()},onFocus:function(){this.hasFocus=!0,this.loop.focus()},getFrame:function(){return this.loop.frame},getTime:function(){return this.loop.now},destroy:function(D,U){U===void 0&&(U=!1),this.pendingDestroy=!0,this.removeCanvas=D,this.noReturn=U},runDestroy:function(){this.scene.destroy(),this.events.emit(c.DESTROY),this.events.removeAllListeners(),this.renderer&&this.renderer.destroy(),this.removeCanvas&&this.canvas&&(n.remove(this.canvas),this.canvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas)),this.domContainer&&this.domContainer.parentNode&&this.domContainer.parentNode.removeChild(this.domContainer),this.loop.destroy(),this.pendingDestroy=!1}});v.exports=w},65898:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),p=t(35154),a=t(29747),n=t(43092),r=new h({initialize:function(s,o){this.game=s,this.raf=new n,this.started=!1,this.running=!1,this.minFps=p(o,"min",5),this.targetFps=p(o,"target",60),this.fpsLimit=p(o,"limit",0),this.hasFpsLimit=this.fpsLimit>0,this._limitRate=this.hasFpsLimit?1e3/this.fpsLimit:0,this._min=1e3/this.minFps,this._target=1e3/this.targetFps,this.actualFps=this.targetFps,this.nextFpsUpdate=0,this.framesThisSecond=0,this.callback=a,this.forceSetTimeOut=p(o,"forceSetTimeOut",!1),this.time=0,this.startTime=0,this.lastTime=0,this.frame=0,this.inFocus=!0,this.pauseDuration=0,this._pauseTime=0,this._coolDown=0,this.delta=0,this.deltaIndex=0,this.deltaHistory=[],this.deltaSmoothingMax=p(o,"deltaHistory",10),this.panicMax=p(o,"panicMax",120),this.rawDelta=0,this.now=0,this.smoothStep=p(o,"smoothStep",!0)},blur:function(){this.inFocus=!1},focus:function(){this.inFocus=!0,this.resetDelta()},pause:function(){this._pauseTime=window.performance.now()},resume:function(){this.resetDelta(),this.pauseDuration=this.time-this._pauseTime,this.startTime+=this.pauseDuration},resetDelta:function(){var e=window.performance.now();this.time=e,this.lastTime=e,this.nextFpsUpdate=e+1e3,this.framesThisSecond=0;for(var s=0;s<this.deltaSmoothingMax;s++)this.deltaHistory[s]=Math.min(this._target,this.deltaHistory[s]);this.delta=0,this.deltaIndex=0,this._coolDown=this.panicMax},start:function(e){if(this.started)return this;this.started=!0,this.running=!0;for(var s=0;s<this.deltaSmoothingMax;s++)this.deltaHistory[s]=this._target;this.resetDelta(),this.startTime=window.performance.now(),this.callback=e;var o=this.hasFpsLimit?this.stepLimitFPS.bind(this):this.step.bind(this);this.raf.start(o,this.forceSetTimeOut,this._target)},smoothDelta:function(e){var s=this.deltaIndex,o=this.deltaHistory,i=this.deltaSmoothingMax;(this._coolDown>0||!this.inFocus)&&(this._coolDown--,e=Math.min(e,this._target)),e>this._min&&(e=o[s],e=Math.min(e,this._min)),o[s]=e,this.deltaIndex++,this.deltaIndex>=i&&(this.deltaIndex=0);for(var l=0,u=0;u<i;u++)l+=o[u];return l/=i,l},updateFPS:function(e){this.actualFps=.25*this.framesThisSecond+.75*this.actualFps,this.nextFpsUpdate=e+1e3,this.framesThisSecond=0},stepLimitFPS:function(e){this.now=e;var s=Math.max(0,e-this.lastTime);this.rawDelta=s,this.time+=this.rawDelta,this.smoothStep&&(s=this.smoothDelta(s)),this.delta+=s,e>=this.nextFpsUpdate&&this.updateFPS(e),this.framesThisSecond++,this.delta>=this._limitRate&&(this.callback(e,this.delta),this.delta=0),this.lastTime=e,this.frame++},step:function(e){this.now=e;var s=Math.max(0,e-this.lastTime);this.rawDelta=s,this.time+=this.rawDelta,this.smoothStep&&(s=this.smoothDelta(s)),this.delta=s,e>=this.nextFpsUpdate&&this.updateFPS(e),this.framesThisSecond++,this.callback(e,s),this.lastTime=e,this.frame++},tick:function(){var e=window.performance.now();this.hasFpsLimit?this.stepLimitFPS(e):this.step(e)},sleep:function(){this.running&&(this.raf.stop(),this.running=!1)},wake:function(e){e===void 0&&(e=!1);var s=window.performance.now();if(!this.running){e&&(this.startTime+=-this.lastTime+(this.lastTime+s));var o=this.hasFpsLimit?this.stepLimitFPS.bind(this):this.step.bind(this);this.raf.start(o,this.forceSetTimeOut,this._target),this.running=!0,this.nextFpsUpdate=s+1e3,this.framesThisSecond=0,this.fpsLimitTriggered=!1,this.tick()}},getDuration:function(){return Math.round(this.lastTime-this.startTime)/1e3},getDurationMS:function(){return Math.round(this.lastTime-this.startTime)},stop:function(){return this.running=!1,this.started=!1,this.raf.stop(),this},destroy:function(){this.stop(),this.raf.destroy(),this.raf=null,this.game=null,this.callback=null}});v.exports=r},51085:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(8443),p=function(a){var n,r=a.events;if(document.hidden!==void 0)n="visibilitychange";else{var e=["webkit","moz","ms"];e.forEach(function(o){document[o+"Hidden"]!==void 0&&(document.hidden=function(){return document[o+"Hidden"]},n=o+"visibilitychange")})}var s=function(o){document.hidden||o.type==="pause"?r.emit(h.HIDDEN):r.emit(h.VISIBLE)};n&&document.addEventListener(n,s,!1),window.onblur=function(){r.emit(h.BLUR)},window.onfocus=function(){r.emit(h.FOCUS)},window.focus&&a.config.autoFocus&&window.focus()};v.exports=p},97217:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="blur"},47548:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="boot"},19814:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="contextlost"},68446:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="destroy"},41700:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="focus"},25432:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="hidden"},65942:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="pause"},59211:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="postrender"},47789:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="poststep"},39066:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="prerender"},460:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="prestep"},16175:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="ready"},42331:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="resume"},11966:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="step"},32969:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="systemready"},94830:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="visible"},8443:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={BLUR:t(97217),BOOT:t(47548),CONTEXT_LOST:t(19814),DESTROY:t(68446),FOCUS:t(41700),HIDDEN:t(25432),PAUSE:t(65942),POST_RENDER:t(59211),POST_STEP:t(47789),PRE_RENDER:t(39066),PRE_STEP:t(460),READY:t(16175),RESUME:t(42331),STEP:t(11966),SYSTEM_READY:t(32969),VISIBLE:t(94830)}},42857:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={Config:t(69547),CreateRenderer:t(86054),DebugHeader:t(96391),Events:t(8443),TimeStep:t(65898),VisibilityHandler:t(51085)}},99584:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(5290),p=t(27919),a=t(35154),n=function(r){var e=a(r,"data",[]),s=a(r,"canvas",null),o=a(r,"palette",h),i=a(r,"pixelWidth",1),l=a(r,"pixelHeight",i),u=a(r,"resizeCanvas",!0),f=a(r,"clearCanvas",!0),d=a(r,"preRender",null),c=a(r,"postRender",null),m=Math.floor(Math.abs(e[0].length*i)),g=Math.floor(Math.abs(e.length*l));s||(s=p.create2D(this,m,g),u=!1,f=!1),u&&(s.width=m,s.height=g);var x=s.getContext("2d",{willReadFrequently:!0});f&&x.clearRect(0,0,m,g),d&&d(s,x);for(var T=0;T<e.length;T++)for(var S=e[T],P=0;P<S.length;P++){var L=S[P];L!=="."&&L!==" "&&(x.fillStyle=o[L],x.fillRect(P*i,T*l,i,l))}return c&&c(s,x),s};v.exports=n},15822:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={GenerateTexture:t(99584),Palettes:t(57763)}},5290:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={0:"#000",1:"#9D9D9D",2:"#FFF",3:"#BE2633",4:"#E06F8B",5:"#493C2B",6:"#A46422",7:"#EB8931",8:"#F7E26B",9:"#2F484E",A:"#44891A",B:"#A3CE27",C:"#1B2632",D:"#005784",E:"#31A2F2",F:"#B2DCEF"}},23816:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={0:"#000",1:"#fff",2:"#8b4131",3:"#7bbdc5",4:"#8b41ac",5:"#6aac41",6:"#3931a4",7:"#d5de73",8:"#945a20",9:"#5a4100",A:"#bd736a",B:"#525252",C:"#838383",D:"#acee8b",E:"#7b73de",F:"#acacac"}},9866:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={0:"#000",1:"#2234d1",2:"#0c7e45",3:"#44aacc",4:"#8a3622",5:"#5c2e78",6:"#aa5c3d",7:"#b5b5b5",8:"#5e606e",9:"#4c81fb",A:"#6cd947",B:"#7be2f9",C:"#eb8a60",D:"#e23d69",E:"#ffd93f",F:"#fff"}},77552:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={0:"#000",1:"#191028",2:"#46af45",3:"#a1d685",4:"#453e78",5:"#7664fe",6:"#833129",7:"#9ec2e8",8:"#dc534b",9:"#e18d79",A:"#d6b97b",B:"#e9d8a1",C:"#216c4b",D:"#d365c8",E:"#afaab9",F:"#f5f4eb"}},92259:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={0:"#000",1:"#191028",2:"#46af45",3:"#a1d685",4:"#453e78",5:"#7664fe",6:"#833129",7:"#9ec2e8",8:"#dc534b",9:"#e18d79",A:"#d6b97b",B:"#e9d8a1",C:"#216c4b",D:"#d365c8",E:"#afaab9",F:"#fff"}},57763:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={ARNE16:t(5290),C64:t(23816),CGA:t(9866),JMP:t(77552),MSX:t(92259)}},46728:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),p=t(36316),a=t(80021),n=t(26099),r=new h({Extends:a,initialize:function(s,o,i,l){a.call(this,"CubicBezierCurve"),Array.isArray(s)&&(l=new n(s[6],s[7]),i=new n(s[4],s[5]),o=new n(s[2],s[3]),s=new n(s[0],s[1])),this.p0=s,this.p1=o,this.p2=i,this.p3=l},getStartPoint:function(e){return e===void 0&&(e=new n),e.copy(this.p0)},getResolution:function(e){return e},getPoint:function(e,s){s===void 0&&(s=new n);var o=this.p0,i=this.p1,l=this.p2,u=this.p3;return s.set(p(e,o.x,i.x,l.x,u.x),p(e,o.y,i.y,l.y,u.y))},draw:function(e,s){s===void 0&&(s=32);var o=this.getPoints(s);e.beginPath(),e.moveTo(this.p0.x,this.p0.y);for(var i=1;i<o.length;i++)e.lineTo(o[i].x,o[i].y);return e.strokePath(),e},toJSON:function(){return{type:this.type,points:[this.p0.x,this.p0.y,this.p1.x,this.p1.y,this.p2.x,this.p2.y,this.p3.x,this.p3.y]}}});r.fromJSON=function(e){var s=e.points,o=new n(s[0],s[1]),i=new n(s[2],s[3]),l=new n(s[4],s[5]),u=new n(s[6],s[7]);return new r(o,i,l,u)},v.exports=r},80021:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),p=t(19217),a=t(87841),n=t(26099),r=new h({initialize:function(s){this.type=s,this.defaultDivisions=5,this.arcLengthDivisions=100,this.cacheArcLengths=[],this.needsUpdate=!0,this.active=!0,this._tmpVec2A=new n,this._tmpVec2B=new n},draw:function(e,s){return s===void 0&&(s=32),e.strokePoints(this.getPoints(s))},getBounds:function(e,s){e||(e=new a),s===void 0&&(s=16);var o=this.getLength();s>o&&(s=o/2);var i=Math.max(1,Math.round(o/s));return p(this.getSpacedPoints(i),e)},getDistancePoints:function(e){var s=this.getLength(),o=Math.max(1,s/e);return this.getSpacedPoints(o)},getEndPoint:function(e){return e===void 0&&(e=new n),this.getPointAt(1,e)},getLength:function(){var e=this.getLengths();return e[e.length-1]},getLengths:function(e){if(e===void 0&&(e=this.arcLengthDivisions),this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;var s=[],o,i=this.getPoint(0,this._tmpVec2A),l=0;s.push(0);for(var u=1;u<=e;u++)o=this.getPoint(u/e,this._tmpVec2B),l+=o.distance(i),s.push(l),i.copy(o);return this.cacheArcLengths=s,s},getPointAt:function(e,s){var o=this.getUtoTmapping(e);return this.getPoint(o,s)},getPoints:function(e,s,o){o===void 0&&(o=[]),e||(s?e=this.getLength()/s:e=this.defaultDivisions);for(var i=0;i<=e;i++)o.push(this.getPoint(i/e));return o},getRandomPoint:function(e){return e===void 0&&(e=new n),this.getPoint(Math.random(),e)},getSpacedPoints:function(e,s,o){o===void 0&&(o=[]),e||(s?e=this.getLength()/s:e=this.defaultDivisions);for(var i=0;i<=e;i++){var l=this.getUtoTmapping(i/e,null,e);o.push(this.getPoint(l))}return o},getStartPoint:function(e){return e===void 0&&(e=new n),this.getPointAt(0,e)},getTangent:function(e,s){s===void 0&&(s=new n);var o=1e-4,i=e-o,l=e+o;return i<0&&(i=0),l>1&&(l=1),this.getPoint(i,this._tmpVec2A),this.getPoint(l,s),s.subtract(this._tmpVec2A).normalize()},getTangentAt:function(e,s){var o=this.getUtoTmapping(e);return this.getTangent(o,s)},getTFromDistance:function(e,s){return e<=0?0:this.getUtoTmapping(0,e,s)},getUtoTmapping:function(e,s,o){var i=this.getLengths(o),l=0,u=i.length,f;s?f=Math.min(s,i[u-1]):f=e*i[u-1];for(var d=0,c=u-1,m;d<=c;)if(l=Math.floor(d+(c-d)/2),m=i[l]-f,m<0)d=l+1;else if(m>0)c=l-1;else{c=l;break}if(l=c,i[l]===f)return l/(u-1);var g=i[l],x=i[l+1],T=x-g,S=(f-g)/T;return(l+S)/(u-1)},updateArcLengths:function(){this.needsUpdate=!0,this.getLengths()}});v.exports=r},73825:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),p=t(80021),a=t(39506),n=t(35154),r=t(43396),e=t(26099),s=new h({Extends:p,initialize:function(i,l,u,f,d,c,m,g){if(typeof i=="object"){var x=i;i=n(x,"x",0),l=n(x,"y",0),u=n(x,"xRadius",0),f=n(x,"yRadius",u),d=n(x,"startAngle",0),c=n(x,"endAngle",360),m=n(x,"clockwise",!1),g=n(x,"rotation",0)}else f===void 0&&(f=u),d===void 0&&(d=0),c===void 0&&(c=360),m===void 0&&(m=!1),g===void 0&&(g=0);p.call(this,"EllipseCurve"),this.p0=new e(i,l),this._xRadius=u,this._yRadius=f,this._startAngle=a(d),this._endAngle=a(c),this._clockwise=m,this._rotation=a(g)},getStartPoint:function(o){return o===void 0&&(o=new e),this.getPoint(0,o)},getResolution:function(o){return o*2},getPoint:function(o,i){i===void 0&&(i=new e);for(var l=Math.PI*2,u=this._endAngle-this._startAngle,f=Math.abs(u)<Number.EPSILON;u<0;)u+=l;for(;u>l;)u-=l;u<Number.EPSILON&&(f?u=0:u=l),this._clockwise&&!f&&(u===l?u=-l:u=u-l);var d=this._startAngle+o*u,c=this.p0.x+this._xRadius*Math.cos(d),m=this.p0.y+this._yRadius*Math.sin(d);if(this._rotation!==0){var g=Math.cos(this._rotation),x=Math.sin(this._rotation),T=c-this.p0.x,S=m-this.p0.y;c=T*g-S*x+this.p0.x,m=T*x+S*g+this.p0.y}return i.set(c,m)},setXRadius:function(o){return this.xRadius=o,this},setYRadius:function(o){return this.yRadius=o,this},setWidth:function(o){return this.xRadius=o/2,this},setHeight:function(o){return this.yRadius=o/2,this},setStartAngle:function(o){return this.startAngle=o,this},setEndAngle:function(o){return this.endAngle=o,this},setClockwise:function(o){return this.clockwise=o,this},setRotation:function(o){return this.rotation=o,this},x:{get:function(){return this.p0.x},set:function(o){this.p0.x=o}},y:{get:function(){return this.p0.y},set:function(o){this.p0.y=o}},xRadius:{get:function(){return this._xRadius},set:function(o){this._xRadius=o}},yRadius:{get:function(){return this._yRadius},set:function(o){this._yRadius=o}},startAngle:{get:function(){return r(this._startAngle)},set:function(o){this._startAngle=a(o)}},endAngle:{get:function(){return r(this._endAngle)},set:function(o){this._endAngle=a(o)}},clockwise:{get:function(){return this._clockwise},set:function(o){this._clockwise=o}},angle:{get:function(){return r(this._rotation)},set:function(o){this._rotation=a(o)}},rotation:{get:function(){return this._rotation},set:function(o){this._rotation=o}},toJSON:function(){return{type:this.type,x:this.p0.x,y:this.p0.y,xRadius:this._xRadius,yRadius:this._yRadius,startAngle:r(this._startAngle),endAngle:r(this._endAngle),clockwise:this._clockwise,rotation:r(this._rotation)}}});s.fromJSON=function(o){return new s(o)},v.exports=s},33951:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),p=t(80021),a=t(19217),n=t(87841),r=t(26099),e=new h({Extends:p,initialize:function(o,i){p.call(this,"LineCurve"),Array.isArray(o)&&(i=new r(o[2],o[3]),o=new r(o[0],o[1])),this.p0=o,this.p1=i,this.arcLengthDivisions=1},getBounds:function(s){return s===void 0&&(s=new n),a([this.p0,this.p1],s)},getStartPoint:function(s){return s===void 0&&(s=new r),s.copy(this.p0)},getResolution:function(s){return s===void 0&&(s=1),s},getPoint:function(s,o){return o===void 0&&(o=new r),s===1?o.copy(this.p1):(o.copy(this.p1).subtract(this.p0).scale(s).add(this.p0),o)},getPointAt:function(s,o){return this.getPoint(s,o)},getTangent:function(s,o){return o===void 0&&(o=new r),o.copy(this.p1).subtract(this.p0).normalize(),o},getUtoTmapping:function(s,o,i){var l;if(o){var u=this.getLengths(i),f=u[u.length-1],d=Math.min(o,f);l=d/f}else l=s;return l},draw:function(s){return s.lineBetween(this.p0.x,this.p0.y,this.p1.x,this.p1.y),s},toJSON:function(){return{type:this.type,points:[this.p0.x,this.p0.y,this.p1.x,this.p1.y]}}});e.fromJSON=function(s){var o=s.points,i=new r(o[0],o[1]),l=new r(o[2],o[3]);return new e(i,l)},v.exports=e},14744:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),p=t(80021),a=t(32112),n=t(26099),r=new h({Extends:p,initialize:function(s,o,i){p.call(this,"QuadraticBezierCurve"),Array.isArray(s)&&(i=new n(s[4],s[5]),o=new n(s[2],s[3]),s=new n(s[0],s[1])),this.p0=s,this.p1=o,this.p2=i},getStartPoint:function(e){return e===void 0&&(e=new n),e.copy(this.p0)},getResolution:function(e){return e},getPoint:function(e,s){s===void 0&&(s=new n);var o=this.p0,i=this.p1,l=this.p2;return s.set(a(e,o.x,i.x,l.x),a(e,o.y,i.y,l.y))},draw:function(e,s){s===void 0&&(s=32);var o=this.getPoints(s);e.beginPath(),e.moveTo(this.p0.x,this.p0.y);for(var i=1;i<o.length;i++)e.lineTo(o[i].x,o[i].y);return e.strokePath(),e},toJSON:function(){return{type:this.type,points:[this.p0.x,this.p0.y,this.p1.x,this.p1.y,this.p2.x,this.p2.y]}}});r.fromJSON=function(e){var s=e.points,o=new n(s[0],s[1]),i=new n(s[2],s[3]),l=new n(s[4],s[5]);return new r(o,i,l)},v.exports=r},42534:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(87842),p=t(83419),a=t(80021),n=t(26099),r=new p({Extends:a,initialize:function(s){s===void 0&&(s=[]),a.call(this,"SplineCurve"),this.points=[],this.addPoints(s)},addPoints:function(e){for(var s=0;s<e.length;s++){var o=new n;typeof e[s]=="number"?(o.x=e[s],o.y=e[s+1],s++):Array.isArray(e[s])?(o.x=e[s][0],o.y=e[s][1]):(o.x=e[s].x,o.y=e[s].y),this.points.push(o)}return this},addPoint:function(e,s){var o=new n(e,s);return this.points.push(o),o},getStartPoint:function(e){return e===void 0&&(e=new n),e.copy(this.points[0])},getResolution:function(e){return e*this.points.length},getPoint:function(e,s){s===void 0&&(s=new n);var o=this.points,i=(o.length-1)*e,l=Math.floor(i),u=i-l,f=o[l===0?l:l-1],d=o[l],c=o[l>o.length-2?o.length-1:l+1],m=o[l>o.length-3?o.length-1:l+2];return s.set(h(u,f.x,d.x,c.x,m.x),h(u,f.y,d.y,c.y,m.y))},toJSON:function(){for(var e=[],s=0;s<this.points.length;s++)e.push(this.points[s].x),e.push(this.points[s].y);return{type:this.type,points:e}}});r.fromJSON=function(e){return new r(e.points)},v.exports=r},25410:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={Path:t(46669),MoveTo:t(68618),CubicBezier:t(46728),Curve:t(80021),Ellipse:t(73825),Line:t(33951),QuadraticBezier:t(14744),Spline:t(42534)}},68618:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),p=t(26099),a=new h({initialize:function(r,e){this.active=!1,this.p0=new p(r,e)},getPoint:function(n,r){return r===void 0&&(r=new p),r.copy(this.p0)},getPointAt:function(n,r){return this.getPoint(n,r)},getResolution:function(){return 1},getLength:function(){return 0},toJSON:function(){return{type:"MoveTo",points:[this.p0.x,this.p0.y]}}});v.exports=a},46669:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),p=t(46728),a=t(73825),n=t(39429),r=t(33951),e=t(68618),s=t(14744),o=t(87841),i=t(42534),l=t(26099),u=t(36383),f=new h({initialize:function(c,m){c===void 0&&(c=0),m===void 0&&(m=0),this.name="",this.defaultDivisions=12,this.curves=[],this.cacheLengths=[],this.autoClose=!1,this.startPoint=new l,this._tmpVec2A=new l,this._tmpVec2B=new l,typeof c=="object"?this.fromJSON(c):this.startPoint.set(c,m)},add:function(d){return this.curves.push(d),this},circleTo:function(d,c,m){return c===void 0&&(c=!1),this.ellipseTo(d,d,0,360,c,m)},closePath:function(){var d=this.curves[0].getPoint(0),c=this.curves[this.curves.length-1].getPoint(1);return d.equals(c)||this.curves.push(new r(c,d)),this},cubicBezierTo:function(d,c,m,g,x,T){var S=this.getEndPoint(),P,L,I;return d instanceof l?(P=d,L=c,I=m):(P=new l(m,g),L=new l(x,T),I=new l(d,c)),this.add(new p(S,P,L,I))},quadraticBezierTo:function(d,c,m,g){var x=this.getEndPoint(),T,S;return d instanceof l?(T=d,S=c):(T=new l(m,g),S=new l(d,c)),this.add(new s(x,T,S))},draw:function(d,c){for(var m=0;m<this.curves.length;m++){var g=this.curves[m];g.active&&g.draw(d,c)}return d},ellipseTo:function(d,c,m,g,x,T){var S=new a(0,0,d,c,m,g,x,T),P=this.getEndPoint(this._tmpVec2A),L=S.getStartPoint(this._tmpVec2B);return P.subtract(L),S.x=P.x,S.y=P.y,this.add(S)},fromJSON:function(d){this.curves=[],this.cacheLengths=[],this.startPoint.set(d.x,d.y),this.autoClose=d.autoClose;for(var c=0;c<d.curves.length;c++){var m=d.curves[c];switch(m.type){case"LineCurve":this.add(r.fromJSON(m));break;case"EllipseCurve":this.add(a.fromJSON(m));break;case"SplineCurve":this.add(i.fromJSON(m));break;case"CubicBezierCurve":this.add(p.fromJSON(m));break;case"QuadraticBezierCurve":this.add(s.fromJSON(m));break}}return this},getBounds:function(d,c){d===void 0&&(d=new o),c===void 0&&(c=16),d.x=Number.MAX_VALUE,d.y=Number.MAX_VALUE;for(var m=new o,g=u.MIN_SAFE_INTEGER,x=u.MIN_SAFE_INTEGER,T=0;T<this.curves.length;T++){var S=this.curves[T];S.active&&(S.getBounds(m,c),d.x=Math.min(d.x,m.x),d.y=Math.min(d.y,m.y),g=Math.max(g,m.right),x=Math.max(x,m.bottom))}return d.right=g,d.bottom=x,d},getCurveLengths:function(){if(this.cacheLengths.length===this.curves.length)return this.cacheLengths;for(var d=[],c=0,m=0;m<this.curves.length;m++)c+=this.curves[m].getLength(),d.push(c);return this.cacheLengths=d,d},getCurveAt:function(d){for(var c=d*this.getLength(),m=this.getCurveLengths(),g=0;g<m.length;){if(m[g]>=c)return this.curves[g];g++}return null},getEndPoint:function(d){return d===void 0&&(d=new l),this.curves.length>0?this.curves[this.curves.length-1].getPoint(1,d):d.copy(this.startPoint),d},getLength:function(){var d=this.getCurveLengths();return d[d.length-1]},getPoint:function(d,c){c===void 0&&(c=new l);for(var m=d*this.getLength(),g=this.getCurveLengths(),x=0;x<g.length;){if(g[x]>=m){var T=g[x]-m,S=this.curves[x],P=S.getLength(),L=P===0?0:1-T/P;return S.getPointAt(L,c)}x++}return null},getPoints:function(d,c){!d&&!c&&(d=this.defaultDivisions);for(var m=[],g,x=0;x<this.curves.length;x++){var T=this.curves[x];if(T.active)for(var S=T.getResolution(d),P=T.getPoints(S,c),L=0;L<P.length;L++){var I=P[L];g&&g.equals(I)||(m.push(I),g=I)}}return this.autoClose&&m.length>1&&!m[m.length-1].equals(m[0])&&m.push(m[0]),m},getRandomPoint:function(d){return d===void 0&&(d=new l),this.getPoint(Math.random(),d)},getSpacedPoints:function(d){d===void 0&&(d=40);for(var c=[],m=0;m<=d;m++)c.push(this.getPoint(m/d));return this.autoClose&&c.push(c[0]),c},getStartPoint:function(d){return d===void 0&&(d=new l),d.copy(this.startPoint)},getTangent:function(d,c){c===void 0&&(c=new l);for(var m=d*this.getLength(),g=this.getCurveLengths(),x=0;x<g.length;){if(g[x]>=m){var T=g[x]-m,S=this.curves[x],P=S.getLength(),L=P===0?0:1-T/P;return S.getTangentAt(L,c)}x++}return null},lineTo:function(d,c){d instanceof l?this._tmpVec2B.copy(d):typeof d=="object"?this._tmpVec2B.setFromObject(d):this._tmpVec2B.set(d,c);var m=this.getEndPoint(this._tmpVec2A);return this.add(new r([m.x,m.y,this._tmpVec2B.x,this._tmpVec2B.y]))},splineTo:function(d){return d.unshift(this.getEndPoint()),this.add(new i(d))},moveTo:function(d,c){return d instanceof l?this.add(new e(d.x,d.y)):this.add(new e(d,c))},toJSON:function(){for(var d=[],c=0;c<this.curves.length;c++)d.push(this.curves[c].toJSON());return{type:"Path",x:this.startPoint.x,y:this.startPoint.y,autoClose:this.autoClose,curves:d}},updateArcLengths:function(){this.cacheLengths=[],this.getCurveLengths()},destroy:function(){this.curves.length=0,this.cacheLengths.length=0,this.startPoint=void 0}});n.register("path",function(d,c){return new f(d,c)}),v.exports=f},45893:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),p=t(24882),a=new h({initialize:function(r,e){this.parent=r,this.events=e,e||(this.events=r.events?r.events:r),this.list={},this.values={},this._frozen=!1,!r.hasOwnProperty("sys")&&this.events&&this.events.once(p.DESTROY,this.destroy,this)},get:function(n){var r=this.list;if(Array.isArray(n)){for(var e=[],s=0;s<n.length;s++)e.push(r[n[s]]);return e}else return r[n]},getAll:function(){var n={};for(var r in this.list)this.list.hasOwnProperty(r)&&(n[r]=this.list[r]);return n},query:function(n){var r={};for(var e in this.list)this.list.hasOwnProperty(e)&&e.match(n)&&(r[e]=this.list[e]);return r},set:function(n,r){if(this._frozen)return this;if(typeof n=="string")return this.setValue(n,r);for(var e in n)this.setValue(e,n[e]);return this},inc:function(n,r){if(this._frozen)return this;r===void 0&&(r=1);var e=this.get(n);return e===void 0&&(e=0),this.set(n,e+r),this},toggle:function(n){return this._frozen?this:(this.set(n,!this.get(n)),this)},setValue:function(n,r){if(this._frozen)return this;if(this.has(n))this.values[n]=r;else{var e=this,s=this.list,o=this.events,i=this.parent;Object.defineProperty(this.values,n,{enumerable:!0,configurable:!0,get:function(){return s[n]},set:function(l){if(!e._frozen){var u=s[n];s[n]=l,o.emit(p.CHANGE_DATA,i,n,l,u),o.emit(p.CHANGE_DATA_KEY+n,i,l,u)}}}),s[n]=r,o.emit(p.SET_DATA,i,n,r)}return this},each:function(n,r){for(var e=[this.parent,null,void 0],s=1;s<arguments.length;s++)e.push(arguments[s]);for(var o in this.list)e[1]=o,e[2]=this.list[o],n.apply(r,e);return this},merge:function(n,r){r===void 0&&(r=!0);for(var e in n)n.hasOwnProperty(e)&&(r||!r&&!this.has(e))&&this.setValue(e,n[e]);return this},remove:function(n){if(this._frozen)return this;if(Array.isArray(n))for(var r=0;r<n.length;r++)this.removeValue(n[r]);else return this.removeValue(n);return this},removeValue:function(n){if(this.has(n)){var r=this.list[n];delete this.list[n],delete this.values[n],this.events.emit(p.REMOVE_DATA,this.parent,n,r)}return this},pop:function(n){var r=void 0;return!this._frozen&&this.has(n)&&(r=this.list[n],delete this.list[n],delete this.values[n],this.events.emit(p.REMOVE_DATA,this.parent,n,r)),r},has:function(n){return this.list.hasOwnProperty(n)},setFreeze:function(n){return this._frozen=n,this},reset:function(){for(var n in this.list)delete this.list[n],delete this.values[n];return this._frozen=!1,this},destroy:function(){this.reset(),this.events.off(p.CHANGE_DATA),this.events.off(p.SET_DATA),this.events.off(p.REMOVE_DATA),this.parent=null},freeze:{get:function(){return this._frozen},set:function(n){this._frozen=!!n}},count:{get:function(){var n=0;for(var r in this.list)this.list[r]!==void 0&&n++;return n}}});v.exports=a},63646:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),p=t(45893),a=t(37277),n=t(44594),r=new h({Extends:p,initialize:function(s){p.call(this,s,s.sys.events),this.scene=s,this.systems=s.sys,s.sys.events.once(n.BOOT,this.boot,this),s.sys.events.on(n.START,this.start,this)},boot:function(){this.events=this.systems.events,this.events.once(n.DESTROY,this.destroy,this)},start:function(){this.events.once(n.SHUTDOWN,this.shutdown,this)},shutdown:function(){this.systems.events.off(n.SHUTDOWN,this.shutdown,this)},destroy:function(){p.prototype.destroy.call(this),this.events.off(n.START,this.start,this),this.scene=null,this.systems=null}});a.register("DataManagerPlugin",r,"data"),v.exports=r},10700:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="changedata"},93608:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="changedata-"},60883:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="destroy"},69780:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="removedata"},22166:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="setdata"},24882:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={CHANGE_DATA:t(10700),CHANGE_DATA_KEY:t(93608),DESTROY:t(60883),REMOVE_DATA:t(69780),SET_DATA:t(22166)}},44965:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={DataManager:t(45893),DataManagerPlugin:t(63646),Events:t(24882)}},7098:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(84148),p={flac:!1,aac:!1,audioData:!1,dolby:!1,m4a:!1,mp3:!1,ogg:!1,opus:!1,wav:!1,webAudio:!1,webm:!1};function a(){if(typeof importScripts=="function")return p;p.audioData=!!window.Audio,p.webAudio=!!(window.AudioContext||window.webkitAudioContext);var n=document.createElement("audio"),r=!!n.canPlayType;try{if(r){var e=function(i,l){var u=n.canPlayType("audio/"+i).replace(/^no$/,"");return l?!!(u||n.canPlayType("audio/"+l).replace(/^no$/,"")):!!u};if(p.ogg=e('ogg; codecs="vorbis"'),p.opus=e('ogg; codecs="opus"',"opus"),p.mp3=e("mpeg"),p.wav=e("wav"),p.m4a=e("x-m4a"),p.aac=e("aac"),p.flac=e("flac","x-flac"),p.webm=e('webm; codecs="vorbis"'),n.canPlayType('audio/mp4; codecs="ec-3"')!==""){if(h.edge)p.dolby=!0;else if(h.safari&&h.safariVersion>=9&&/Mac OS X (\d+)_(\d+)/.test(navigator.userAgent)){var s=parseInt(RegExp.$1,10),o=parseInt(RegExp.$2,10);(s===10&&o>=11||s>10)&&(p.dolby=!0)}}}}catch{}return p}v.exports=a()},84148:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(25892),p={chrome:!1,chromeVersion:0,edge:!1,firefox:!1,firefoxVersion:0,ie:!1,ieVersion:0,mobileSafari:!1,opera:!1,safari:!1,safariVersion:0,silk:!1,trident:!1,tridentVersion:0,es2019:!1};function a(){var n=navigator.userAgent;return/Edg\/\d+/.test(n)?(p.edge=!0,p.es2019=!0):/OPR/.test(n)?(p.opera=!0,p.es2019=!0):/Chrome\/(\d+)/.test(n)&&!h.windowsPhone?(p.chrome=!0,p.chromeVersion=parseInt(RegExp.$1,10),p.es2019=p.chromeVersion>69):/Firefox\D+(\d+)/.test(n)?(p.firefox=!0,p.firefoxVersion=parseInt(RegExp.$1,10),p.es2019=p.firefoxVersion>10):/AppleWebKit\/(?!.*CriOS)/.test(n)&&h.iOS?(p.mobileSafari=!0,p.es2019=!0):/MSIE (\d+\.\d+);/.test(n)?(p.ie=!0,p.ieVersion=parseInt(RegExp.$1,10)):/Version\/(\d+\.\d+(\.\d+)?) Safari/.test(n)&&!h.windowsPhone?(p.safari=!0,p.safariVersion=parseInt(RegExp.$1,10),p.es2019=p.safariVersion>10):/Trident\/(\d+\.\d+)(.*)rv:(\d+\.\d+)/.test(n)&&(p.ie=!0,p.trident=!0,p.tridentVersion=parseInt(RegExp.$1,10),p.ieVersion=parseInt(RegExp.$3,10)),/Silk/.test(n)&&(p.silk=!0),p}v.exports=a()},89289:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(27919),p={supportInverseAlpha:!1,supportNewBlendModes:!1};function a(){var e="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAABAQMAAADD8p2OAAAAA1BMVEX/",s="AAAACklEQVQI12NgAAAAAgAB4iG8MwAAAABJRU5ErkJggg==",o=new Image;return o.onload=function(){var i=new Image;i.onload=function(){var l=h.create2D(i,6),u=l.getContext("2d",{willReadFrequently:!0});if(u.globalCompositeOperation="multiply",u.drawImage(o,0,0),u.drawImage(i,2,0),!u.getImageData(2,0,1,1))return!1;var f=u.getImageData(2,0,1,1).data;h.remove(i),p.supportNewBlendModes=f[0]===255&&f[1]===0&&f[2]===0},i.src=e+"/wCKxvRF"+s},o.src=e+"AP804Oa6"+s,!1}function n(){var e=h.create2D(this,2),s=e.getContext("2d",{willReadFrequently:!0});s.fillStyle="rgba(10, 20, 30, 0.5)",s.fillRect(0,0,1,1);var o=s.getImageData(0,0,1,1);if(o===null)return!1;s.putImageData(o,1,0);var i=s.getImageData(1,0,1,1),l=i.data[0]===o.data[0]&&i.data[1]===o.data[1]&&i.data[2]===o.data[2]&&i.data[3]===o.data[3];return h.remove(this),l}function r(){return typeof importScripts!="function"&&document!==void 0&&(p.supportNewBlendModes=a(),p.supportInverseAlpha=n()),p}v.exports=r()},89357:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(25892),p=t(84148),a=t(27919),n={canvas:!1,canvasBitBltShift:null,file:!1,fileSystem:!1,getUserMedia:!0,littleEndian:!1,localStorage:!1,pointerLock:!1,stableSort:!1,support32bit:!1,vibration:!1,webGL:!1,worker:!1};function r(){var s=new ArrayBuffer(4),o=new Uint8Array(s),i=new Uint32Array(s);return o[0]=161,o[1]=178,o[2]=195,o[3]=212,i[0]===3569595041?!0:i[0]===2712847316?!1:null}function e(){if(typeof importScripts=="function")return n;n.canvas=!!window.CanvasRenderingContext2D;try{n.localStorage=!!localStorage.getItem}catch{n.localStorage=!1}n.file=!!window.File&&!!window.FileReader&&!!window.FileList&&!!window.Blob,n.fileSystem=!!window.requestFileSystem;var s=!1,o=function(){if(window.WebGLRenderingContext)try{var i=a.createWebGL(this),l=i.getContext("webgl")||i.getContext("experimental-webgl"),u=a.create2D(this),f=u.getContext("2d",{willReadFrequently:!0}),d=f.createImageData(1,1);return s=d.data instanceof Uint8ClampedArray,a.remove(i),a.remove(u),!!l}catch{return!1}return!1};return n.webGL=o(),n.worker=!!window.Worker,n.pointerLock="pointerLockElement"in document||"mozPointerLockElement"in document||"webkitPointerLockElement"in document,navigator.getUserMedia=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia||navigator.oGetUserMedia,window.URL=window.URL||window.webkitURL||window.mozURL||window.msURL,n.getUserMedia=n.getUserMedia&&!!navigator.getUserMedia&&!!window.URL,p.firefox&&p.firefoxVersion<21&&(n.getUserMedia=!1),!h.iOS&&(p.ie||p.firefox||p.chrome)&&(n.canvasBitBltShift=!0),(p.safari||p.mobileSafari)&&(n.canvasBitBltShift=!1),navigator.vibrate=navigator.vibrate||navigator.webkitVibrate||navigator.mozVibrate||navigator.msVibrate,navigator.vibrate&&(n.vibration=!0),typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint32Array<"u"&&(n.littleEndian=r()),n.support32bit=typeof ArrayBuffer<"u"&&typeof Uint8ClampedArray<"u"&&typeof Int32Array<"u"&&n.littleEndian!==null&&s,n}v.exports=e()},91639:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={available:!1,cancel:"",keyboard:!1,request:""};function t(){if(typeof importScripts=="function")return y;var h,p="Fullscreen",a="FullScreen",n=["request"+p,"request"+a,"webkitRequest"+p,"webkitRequest"+a,"msRequest"+p,"msRequest"+a,"mozRequest"+a,"mozRequest"+p];for(h=0;h<n.length;h++)if(document.documentElement[n[h]]){y.available=!0,y.request=n[h];break}var r=["cancel"+a,"exit"+p,"webkitCancel"+a,"webkitExit"+p,"msCancel"+a,"msExit"+p,"mozCancel"+a,"mozExit"+p];if(y.available){for(h=0;h<r.length;h++)if(document[r[h]]){y.cancel=r[h];break}}return window.Element&&Element.ALLOW_KEYBOARD_INPUT&&!/ Version\/5\.1(?:\.\d+)? Safari\//.test(navigator.userAgent)&&(y.keyboard=!0),Object.defineProperty(y,"active",{get:function(){return!!(document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement)}}),y}v.exports=t()},31784:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(84148),p={gamepads:!1,mspointer:!1,touch:!1,wheelEvent:null};function a(){return typeof importScripts=="function"||(("ontouchstart"in document.documentElement||navigator.maxTouchPoints&&navigator.maxTouchPoints>=1)&&(p.touch=!0),(navigator.msPointerEnabled||navigator.pointerEnabled)&&(p.mspointer=!0),navigator.getGamepads&&(p.gamepads=!0),"onwheel"in window||h.ie&&"WheelEvent"in window?p.wheelEvent="wheel":"onmousewheel"in window?p.wheelEvent="mousewheel":h.firefox&&"MouseScrollEvent"in window&&(p.wheelEvent="DOMMouseScroll")),p}v.exports=a()},25892:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={android:!1,chromeOS:!1,cordova:!1,crosswalk:!1,desktop:!1,ejecta:!1,electron:!1,iOS:!1,iOSVersion:0,iPad:!1,iPhone:!1,kindle:!1,linux:!1,macOS:!1,node:!1,nodeWebkit:!1,pixelRatio:1,webApp:!1,windows:!1,windowsPhone:!1};function t(){if(typeof importScripts=="function")return y;var h=navigator.userAgent;/Windows/.test(h)?y.windows=!0:/Mac OS/.test(h)&&!/like Mac OS/.test(h)?navigator.maxTouchPoints&&navigator.maxTouchPoints>2?(y.iOS=!0,y.iPad=!0,navigator.appVersion.match(/Version\/(\d+)/),y.iOSVersion=parseInt(RegExp.$1,10)):y.macOS=!0:/Android/.test(h)?y.android=!0:/Linux/.test(h)?y.linux=!0:/iP[ao]d|iPhone/i.test(h)?(y.iOS=!0,navigator.appVersion.match(/OS (\d+)/),y.iOSVersion=parseInt(RegExp.$1,10),y.iPhone=h.toLowerCase().indexOf("iphone")!==-1,y.iPad=h.toLowerCase().indexOf("ipad")!==-1):/Kindle/.test(h)||/\bKF[A-Z][A-Z]+/.test(h)||/Silk.*Mobile Safari/.test(h)?y.kindle=!0:/CrOS/.test(h)&&(y.chromeOS=!0),(/Windows Phone/i.test(h)||/IEMobile/i.test(h))&&(y.android=!1,y.iOS=!1,y.macOS=!1,y.windows=!0,y.windowsPhone=!0);var p=/Silk/.test(h);return(y.windows||y.macOS||y.linux&&!p||y.chromeOS)&&(y.desktop=!0),(y.windowsPhone||/Windows NT/i.test(h)&&/Touch/i.test(h))&&(y.desktop=!1),navigator.standalone&&(y.webApp=!0),typeof importScripts!="function"&&(window.cordova!==void 0&&(y.cordova=!0),window.ejecta!==void 0&&(y.ejecta=!0)),typeof process<"u"&&process.versions&&process.versions.node&&(y.node=!0),y.node&&typeof process.versions=="object"&&(y.nodeWebkit=!!process.versions["node-webkit"],y.electron=!!process.versions.electron),/Crosswalk/.test(h)&&(y.crosswalk=!0),y.pixelRatio=window.devicePixelRatio||1,y}v.exports=t()},43267:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(95540),p={h264:!1,hls:!1,mp4:!1,m4v:!1,ogg:!1,vp9:!1,webm:!1,hasRequestVideoFrame:!1};function a(){if(typeof importScripts=="function")return p;var n=document.createElement("video"),r=!!n.canPlayType,e=/^no$/;try{r&&(n.canPlayType('video/ogg; codecs="theora"').replace(e,"")&&(p.ogg=!0),n.canPlayType('video/mp4; codecs="avc1.42E01E"').replace(e,"")&&(p.h264=!0,p.mp4=!0),n.canPlayType("video/x-m4v").replace(e,"")&&(p.m4v=!0),n.canPlayType('video/webm; codecs="vp8, vorbis"').replace(e,"")&&(p.webm=!0),n.canPlayType('video/webm; codecs="vp9"').replace(e,"")&&(p.vp9=!0),n.canPlayType('application/x-mpegURL; codecs="avc1.42E01E"').replace(e,"")&&(p.hls=!0))}catch{}return n.parentNode&&n.parentNode.removeChild(n),p.getVideoURL=function(s){Array.isArray(s)||(s=[s]);for(var o=0;o<s.length;o++){var i=h(s[o],"url",s[o]);if(i.indexOf("blob:")===0)return{url:i,type:""};var l;if(i.indexOf("data:")===0?l=i.split(",")[0].match(/\/(.*?);/):l=i.match(/\.([a-zA-Z0-9]+)($|\?)/),l=h(s[o],"type",l?l[1]:"").toLowerCase(),p[l])return{url:i,type:l}}return null},p}v.exports=a()},82264:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={os:t(25892),browser:t(84148),features:t(89357),input:t(31784),audio:t(7098),video:t(43267),fullscreen:t(91639),canvasFeatures:t(89289)}},89422:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),p=new Float32Array(20),a=new h({initialize:function(){this._matrix=new Float32Array(20),this.alpha=1,this._dirty=!0,this._data=new Float32Array(20),this.reset()},set:function(n){return this._matrix.set(n),this._dirty=!0,this},reset:function(){var n=this._matrix;return n.fill(0),n[0]=1,n[6]=1,n[12]=1,n[18]=1,this.alpha=1,this._dirty=!0,this},getData:function(){var n=this._data;return this._dirty&&(n.set(this._matrix),n[4]/=255,n[9]/=255,n[14]/=255,n[19]/=255,this._dirty=!1),n},brightness:function(n,r){n===void 0&&(n=0),r===void 0&&(r=!1);var e=n;return this.multiply([e,0,0,0,0,0,e,0,0,0,0,0,e,0,0,0,0,0,1,0],r)},saturate:function(n,r){n===void 0&&(n=0),r===void 0&&(r=!1);var e=n*2/3+1,s=(e-1)*-.5;return this.multiply([e,s,s,0,0,s,e,s,0,0,s,s,e,0,0,0,0,0,1,0],r)},desaturate:function(n){return n===void 0&&(n=!1),this.saturate(-1,n)},hue:function(n,r){n===void 0&&(n=0),r===void 0&&(r=!1),n=n/180*Math.PI;var e=Math.cos(n),s=Math.sin(n),o=.213,i=.715,l=.072;return this.multiply([o+e*(1-o)+s*-o,i+e*-i+s*-i,l+e*-l+s*(1-l),0,0,o+e*-o+s*.143,i+e*(1-i)+s*.14,l+e*-l+s*-.283,0,0,o+e*-o+s*-(1-o),i+e*-i+s*i,l+e*(1-l)+s*l,0,0,0,0,0,1,0],r)},grayscale:function(n,r){return n===void 0&&(n=1),r===void 0&&(r=!1),this.saturate(-n,r)},blackWhite:function(n){return n===void 0&&(n=!1),this.multiply(a.BLACK_WHITE,n)},contrast:function(n,r){n===void 0&&(n=0),r===void 0&&(r=!1);var e=n+1,s=-.5*(e-1);return this.multiply([e,0,0,0,s,0,e,0,0,s,0,0,e,0,s,0,0,0,1,0],r)},negative:function(n){return n===void 0&&(n=!1),this.multiply(a.NEGATIVE,n)},desaturateLuminance:function(n){return n===void 0&&(n=!1),this.multiply(a.DESATURATE_LUMINANCE,n)},sepia:function(n){return n===void 0&&(n=!1),this.multiply(a.SEPIA,n)},night:function(n,r){return n===void 0&&(n=.1),r===void 0&&(r=!1),this.multiply([n*-2,-n,0,0,0,-n,0,n,0,0,0,n,n*2,0,0,0,0,0,1,0],r)},lsd:function(n){return n===void 0&&(n=!1),this.multiply(a.LSD,n)},brown:function(n){return n===void 0&&(n=!1),this.multiply(a.BROWN,n)},vintagePinhole:function(n){return n===void 0&&(n=!1),this.multiply(a.VINTAGE,n)},kodachrome:function(n){return n===void 0&&(n=!1),this.multiply(a.KODACHROME,n)},technicolor:function(n){return n===void 0&&(n=!1),this.multiply(a.TECHNICOLOR,n)},polaroid:function(n){return n===void 0&&(n=!1),this.multiply(a.POLAROID,n)},shiftToBGR:function(n){return n===void 0&&(n=!1),this.multiply(a.SHIFT_BGR,n)},multiply:function(n,r){r===void 0&&(r=!1),r||this.reset();var e=this._matrix,s=p;return s.set(e),e.set([s[0]*n[0]+s[1]*n[5]+s[2]*n[10]+s[3]*n[15],s[0]*n[1]+s[1]*n[6]+s[2]*n[11]+s[3]*n[16],s[0]*n[2]+s[1]*n[7]+s[2]*n[12]+s[3]*n[17],s[0]*n[3]+s[1]*n[8]+s[2]*n[13]+s[3]*n[18],s[0]*n[4]+s[1]*n[9]+s[2]*n[14]+s[3]*n[19]+s[4],s[5]*n[0]+s[6]*n[5]+s[7]*n[10]+s[8]*n[15],s[5]*n[1]+s[6]*n[6]+s[7]*n[11]+s[8]*n[16],s[5]*n[2]+s[6]*n[7]+s[7]*n[12]+s[8]*n[17],s[5]*n[3]+s[6]*n[8]+s[7]*n[13]+s[8]*n[18],s[5]*n[4]+s[6]*n[9]+s[7]*n[14]+s[8]*n[19]+s[9],s[10]*n[0]+s[11]*n[5]+s[12]*n[10]+s[13]*n[15],s[10]*n[1]+s[11]*n[6]+s[12]*n[11]+s[13]*n[16],s[10]*n[2]+s[11]*n[7]+s[12]*n[12]+s[13]*n[17],s[10]*n[3]+s[11]*n[8]+s[12]*n[13]+s[13]*n[18],s[10]*n[4]+s[11]*n[9]+s[12]*n[14]+s[13]*n[19]+s[14],s[15]*n[0]+s[16]*n[5]+s[17]*n[10]+s[18]*n[15],s[15]*n[1]+s[16]*n[6]+s[17]*n[11]+s[18]*n[16],s[15]*n[2]+s[16]*n[7]+s[17]*n[12]+s[18]*n[17],s[15]*n[3]+s[16]*n[8]+s[17]*n[13]+s[18]*n[18],s[15]*n[4]+s[16]*n[9]+s[17]*n[14]+s[18]*n[19]+s[19]]),this._dirty=!0,this}});a.BLACK_WHITE=[.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0],a.NEGATIVE=[-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,0],a.DESATURATE_LUMINANCE=[.2764723,.929708,.0938197,0,-37.1,.2764723,.929708,.0938197,0,-37.1,.2764723,.929708,.0938197,0,-37.1,0,0,0,1,0],a.SEPIA=[.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0],a.LSD=[2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0],a.BROWN=[.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0],a.VINTAGE=[.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0],a.KODACHROME=[1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0],a.TECHNICOLOR=[1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0],a.POLAROID=[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0],a.SHIFT_BGR=[0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0],v.exports=a},51767:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),p=t(29747),a=new h({initialize:function(r,e,s){this._rgb=[0,0,0],this.onChangeCallback=p,this.dirty=!1,this.set(r,e,s)},set:function(n,r,e){return n===void 0&&(n=0),r===void 0&&(r=0),e===void 0&&(e=0),this._rgb=[n,r,e],this.onChange(),this},equals:function(n,r,e){var s=this._rgb;return s[0]===n&&s[1]===r&&s[2]===e},onChange:function(){this.dirty=!0;var n=this._rgb;this.onChangeCallback.call(this,n[0],n[1],n[2])},r:{get:function(){return this._rgb[0]},set:function(n){this._rgb[0]=n,this.onChange()}},g:{get:function(){return this._rgb[1]},set:function(n){this._rgb[1]=n,this.onChange()}},b:{get:function(){return this._rgb[2]},set:function(n){this._rgb[2]=n,this.onChange()}},destroy:function(){this.onChangeCallback=null}});v.exports=a},60461:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={TOP_LEFT:0,TOP_CENTER:1,TOP_RIGHT:2,LEFT_TOP:3,LEFT_CENTER:4,LEFT_BOTTOM:5,CENTER:6,RIGHT_TOP:7,RIGHT_CENTER:8,RIGHT_BOTTOM:9,BOTTOM_LEFT:10,BOTTOM_CENTER:11,BOTTOM_RIGHT:12};v.exports=y},54312:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(62235),p=t(35893),a=t(86327),n=t(88417),r=function(e,s,o,i){return o===void 0&&(o=0),i===void 0&&(i=0),n(e,p(s)+o),a(e,h(s)+i),e};v.exports=r},46768:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(62235),p=t(26541),a=t(86327),n=t(385),r=function(e,s,o,i){return o===void 0&&(o=0),i===void 0&&(i=0),n(e,p(s)-o),a(e,h(s)+i),e};v.exports=r},35827:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(62235),p=t(54380),a=t(86327),n=t(40136),r=function(e,s,o,i){return o===void 0&&(o=0),i===void 0&&(i=0),n(e,p(s)+o),a(e,h(s)+i),e};v.exports=r},46871:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(66786),p=t(35893),a=t(7702),n=function(r,e,s,o){return s===void 0&&(s=0),o===void 0&&(o=0),h(r,p(e)+s,a(e)+o),r};v.exports=n},5198:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(7702),p=t(26541),a=t(20786),n=t(385),r=function(e,s,o,i){return o===void 0&&(o=0),i===void 0&&(i=0),n(e,p(s)-o),a(e,h(s)+i),e};v.exports=r},11879:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(60461),p=[];p[h.BOTTOM_CENTER]=t(54312),p[h.BOTTOM_LEFT]=t(46768),p[h.BOTTOM_RIGHT]=t(35827),p[h.CENTER]=t(46871),p[h.LEFT_CENTER]=t(5198),p[h.RIGHT_CENTER]=t(80503),p[h.TOP_CENTER]=t(89698),p[h.TOP_LEFT]=t(922),p[h.TOP_RIGHT]=t(21373),p[h.LEFT_BOTTOM]=p[h.BOTTOM_LEFT],p[h.LEFT_TOP]=p[h.TOP_LEFT],p[h.RIGHT_BOTTOM]=p[h.BOTTOM_RIGHT],p[h.RIGHT_TOP]=p[h.TOP_RIGHT];var a=function(n,r,e,s,o){return p[e](n,r,s,o)};v.exports=a},80503:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(7702),p=t(54380),a=t(20786),n=t(40136),r=function(e,s,o,i){return o===void 0&&(o=0),i===void 0&&(i=0),n(e,p(s)+o),a(e,h(s)+i),e};v.exports=r},89698:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(35893),p=t(17717),a=t(88417),n=t(66737),r=function(e,s,o,i){return o===void 0&&(o=0),i===void 0&&(i=0),a(e,h(s)+o),n(e,p(s)-i),e};v.exports=r},922:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(26541),p=t(17717),a=t(385),n=t(66737),r=function(e,s,o,i){return o===void 0&&(o=0),i===void 0&&(i=0),a(e,h(s)-o),n(e,p(s)-i),e};v.exports=r},21373:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(54380),p=t(17717),a=t(40136),n=t(66737),r=function(e,s,o,i){return o===void 0&&(o=0),i===void 0&&(i=0),a(e,h(s)+o),n(e,p(s)-i),e};v.exports=r},91660:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={BottomCenter:t(54312),BottomLeft:t(46768),BottomRight:t(35827),Center:t(46871),LeftCenter:t(5198),QuickSet:t(11879),RightCenter:t(80503),TopCenter:t(89698),TopLeft:t(922),TopRight:t(21373)}},71926:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(60461),p=t(79291),a={In:t(91660),To:t(16694)};a=p(!1,a,h),v.exports=a},21578:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(62235),p=t(35893),a=t(88417),n=t(66737),r=function(e,s,o,i){return o===void 0&&(o=0),i===void 0&&(i=0),a(e,p(s)+o),n(e,h(s)+i),e};v.exports=r},10210:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(62235),p=t(26541),a=t(385),n=t(66737),r=function(e,s,o,i){return o===void 0&&(o=0),i===void 0&&(i=0),a(e,p(s)-o),n(e,h(s)+i),e};v.exports=r},82341:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(62235),p=t(54380),a=t(40136),n=t(66737),r=function(e,s,o,i){return o===void 0&&(o=0),i===void 0&&(i=0),a(e,p(s)+o),n(e,h(s)+i),e};v.exports=r},87958:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(62235),p=t(26541),a=t(86327),n=t(40136),r=function(e,s,o,i){return o===void 0&&(o=0),i===void 0&&(i=0),n(e,p(s)-o),a(e,h(s)+i),e};v.exports=r},40080:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(7702),p=t(26541),a=t(20786),n=t(40136),r=function(e,s,o,i){return o===void 0&&(o=0),i===void 0&&(i=0),n(e,p(s)-o),a(e,h(s)+i),e};v.exports=r},88466:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(26541),p=t(17717),a=t(40136),n=t(66737),r=function(e,s,o,i){return o===void 0&&(o=0),i===void 0&&(i=0),a(e,h(s)-o),n(e,p(s)-i),e};v.exports=r},38829:(v,y,t)=>{/**
 * @author       samme
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(60461),p=[];p[h.BOTTOM_CENTER]=t(21578),p[h.BOTTOM_LEFT]=t(10210),p[h.BOTTOM_RIGHT]=t(82341),p[h.LEFT_BOTTOM]=t(87958),p[h.LEFT_CENTER]=t(40080),p[h.LEFT_TOP]=t(88466),p[h.RIGHT_BOTTOM]=t(19211),p[h.RIGHT_CENTER]=t(34609),p[h.RIGHT_TOP]=t(48741),p[h.TOP_CENTER]=t(49440),p[h.TOP_LEFT]=t(81288),p[h.TOP_RIGHT]=t(61323);var a=function(n,r,e,s,o){return p[e](n,r,s,o)};v.exports=a},19211:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(62235),p=t(54380),a=t(86327),n=t(385),r=function(e,s,o,i){return o===void 0&&(o=0),i===void 0&&(i=0),n(e,p(s)+o),a(e,h(s)+i),e};v.exports=r},34609:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(7702),p=t(54380),a=t(20786),n=t(385),r=function(e,s,o,i){return o===void 0&&(o=0),i===void 0&&(i=0),n(e,p(s)+o),a(e,h(s)+i),e};v.exports=r},48741:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(54380),p=t(17717),a=t(385),n=t(66737),r=function(e,s,o,i){return o===void 0&&(o=0),i===void 0&&(i=0),a(e,h(s)+o),n(e,p(s)-i),e};v.exports=r},49440:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(35893),p=t(17717),a=t(86327),n=t(88417),r=function(e,s,o,i){return o===void 0&&(o=0),i===void 0&&(i=0),n(e,h(s)+o),a(e,p(s)-i),e};v.exports=r},81288:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(26541),p=t(17717),a=t(86327),n=t(385),r=function(e,s,o,i){return o===void 0&&(o=0),i===void 0&&(i=0),n(e,h(s)-o),a(e,p(s)-i),e};v.exports=r},61323:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(54380),p=t(17717),a=t(86327),n=t(40136),r=function(e,s,o,i){return o===void 0&&(o=0),i===void 0&&(i=0),n(e,h(s)+o),a(e,p(s)-i),e};v.exports=r},16694:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={BottomCenter:t(21578),BottomLeft:t(10210),BottomRight:t(82341),LeftBottom:t(87958),LeftCenter:t(40080),LeftTop:t(88466),QuickSet:t(38829),RightBottom:t(19211),RightCenter:t(34609),RightTop:t(48741),TopCenter:t(49440),TopLeft:t(81288),TopRight:t(61323)}},66786:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(88417),p=t(20786),a=function(n,r,e){return h(n,r),p(n,e)};v.exports=a},62235:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){return t.y+t.height-t.height*t.originY};v.exports=y},72873:(v,y,t)=>{/**
 * @author       samme
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(62235),p=t(26541),a=t(54380),n=t(17717),r=t(87841),e=function(s,o){o===void 0&&(o=new r);var i=p(s),l=n(s);return o.x=i,o.y=l,o.width=a(s)-i,o.height=h(s)-l,o};v.exports=e},35893:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){return t.x-t.width*t.originX+t.width*.5};v.exports=y},7702:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){return t.y-t.height*t.originY+t.height*.5};v.exports=y},26541:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){return t.x-t.width*t.originX};v.exports=y},87431:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){return t.width*t.originX};v.exports=y},46928:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){return t.height*t.originY};v.exports=y},54380:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){return t.x+t.width-t.width*t.originX};v.exports=y},17717:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){return t.y-t.height*t.originY};v.exports=y},86327:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,h){return t.y=h-t.height+t.height*t.originY,t};v.exports=y},88417:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,h){var p=t.width*t.originX;return t.x=h+p-t.width*.5,t};v.exports=y},20786:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,h){var p=t.height*t.originY;return t.y=h+p-t.height*.5,t};v.exports=y},385:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,h){return t.x=h+t.width*t.originX,t};v.exports=y},40136:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,h){return t.x=h-t.width+t.width*t.originX,t};v.exports=y},66737:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,h){return t.y=h+t.height*t.originY,t};v.exports=y},58724:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={CenterOn:t(66786),GetBottom:t(62235),GetBounds:t(72873),GetCenterX:t(35893),GetCenterY:t(7702),GetLeft:t(26541),GetOffsetX:t(87431),GetOffsetY:t(46928),GetRight:t(54380),GetTop:t(17717),SetBottom:t(86327),SetCenterX:t(88417),SetCenterY:t(20786),SetLeft:t(385),SetRight:t(40136),SetTop:t(66737)}},20623:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={setCrisp:function(t){var h=["optimizeSpeed","-moz-crisp-edges","-o-crisp-edges","-webkit-optimize-contrast","optimize-contrast","crisp-edges","pixelated"];return h.forEach(function(p){t.style["image-rendering"]=p}),t.style.msInterpolationMode="nearest-neighbor",t},setBicubic:function(t){return t.style["image-rendering"]="auto",t.style.msInterpolationMode="bicubic",t}};v.exports=y},27919:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(8054),p=t(68703),a=[],n=!1,r=function(){var e=function(m,g,x,T,S){g===void 0&&(g=1),x===void 0&&(x=1),T===void 0&&(T=h.CANVAS),S===void 0&&(S=!1);var P,L=i(T);return L===null?(L={parent:m,canvas:document.createElement("canvas"),type:T},T===h.CANVAS&&a.push(L),P=L.canvas):(L.parent=m,P=L.canvas),S&&(L.parent=P),P.width=g,P.height=x,n&&T===h.CANVAS&&p.disable(P.getContext("2d",{willReadFrequently:!1})),P},s=function(m,g,x){return e(m,g,x,h.CANVAS)},o=function(m,g,x){return e(m,g,x,h.WEBGL)},i=function(m){if(m===void 0&&(m=h.CANVAS),m===h.WEBGL)return null;for(var g=0;g<a.length;g++){var x=a[g];if(!x.parent&&x.type===m)return x}return null},l=function(m){var g=m instanceof HTMLCanvasElement;a.forEach(function(x){(g&&x.canvas===m||!g&&x.parent===m)&&(x.parent=null,x.canvas.width=1,x.canvas.height=1)})},u=function(){var m=0;return a.forEach(function(g){g.parent&&m++}),m},f=function(){return a.length-u()},d=function(){n=!0},c=function(){n=!1};return{create2D:s,create:e,createWebGL:o,disableSmoothing:d,enableSmoothing:c,first:i,free:f,pool:a,remove:l,total:u}};v.exports=r()},68703:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y="",t=function(){var h=function(r){for(var e=["i","webkitI","msI","mozI","oI"],s=0;s<e.length;s++){var o=e[s]+"mageSmoothingEnabled";if(o in r)return o}return null},p=function(r){return y===""&&(y=h(r)),y&&(r[y]=!0),r},a=function(r){return y===""&&(y=h(r)),y&&(r[y]=!1),r},n=function(r){return y!==null?r[y]:null};return{disable:a,enable:p,getPrefix:h,isEnabled:n}};v.exports=t()},65208:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,h){return h===void 0&&(h="none"),t.style.msTouchAction=h,t.style["ms-touch-action"]=h,t.style["touch-action"]=h,t};v.exports=y},91610:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,h){h===void 0&&(h="none");var p=["-webkit-","-khtml-","-moz-","-ms-",""];return p.forEach(function(a){t.style[a+"user-select"]=h}),t.style["-webkit-touch-callout"]=h,t.style["-webkit-tap-highlight-color"]="rgba(0, 0, 0, 0)",t};v.exports=y},26253:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={CanvasInterpolation:t(20623),CanvasPool:t(27919),Smoothing:t(68703),TouchAction:t(65208),UserSelect:t(91610)}},40987:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),p=t(37589),a=t(1e3),n=t(7537),r=t(87837),e=new h({initialize:function(o,i,l,u){o===void 0&&(o=0),i===void 0&&(i=0),l===void 0&&(l=0),u===void 0&&(u=255),this.r=0,this.g=0,this.b=0,this.a=255,this._h=0,this._s=0,this._v=0,this._locked=!1,this.gl=[0,0,0,1],this._color=0,this._color32=0,this._rgba="",this.setTo(o,i,l,u)},transparent:function(){return this._locked=!0,this.red=0,this.green=0,this.blue=0,this.alpha=0,this._locked=!1,this.update(!0)},setTo:function(s,o,i,l,u){return l===void 0&&(l=255),u===void 0&&(u=!0),this._locked=!0,this.red=s,this.green=o,this.blue=i,this.alpha=l,this._locked=!1,this.update(u)},setGLTo:function(s,o,i,l){return l===void 0&&(l=1),this._locked=!0,this.redGL=s,this.greenGL=o,this.blueGL=i,this.alphaGL=l,this._locked=!1,this.update(!0)},setFromRGB:function(s){return this._locked=!0,this.red=s.r,this.green=s.g,this.blue=s.b,s.hasOwnProperty("a")&&(this.alpha=s.a),this._locked=!1,this.update(!0)},setFromHSV:function(s,o,i){return n(s,o,i,this)},update:function(s){if(s===void 0&&(s=!1),this._locked)return this;var o=this.r,i=this.g,l=this.b,u=this.a;return this._color=p(o,i,l),this._color32=a(o,i,l,u),this._rgba="rgba("+o+","+i+","+l+","+u/255+")",s&&r(o,i,l,this),this},updateHSV:function(){var s=this.r,o=this.g,i=this.b;return r(s,o,i,this),this},clone:function(){return new e(this.r,this.g,this.b,this.a)},gray:function(s){return this.setTo(s,s,s)},random:function(s,o){s===void 0&&(s=0),o===void 0&&(o=255);var i=Math.floor(s+Math.random()*(o-s)),l=Math.floor(s+Math.random()*(o-s)),u=Math.floor(s+Math.random()*(o-s));return this.setTo(i,l,u)},randomGray:function(s,o){s===void 0&&(s=0),o===void 0&&(o=255);var i=Math.floor(s+Math.random()*(o-s));return this.setTo(i,i,i)},saturate:function(s){return this.s+=s/100,this},desaturate:function(s){return this.s-=s/100,this},lighten:function(s){return this.v+=s/100,this},darken:function(s){return this.v-=s/100,this},brighten:function(s){var o=this.r,i=this.g,l=this.b;return o=Math.max(0,Math.min(255,o-Math.round(255*-(s/100)))),i=Math.max(0,Math.min(255,i-Math.round(255*-(s/100)))),l=Math.max(0,Math.min(255,l-Math.round(255*-(s/100)))),this.setTo(o,i,l)},color:{get:function(){return this._color}},color32:{get:function(){return this._color32}},rgba:{get:function(){return this._rgba}},redGL:{get:function(){return this.gl[0]},set:function(s){this.gl[0]=Math.min(Math.abs(s),1),this.r=Math.floor(this.gl[0]*255),this.update(!0)}},greenGL:{get:function(){return this.gl[1]},set:function(s){this.gl[1]=Math.min(Math.abs(s),1),this.g=Math.floor(this.gl[1]*255),this.update(!0)}},blueGL:{get:function(){return this.gl[2]},set:function(s){this.gl[2]=Math.min(Math.abs(s),1),this.b=Math.floor(this.gl[2]*255),this.update(!0)}},alphaGL:{get:function(){return this.gl[3]},set:function(s){this.gl[3]=Math.min(Math.abs(s),1),this.a=Math.floor(this.gl[3]*255),this.update()}},red:{get:function(){return this.r},set:function(s){s=Math.floor(Math.abs(s)),this.r=Math.min(s,255),this.gl[0]=s/255,this.update(!0)}},green:{get:function(){return this.g},set:function(s){s=Math.floor(Math.abs(s)),this.g=Math.min(s,255),this.gl[1]=s/255,this.update(!0)}},blue:{get:function(){return this.b},set:function(s){s=Math.floor(Math.abs(s)),this.b=Math.min(s,255),this.gl[2]=s/255,this.update(!0)}},alpha:{get:function(){return this.a},set:function(s){s=Math.floor(Math.abs(s)),this.a=Math.min(s,255),this.gl[3]=s/255,this.update()}},h:{get:function(){return this._h},set:function(s){this._h=s,n(s,this._s,this._v,this)}},s:{get:function(){return this._s},set:function(s){this._s=s,n(this._h,s,this._v,this)}},v:{get:function(){return this._v},set:function(s){this._v=s,n(this._h,this._s,s,this)}}});v.exports=e},92728:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(37589),p=function(a){a===void 0&&(a=1024);var n=[],r=255,e,s=255,o=0,i=0;for(e=0;e<=r;e++)n.push({r:s,g:e,b:i,color:h(s,e,i)});for(o=255,e=r;e>=0;e--)n.push({r:e,g:o,b:i,color:h(e,o,i)});for(s=0,e=0;e<=r;e++,o--)n.push({r:s,g:o,b:e,color:h(s,o,e)});for(o=0,i=255,e=0;e<=r;e++,i--,s++)n.push({r:s,g:o,b:i,color:h(s,o,i)});if(a===1024)return n;var l=[],u=0,f=1024/a;for(e=0;e<a;e++)l.push(n[Math.floor(u)]),u+=f;return l};v.exports=p},91588:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){var h={r:t>>16&255,g:t>>8&255,b:t&255,a:255};return t>16777215&&(h.a=t>>>24),h};v.exports=y},62957:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){var h=t.toString(16);return h.length===1?"0"+h:h};v.exports=y},37589:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,h,p){return t<<16|h<<8|p};v.exports=y},1e3:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,h,p,a){return a<<24|t<<16|h<<8|p};v.exports=y},62183:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(40987),p=t(89528),a=function(n,r,e){var s=e,o=e,i=e;if(r!==0){var l=e<.5?e*(1+r):e+r-e*r,u=2*e-l;s=p(u,l,n+1/3),o=p(u,l,n),i=p(u,l,n-1/3)}var f=new h;return f.setGLTo(s,o,i,1)};v.exports=a},27939:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(7537),p=function(a,n){a===void 0&&(a=1),n===void 0&&(n=1);for(var r=[],e=0;e<=359;e++)r.push(h(e/359,a,n));return r};v.exports=p},7537:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(37589);function p(n,r,e,s){var o=(n+r*6)%6,i=Math.min(o,4-o,1);return Math.round(255*(s-s*e*Math.max(0,i)))}var a=function(n,r,e,s){r===void 0&&(r=1),e===void 0&&(e=1);var o=p(5,n,r,e),i=p(3,n,r,e),l=p(1,n,r,e);return s?s.setTo?s.setTo(o,i,l,s.alpha,!0):(s.r=o,s.g=i,s.b=l,s.color=h(o,i,l),s):{r:o,g:i,b:l,color:h(o,i,l)}};v.exports=a},70238:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(40987),p=function(a){var n=new h;a=a.replace(/^(?:#|0x)?([a-f\d])([a-f\d])([a-f\d])$/i,function(i,l,u,f){return l+l+u+u+f+f});var r=/^(?:#|0x)?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(a);if(r){var e=parseInt(r[1],16),s=parseInt(r[2],16),o=parseInt(r[3],16);n.setTo(e,s,o)}return n};v.exports=p},89528:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,h,p){return p<0&&(p+=1),p>1&&(p-=1),p<.16666666666666666?t+(h-t)*6*p:p<.5?h:p<.6666666666666666?t+(h-t)*(.6666666666666666-p)*6:t};v.exports=y},30100:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(40987),p=t(90664),a=function(n){var r=p(n);return new h(r.r,r.g,r.b,r.a)};v.exports=a},90664:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){return t>16777215?{a:t>>>24,r:t>>16&255,g:t>>8&255,b:t&255}:{a:255,r:t>>16&255,g:t>>8&255,b:t&255}};v.exports=y},13699:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(28915),p=function(r,e,s,o,i,l,u,f){u===void 0&&(u=100),f===void 0&&(f=0);var d=f/u;return{r:h(r,o,d),g:h(e,i,d),b:h(s,l,d)}},a=function(r,e,s,o){return s===void 0&&(s=100),o===void 0&&(o=0),p(r.r,r.g,r.b,e.r,e.g,e.b,s,o)},n=function(r,e,s,o,i,l){return i===void 0&&(i=100),l===void 0&&(l=0),p(r.r,r.g,r.b,e,s,o,i,l)};v.exports={RGBWithRGB:p,ColorWithRGB:n,ColorWithColor:a}},68957:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(40987),p=function(a){return new h(a.r,a.g,a.b,a.a)};v.exports=p},87388:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(40987),p=function(a){var n=new h,r=/^rgba?\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d+(?:\.\d+)?))?\s*\)$/.exec(a.toLowerCase());if(r){var e=parseInt(r[1],10),s=parseInt(r[2],10),o=parseInt(r[3],10),i=r[4]!==void 0?parseFloat(r[4]):1;n.setTo(e,s,o,i*255)}return n};v.exports=p},87837:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,h,p,a){a===void 0&&(a={h:0,s:0,v:0}),t/=255,h/=255,p/=255;var n=Math.min(t,h,p),r=Math.max(t,h,p),e=r-n,s=0,o=r===0?0:e/r,i=r;return r!==n&&(r===t?s=(h-p)/e+(h<p?6:0):r===h?s=(p-t)/e+2:r===p&&(s=(t-h)/e+4),s/=6),a.hasOwnProperty("_h")?(a._h=s,a._s=o,a._v=i):(a.h=s,a.s=o,a.v=i),a};v.exports=y},75723:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(62957),p=function(a,n,r,e,s){return e===void 0&&(e=255),s===void 0&&(s="#"),s==="#"?"#"+((1<<24)+(a<<16)+(n<<8)+r).toString(16).slice(1,7):"0x"+h(e)+h(a)+h(n)+h(r)};v.exports=p},85386:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(30976),p=t(40987),a=function(n,r){return n===void 0&&(n=0),r===void 0&&(r=255),new p(h(n,r),h(n,r),h(n,r))};v.exports=a},80333:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(70238),p=t(30100),a=t(68957),n=t(87388),r=function(e){var s=typeof e;switch(s){case"string":return e.substr(0,3).toLowerCase()==="rgb"?n(e):h(e);case"number":return p(e);case"object":return a(e)}};v.exports=r},3956:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(40987);h.ColorSpectrum=t(92728),h.ColorToRGBA=t(91588),h.ComponentToHex=t(62957),h.GetColor=t(37589),h.GetColor32=t(1e3),h.HexStringToColor=t(70238),h.HSLToColor=t(62183),h.HSVColorWheel=t(27939),h.HSVToRGB=t(7537),h.HueToComponent=t(89528),h.IntegerToColor=t(30100),h.IntegerToRGB=t(90664),h.Interpolate=t(13699),h.ObjectToColor=t(68957),h.RandomRGB=t(85386),h.RGBStringToColor=t(87388),h.RGBToHSV=t(87837),h.RGBToString=t(75723),h.ValueToColor=t(80333),v.exports=h},27460:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={Align:t(71926),BaseShader:t(73894),Bounds:t(58724),Canvas:t(26253),Color:t(3956),ColorMatrix:t(89422),Masks:t(69781),RGB:t(51767)}},6858:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),p=t(39429),a=new h({initialize:function(r,e,s,o,i,l){e||(e=r.sys.make.image({x:s,y:o,key:i,frame:l,add:!1})),this.bitmapMask=e,this.invertAlpha=!1,this.isStencil=!1},setBitmap:function(n){this.bitmapMask=n},preRenderWebGL:function(n,r,e){n.pipelines.BITMAPMASK_PIPELINE.beginMask(this,r,e)},postRenderWebGL:function(n,r,e){n.pipelines.BITMAPMASK_PIPELINE.endMask(this,r,e)},preRenderCanvas:function(){},postRenderCanvas:function(){},destroy:function(){this.bitmapMask=null}});p.register("bitmapMask",function(n,r,e,s,o){return new a(this.scene,n,r,e,s,o)}),v.exports=a},80661:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),p=new h({initialize:function(n,r){this.geometryMask=r,this.invertAlpha=!1,this.isStencil=!0,this.level=0},setShape:function(a){return this.geometryMask=a,this},setInvertAlpha:function(a){return a===void 0&&(a=!0),this.invertAlpha=a,this},preRenderWebGL:function(a,n,r){var e=a.gl;a.flush(),a.maskStack.length===0&&(e.enable(e.STENCIL_TEST),e.clear(e.STENCIL_BUFFER_BIT),a.maskCount=0),a.currentCameraMask.mask!==this&&(a.currentMask.mask=this),a.maskStack.push({mask:this,camera:r}),this.applyStencil(a,r,!0),a.maskCount++},applyStencil:function(a,n,r){var e=a.gl,s=this.geometryMask,o=a.maskCount,i=255;e.colorMask(!1,!1,!1,!1),r?(e.stencilFunc(e.EQUAL,o,i),e.stencilOp(e.KEEP,e.KEEP,e.INCR),o++):(e.stencilFunc(e.EQUAL,o+1,i),e.stencilOp(e.KEEP,e.KEEP,e.DECR)),this.level=o,s.renderWebGL(a,s,n),a.flush(),e.colorMask(!0,!0,!0,!0),e.stencilOp(e.KEEP,e.KEEP,e.KEEP),this.invertAlpha?e.stencilFunc(e.NOTEQUAL,o,i):e.stencilFunc(e.EQUAL,o,i)},postRenderWebGL:function(a){var n=a.gl;a.maskStack.pop(),a.maskCount--,a.flush();var r=a.currentMask;if(a.maskStack.length===0)r.mask=null,n.disable(n.STENCIL_TEST);else{var e=a.maskStack[a.maskStack.length-1];e.mask.applyStencil(a,e.camera,!1),a.currentCameraMask.mask!==e.mask?(r.mask=e.mask,r.camera=e.camera):r.mask=null}},preRenderCanvas:function(a,n,r){var e=this.geometryMask;a.currentContext.save(),e.renderCanvas(a,e,r,null,null,!0),a.currentContext.clip()},postRenderCanvas:function(a){a.currentContext.restore()},destroy:function(){this.geometryMask=null}});v.exports=p},69781:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={BitmapMask:t(6858),GeometryMask:t(80661)}},73894:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),p=new h({initialize:function(n,r,e,s){(!r||r==="")&&(r=["precision mediump float;","uniform vec2 resolution;","varying vec2 fragCoord;","void main () {","    vec2 uv = fragCoord / resolution.xy;","    gl_FragColor = vec4(uv.xyx, 1.0);","}"].join(`
`)),(!e||e==="")&&(e=["precision mediump float;","uniform mat4 uProjectionMatrix;","uniform mat4 uViewMatrix;","uniform vec2 uResolution;","attribute vec2 inPosition;","varying vec2 fragCoord;","varying vec2 outTexCoord;","void main () {","   gl_Position = uProjectionMatrix * uViewMatrix * vec4(inPosition, 1.0, 1.0);","   fragCoord = vec2(inPosition.x, uResolution.y - inPosition.y);","   outTexCoord = vec2(inPosition.x / uResolution.x, fragCoord.y / uResolution.y);","}"].join(`
`)),s===void 0&&(s=null),this.key=n,this.fragmentSrc=r,this.vertexSrc=e,this.uniforms=s}});v.exports=p},40366:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,h){var p;if(h)typeof h=="string"?p=document.getElementById(h):typeof h=="object"&&h.nodeType===1&&(p=h);else if(t.parentElement||h===null)return t;return p||(p=document.body),p.appendChild(t),t};v.exports=y},83719:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(40366),p=function(a){var n=a.config;if(!(!n.parent||!n.domCreateContainer)){var r=document.createElement("div");r.style.cssText=["display: block;","width: "+a.scale.width+"px;","height: "+a.scale.height+"px;","padding: 0; margin: 0;","position: absolute;","overflow: hidden;","pointer-events: "+n.domPointerEvents+";","transform: scale(1);","transform-origin: left top;"].join(" "),a.domContainer=r,h(r,n.parent)}};v.exports=p},57264:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(25892),p=function(a){if(document.readyState==="complete"||document.readyState==="interactive"){a();return}var n=function(){document.removeEventListener("deviceready",n,!0),document.removeEventListener("DOMContentLoaded",n,!0),window.removeEventListener("load",n,!0),a()};document.body?h.cordova?document.addEventListener("deviceready",n,!1):(document.addEventListener("DOMContentLoaded",n,!0),window.addEventListener("load",n,!0)):window.setTimeout(n,20)};v.exports=p},57811:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){if(!t)return window.innerHeight;var h=Math.abs(window.orientation),p={w:0,h:0},a=document.createElement("div");return a.setAttribute("style","position: fixed; height: 100vh; width: 0; top: 0"),document.documentElement.appendChild(a),p.w=h===90?a.offsetHeight:window.innerWidth,p.h=h===90?window.innerWidth:a.offsetHeight,document.documentElement.removeChild(a),a=null,Math.abs(window.orientation)!==90?p.h:p.w};v.exports=y},45818:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(13560),p=function(a,n){var r=window.screen,e=r?r.orientation||r.mozOrientation||r.msOrientation:!1;if(e&&typeof e.type=="string")return e.type;if(typeof e=="string")return e;if(typeof window.orientation=="number")return window.orientation===0||window.orientation===180?h.ORIENTATION.PORTRAIT:h.ORIENTATION.LANDSCAPE;if(window.matchMedia){if(window.matchMedia("(orientation: portrait)").matches)return h.ORIENTATION.PORTRAIT;if(window.matchMedia("(orientation: landscape)").matches)return h.ORIENTATION.LANDSCAPE}else return n>a?h.ORIENTATION.PORTRAIT:h.ORIENTATION.LANDSCAPE};v.exports=p},74403:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){var h;return t!==""&&(typeof t=="string"?h=document.getElementById(t):t&&t.nodeType===1&&(h=t)),h||(h=document.body),h};v.exports=y},56836:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){var h="";try{if(window.DOMParser){var p=new DOMParser;h=p.parseFromString(t,"text/xml")}else h=new ActiveXObject("Microsoft.XMLDOM"),h.loadXML(t)}catch{h=null}return!h||!h.documentElement||h.getElementsByTagName("parsererror").length?null:h};v.exports=y},35846:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){t.parentNode&&t.parentNode.removeChild(t)};v.exports=y},43092:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),p=t(29747),a=new h({initialize:function(){this.isRunning=!1,this.callback=p,this.isSetTimeOut=!1,this.timeOutID=null,this.delay=0;var r=this;this.step=function e(s){r.callback(s),r.isRunning&&(r.timeOutID=window.requestAnimationFrame(e))},this.stepTimeout=function e(){r.isRunning&&(r.timeOutID=window.setTimeout(e,r.delay)),r.callback(window.performance.now())}},start:function(n,r,e){this.isRunning||(this.callback=n,this.isSetTimeOut=r,this.delay=e,this.isRunning=!0,this.timeOutID=r?window.setTimeout(this.stepTimeout,0):window.requestAnimationFrame(this.step))},stop:function(){this.isRunning=!1,this.isSetTimeOut?clearTimeout(this.timeOutID):window.cancelAnimationFrame(this.timeOutID)},destroy:function(){this.stop(),this.callback=p}});v.exports=a},84902:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h={AddToDOM:t(40366),DOMContentLoaded:t(57264),GetInnerHeight:t(57811),GetScreenOrientation:t(45818),GetTarget:t(74403),ParseXML:t(56836),RemoveFromDOM:t(35846),RequestAnimationFrame:t(43092)};v.exports=h},47565:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),p=t(50792),a=t(37277),n=new h({Extends:p,initialize:function(){p.call(this)},shutdown:function(){this.removeAllListeners()},destroy:function(){this.removeAllListeners()}});a.register("EventEmitter",n,"events"),v.exports=n},93055:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={EventEmitter:t(47565)}},20122:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),p=t(72898),a=t(14811),n=new h({Extends:p,initialize:function(e,s){s===void 0&&(s=1),p.call(this,a.BARREL,e),this.amount=s}});v.exports=n},32251:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),p=t(72898),a=t(14811),n=new h({Extends:p,initialize:function(e,s,o,i,l,u,f){o===void 0&&(o=1),i===void 0&&(i=1),l===void 0&&(l=1),u===void 0&&(u=1),f===void 0&&(f=4),p.call(this,a.BLOOM,e),this.steps=f,this.offsetX=o,this.offsetY=i,this.blurStrength=l,this.strength=u,this.glcolor=[1,1,1],s!=null&&(this.color=s)},color:{get:function(){var r=this.glcolor;return(r[0]*255<<16)+(r[1]*255<<8)+(r[2]*255|0)},set:function(r){var e=this.glcolor;e[0]=(r>>16&255)/255,e[1]=(r>>8&255)/255,e[2]=(r&255)/255}}});v.exports=n},9047:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),p=t(72898),a=t(14811),n=new h({Extends:p,initialize:function(e,s,o,i,l,u,f){s===void 0&&(s=0),o===void 0&&(o=2),i===void 0&&(i=2),l===void 0&&(l=1),f===void 0&&(f=4),p.call(this,a.BLUR,e),this.quality=s,this.x=o,this.y=i,this.steps=f,this.strength=l,this.glcolor=[1,1,1],u!=null&&(this.color=u)},color:{get:function(){var r=this.glcolor;return(r[0]*255<<16)+(r[1]*255<<8)+(r[2]*255|0)},set:function(r){var e=this.glcolor;e[0]=(r>>16&255)/255,e[1]=(r>>8&255)/255,e[2]=(r&255)/255}}});v.exports=n},27885:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),p=t(72898),a=t(14811),n=new h({Extends:p,initialize:function(e,s,o,i,l,u,f,d){s===void 0&&(s=.5),o===void 0&&(o=1),i===void 0&&(i=.2),l===void 0&&(l=!1),u===void 0&&(u=1),f===void 0&&(f=1),d===void 0&&(d=1),p.call(this,a.BOKEH,e),this.radius=s,this.amount=o,this.contrast=i,this.isTiltShift=l,this.strength=d,this.blurX=u,this.blurY=f}});v.exports=n},12578:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),p=t(72898),a=t(14811),n=new h({Extends:p,initialize:function(e,s,o,i,l,u){s===void 0&&(s=8),l===void 0&&(l=1),u===void 0&&(u=.005),p.call(this,a.CIRCLE,e),this.scale=l,this.feather=u,this.thickness=s,this.glcolor=[1,.2,.7],this.glcolor2=[1,0,0,.4],o!=null&&(this.color=o),i!=null&&(this.backgroundColor=i)},color:{get:function(){var r=this.glcolor;return(r[0]*255<<16)+(r[1]*255<<8)+(r[2]*255|0)},set:function(r){var e=this.glcolor;e[0]=(r>>16&255)/255,e[1]=(r>>8&255)/255,e[2]=(r&255)/255}},backgroundColor:{get:function(){var r=this.glcolor2;return(r[0]*255<<16)+(r[1]*255<<8)+(r[2]*255|0)},set:function(r){var e=this.glcolor2;e[0]=(r>>16&255)/255,e[1]=(r>>8&255)/255,e[2]=(r&255)/255}},backgroundAlpha:{get:function(){return this.glcolor2[3]},set:function(r){this.glcolor2[3]=r}}});v.exports=n},15802:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),p=t(89422),a=t(14811),n=new h({Extends:p,initialize:function(e){p.call(this),this.type=a.COLOR_MATRIX,this.gameObject=e,this.active=!0},destroy:function(){this.gameObject=null,this._matrix=null,this._data=null}});v.exports=n},72898:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),p=new h({initialize:function(n,r){this.type=n,this.gameObject=r,this.active=!0},setActive:function(a){return this.active=a,this},destroy:function(){this.gameObject=null,this.active=!1}});v.exports=p},44553:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),p=t(72898),a=t(14811),n=new h({Extends:p,initialize:function(e,s,o,i){s===void 0&&(s="__WHITE"),o===void 0&&(o=.005),i===void 0&&(i=.005),p.call(this,a.DISPLACEMENT,e),this.x=o,this.y=i,this.glTexture,this.setTexture(s)},setTexture:function(r){var e=this.gameObject.scene.sys.textures.getFrame(r);return e&&(this.glTexture=e.glTexture),this}});v.exports=n},68531:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),p=t(72898),a=t(14811),n=new h({Extends:p,initialize:function(e,s,o,i,l){o===void 0&&(o=4),i===void 0&&(i=0),l===void 0&&(l=!1),p.call(this,a.GLOW,e),this.outerStrength=o,this.innerStrength=i,this.knockout=l,this.glcolor=[1,1,1,1],s!==void 0&&(this.color=s)},color:{get:function(){var r=this.glcolor;return(r[0]*255<<16)+(r[1]*255<<8)+(r[2]*255|0)},set:function(r){var e=this.glcolor;e[0]=(r>>16&255)/255,e[1]=(r>>8&255)/255,e[2]=(r&255)/255}}});v.exports=n},37102:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),p=t(72898),a=t(14811),n=new h({Extends:p,initialize:function(e,s,o,i,l,u,f,d,c){i===void 0&&(i=.2),l===void 0&&(l=0),u===void 0&&(u=0),f===void 0&&(f=0),d===void 0&&(d=1),c===void 0&&(c=0),p.call(this,a.GRADIENT,e),this.alpha=i,this.size=c,this.fromX=l,this.fromY=u,this.toX=f,this.toY=d,this.glcolor1=[255,0,0],this.glcolor2=[0,255,0],s!=null&&(this.color1=s),o!=null&&(this.color2=o)},color1:{get:function(){var r=this.glcolor1;return(r[0]<<16)+(r[1]<<8)+(r[2]|0)},set:function(r){var e=this.glcolor1;e[0]=r>>16&255,e[1]=r>>8&255,e[2]=r&255}},color2:{get:function(){var r=this.glcolor2;return(r[0]<<16)+(r[1]<<8)+(r[2]|0)},set:function(r){var e=this.glcolor2;e[0]=r>>16&255,e[1]=r>>8&255,e[2]=r&255}}});v.exports=n},86886:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),p=t(72898),a=t(14811),n=new h({Extends:p,initialize:function(e,s){s===void 0&&(s=1),p.call(this,a.PIXELATE,e),this.amount=s}});v.exports=n},92322:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),p=t(72898),a=t(14811),n=new h({Extends:p,initialize:function(e,s,o,i,l,u,f,d){s===void 0&&(s=0),o===void 0&&(o=0),i===void 0&&(i=.1),l===void 0&&(l=1),f===void 0&&(f=6),d===void 0&&(d=1),p.call(this,a.SHADOW,e),this.x=s,this.y=o,this.decay=i,this.power=l,this.glcolor=[0,0,0,1],this.samples=f,this.intensity=d,u!==void 0&&(this.color=u)},color:{get:function(){var r=this.glcolor;return(r[0]*255<<16)+(r[1]*255<<8)+(r[2]*255|0)},set:function(r){var e=this.glcolor;e[0]=(r>>16&255)/255,e[1]=(r>>8&255)/255,e[2]=(r&255)/255}}});v.exports=n},39563:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),p=t(72898),a=t(14811),n=new h({Extends:p,initialize:function(e,s,o,i,l){s===void 0&&(s=.5),o===void 0&&(o=.5),i===void 0&&(i=3),l===void 0&&(l=!1),p.call(this,a.SHINE,e),this.speed=s,this.lineWidth=o,this.gradient=i,this.reveal=l}});v.exports=n},56448:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),p=t(72898),a=t(14811),n=new h({Extends:p,initialize:function(e,s,o,i,l){s===void 0&&(s=.5),o===void 0&&(o=.5),i===void 0&&(i=.5),l===void 0&&(l=.5),p.call(this,a.VIGNETTE,e),this.x=s,this.y=o,this.radius=i,this.strength=l}});v.exports=n},38433:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),p=t(72898),a=t(14811),n=new h({Extends:p,initialize:function(e,s,o,i,l){s===void 0&&(s=.1),o===void 0&&(o=0),i===void 0&&(i=0),l===void 0&&(l=!1),p.call(this,a.WIPE,e),this.progress=0,this.wipeWidth=s,this.direction=o,this.axis=i,this.reveal=l}});v.exports=n},14811:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={GLOW:4,SHADOW:5,PIXELATE:6,VIGNETTE:7,SHINE:8,BLUR:9,GRADIENT:12,BLOOM:13,COLOR_MATRIX:14,CIRCLE:15,BARREL:16,DISPLACEMENT:17,WIPE:18,BOKEH:19};v.exports=y},66064:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(79291),p=t(14811),a={Barrel:t(20122),Controller:t(72898),Bloom:t(32251),Blur:t(9047),Bokeh:t(27885),Circle:t(12578),ColorMatrix:t(15802),Displacement:t(44553),Glow:t(68531),Gradient:t(37102),Pixelate:t(86886),Shadow:t(92322),Shine:t(39563),Vignette:t(56448),Wipe:t(38433)};a=h(!1,a,p),v.exports=a},25305:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(10312),p=t(23568),a=function(n,r,e){r.x=p(e,"x",0),r.y=p(e,"y",0),r.depth=p(e,"depth",0),r.flipX=p(e,"flipX",!1),r.flipY=p(e,"flipY",!1);var s=p(e,"scale",null);typeof s=="number"?r.setScale(s):s!==null&&(r.scaleX=p(s,"x",1),r.scaleY=p(s,"y",1));var o=p(e,"scrollFactor",null);typeof o=="number"?r.setScrollFactor(o):o!==null&&(r.scrollFactorX=p(o,"x",1),r.scrollFactorY=p(o,"y",1)),r.rotation=p(e,"rotation",0);var i=p(e,"angle",null);i!==null&&(r.angle=i),r.alpha=p(e,"alpha",1);var l=p(e,"origin",null);if(typeof l=="number")r.setOrigin(l);else if(l!==null){var u=p(l,"x",.5),f=p(l,"y",.5);r.setOrigin(u,f)}r.blendMode=p(e,"blendMode",h.NORMAL),r.visible=p(e,"visible",!0);var d=p(e,"add",!0);return d&&n.sys.displayList.add(r),r.preUpdate&&n.sys.updateList.add(r),r};v.exports=a},13059:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(23568),p=function(a,n){var r=h(n,"anims",null);if(r===null)return a;if(typeof r=="string")a.anims.play(r);else if(typeof r=="object"){var e=a.anims,s=h(r,"key",void 0);if(s){var o=h(r,"startFrame",void 0),i=h(r,"delay",0),l=h(r,"repeat",0),u=h(r,"repeatDelay",0),f=h(r,"yoyo",!1),d=h(r,"play",!1),c=h(r,"delayedPlay",0),m={key:s,delay:i,repeat:l,repeatDelay:u,yoyo:f,startFrame:o};d?e.play(m):c>0?e.playAfterDelay(m,c):e.load(m)}}return a};v.exports=p},8050:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),p=t(73162),a=t(37277),n=t(51708),r=t(44594),e=t(19186),s=new h({Extends:p,initialize:function(i){p.call(this,i),this.sortChildrenFlag=!1,this.scene=i,this.systems=i.sys,this.events=i.sys.events,this.addCallback=this.addChildCallback,this.removeCallback=this.removeChildCallback,this.events.once(r.BOOT,this.boot,this),this.events.on(r.START,this.start,this)},boot:function(){this.events.once(r.DESTROY,this.destroy,this)},addChildCallback:function(o){o.displayList&&o.displayList!==this&&o.removeFromDisplayList(),o.parentContainer&&o.parentContainer.remove(o),o.displayList||(this.queueDepthSort(),o.displayList=this,o.emit(n.ADDED_TO_SCENE,o,this.scene),this.events.emit(r.ADDED_TO_SCENE,o,this.scene))},removeChildCallback:function(o){this.queueDepthSort(),o.displayList=null,o.emit(n.REMOVED_FROM_SCENE,o,this.scene),this.events.emit(r.REMOVED_FROM_SCENE,o,this.scene)},start:function(){this.events.once(r.SHUTDOWN,this.shutdown,this)},queueDepthSort:function(){this.sortChildrenFlag=!0},depthSort:function(){this.sortChildrenFlag&&(e(this.list,this.sortByDepth),this.sortChildrenFlag=!1)},sortByDepth:function(o,i){return o._depth-i._depth},getChildren:function(){return this.list},shutdown:function(){for(var o=this.list;o.length;)o[0].destroy(!0);this.events.off(r.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.events.off(r.START,this.start,this),this.scene=null,this.systems=null,this.events=null}});a.register("DisplayList",s,"displayList"),v.exports=s},95643:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),p=t(53774),a=t(45893),n=t(50792),r=t(51708),e=t(44594),s=new h({Extends:n,initialize:function(i,l){n.call(this),this.scene=i,this.displayList=null,this.type=l,this.state=0,this.parentContainer=null,this.name="",this.active=!0,this.tabIndex=-1,this.data=null,this.renderFlags=15,this.cameraFilter=0,this.input=null,this.body=null,this.ignoreDestroy=!1,this.on(r.ADDED_TO_SCENE,this.addedToScene,this),this.on(r.REMOVED_FROM_SCENE,this.removedFromScene,this),i.sys.queueDepthSort()},setActive:function(o){return this.active=o,this},setName:function(o){return this.name=o,this},setState:function(o){return this.state=o,this},setDataEnabled:function(){return this.data||(this.data=new a(this)),this},setData:function(o,i){return this.data||(this.data=new a(this)),this.data.set(o,i),this},incData:function(o,i){return this.data||(this.data=new a(this)),this.data.inc(o,i),this},toggleData:function(o){return this.data||(this.data=new a(this)),this.data.toggle(o),this},getData:function(o){return this.data||(this.data=new a(this)),this.data.get(o)},setInteractive:function(o,i,l){return this.scene.sys.input.enable(this,o,i,l),this},disableInteractive:function(o){return o===void 0&&(o=!1),this.scene.sys.input.disable(this,o),this},removeInteractive:function(o){return o===void 0&&(o=!1),this.scene.sys.input.clear(this),o&&this.scene.sys.input.resetCursor(),this.input=void 0,this},addedToScene:function(){},removedFromScene:function(){},update:function(){},toJSON:function(){return p(this)},willRender:function(o){var i=this.displayList&&this.displayList.active?this.displayList.willRender(o):!0;return!(!i||s.RENDER_MASK!==this.renderFlags||this.cameraFilter!==0&&this.cameraFilter&o.id)},getIndexList:function(){for(var o=this,i=this.parentContainer,l=[];i&&(l.unshift(i.getIndex(o)),o=i,i.parentContainer);)i=i.parentContainer;return this.displayList?l.unshift(this.displayList.getIndex(o)):l.unshift(this.scene.sys.displayList.getIndex(o)),l},addToDisplayList:function(o){return o===void 0&&(o=this.scene.sys.displayList),this.displayList&&this.displayList!==o&&this.removeFromDisplayList(),o.exists(this)||(this.displayList=o,o.add(this,!0),o.queueDepthSort(),this.emit(r.ADDED_TO_SCENE,this,this.scene),o.events.emit(e.ADDED_TO_SCENE,this,this.scene)),this},addToUpdateList:function(){return this.scene&&this.preUpdate&&this.scene.sys.updateList.add(this),this},removeFromDisplayList:function(){var o=this.displayList||this.scene.sys.displayList;return o&&o.exists(this)&&(o.remove(this,!0),o.queueDepthSort(),this.displayList=null,this.emit(r.REMOVED_FROM_SCENE,this,this.scene),o.events.emit(e.REMOVED_FROM_SCENE,this,this.scene)),this},removeFromUpdateList:function(){return this.scene&&this.preUpdate&&this.scene.sys.updateList.remove(this),this},getDisplayList:function(){var o=null;return this.parentContainer?o=this.parentContainer.list:this.displayList&&(o=this.displayList.list),o},destroy:function(o){!this.scene||this.ignoreDestroy||(o===void 0&&(o=!1),this.preDestroy&&this.preDestroy.call(this),this.emit(r.DESTROY,this,o),this.removeAllListeners(),this.postPipelines&&this.resetPostPipeline(!0),this.removeFromDisplayList(),this.removeFromUpdateList(),this.input&&(this.scene.sys.input.clear(this),this.input=void 0),this.data&&(this.data.destroy(),this.data=void 0),this.body&&(this.body.destroy(),this.body=void 0),this.preFX&&(this.preFX.destroy(),this.preFX=void 0),this.postFX&&(this.postFX.destroy(),this.postFX=void 0),this.active=!1,this.visible=!1,this.scene=void 0,this.parentContainer=void 0)}});s.RENDER_MASK=15,v.exports=s},44603:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),p=t(37277),a=t(44594),n=new h({initialize:function(e){this.scene=e,this.systems=e.sys,this.events=e.sys.events,this.displayList,this.updateList,this.events.once(a.BOOT,this.boot,this),this.events.on(a.START,this.start,this)},boot:function(){this.displayList=this.systems.displayList,this.updateList=this.systems.updateList,this.events.once(a.DESTROY,this.destroy,this)},start:function(){this.events.once(a.SHUTDOWN,this.shutdown,this)},shutdown:function(){this.events.off(a.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.events.off(a.START,this.start,this),this.scene=null,this.systems=null,this.events=null,this.displayList=null,this.updateList=null}});n.register=function(r,e){n.prototype.hasOwnProperty(r)||(n.prototype[r]=e)},n.remove=function(r){n.prototype.hasOwnProperty(r)&&delete n.prototype[r]},p.register("GameObjectCreator",n,"make"),v.exports=n},39429:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),p=t(37277),a=t(44594),n=new h({initialize:function(e){this.scene=e,this.systems=e.sys,this.events=e.sys.events,this.displayList,this.updateList,this.events.once(a.BOOT,this.boot,this),this.events.on(a.START,this.start,this)},boot:function(){this.displayList=this.systems.displayList,this.updateList=this.systems.updateList,this.events.once(a.DESTROY,this.destroy,this)},start:function(){this.events.once(a.SHUTDOWN,this.shutdown,this)},existing:function(r){return(r.renderCanvas||r.renderWebGL)&&this.displayList.add(r),r.preUpdate&&this.updateList.add(r),r},shutdown:function(){this.events.off(a.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.events.off(a.START,this.start,this),this.scene=null,this.systems=null,this.events=null,this.displayList=null,this.updateList=null}});n.register=function(r,e){n.prototype.hasOwnProperty(r)||(n.prototype[r]=e)},n.remove=function(r){n.prototype.hasOwnProperty(r)&&delete n.prototype[r]},p.register("GameObjectFactory",n,"add"),v.exports=n},91296:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(61340),p=new h,a=new h,n=new h,r={camera:p,sprite:a,calc:n},e=function(s,o,i){var l=p,u=a,f=n;return u.applyITRS(s.x,s.y,s.rotation,s.scaleX,s.scaleY),l.copyFrom(o.matrix),i?(l.multiplyWithOffset(i,-o.scrollX*s.scrollFactorX,-o.scrollY*s.scrollFactorY),u.e=s.x,u.f=s.y):(u.e-=o.scrollX*s.scrollFactorX,u.f-=o.scrollY*s.scrollFactorY),l.multiply(u,f),r};v.exports=e},45027:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),p=t(25774),a=t(37277),n=t(44594),r=new h({Extends:p,initialize:function(s){p.call(this),this.checkQueue=!0,this.scene=s,this.systems=s.sys,s.sys.events.once(n.BOOT,this.boot,this),s.sys.events.on(n.START,this.start,this)},boot:function(){this.systems.events.once(n.DESTROY,this.destroy,this)},start:function(){var e=this.systems.events;e.on(n.PRE_UPDATE,this.update,this),e.on(n.UPDATE,this.sceneUpdate,this),e.once(n.SHUTDOWN,this.shutdown,this)},sceneUpdate:function(e,s){for(var o=this._active,i=o.length,l=0;l<i;l++){var u=o[l];u.active&&u.preUpdate.call(u,e,s)}},shutdown:function(){for(var e=this._active.length;e--;)this._active[e].destroy(!0);for(e=this._pending.length;e--;)this._pending[e].destroy(!0);for(e=this._destroy.length;e--;)this._destroy[e].destroy(!0);this._toProcess=0,this._pending=[],this._active=[],this._destroy=[],this.removeAllListeners();var s=this.systems.events;s.off(n.PRE_UPDATE,this.update,this),s.off(n.UPDATE,this.sceneUpdate,this),s.off(n.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.systems.events.off(n.START,this.start,this),this.scene=null,this.systems=null}});a.register("UpdateList",r,"updateList"),v.exports=r},3217:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,h,p,a,n,r,e,s,o,i,l,u,f,d,c){var m=p.x-h.displayOriginX+n,g=p.y-h.displayOriginY+r,x=m+p.w,T=g+p.h,S=e.a,P=e.b,L=e.c,I=e.d,O=e.e,M=e.f,w=m*S+g*L+O,D=m*P+g*I+M,U=m*S+T*L+O,Y=m*P+T*I+M,H=x*S+T*L+O,X=x*P+T*I+M,G=x*S+g*L+O,z=x*P+g*I+M;s&&(w=Math.round(w),D=Math.round(D),U=Math.round(U),Y=Math.round(Y),H=Math.round(H),X=Math.round(X),G=Math.round(G),z=Math.round(z)),t.batchQuad(h,w,D,U,Y,H,X,G,z,a.u0,a.v0,a.u1,a.v1,o,i,l,u,f,d,c)};v.exports=y},53048:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,h,p,a){if(p===void 0&&(p=!1),a===void 0)return a={local:{x:0,y:0,width:0,height:0},global:{x:0,y:0,width:0,height:0},lines:{shortest:0,longest:0,lengths:null,height:0},wrappedText:"",words:[],characters:[],scaleX:0,scaleY:0},a;var n=t.text,r=n.length,e=t.maxWidth,s=t.wordWrapCharCode,o=Number.MAX_VALUE,i=Number.MAX_VALUE,l=0,u=0,f=t.fontData.chars,d=t.fontData.lineHeight,c=t.letterSpacing,m=t.lineSpacing,g=0,x=0,T=0,S=null,P=t._align,L=0,I=0,O=t.fontSize/t.fontData.size,M=O*t.scaleX,w=O*t.scaleY,D=null,U=0,Y=[],H=Number.MAX_VALUE,X=0,G=0,z=0,b,N,W,K=[],J=[],j=null,Z=function(Ne,cr){for(var vr=0,Ua=0;Ua<Ne.length;Ua++){var Id=Ne.charCodeAt(Ua),gh=cr.chars[Id];gh&&(vr+=gh.xAdvance)}return vr*M};if(e>0){W=n.split(`
`);var q=[];for(b=0;b<W.length;b++){var _=W[b],tt="",et="",ot="",it="";for(N=0;N<_.length;N++)if(T=_.charCodeAt(N),tt+=_[N],T===s||N===_.length-1){it=ot+tt;var lt=Z(it,t.fontData);lt<=e?ot=it:(et+=(et?`
`:"")+ot,ot=tt),tt=""}et+=(et?`
`:"")+ot,q.push(et)}n=q.join(`
`);var vt,xt=0,yt=[];for(b=0;b<K.length;b++){var nt=K[b],dt=nt.x,ct=nt.x+nt.w;if(dt===0&&(xt=0,vt=null),vt){var Rt=dt-(vt.x+vt.w);xt=dt-(Rt+vt.w),vt=null}var It=dt-xt,ne=ct-xt;It>e||ne>e?(yt.push(nt.i-1),nt.cr?(yt.push(nt.i+nt.word.length),xt=0,vt=null):vt=nt):nt.cr&&(yt.push(nt.i+nt.word.length),xt=0,vt=null)}var ee=function(Ne,cr,vr){return Ne.substr(0,cr)+vr+Ne.substr(cr+1)};for(b=yt.length-1;b>=0;b--)yt[b]>-1&&(n=ee(n,yt[b],`
`));a.wrappedText=n,r=n.length,K=[],j=null}var le=0;for(b=0;b<r;b++){if(T=n.charCodeAt(b),T===10){j!==null&&(K.push({word:j.word,i:j.i,x:j.x*M,y:j.y*w,w:j.w*M,h:j.h*w}),j=null),D=null,Y[G]=z,z>X&&(X=z),z<H&&(H=z),G++,z=0,g=0,x=(d+m)*G;continue}if(S=f[T],!!S){if(L=g,I=x,D!==null){var Zt=S.kerning[U];L+=Zt!==void 0?Zt:0}o>L&&(o=L),i>I&&(i=I);var fe=L+S.xAdvance,Gt=I+d;l<fe&&(l=fe),u<Gt&&(u=Gt);var de=S.xOffset+S.xAdvance+(Zt!==void 0?Zt:0);T===s?j!==null&&(K.push({word:j.word,i:j.i,x:j.x*M,y:j.y*w,w:j.w*M,h:j.h*w}),j=null):(j===null&&(j={word:"",i:le,x:g,y:x,w:0,h:d}),j.word=j.word.concat(n[b]),j.w+=de),J.push({i:le,idx:b,char:n[b],code:T,x:(S.xOffset+L)*O,y:(S.yOffset+x)*O,w:S.width*O,h:S.height*O,t:x*O,r:fe*O,b:d*O,line:G,glyph:S}),g+=S.xAdvance+c+(Zt!==void 0?Zt:0),D=S,U=T,z=fe*O,le++}}if(j!==null&&K.push({word:j.word,i:j.i,x:j.x*M,y:j.y*w,w:j.w*M,h:j.h*w}),Y[G]=z,z>X&&(X=z),z<H&&(H=z),P>0)for(var ae=0;ae<J.length;ae++){var me=J[ae];if(P===1){var Ke=(X-Y[me.line])/2;me.x+=Ke,me.r+=Ke}else if(P===2){var Je=X-Y[me.line];me.x+=Je,me.r+=Je}}var ce=a.local,ie=a.global;return W=a.lines,ce.x=o*O,ce.y=i*O,ce.width=l*O,ce.height=u*O,ie.x=t.x-t._displayOriginX+o*M,ie.y=t.y-t._displayOriginY+i*w,ie.width=l*M,ie.height=u*w,W.shortest=H,W.longest=X,W.lengths=Y,h&&(ce.x=Math.ceil(ce.x),ce.y=Math.ceil(ce.y),ce.width=Math.ceil(ce.width),ce.height=Math.ceil(ce.height),ie.x=Math.ceil(ie.x),ie.y=Math.ceil(ie.y),ie.width=Math.ceil(ie.width),ie.height=Math.ceil(ie.height),W.shortest=Math.ceil(H),W.longest=Math.ceil(X)),p&&(t._displayOriginX=t.originX*ce.width,t._displayOriginY=t.originY*ce.height,ie.x=t.x-t._displayOriginX*t.scaleX,ie.y=t.y-t._displayOriginY*t.scaleY,h&&(ie.x=Math.ceil(ie.x),ie.y=Math.ceil(ie.y))),a.words=K,a.characters=J,a.lines.height=d,a.scale=O,a.scaleX=t.scaleX,a.scaleY=t.scaleY,a};v.exports=y},61327:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(21859),p=function(a,n,r,e,s,o,i){var l=a.sys.textures.get(r),u=l.get(e),f=a.sys.cache.xml.get(s);if(u&&f){var d=h(f,u,o,i,l);return a.sys.cache.bitmapFont.add(n,{data:d,texture:r,frame:e,fromAtlas:!0}),!0}else return!1};v.exports=p},6925:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(35154),p=function(a,n){var r=n.width,e=n.height,s=Math.floor(r/2),o=Math.floor(e/2),i=h(n,"chars","");if(i!==""){var l=h(n,"image",""),u=a.sys.textures.getFrame(l),f=u.cutX,d=u.cutY,c=u.source.width,m=u.source.height,g=h(n,"offset.x",0),x=h(n,"offset.y",0),T=h(n,"spacing.x",0),S=h(n,"spacing.y",0),P=h(n,"lineSpacing",0),L=h(n,"charsPerRow",null);L===null&&(L=c/r,L>i.length&&(L=i.length));for(var I=g,O=x,M={retroFont:!0,font:l,size:r,lineHeight:e+P,chars:{}},w=0,D=0;D<i.length;D++){var U=i.charCodeAt(D),Y=(f+I)/c,H=(d+O)/m,X=(f+I+r)/c,G=(d+O+e)/m;M.chars[U]={x:I,y:O,width:r,height:e,centerX:s,centerY:o,xOffset:0,yOffset:0,xAdvance:r,data:{},kerning:{},u0:Y,v0:H,u1:X,v1:G},w++,w===L?(w=0,I=g,O+=e+S):I+=r+T}var z={data:M,frame:null,texture:l};return z}};v.exports=p},21859:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function y(h,p){return parseInt(h.getAttribute(p),10)}var t=function(h,p,a,n,r){a===void 0&&(a=0),n===void 0&&(n=0);var e=p.cutX,s=p.cutY,o=p.source.width,i=p.source.height,l=p.sourceIndex,u={},f=h.getElementsByTagName("info")[0],d=h.getElementsByTagName("common")[0];u.font=f.getAttribute("face"),u.size=y(f,"size"),u.lineHeight=y(d,"lineHeight")+n,u.chars={};var c=h.getElementsByTagName("char"),m=p!==void 0&&p.trimmed;if(m)var g=p.height,x=p.width;for(var T=0;T<c.length;T++){var S=c[T],P=y(S,"id"),L=String.fromCharCode(P),I=y(S,"x"),O=y(S,"y"),M=y(S,"width"),w=y(S,"height");m&&(I<x&&(x=I),O<g&&(g=O)),m&&g!==0&&x!==0&&(I-=p.x,O-=p.y);var D=(e+I)/o,U=(s+O)/i,Y=(e+I+M)/o,H=(s+O+w)/i;if(u.chars[P]={x:I,y:O,width:M,height:w,centerX:Math.floor(M/2),centerY:Math.floor(w/2),xOffset:y(S,"xoffset"),yOffset:y(S,"yoffset"),xAdvance:y(S,"xadvance")+a,data:{},kerning:{},u0:D,v0:U,u1:Y,v1:H},r&&M!==0&&w!==0){var X=r.add(L,l,I,O,M,w);X&&X.setUVs(M,w,D,U,Y,H)}}var G=h.getElementsByTagName("kerning");for(T=0;T<G.length;T++){var z=G[T],b=y(z,"first"),N=y(z,"second"),W=y(z,"amount");u.chars[N].kerning[b]=W}return u};v.exports=t},196:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(87662),p=t(79291),a={Parse:t(6925)};a=p(!1,a,h),v.exports=a},87662:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={TEXT_SET1:" !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~",TEXT_SET2:` !"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ`,TEXT_SET3:"ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789 ",TEXT_SET4:"ABCDEFGHIJKLMNOPQRSTUVWXYZ 0123456789",TEXT_SET5:"ABCDEFGHIJKLMNOPQRSTUVWXYZ.,/() '!?-*:0123456789",TEXT_SET6:`ABCDEFGHIJKLMNOPQRSTUVWXYZ!?:;0123456789"(),-.' `,TEXT_SET7:`AGMSY+:4BHNTZ!;5CIOU.?06DJPV,(17EKQW")28FLRX-'39`,TEXT_SET8:"0123456789 .ABCDEFGHIJKLMNOPQRSTUVWXYZ",TEXT_SET9:`ABCDEFGHIJKLMNOPQRSTUVWXYZ()-0123456789.:,'"?!`,TEXT_SET10:"ABCDEFGHIJKLMNOPQRSTUVWXYZ",TEXT_SET11:`ABCDEFGHIJKLMNOPQRSTUVWXYZ.,"-+!?()':;0123456789`};v.exports=y},2638:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(22186),p=t(83419),a=t(12310),n=new p({Extends:h,Mixins:[a],initialize:function(e,s,o,i,l,u,f){h.call(this,e,s,o,i,l,u,f),this.type="DynamicBitmapText",this.scrollX=0,this.scrollY=0,this.cropWidth=0,this.cropHeight=0,this.displayCallback,this.callbackData={parent:this,color:0,tint:{topLeft:0,topRight:0,bottomLeft:0,bottomRight:0},index:0,charCode:0,x:0,y:0,scale:0,rotation:0,data:0}},setSize:function(r,e){return this.cropWidth=r,this.cropHeight=e,this},setDisplayCallback:function(r){return this.displayCallback=r,this},setScrollX:function(r){return this.scrollX=r,this},setScrollY:function(r){return this.scrollY=r,this}});v.exports=n},86741:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(20926),p=function(a,n,r,e){var s=n._text,o=s.length,i=a.currentContext;if(!(o===0||!h(a,i,n,r,e))){r.addToRenderList(n);var l=n.fromAtlas?n.frame:n.texture.frames.__BASE,u=n.displayCallback,f=n.callbackData,d=n.fontData.chars,c=n.fontData.lineHeight,m=n._letterSpacing,g=0,x=0,T=0,S=null,P=0,L=0,I=0,O=0,M=0,w=0,D=null,U=0,Y=n.frame.source.image,H=l.cutX,X=l.cutY,G=0,z=0,b=n._fontSize/n.fontData.size,N=n._align,W=0,K=0;n.getTextBounds(!1);var J=n._bounds.lines;N===1?K=(J.longest-J.lengths[0])/2:N===2&&(K=J.longest-J.lengths[0]),i.translate(-n.displayOriginX,-n.displayOriginY);var j=r.roundPixels;n.cropWidth>0&&n.cropHeight>0&&(i.beginPath(),i.rect(0,0,n.cropWidth,n.cropHeight),i.clip());for(var Z=0;Z<o;Z++){if(z=b,G=0,T=s.charCodeAt(Z),T===10){W++,N===1?K=(J.longest-J.lengths[W])/2:N===2&&(K=J.longest-J.lengths[W]),g=0,x+=c,D=null;continue}if(S=d[T],!!S){if(P=H+S.x,L=X+S.y,I=S.width,O=S.height,M=S.xOffset+g-n.scrollX,w=S.yOffset+x-n.scrollY,D!==null){var q=S.kerning[U];M+=q!==void 0?q:0}if(u){f.index=Z,f.charCode=T,f.x=M,f.y=w,f.scale=z,f.rotation=G,f.data=S.data;var _=u(f);M=_.x,w=_.y,z=_.scale,G=_.rotation}M*=z,w*=z,M+=K,g+=S.xAdvance+m+(q!==void 0?q:0),D=S,U=T,!(I===0||O===0||T===32)&&(j&&(M=Math.round(M),w=Math.round(w)),i.save(),i.translate(M,w),i.rotate(G),i.scale(z,z),i.drawImage(Y,P,L,I,O,0,0,I,O),i.restore())}}i.restore()}};v.exports=p},11164:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(2638),p=t(25305),a=t(44603),n=t(23568);a.register("dynamicBitmapText",function(r,e){r===void 0&&(r={});var s=n(r,"font",""),o=n(r,"text",""),i=n(r,"size",!1),l=new h(this.scene,0,0,s,o,i);return e!==void 0&&(r.add=e),p(this.scene,l,r),l})},72566:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(2638),p=t(39429);p.register("dynamicBitmapText",function(a,n,r,e,s){return this.displayList.add(new h(this.scene,a,n,r,e,s))})},12310:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(29747),p=h,a=h;p=t(73482),a=t(86741),v.exports={renderWebGL:p,renderCanvas:a}},73482:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(91296),p=t(61340),a=t(70554),n=new p,r=function(e,s,o,i){var l=s.text,u=l.length;if(u!==0){o.addToRenderList(s);var f=e.pipelines.set(s.pipeline,s),d=h(s,o,i);e.pipelines.preBatch(s);var c=d.sprite,m=d.calc,g=n,x=s.cropWidth>0||s.cropHeight>0;x&&(f.flush(),e.pushScissor(m.tx,m.ty,s.cropWidth*m.scaleX,s.cropHeight*m.scaleY));var T=s.frame,S=T.glTexture,P=s.tintFill,L=a.getTintAppendFloatAlpha(s.tintTopLeft,o.alpha*s._alphaTL),I=a.getTintAppendFloatAlpha(s.tintTopRight,o.alpha*s._alphaTR),O=a.getTintAppendFloatAlpha(s.tintBottomLeft,o.alpha*s._alphaBL),M=a.getTintAppendFloatAlpha(s.tintBottomRight,o.alpha*s._alphaBR),w=f.setGameObject(s),D=0,U=0,Y=0,H=0,X=s.letterSpacing,G,z=0,b=0,N,W=s.scrollX,K=s.scrollY,J=s.fontData,j=J.chars,Z=J.lineHeight,q=s.fontSize/J.size,_=0,tt=s._align,et=0,ot=0,it=s.getTextBounds(!1);s.maxWidth>0&&(l=it.wrappedText,u=l.length);var lt=s._bounds.lines;tt===1?ot=(lt.longest-lt.lengths[0])/2:tt===2&&(ot=lt.longest-lt.lengths[0]);for(var vt=o.roundPixels,xt=s.displayCallback,yt=s.callbackData,nt=0;nt<u;nt++){if(Y=l.charCodeAt(nt),Y===10){et++,tt===1?ot=(lt.longest-lt.lengths[et])/2:tt===2&&(ot=lt.longest-lt.lengths[et]),D=0,U+=Z,N=null;continue}if(G=j[Y],!!G){z=G.width,b=G.height;var dt=G.xOffset+D-W,ct=G.yOffset+U-K;if(N!==null){var Rt=G.kerning[H]||0;dt+=Rt,D+=Rt}if(D+=G.xAdvance+X,N=G,H=Y,!(z===0||b===0||Y===32)){if(q=s.fontSize/s.fontData.size,_=0,xt){yt.color=0,yt.tint.topLeft=L,yt.tint.topRight=I,yt.tint.bottomLeft=O,yt.tint.bottomRight=M,yt.index=nt,yt.charCode=Y,yt.x=dt,yt.y=ct,yt.scale=q,yt.rotation=_,yt.data=G.data;var It=xt(yt);dt=It.x,ct=It.y,q=It.scale,_=It.rotation,It.color?(L=It.color,I=It.color,O=It.color,M=It.color):(L=It.tint.topLeft,I=It.tint.topRight,O=It.tint.bottomLeft,M=It.tint.bottomRight),L=a.getTintAppendFloatAlpha(L,o.alpha*s._alphaTL),I=a.getTintAppendFloatAlpha(I,o.alpha*s._alphaTR),O=a.getTintAppendFloatAlpha(O,o.alpha*s._alphaBL),M=a.getTintAppendFloatAlpha(M,o.alpha*s._alphaBR)}dt*=q,ct*=q,dt-=s.displayOriginX,ct-=s.displayOriginY,dt+=ot,g.applyITRS(dt,ct,_,q,q),m.multiply(g,c);var ne=G.u0,ee=G.v0,le=G.u1,Zt=G.v1,fe=z,Gt=b,de=c.e,ae=c.f,me=Gt*c.c+c.e,Ke=Gt*c.d+c.f,Je=fe*c.a+Gt*c.c+c.e,ce=fe*c.b+Gt*c.d+c.f,ie=fe*c.a+c.e,Ne=fe*c.b+c.f;vt&&(de=Math.round(de),ae=Math.round(ae),me=Math.round(me),Ke=Math.round(Ke),Je=Math.round(Je),ce=Math.round(ce),ie=Math.round(ie),Ne=Math.round(Ne)),f.shouldFlush(6)&&(f.flush(),w=f.setGameObject(s)),f.batchQuad(s,de,ae,me,Ke,Je,ce,ie,Ne,ne,ee,le,Zt,L,I,O,M,P,S,w)}}}x&&(f.flush(),e.popScissor()),e.pipelines.postBatch(s)}};v.exports=r},22186:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),p=t(45319),a=t(31401),n=t(95643),r=t(53048),e=t(61327),s=t(21859),o=t(87841),i=t(18658),l=new h({Extends:n,Mixins:[a.Alpha,a.BlendMode,a.Depth,a.GetBounds,a.Mask,a.Origin,a.Pipeline,a.PostPipeline,a.ScrollFactor,a.Texture,a.Tint,a.Transform,a.Visible,i],initialize:function(f,d,c,m,g,x,T){g===void 0&&(g=""),T===void 0&&(T=0),n.call(this,f,"BitmapText"),this.font=m;var S=this.scene.sys.cache.bitmapFont.get(m);if(!S)throw new Error("Invalid BitmapText key: "+m);this.fontData=S.data,this._text="",this._fontSize=x||this.fontData.size,this._letterSpacing=0,this._lineSpacing=0,this._align=T,this._bounds=r(),this._dirty=!0,this._maxWidth=0,this.wordWrapCharCode=32,this.charColors=[],this.dropShadowX=0,this.dropShadowY=0,this.dropShadowColor=0,this.dropShadowAlpha=.5,this.fromAtlas=S.fromAtlas,this.setTexture(S.texture,S.frame),this.setPosition(d,c),this.setOrigin(0,0),this.initPipeline(),this.initPostPipeline(),this.setText(g)},setLeftAlign:function(){return this._align=l.ALIGN_LEFT,this._dirty=!0,this},setCenterAlign:function(){return this._align=l.ALIGN_CENTER,this._dirty=!0,this},setRightAlign:function(){return this._align=l.ALIGN_RIGHT,this._dirty=!0,this},setFontSize:function(u){return this._fontSize=u,this._dirty=!0,this},setLetterSpacing:function(u){return u===void 0&&(u=0),this._letterSpacing=u,this._dirty=!0,this},setLineSpacing:function(u){return u===void 0&&(u=0),this.lineSpacing=u,this},setText:function(u){return!u&&u!==0&&(u=""),Array.isArray(u)&&(u=u.join(`
`)),u!==this.text&&(this._text=u.toString(),this._dirty=!0,this.updateDisplayOrigin()),this},setDropShadow:function(u,f,d,c){return u===void 0&&(u=0),f===void 0&&(f=0),d===void 0&&(d=0),c===void 0&&(c=.5),this.dropShadowX=u,this.dropShadowY=f,this.dropShadowColor=d,this.dropShadowAlpha=c,this},setCharacterTint:function(u,f,d,c,m,g,x){u===void 0&&(u=0),f===void 0&&(f=1),d===void 0&&(d=!1),c===void 0&&(c=-1),m===void 0&&(m=c,g=c,x=c);var T=this.text.length;f===-1&&(f=T),u<0&&(u=T+u),u=p(u,0,T-1);for(var S=p(u+f,u,T),P=this.charColors,L=u;L<S;L++){var I=P[L];if(c===-1)P[L]=null;else{var O=d?1:0;I?(I.tintEffect=O,I.tintTL=c,I.tintTR=m,I.tintBL=g,I.tintBR=x):P[L]={tintEffect:O,tintTL:c,tintTR:m,tintBL:g,tintBR:x}}}return this},setWordTint:function(u,f,d,c,m,g,x){f===void 0&&(f=1);for(var T=this.getTextBounds(),S=T.words,P=typeof u=="number",L=0,I=0;I<S.length;I++){var O=S[I];if((P&&I===u||!P&&O.word===u)&&(this.setCharacterTint(O.i,O.word.length,d,c,m,g,x),L++,L===f))return this}return this},getTextBounds:function(u){var f=this._bounds;return(this._dirty||u||this.scaleX!==f.scaleX||this.scaleY!==f.scaleY)&&(r(this,u,!0,f),this._dirty=!1),f},getCharacterAt:function(u,f,d){for(var c=this.getLocalPoint(u,f,null,d),m=this.getTextBounds(),g=m.characters,x=new o,T=0;T<g.length;T++){var S=g[T];if(x.setTo(S.x,S.t,S.r-S.x,S.b),x.contains(c.x,c.y))return S}return null},updateDisplayOrigin:function(){return this._dirty=!0,this.getTextBounds(!1),this},setFont:function(u,f,d){f===void 0&&(f=this._fontSize),d===void 0&&(d=this._align);var c=this.scene.sys.cache.bitmapFont.get(u);return c&&(this.font=u,this.fontData=c.data,this._fontSize=f,this._align=d,this.fromAtlas=c.fromAtlas===!0,this.setTexture(c.texture,c.frame),r(this,!1,!0,this._bounds)),this},setMaxWidth:function(u,f){return this._maxWidth=u,this._dirty=!0,f!==void 0&&(this.wordWrapCharCode=f),this},align:{set:function(u){this._align=u,this._dirty=!0},get:function(){return this._align}},text:{set:function(u){this.setText(u)},get:function(){return this._text}},fontSize:{set:function(u){this._fontSize=u,this._dirty=!0},get:function(){return this._fontSize}},letterSpacing:{set:function(u){this._letterSpacing=u,this._dirty=!0},get:function(){return this._letterSpacing}},lineSpacing:{set:function(u){this._lineSpacing=u,this._dirty=!0},get:function(){return this._lineSpacing}},maxWidth:{set:function(u){this._maxWidth=u,this._dirty=!0},get:function(){return this._maxWidth}},width:{get:function(){return this.getTextBounds(!1),this._bounds.global.width}},height:{get:function(){return this.getTextBounds(!1),this._bounds.global.height}},displayWidth:{get:function(){return this.width}},displayHeight:{get:function(){return this.height}},toJSON:function(){var u=a.ToJSON(this),f={font:this.font,text:this.text,fontSize:this.fontSize,letterSpacing:this.letterSpacing,lineSpacing:this.lineSpacing,align:this.align};return u.data=f,u},preDestroy:function(){this.charColors.length=0,this._bounds=null,this.fontData=null}});l.ALIGN_LEFT=0,l.ALIGN_CENTER=1,l.ALIGN_RIGHT=2,l.ParseFromAtlas=e,l.ParseXMLBitmapFont=s,v.exports=l},37289:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(20926),p=function(a,n,r,e){var s=n._text,o=s.length,i=a.currentContext;if(!(o===0||!h(a,i,n,r,e))){r.addToRenderList(n);var l=n.fromAtlas?n.frame:n.texture.frames.__BASE,u=n.fontData.chars,f=n.fontData.lineHeight,d=n._letterSpacing,c=n._lineSpacing,m=0,g=0,x=0,T=null,S=0,P=0,L=0,I=0,O=0,M=0,w=null,D=0,U=l.source.image,Y=l.cutX,H=l.cutY,X=n._fontSize/n.fontData.size,G=n._align,z=0,b=0,N=n.getTextBounds(!1);n.maxWidth>0&&(s=N.wrappedText,o=s.length);var W=n._bounds.lines;G===1?b=(W.longest-W.lengths[0])/2:G===2&&(b=W.longest-W.lengths[0]),i.translate(-n.displayOriginX,-n.displayOriginY);for(var K=r.roundPixels,J=0;J<o;J++){if(x=s.charCodeAt(J),x===10){z++,G===1?b=(W.longest-W.lengths[z])/2:G===2&&(b=W.longest-W.lengths[z]),m=0,g+=f+c,w=null;continue}if(T=u[x],!!T){if(S=Y+T.x,P=H+T.y,L=T.width,I=T.height,O=T.xOffset+m,M=T.yOffset+g,w!==null){var j=T.kerning[D];O+=j!==void 0?j:0}O*=X,M*=X,O+=b,m+=T.xAdvance+d+(j!==void 0?j:0),w=T,D=x,!(L===0||I===0||x===32)&&(K&&(O=Math.round(O),M=Math.round(M)),i.save(),i.translate(O,M),i.scale(X,X),i.drawImage(U,S,P,L,I,0,0,L,I),i.restore())}}i.restore()}};v.exports=p},57336:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(22186),p=t(25305),a=t(44603),n=t(23568),r=t(35154);a.register("bitmapText",function(e,s){e===void 0&&(e={});var o=r(e,"font",""),i=n(e,"text",""),l=n(e,"size",!1),u=r(e,"align",0),f=new h(this.scene,0,0,o,i,l,u);return s!==void 0&&(e.add=s),p(this.scene,f,e),f})},34914:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(22186),p=t(39429);p.register("bitmapText",function(a,n,r,e,s,o){return this.displayList.add(new h(this.scene,a,n,r,e,s,o))})},18658:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(29747),p=h,a=h;p=t(33590),a=t(37289),v.exports={renderWebGL:p,renderCanvas:a}},33590:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(3217),p=t(91296),a=t(70554),n=function(r,e,s,o){var i=e._text,l=i.length;if(l!==0){s.addToRenderList(e);var u=r.pipelines.set(e.pipeline,e),f=p(e,s,o).calc;r.pipelines.preBatch(e);var d=s.roundPixels,c=s.alpha,m=e.charColors,g=e.tintFill,x=a.getTintAppendFloatAlpha,T=x(e.tintTopLeft,c*e._alphaTL),S=x(e.tintTopRight,c*e._alphaTR),P=x(e.tintBottomLeft,c*e._alphaBL),L=x(e.tintBottomRight,c*e._alphaBR),I=e.frame.glTexture,O=u.setGameObject(e),M=e.getTextBounds(!1),w,D,U,Y=M.characters,H=e.dropShadowX,X=e.dropShadowY,G=H!==0||X!==0;if(G){var z=e.dropShadowColor,b=e.dropShadowAlpha,N=x(z,c*b*e._alphaTL),W=x(z,c*b*e._alphaTR),K=x(z,c*b*e._alphaBL),J=x(z,c*b*e._alphaBR);for(w=0;w<Y.length;w++)D=Y[w],U=D.glyph,!(D.code===32||U.width===0||U.height===0)&&h(u,e,D,U,H,X,f,d,N,W,K,J,1,I,O)}for(w=0;w<Y.length;w++)if(D=Y[w],U=D.glyph,!(D.code===32||U.width===0||U.height===0))if(u.shouldFlush(6)&&(u.flush(),O=u.setGameObject(e)),m[D.i]){var j=m[D.i],Z=j.tintEffect,q=x(j.tintTL,c*e._alphaTL),_=x(j.tintTR,c*e._alphaTR),tt=x(j.tintBL,c*e._alphaBL),et=x(j.tintBR,c*e._alphaBR);h(u,e,D,U,0,0,f,d,q,_,tt,et,Z,I,O)}else h(u,e,D,U,0,0,f,d,T,S,P,L,g,I,O);r.pipelines.postBatch(e)}};v.exports=n},6107:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(48011),p=t(46590),a=t(83419),n=t(31401),r=t(4327),e=t(95643),s=t(73162),o=new a({Extends:e,Mixins:[n.Alpha,n.BlendMode,n.Depth,n.Mask,n.Pipeline,n.PostPipeline,n.ScrollFactor,n.Size,n.Texture,n.Transform,n.Visible,h],initialize:function(l,u,f,d,c){e.call(this,l,"Blitter"),this.setTexture(d,c),this.setPosition(u,f),this.initPipeline(),this.initPostPipeline(),this.children=new s,this.renderList=[],this.dirty=!1},create:function(i,l,u,f,d){f===void 0&&(f=!0),d===void 0&&(d=this.children.length),u===void 0?u=this.frame:u instanceof r||(u=this.texture.get(u));var c=new p(this,i,l,u,f);return this.children.addAt(c,d,!1),this.dirty=!0,c},createFromCallback:function(i,l,u,f){for(var d=this.createMultiple(l,u,f),c=0;c<d.length;c++){var m=d[c];i.call(this,m,c)}return d},createMultiple:function(i,l,u){l===void 0&&(l=this.frame.name),u===void 0&&(u=!0),Array.isArray(l)||(l=[l]);var f=[],d=this;return l.forEach(function(c){for(var m=0;m<i;m++)f.push(d.create(0,0,c,u))}),f},childCanRender:function(i){return i.visible&&i.alpha>0},getRenderList:function(){return this.dirty&&(this.renderList=this.children.list.filter(this.childCanRender,this),this.dirty=!1),this.renderList},clear:function(){this.children.removeAll(),this.dirty=!0},preDestroy:function(){this.children.destroy(),this.renderList=[]}});v.exports=o},72396:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,h,p,a){var n=h.getRenderList();if(n.length!==0){var r=t.currentContext,e=p.alpha*h.alpha;if(e!==0){p.addToRenderList(h),r.globalCompositeOperation=t.blendModes[h.blendMode],r.imageSmoothingEnabled=!h.frame.source.scaleMode;var s=h.x-p.scrollX*h.scrollFactorX,o=h.y-p.scrollY*h.scrollFactorY;r.save(),a&&a.copyToContext(r);for(var i=p.roundPixels,l=0;l<n.length;l++){var u=n[l],f=u.flipX||u.flipY,d=u.frame,c=d.canvasData,m=d.x,g=d.y,x=1,T=1,S=u.alpha*e;S!==0&&(r.globalAlpha=S,f?(u.flipX&&(x=-1,m-=c.width),u.flipY&&(T=-1,g-=c.height),c.width>0&&c.height>0&&(r.save(),r.translate(u.x+s,u.y+o),r.scale(x,T),r.drawImage(d.source.image,c.x,c.y,c.width,c.height,m,g,c.width,c.height),r.restore())):(i&&(m=Math.round(m),g=Math.round(g)),c.width>0&&c.height>0&&r.drawImage(d.source.image,c.x,c.y,c.width,c.height,m+u.x+s,g+u.y+o,c.width,c.height)))}r.restore()}}};v.exports=y},9403:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(6107),p=t(25305),a=t(44603),n=t(23568);a.register("blitter",function(r,e){r===void 0&&(r={});var s=n(r,"key",null),o=n(r,"frame",null),i=new h(this.scene,0,0,s,o);return e!==void 0&&(r.add=e),p(this.scene,i,r),i})},12709:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(6107),p=t(39429);p.register("blitter",function(a,n,r,e){return this.displayList.add(new h(this.scene,a,n,r,e))})},48011:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(29747),p=h,a=h;p=t(99485),a=t(72396),v.exports={renderWebGL:p,renderCanvas:a}},99485:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(61340),p=t(70554),a=new h,n=function(r,e,s,o){var i=e.getRenderList(),l=s.alpha*e.alpha;if(!(i.length===0||l===0)){s.addToRenderList(e);var u=r.pipelines.set(this.pipeline,e),f=s.scrollX*e.scrollFactorX,d=s.scrollY*e.scrollFactorY,c=a.copyFrom(s.matrix);o&&(c.multiplyWithOffset(o,-f,-d),f=0,d=0);var m=e.x-f,g=e.y-d,x=-1,T=!1,S=s.roundPixels;r.pipelines.preBatch(e);for(var P=0;P<i.length;P++){var L=i[P],I=L.frame,O=L.alpha*l;if(O!==0){var M=I.width,w=I.height,D=m+L.x+I.x,U=g+L.y+I.y;L.flipX&&(M*=-1,D+=I.width),L.flipY&&(w*=-1,U+=I.height);var Y=c.setQuad(D,U,D+M,U+w,S),H=p.getTintAppendFloatAlpha(L.tint,O);if(I.sourceIndex!==x){var X=u.setGameObject(e,I);x=I.sourceIndex}u.batchQuad(e,Y[0],Y[1],Y[2],Y[3],Y[4],Y[5],Y[6],Y[7],I.u0,I.v0,I.u1,I.v1,H,H,H,H,T,I.glTexture,X)&&(x=-1)}}r.pipelines.postBatch(e)}};v.exports=n},46590:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),p=t(4327),a=new h({initialize:function(r,e,s,o,i){this.parent=r,this.x=e,this.y=s,this.frame=o,this.data={},this.tint=16777215,this._visible=i,this._alpha=1,this.flipX=!1,this.flipY=!1,this.hasTransformComponent=!0},setFrame:function(n){return n===void 0?this.frame=this.parent.frame:n instanceof p&&n.texture===this.parent.texture?this.frame=n:this.frame=this.parent.texture.get(n),this},resetFlip:function(){return this.flipX=!1,this.flipY=!1,this},reset:function(n,r,e){return this.x=n,this.y=r,this.flipX=!1,this.flipY=!1,this._alpha=1,this._visible=!0,this.parent.dirty=!0,e&&this.setFrame(e),this},setPosition:function(n,r){return this.x=n,this.y=r,this},setFlipX:function(n){return this.flipX=n,this},setFlipY:function(n){return this.flipY=n,this},setFlip:function(n,r){return this.flipX=n,this.flipY=r,this},setVisible:function(n){return this.visible=n,this},setAlpha:function(n){return this.alpha=n,this},setTint:function(n){return this.tint=n,this},destroy:function(){this.parent.dirty=!0,this.parent.children.remove(this),this.parent=void 0,this.frame=void 0,this.data=void 0},visible:{get:function(){return this._visible},set:function(n){this.parent.dirty|=this._visible!==n,this._visible=n}},alpha:{get:function(){return this._alpha},set:function(n){this.parent.dirty|=this._alpha>0!=n>0,this._alpha=n}}});v.exports=a},16005:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(45319),p=2,a={_alpha:1,_alphaTL:1,_alphaTR:1,_alphaBL:1,_alphaBR:1,clearAlpha:function(){return this.setAlpha(1)},setAlpha:function(n,r,e,s){return n===void 0&&(n=1),r===void 0?this.alpha=n:(this._alphaTL=h(n,0,1),this._alphaTR=h(r,0,1),this._alphaBL=h(e,0,1),this._alphaBR=h(s,0,1)),this},alpha:{get:function(){return this._alpha},set:function(n){var r=h(n,0,1);this._alpha=r,this._alphaTL=r,this._alphaTR=r,this._alphaBL=r,this._alphaBR=r,r===0?this.renderFlags&=~p:this.renderFlags|=p}},alphaTopLeft:{get:function(){return this._alphaTL},set:function(n){var r=h(n,0,1);this._alphaTL=r,r!==0&&(this.renderFlags|=p)}},alphaTopRight:{get:function(){return this._alphaTR},set:function(n){var r=h(n,0,1);this._alphaTR=r,r!==0&&(this.renderFlags|=p)}},alphaBottomLeft:{get:function(){return this._alphaBL},set:function(n){var r=h(n,0,1);this._alphaBL=r,r!==0&&(this.renderFlags|=p)}},alphaBottomRight:{get:function(){return this._alphaBR},set:function(n){var r=h(n,0,1);this._alphaBR=r,r!==0&&(this.renderFlags|=p)}}};v.exports=a},88509:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(45319),p=2,a={_alpha:1,clearAlpha:function(){return this.setAlpha(1)},setAlpha:function(n){return n===void 0&&(n=1),this.alpha=n,this},alpha:{get:function(){return this._alpha},set:function(n){var r=h(n,0,1);this._alpha=r,r===0?this.renderFlags&=~p:this.renderFlags|=p}}};v.exports=a},90065:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(10312),p={_blendMode:h.NORMAL,blendMode:{get:function(){return this._blendMode},set:function(a){typeof a=="string"&&(a=h[a]),a|=0,a>=-1&&(this._blendMode=a)}},setBlendMode:function(a){return this.blendMode=a,this}};v.exports=p},94215:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={width:0,height:0,displayWidth:{get:function(){return this.scaleX*this.width},set:function(t){this.scaleX=t/this.width}},displayHeight:{get:function(){return this.scaleY*this.height},set:function(t){this.scaleY=t/this.height}},setSize:function(t,h){return this.width=t,this.height=h,this},setDisplaySize:function(t,h){return this.displayWidth=t,this.displayHeight=h,this}};v.exports=y},61683:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={texture:null,frame:null,isCropped:!1,setCrop:function(t,h,p,a){if(t===void 0)this.isCropped=!1;else if(this.frame){if(typeof t=="number")this.frame.setCropUVs(this._crop,t,h,p,a,this.flipX,this.flipY);else{var n=t;this.frame.setCropUVs(this._crop,n.x,n.y,n.width,n.height,this.flipX,this.flipY)}this.isCropped=!0}return this},resetCropObject:function(){return{u0:0,v0:0,u1:0,v1:0,width:0,height:0,x:0,y:0,flipX:!1,flipY:!1,cx:0,cy:0,cw:0,ch:0}}};v.exports=y},89272:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(37105),p={_depth:0,depth:{get:function(){return this._depth},set:function(a){this.displayList&&this.displayList.queueDepthSort(),this._depth=a}},setDepth:function(a){return a===void 0&&(a=0),this.depth=a,this},setToTop:function(){var a=this.getDisplayList();return a&&h.BringToTop(a,this),this},setToBack:function(){var a=this.getDisplayList();return a&&h.SendToBack(a,this),this},setAbove:function(a){var n=this.getDisplayList();return n&&a&&h.MoveAbove(n,this,a),this},setBelow:function(a){var n=this.getDisplayList();return n&&a&&h.MoveBelow(n,this,a),this}};v.exports=p},47059:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),p=t(66064),a=t(19133),n=new h({initialize:function(e,s){this.gameObject=e,this.isPost=s,this.enabled=!1,this.list=[],this.padding=0},setPadding:function(r){return r===void 0&&(r=0),this.padding=r,this.gameObject},onFXCopy:function(){},onFX:function(){},enable:function(r){if(!this.isPost){var e=this.gameObject.scene.sys.renderer;e&&e.pipelines?(this.gameObject.pipeline=e.pipelines.FX_PIPELINE,r!==void 0&&(this.padding=r),this.enabled=!0):this.enabled=!1}},clear:function(){if(this.isPost)this.gameObject.resetPostPipeline(!0);else{for(var r=this.list,e=0;e<r.length;e++)r[e].destroy();this.list=[]}return this.enabled=!1,this.gameObject},remove:function(r){var e;if(this.isPost){var s=this.gameObject.getPostPipeline(String(r.type));for(Array.isArray(s)||(s=[s]),e=0;e<s.length;e++){var o=s[e];if(o.controller===r){this.gameObject.removePostPipeline(o),r.destroy();break}}}else{var i=this.list;for(e=0;e<i.length;e++)i[e]===r&&(a(i,e),r.destroy())}return this.gameObject},disable:function(r){return r===void 0&&(r=!1),this.isPost||this.gameObject.resetPipeline(),this.enabled=!1,r&&this.clear(),this.gameObject},add:function(r,e){if(this.isPost){var s=String(r.type);this.gameObject.setPostPipeline(s,e);var o=this.gameObject.getPostPipeline(s);if(o)return Array.isArray(o)&&(o=o.pop()),o&&(o.controller=r),r}else return this.enabled||this.enable(),this.list.push(r),r},addGlow:function(r,e,s,o,i,l){return this.add(new p.Glow(this.gameObject,r,e,s,o),{quality:i,distance:l})},addShadow:function(r,e,s,o,i,l,u){return this.add(new p.Shadow(this.gameObject,r,e,s,o,i,l,u))},addPixelate:function(r){return this.add(new p.Pixelate(this.gameObject,r))},addVignette:function(r,e,s,o){return this.add(new p.Vignette(this.gameObject,r,e,s,o))},addShine:function(r,e,s,o){return this.add(new p.Shine(this.gameObject,r,e,s,o))},addBlur:function(r,e,s,o,i,l){return this.add(new p.Blur(this.gameObject,r,e,s,o,i,l))},addGradient:function(r,e,s,o,i,l,u,f){return this.add(new p.Gradient(this.gameObject,r,e,s,o,i,l,u,f))},addBloom:function(r,e,s,o,i,l){return this.add(new p.Bloom(this.gameObject,r,e,s,o,i,l))},addColorMatrix:function(){return this.add(new p.ColorMatrix(this.gameObject))},addCircle:function(r,e,s,o,i){return this.add(new p.Circle(this.gameObject,r,e,s,o,i))},addBarrel:function(r){return this.add(new p.Barrel(this.gameObject,r))},addDisplacement:function(r,e,s){return this.add(new p.Displacement(this.gameObject,r,e,s))},addWipe:function(r,e,s){return this.add(new p.Wipe(this.gameObject,r,e,s))},addReveal:function(r,e,s){return this.add(new p.Wipe(this.gameObject,r,e,s,!0))},addBokeh:function(r,e,s){return this.add(new p.Bokeh(this.gameObject,r,e,s))},addTiltShift:function(r,e,s,o,i,l){return this.add(new p.Bokeh(this.gameObject,r,e,s,!0,o,i,l))},destroy:function(){this.clear(),this.gameObject=null}});v.exports=n},54434:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={flipX:!1,flipY:!1,toggleFlipX:function(){return this.flipX=!this.flipX,this},toggleFlipY:function(){return this.flipY=!this.flipY,this},setFlipX:function(t){return this.flipX=t,this},setFlipY:function(t){return this.flipY=t,this},setFlip:function(t,h){return this.flipX=t,this.flipY=h,this},resetFlip:function(){return this.flipX=!1,this.flipY=!1,this}};v.exports=y},8004:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(87841),p=t(11520),a=t(26099),n={prepareBoundsOutput:function(r,e){if(e===void 0&&(e=!1),this.rotation!==0&&p(r,this.x,this.y,this.rotation),e&&this.parentContainer){var s=this.parentContainer.getBoundsTransformMatrix();s.transformPoint(r.x,r.y,r)}return r},getCenter:function(r,e){return r===void 0&&(r=new a),r.x=this.x-this.displayWidth*this.originX+this.displayWidth/2,r.y=this.y-this.displayHeight*this.originY+this.displayHeight/2,this.prepareBoundsOutput(r,e)},getTopLeft:function(r,e){return r||(r=new a),r.x=this.x-this.displayWidth*this.originX,r.y=this.y-this.displayHeight*this.originY,this.prepareBoundsOutput(r,e)},getTopCenter:function(r,e){return r||(r=new a),r.x=this.x-this.displayWidth*this.originX+this.displayWidth/2,r.y=this.y-this.displayHeight*this.originY,this.prepareBoundsOutput(r,e)},getTopRight:function(r,e){return r||(r=new a),r.x=this.x-this.displayWidth*this.originX+this.displayWidth,r.y=this.y-this.displayHeight*this.originY,this.prepareBoundsOutput(r,e)},getLeftCenter:function(r,e){return r||(r=new a),r.x=this.x-this.displayWidth*this.originX,r.y=this.y-this.displayHeight*this.originY+this.displayHeight/2,this.prepareBoundsOutput(r,e)},getRightCenter:function(r,e){return r||(r=new a),r.x=this.x-this.displayWidth*this.originX+this.displayWidth,r.y=this.y-this.displayHeight*this.originY+this.displayHeight/2,this.prepareBoundsOutput(r,e)},getBottomLeft:function(r,e){return r||(r=new a),r.x=this.x-this.displayWidth*this.originX,r.y=this.y-this.displayHeight*this.originY+this.displayHeight,this.prepareBoundsOutput(r,e)},getBottomCenter:function(r,e){return r||(r=new a),r.x=this.x-this.displayWidth*this.originX+this.displayWidth/2,r.y=this.y-this.displayHeight*this.originY+this.displayHeight,this.prepareBoundsOutput(r,e)},getBottomRight:function(r,e){return r||(r=new a),r.x=this.x-this.displayWidth*this.originX+this.displayWidth,r.y=this.y-this.displayHeight*this.originY+this.displayHeight,this.prepareBoundsOutput(r,e)},getBounds:function(r){r===void 0&&(r=new h);var e,s,o,i,l,u,f,d;if(this.parentContainer){var c=this.parentContainer.getBoundsTransformMatrix();this.getTopLeft(r),c.transformPoint(r.x,r.y,r),e=r.x,s=r.y,this.getTopRight(r),c.transformPoint(r.x,r.y,r),o=r.x,i=r.y,this.getBottomLeft(r),c.transformPoint(r.x,r.y,r),l=r.x,u=r.y,this.getBottomRight(r),c.transformPoint(r.x,r.y,r),f=r.x,d=r.y}else this.getTopLeft(r),e=r.x,s=r.y,this.getTopRight(r),o=r.x,i=r.y,this.getBottomLeft(r),l=r.x,u=r.y,this.getBottomRight(r),f=r.x,d=r.y;return r.x=Math.min(e,o,l,f),r.y=Math.min(s,i,u,d),r.width=Math.max(e,o,l,f)-r.x,r.height=Math.max(s,i,u,d)-r.y,r}};v.exports=n},8573:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(6858),p=t(80661),a={mask:null,setMask:function(n){return this.mask=n,this},clearMask:function(n){return n===void 0&&(n=!1),n&&this.mask&&this.mask.destroy(),this.mask=null,this},createBitmapMask:function(n,r,e,s,o){return n===void 0&&(this.texture||this.shader||this.geom)&&(n=this),new h(this.scene,n,r,e,s,o)},createGeometryMask:function(n){return n===void 0&&(this.type==="Graphics"||this.geom)&&(n=this),new p(this.scene,n)}};v.exports=a},27387:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={_originComponent:!0,originX:.5,originY:.5,_displayOriginX:0,_displayOriginY:0,displayOriginX:{get:function(){return this._displayOriginX},set:function(t){this._displayOriginX=t,this.originX=t/this.width}},displayOriginY:{get:function(){return this._displayOriginY},set:function(t){this._displayOriginY=t,this.originY=t/this.height}},setOrigin:function(t,h){return t===void 0&&(t=.5),h===void 0&&(h=t),this.originX=t,this.originY=h,this.updateDisplayOrigin()},setOriginFromFrame:function(){return!this.frame||!this.frame.customPivot?this.setOrigin():(this.originX=this.frame.pivotX,this.originY=this.frame.pivotY,this.updateDisplayOrigin())},setDisplayOrigin:function(t,h){return t===void 0&&(t=0),h===void 0&&(h=t),this.displayOriginX=t,this.displayOriginY=h,this},updateDisplayOrigin:function(){return this._displayOriginX=this.originX*this.width,this._displayOriginY=this.originY*this.height,this}};v.exports=y},37640:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(39506),p=t(57355),a=t(35154),n=t(86353),r=t(26099),e={path:null,rotateToPath:!1,pathRotationOffset:0,pathOffset:null,pathVector:null,pathDelta:null,pathTween:null,pathConfig:null,_prevDirection:n.PLAYING_FORWARD,setPath:function(s,o){o===void 0&&(o=this.pathConfig);var i=this.pathTween;return i&&i.isPlaying()&&i.stop(),this.path=s,o&&this.startFollow(o),this},setRotateToPath:function(s,o){return o===void 0&&(o=0),this.rotateToPath=s,this.pathRotationOffset=o,this},isFollowing:function(){var s=this.pathTween;return s&&s.isPlaying()},startFollow:function(s,o){s===void 0&&(s={}),o===void 0&&(o=0);var i=this.pathTween;i&&i.isPlaying()&&i.stop(),typeof s=="number"&&(s={duration:s}),s.from=a(s,"from",0),s.to=a(s,"to",1);var l=p(s,"positionOnPath",!1);this.rotateToPath=p(s,"rotateToPath",!1),this.pathRotationOffset=a(s,"rotationOffset",0);var u=a(s,"startAt",o);if(u&&(s.onStart=function(d){var c=d.data[0];c.progress=u,c.elapsed=c.duration*u;var m=c.ease(c.progress);c.current=c.start+(c.end-c.start)*m,c.setTargetValue()}),this.pathOffset||(this.pathOffset=new r(this.x,this.y)),this.pathVector||(this.pathVector=new r),this.pathDelta||(this.pathDelta=new r),this.pathDelta.reset(),s.persist=!0,this.pathTween=this.scene.sys.tweens.addCounter(s),this.path.getStartPoint(this.pathOffset),l&&(this.x=this.pathOffset.x,this.y=this.pathOffset.y),this.pathOffset.x=this.x-this.pathOffset.x,this.pathOffset.y=this.y-this.pathOffset.y,this._prevDirection=n.PLAYING_FORWARD,this.rotateToPath){var f=this.path.getPoint(.1);this.rotation=Math.atan2(f.y-this.y,f.x-this.x)+h(this.pathRotationOffset)}return this.pathConfig=s,this},pauseFollow:function(){var s=this.pathTween;return s&&s.isPlaying()&&s.pause(),this},resumeFollow:function(){var s=this.pathTween;return s&&s.isPaused()&&s.resume(),this},stopFollow:function(){var s=this.pathTween;return s&&s.isPlaying()&&s.stop(),this},pathUpdate:function(){var s=this.pathTween;if(s&&s.data){var o=s.data[0],i=this.pathDelta,l=this.pathVector;if(i.copy(l).negate(),o.state===n.COMPLETE){this.path.getPoint(o.end,l),i.add(l),l.add(this.pathOffset),this.setPosition(l.x,l.y);return}else if(o.state!==n.PLAYING_FORWARD&&o.state!==n.PLAYING_BACKWARD)return;this.path.getPoint(s.getValue(),l),i.add(l),l.add(this.pathOffset);var u=this.x,f=this.y;this.setPosition(l.x,l.y);var d=this.x-u,c=this.y-f;if(d===0&&c===0)return;if(o.state!==this._prevDirection){this._prevDirection=o.state;return}this.rotateToPath&&(this.rotation=Math.atan2(c,d)+h(this.pathRotationOffset))}}};v.exports=e},72699:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(62644),p={defaultPipeline:null,pipeline:null,pipelineData:null,initPipeline:function(a){this.pipelineData={};var n=this.scene.sys.renderer;if(!n)return!1;var r=n.pipelines;if(r){a===void 0&&(a=r.default);var e=r.get(a);if(e)return this.defaultPipeline=e,this.pipeline=e,!0}return!1},setPipeline:function(a,n,r){var e=this.scene.sys.renderer;if(!e)return this;var s=e.pipelines;if(s){var o=s.get(a);o&&(this.pipeline=o),n&&(this.pipelineData=r?h(n):n)}return this},setPipelineData:function(a,n){var r=this.pipelineData;return n===void 0?delete r[a]:r[a]=n,this},resetPipeline:function(a){return a===void 0&&(a=!1),this.pipeline=this.defaultPipeline,a&&(this.pipelineData={}),this.pipeline!==null},getPipelineName:function(){return this.pipeline===null?null:this.pipeline.name}};v.exports=p},17581:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(62644),p=t(47059),a=t(19133),n={hasPostPipeline:!1,postPipelines:null,postPipelineData:null,preFX:null,postFX:null,initPostPipeline:function(r){this.postPipelines=[],this.postPipelineData={},this.postFX=new p(this,!0),r&&(this.preFX=new p(this,!1))},setPostPipeline:function(r,e,s){var o=this.scene.sys.renderer;if(!o)return this;var i=o.pipelines;if(i){Array.isArray(r)||(r=[r]);for(var l=0;l<r.length;l++){var u=i.getPostPipeline(r[l],this,e);u&&this.postPipelines.push(u)}e&&(this.postPipelineData=s?h(e):e)}return this.hasPostPipeline=this.postPipelines.length>0,this},setPostPipelineData:function(r,e){var s=this.postPipelineData;return e===void 0?delete s[r]:s[r]=e,this},getPostPipeline:function(r){for(var e=typeof r=="string",s=this.postPipelines,o=[],i=0;i<s.length;i++){var l=s[i];(e&&l.name===r||!e&&l instanceof r)&&o.push(l)}return o.length===1?o[0]:o},resetPostPipeline:function(r){r===void 0&&(r=!1);for(var e=this.postPipelines,s=0;s<e.length;s++)e[s].destroy();this.postPipelines=[],this.hasPostPipeline=!1,r&&(this.postPipelineData={})},removePostPipeline:function(r){for(var e=typeof r=="string",s=this.postPipelines,o=s.length-1;o>=0;o--){var i=s[o];(e&&i.name===r||!e&&i===r)&&(i.destroy(),a(s,o))}return this.hasPostPipeline=this.postPipelines.length>0,this},clearFX:function(){return this.preFX&&this.preFX.clear(),this.postFX&&this.postFX.clear(),this}};v.exports=n},80227:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={scrollFactorX:1,scrollFactorY:1,setScrollFactor:function(t,h){return h===void 0&&(h=t),this.scrollFactorX=t,this.scrollFactorY=h,this}};v.exports=y},16736:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={_sizeComponent:!0,width:0,height:0,displayWidth:{get:function(){return Math.abs(this.scaleX*this.frame.realWidth)},set:function(t){this.scaleX=t/this.frame.realWidth}},displayHeight:{get:function(){return Math.abs(this.scaleY*this.frame.realHeight)},set:function(t){this.scaleY=t/this.frame.realHeight}},setSizeToFrame:function(t){t||(t=this.frame),this.width=t.realWidth,this.height=t.realHeight;var h=this.input;return h&&!h.customHitArea&&(h.hitArea.width=this.width,h.hitArea.height=this.height),this},setSize:function(t,h){return this.width=t,this.height=h,this},setDisplaySize:function(t,h){return this.displayWidth=t,this.displayHeight=h,this}};v.exports=y},37726:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(4327),p=8,a={texture:null,frame:null,isCropped:!1,setTexture:function(n,r,e,s){return this.texture=this.scene.sys.textures.get(n),this.setFrame(r,e,s)},setFrame:function(n,r,e){return r===void 0&&(r=!0),e===void 0&&(e=!0),n instanceof h?(this.texture=this.scene.sys.textures.get(n.texture.key),this.frame=n):this.frame=this.texture.get(n),!this.frame.cutWidth||!this.frame.cutHeight?this.renderFlags&=~p:this.renderFlags|=p,this._sizeComponent&&r&&this.setSizeToFrame(),this._originComponent&&e&&(this.frame.customPivot?this.setOrigin(this.frame.pivotX,this.frame.pivotY):this.updateDisplayOrigin()),this}};v.exports=a},79812:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(4327),p=8,a={texture:null,frame:null,isCropped:!1,setCrop:function(n,r,e,s){if(n===void 0)this.isCropped=!1;else if(this.frame){if(typeof n=="number")this.frame.setCropUVs(this._crop,n,r,e,s,this.flipX,this.flipY);else{var o=n;this.frame.setCropUVs(this._crop,o.x,o.y,o.width,o.height,this.flipX,this.flipY)}this.isCropped=!0}return this},setTexture:function(n,r){return this.texture=this.scene.sys.textures.get(n),this.setFrame(r)},setFrame:function(n,r,e){return r===void 0&&(r=!0),e===void 0&&(e=!0),n instanceof h?(this.texture=this.scene.sys.textures.get(n.texture.key),this.frame=n):this.frame=this.texture.get(n),!this.frame.cutWidth||!this.frame.cutHeight?this.renderFlags&=~p:this.renderFlags|=p,this._sizeComponent&&r&&this.setSizeToFrame(),this._originComponent&&e&&(this.frame.customPivot?this.setOrigin(this.frame.pivotX,this.frame.pivotY):this.updateDisplayOrigin()),this.isCropped&&this.frame.updateCropUVs(this._crop,this.flipX,this.flipY),this},resetCropObject:function(){return{u0:0,v0:0,u1:0,v1:0,width:0,height:0,x:0,y:0,flipX:!1,flipY:!1,cx:0,cy:0,cw:0,ch:0}}};v.exports=a},27472:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={tintTopLeft:16777215,tintTopRight:16777215,tintBottomLeft:16777215,tintBottomRight:16777215,tintFill:!1,clearTint:function(){return this.setTint(16777215),this},setTint:function(t,h,p,a){return t===void 0&&(t=16777215),h===void 0&&(h=t,p=t,a=t),this.tintTopLeft=t,this.tintTopRight=h,this.tintBottomLeft=p,this.tintBottomRight=a,this.tintFill=!1,this},setTintFill:function(t,h,p,a){return this.setTint(t,h,p,a),this.tintFill=!0,this},tint:{get:function(){return this.tintTopLeft},set:function(t){this.setTint(t,t,t,t)}},isTinted:{get:function(){var t=16777215;return this.tintFill||this.tintTopLeft!==t||this.tintTopRight!==t||this.tintBottomLeft!==t||this.tintBottomRight!==t}}};v.exports=y},53774:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){var h={name:t.name,type:t.type,x:t.x,y:t.y,depth:t.depth,scale:{x:t.scaleX,y:t.scaleY},origin:{x:t.originX,y:t.originY},flipX:t.flipX,flipY:t.flipY,rotation:t.rotation,alpha:t.alpha,visible:t.visible,blendMode:t.blendMode,textureKey:"",frameKey:"",data:{}};return t.texture&&(h.textureKey=t.texture.key,h.frameKey=t.frame.name),h};v.exports=y},16901:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(36383),p=t(61340),a=t(85955),n=t(86554),r=t(30954),e=t(26099),s=4,o={hasTransformComponent:!0,_scaleX:1,_scaleY:1,_rotation:0,x:0,y:0,z:0,w:0,scale:{get:function(){return(this._scaleX+this._scaleY)/2},set:function(i){this._scaleX=i,this._scaleY=i,i===0?this.renderFlags&=~s:this.renderFlags|=s}},scaleX:{get:function(){return this._scaleX},set:function(i){this._scaleX=i,i===0?this.renderFlags&=~s:this._scaleY!==0&&(this.renderFlags|=s)}},scaleY:{get:function(){return this._scaleY},set:function(i){this._scaleY=i,i===0?this.renderFlags&=~s:this._scaleX!==0&&(this.renderFlags|=s)}},angle:{get:function(){return r(this._rotation*h.RAD_TO_DEG)},set:function(i){this.rotation=r(i)*h.DEG_TO_RAD}},rotation:{get:function(){return this._rotation},set:function(i){this._rotation=n(i)}},setPosition:function(i,l,u,f){return i===void 0&&(i=0),l===void 0&&(l=i),u===void 0&&(u=0),f===void 0&&(f=0),this.x=i,this.y=l,this.z=u,this.w=f,this},copyPosition:function(i){return i.x!==void 0&&(this.x=i.x),i.y!==void 0&&(this.y=i.y),i.z!==void 0&&(this.z=i.z),i.w!==void 0&&(this.w=i.w),this},setRandomPosition:function(i,l,u,f){return i===void 0&&(i=0),l===void 0&&(l=0),u===void 0&&(u=this.scene.sys.scale.width),f===void 0&&(f=this.scene.sys.scale.height),this.x=i+Math.random()*u,this.y=l+Math.random()*f,this},setRotation:function(i){return i===void 0&&(i=0),this.rotation=i,this},setAngle:function(i){return i===void 0&&(i=0),this.angle=i,this},setScale:function(i,l){return i===void 0&&(i=1),l===void 0&&(l=i),this.scaleX=i,this.scaleY=l,this},setX:function(i){return i===void 0&&(i=0),this.x=i,this},setY:function(i){return i===void 0&&(i=0),this.y=i,this},setZ:function(i){return i===void 0&&(i=0),this.z=i,this},setW:function(i){return i===void 0&&(i=0),this.w=i,this},getLocalTransformMatrix:function(i){return i===void 0&&(i=new p),i.applyITRS(this.x,this.y,this._rotation,this._scaleX,this._scaleY)},getWorldTransformMatrix:function(i,l){i===void 0&&(i=new p);var u=this.parentContainer;if(!u)return this.getLocalTransformMatrix(i);for(l||(l=new p),i.applyITRS(this.x,this.y,this._rotation,this._scaleX,this._scaleY);u;)l.applyITRS(u.x,u.y,u._rotation,u._scaleX,u._scaleY),l.multiply(i,i),u=u.parentContainer;return i},getLocalPoint:function(i,l,u,f){u||(u=new e),f||(f=this.scene.sys.cameras.main);var d=f.scrollX,c=f.scrollY,m=i+d*this.scrollFactorX-d,g=l+c*this.scrollFactorY-c;return this.parentContainer?this.getWorldTransformMatrix().applyInverse(m,g,u):a(m,g,this.x,this.y,this.rotation,this.scaleX,this.scaleY,u),this._originComponent&&(u.x+=this._displayOriginX,u.y+=this._displayOriginY),u},getParentRotation:function(){for(var i=0,l=this.parentContainer;l;)i+=l.rotation,l=l.parentContainer;return i}};v.exports=o},61340:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),p=t(36383),a=t(26099),n=new h({initialize:function(e,s,o,i,l,u){e===void 0&&(e=1),s===void 0&&(s=0),o===void 0&&(o=0),i===void 0&&(i=1),l===void 0&&(l=0),u===void 0&&(u=0),this.matrix=new Float32Array([e,s,o,i,l,u,0,0,1]),this.decomposedMatrix={translateX:0,translateY:0,scaleX:1,scaleY:1,rotation:0},this.quad=new Float32Array(8)},a:{get:function(){return this.matrix[0]},set:function(r){this.matrix[0]=r}},b:{get:function(){return this.matrix[1]},set:function(r){this.matrix[1]=r}},c:{get:function(){return this.matrix[2]},set:function(r){this.matrix[2]=r}},d:{get:function(){return this.matrix[3]},set:function(r){this.matrix[3]=r}},e:{get:function(){return this.matrix[4]},set:function(r){this.matrix[4]=r}},f:{get:function(){return this.matrix[5]},set:function(r){this.matrix[5]=r}},tx:{get:function(){return this.matrix[4]},set:function(r){this.matrix[4]=r}},ty:{get:function(){return this.matrix[5]},set:function(r){this.matrix[5]=r}},rotation:{get:function(){return Math.acos(this.a/this.scaleX)*(Math.atan(-this.c/this.a)<0?-1:1)}},rotationNormalized:{get:function(){var r=this.matrix,e=r[0],s=r[1],o=r[2],i=r[3];return e||s?s>0?Math.acos(e/this.scaleX):-Math.acos(e/this.scaleX):o||i?p.TAU-(i>0?Math.acos(-o/this.scaleY):-Math.acos(o/this.scaleY)):0}},scaleX:{get:function(){return Math.sqrt(this.a*this.a+this.b*this.b)}},scaleY:{get:function(){return Math.sqrt(this.c*this.c+this.d*this.d)}},loadIdentity:function(){var r=this.matrix;return r[0]=1,r[1]=0,r[2]=0,r[3]=1,r[4]=0,r[5]=0,this},translate:function(r,e){var s=this.matrix;return s[4]=s[0]*r+s[2]*e+s[4],s[5]=s[1]*r+s[3]*e+s[5],this},scale:function(r,e){var s=this.matrix;return s[0]*=r,s[1]*=r,s[2]*=e,s[3]*=e,this},rotate:function(r){var e=Math.sin(r),s=Math.cos(r),o=this.matrix,i=o[0],l=o[1],u=o[2],f=o[3];return o[0]=i*s+u*e,o[1]=l*s+f*e,o[2]=i*-e+u*s,o[3]=l*-e+f*s,this},multiply:function(r,e){var s=this.matrix,o=r.matrix,i=s[0],l=s[1],u=s[2],f=s[3],d=s[4],c=s[5],m=o[0],g=o[1],x=o[2],T=o[3],S=o[4],P=o[5],L=e===void 0?s:e.matrix;return L[0]=m*i+g*u,L[1]=m*l+g*f,L[2]=x*i+T*u,L[3]=x*l+T*f,L[4]=S*i+P*u+d,L[5]=S*l+P*f+c,L},multiplyWithOffset:function(r,e,s){var o=this.matrix,i=r.matrix,l=o[0],u=o[1],f=o[2],d=o[3],c=o[4],m=o[5],g=e*l+s*f+c,x=e*u+s*d+m,T=i[0],S=i[1],P=i[2],L=i[3],I=i[4],O=i[5];return o[0]=T*l+S*f,o[1]=T*u+S*d,o[2]=P*l+L*f,o[3]=P*u+L*d,o[4]=I*l+O*f+g,o[5]=I*u+O*d+x,this},transform:function(r,e,s,o,i,l){var u=this.matrix,f=u[0],d=u[1],c=u[2],m=u[3],g=u[4],x=u[5];return u[0]=r*f+e*c,u[1]=r*d+e*m,u[2]=s*f+o*c,u[3]=s*d+o*m,u[4]=i*f+l*c+g,u[5]=i*d+l*m+x,this},transformPoint:function(r,e,s){s===void 0&&(s={x:0,y:0});var o=this.matrix,i=o[0],l=o[1],u=o[2],f=o[3],d=o[4],c=o[5];return s.x=r*i+e*u+d,s.y=r*l+e*f+c,s},invert:function(){var r=this.matrix,e=r[0],s=r[1],o=r[2],i=r[3],l=r[4],u=r[5],f=e*i-s*o;return r[0]=i/f,r[1]=-s/f,r[2]=-o/f,r[3]=e/f,r[4]=(o*u-i*l)/f,r[5]=-(e*u-s*l)/f,this},copyFrom:function(r){var e=this.matrix;return e[0]=r.a,e[1]=r.b,e[2]=r.c,e[3]=r.d,e[4]=r.e,e[5]=r.f,this},copyFromArray:function(r){var e=this.matrix;return e[0]=r[0],e[1]=r[1],e[2]=r[2],e[3]=r[3],e[4]=r[4],e[5]=r[5],this},copyToContext:function(r){var e=this.matrix;return r.transform(e[0],e[1],e[2],e[3],e[4],e[5]),r},setToContext:function(r){return r.setTransform(this),r},copyToArray:function(r){var e=this.matrix;return r===void 0?r=[e[0],e[1],e[2],e[3],e[4],e[5]]:(r[0]=e[0],r[1]=e[1],r[2]=e[2],r[3]=e[3],r[4]=e[4],r[5]=e[5]),r},setTransform:function(r,e,s,o,i,l){var u=this.matrix;return u[0]=r,u[1]=e,u[2]=s,u[3]=o,u[4]=i,u[5]=l,this},decomposeMatrix:function(){var r=this.decomposedMatrix,e=this.matrix,s=e[0],o=e[1],i=e[2],l=e[3],u=s*l-o*i;if(r.translateX=e[4],r.translateY=e[5],s||o){var f=Math.sqrt(s*s+o*o);r.rotation=o>0?Math.acos(s/f):-Math.acos(s/f),r.scaleX=f,r.scaleY=u/f}else if(i||l){var d=Math.sqrt(i*i+l*l);r.rotation=Math.PI*.5-(l>0?Math.acos(-i/d):-Math.acos(i/d)),r.scaleX=u/d,r.scaleY=d}else r.rotation=0,r.scaleX=0,r.scaleY=0;return r},applyITRS:function(r,e,s,o,i){var l=this.matrix,u=Math.sin(s),f=Math.cos(s);return l[4]=r,l[5]=e,l[0]=f*o,l[1]=u*o,l[2]=-u*i,l[3]=f*i,this},applyInverse:function(r,e,s){s===void 0&&(s=new a);var o=this.matrix,i=o[0],l=o[1],u=o[2],f=o[3],d=o[4],c=o[5],m=1/(i*f+u*-l);return s.x=f*m*r+-u*m*e+(c*u-d*f)*m,s.y=i*m*e+-l*m*r+(-c*i+d*l)*m,s},setQuad:function(r,e,s,o,i,l){i===void 0&&(i=!1),l===void 0&&(l=this.quad);var u=this.matrix,f=u[0],d=u[1],c=u[2],m=u[3],g=u[4],x=u[5],T=r*f+e*c+g,S=r*d+e*m+x,P=r*f+o*c+g,L=r*d+o*m+x,I=s*f+o*c+g,O=s*d+o*m+x,M=s*f+e*c+g,w=s*d+e*m+x;if(i){var D=Math.floor(T+.5),U=Math.floor(S+.5),Y=D-T,H=U-S;l[0]=D,l[1]=U,l[2]=P+Y,l[3]=L+H,l[4]=I+Y,l[5]=O+H,l[6]=M+Y,l[7]=w+H}else l[0]=T,l[1]=S,l[2]=P,l[3]=L,l[4]=I,l[5]=O,l[6]=M,l[7]=w;return l},getX:function(r,e){return r*this.a+e*this.c+this.e},getY:function(r,e){return r*this.b+e*this.d+this.f},getXRound:function(r,e,s){var o=this.getX(r,e);return s&&(o=Math.floor(o+.5)),o},getYRound:function(r,e,s){var o=this.getY(r,e);return s&&(o=Math.floor(o+.5)),o},getCSSMatrix:function(){var r=this.matrix;return"matrix("+r[0]+","+r[1]+","+r[2]+","+r[3]+","+r[4]+","+r[5]+")"},destroy:function(){this.matrix=null,this.quad=null,this.decomposedMatrix=null}});v.exports=n},59715:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=1,t={_visible:!0,visible:{get:function(){return this._visible},set:function(h){h?(this._visible=!0,this.renderFlags|=y):(this._visible=!1,this.renderFlags&=~y)}},setVisible:function(h){return this.visible=h,this}};v.exports=t},31401:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={Alpha:t(16005),AlphaSingle:t(88509),BlendMode:t(90065),ComputedSize:t(94215),Crop:t(61683),Depth:t(89272),Flip:t(54434),FX:t(47059),GetBounds:t(8004),Mask:t(8573),Origin:t(27387),PathFollower:t(37640),Pipeline:t(72699),PostPipeline:t(17581),ScrollFactor:t(80227),Size:t(16736),Texture:t(37726),TextureCrop:t(79812),Tint:t(27472),ToJSON:t(53774),Transform:t(16901),TransformMatrix:t(61340),Visible:t(59715)}},31559:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(37105),p=t(10312),a=t(83419),n=t(31401),r=t(51708),e=t(95643),s=t(87841),o=t(29959),i=t(36899),l=t(26099),u=new n.TransformMatrix,f=new a({Extends:e,Mixins:[n.AlphaSingle,n.BlendMode,n.ComputedSize,n.Depth,n.Mask,n.PostPipeline,n.Transform,n.Visible,o],initialize:function(c,m,g,x){e.call(this,c,"Container"),this.list=[],this.exclusive=!0,this.maxSize=-1,this.position=0,this.localTransform=new n.TransformMatrix,this._sortKey="",this._sysEvents=c.sys.events,this.scrollFactorX=1,this.scrollFactorY=1,this.initPostPipeline(),this.setPosition(m,g),this.setBlendMode(p.SKIP_CHECK),x&&this.add(x)},originX:{get:function(){return .5}},originY:{get:function(){return .5}},displayOriginX:{get:function(){return this.width*.5}},displayOriginY:{get:function(){return this.height*.5}},setExclusive:function(d){return d===void 0&&(d=!0),this.exclusive=d,this},getBounds:function(d){if(d===void 0&&(d=new s),d.setTo(this.x,this.y,0,0),this.parentContainer){var c=this.parentContainer.getBoundsTransformMatrix(),m=c.transformPoint(this.x,this.y);d.setTo(m.x,m.y,0,0)}if(this.list.length>0){var g=this.list,x=new s,T=!1;d.setEmpty();for(var S=0;S<g.length;S++){var P=g[S];P.getBounds&&(P.getBounds(x),T?i(x,d,d):(d.setTo(x.x,x.y,x.width,x.height),T=!0))}}return d},addHandler:function(d){d.once(r.DESTROY,this.onChildDestroyed,this),this.exclusive&&(d.parentContainer&&d.parentContainer.remove(d),d.parentContainer=this,d.removeFromDisplayList(),d.addedToScene())},removeHandler:function(d){d.off(r.DESTROY,this.remove,this),this.exclusive&&(d.parentContainer=null,d.removedFromScene(),d.addToDisplayList())},pointToContainer:function(d,c){c===void 0&&(c=new l),this.parentContainer?this.parentContainer.pointToContainer(d,c):(c.x=d.x,c.y=d.y);var m=u;return m.applyITRS(this.x,this.y,this.rotation,this.scaleX,this.scaleY),m.invert(),m.transformPoint(d.x,d.y,c),c},getBoundsTransformMatrix:function(){return this.getWorldTransformMatrix(u,this.localTransform)},add:function(d){return h.Add(this.list,d,this.maxSize,this.addHandler,this),this},addAt:function(d,c){return h.AddAt(this.list,d,c,this.maxSize,this.addHandler,this),this},getAt:function(d){return this.list[d]},getIndex:function(d){return this.list.indexOf(d)},sort:function(d,c){return d?(c===void 0&&(c=function(m,g){return m[d]-g[d]}),h.StableSort(this.list,c),this):this},getByName:function(d){return h.GetFirst(this.list,"name",d)},getRandom:function(d,c){return h.GetRandom(this.list,d,c)},getFirst:function(d,c,m,g){return h.GetFirst(this.list,d,c,m,g)},getAll:function(d,c,m,g){return h.GetAll(this.list,d,c,m,g)},count:function(d,c,m,g){return h.CountAllMatching(this.list,d,c,m,g)},swap:function(d,c){return h.Swap(this.list,d,c),this},moveTo:function(d,c){return h.MoveTo(this.list,d,c),this},moveAbove:function(d,c){return h.MoveAbove(this.list,d,c),this},moveBelow:function(d,c){return h.MoveBelow(this.list,d,c),this},remove:function(d,c){var m=h.Remove(this.list,d,this.removeHandler,this);if(c&&m){Array.isArray(m)||(m=[m]);for(var g=0;g<m.length;g++)m[g].destroy()}return this},removeAt:function(d,c){var m=h.RemoveAt(this.list,d,this.removeHandler,this);return c&&m&&m.destroy(),this},removeBetween:function(d,c,m){var g=h.RemoveBetween(this.list,d,c,this.removeHandler,this);if(m)for(var x=0;x<g.length;x++)g[x].destroy();return this},removeAll:function(d){var c=this.list;if(d){for(var m=0;m<c.length;m++)c[m]&&c[m].scene&&(c[m].off(r.DESTROY,this.onChildDestroyed,this),c[m].destroy());this.list=[]}else h.RemoveBetween(c,0,c.length,this.removeHandler,this);return this},bringToTop:function(d){return h.BringToTop(this.list,d),this},sendToBack:function(d){return h.SendToBack(this.list,d),this},moveUp:function(d){return h.MoveUp(this.list,d),this},moveDown:function(d){return h.MoveDown(this.list,d),this},reverse:function(){return this.list.reverse(),this},shuffle:function(){return h.Shuffle(this.list),this},replace:function(d,c,m){var g=h.Replace(this.list,d,c);return g&&(this.addHandler(c),this.removeHandler(d),m&&d.destroy()),this},exists:function(d){return this.list.indexOf(d)>-1},setAll:function(d,c,m,g){return h.SetAll(this.list,d,c,m,g),this},each:function(d,c){var m=[null],g,x=this.list.slice(),T=x.length;for(g=2;g<arguments.length;g++)m.push(arguments[g]);for(g=0;g<T;g++)m[0]=x[g],d.apply(c,m);return this},iterate:function(d,c){var m=[null],g;for(g=2;g<arguments.length;g++)m.push(arguments[g]);for(g=0;g<this.list.length;g++)m[0]=this.list[g],d.apply(c,m);return this},setScrollFactor:function(d,c,m){return c===void 0&&(c=d),m===void 0&&(m=!1),this.scrollFactorX=d,this.scrollFactorY=c,m&&(h.SetAll(this.list,"scrollFactorX",d),h.SetAll(this.list,"scrollFactorY",c)),this},length:{get:function(){return this.list.length}},first:{get:function(){return this.position=0,this.list.length>0?this.list[0]:null}},last:{get:function(){return this.list.length>0?(this.position=this.list.length-1,this.list[this.position]):null}},next:{get:function(){return this.position<this.list.length?(this.position++,this.list[this.position]):null}},previous:{get:function(){return this.position>0?(this.position--,this.list[this.position]):null}},preDestroy:function(){this.removeAll(!!this.exclusive),this.localTransform.destroy(),this.list=[]},onChildDestroyed:function(d){h.Remove(this.list,d),this.exclusive&&(d.parentContainer=null,d.removedFromScene())}});v.exports=f},53584:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,h,p,a){p.addToRenderList(h);var n=h.list;if(n.length!==0){var r=h.localTransform;a?(r.loadIdentity(),r.multiply(a),r.translate(h.x,h.y),r.rotate(h.rotation),r.scale(h.scaleX,h.scaleY)):r.applyITRS(h.x,h.y,h.rotation,h.scaleX,h.scaleY);var e=h.blendMode!==-1;e||t.setBlendMode(0);var s=h._alpha,o=h.scrollFactorX,i=h.scrollFactorY;h.mask&&h.mask.preRenderCanvas(t,null,p);for(var l=0;l<n.length;l++){var u=n[l];if(u.willRender(p)){var f=u.alpha,d=u.scrollFactorX,c=u.scrollFactorY;!e&&u.blendMode!==t.currentBlendMode&&t.setBlendMode(u.blendMode),u.setScrollFactor(d*o,c*i),u.setAlpha(f*s),u.renderCanvas(t,u,p,r),u.setAlpha(f),u.setScrollFactor(d,c)}}h.mask&&h.mask.postRenderCanvas(t)}};v.exports=y},77143:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(25305),p=t(31559),a=t(44603),n=t(23568),r=t(95540);a.register("container",function(e,s){e===void 0&&(e={});var o=n(e,"x",0),i=n(e,"y",0),l=r(e,"children",null),u=new p(this.scene,o,i,l);return s!==void 0&&(e.add=s),h(this.scene,u,e),u})},24961:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(31559),p=t(39429);p.register("container",function(a,n,r){return this.displayList.add(new h(this.scene,a,n,r))})},29959:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(29747),p=h,a=h;p=t(72249),a=t(53584),v.exports={renderWebGL:p,renderCanvas:a}},72249:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,h,p,a){p.addToRenderList(h);var n=h.list,r=n.length;if(r!==0){var e=h.localTransform;a?(e.loadIdentity(),e.multiply(a),e.translate(h.x,h.y),e.rotate(h.rotation),e.scale(h.scaleX,h.scaleY)):e.applyITRS(h.x,h.y,h.rotation,h.scaleX,h.scaleY),t.pipelines.preBatch(h);var s=h.blendMode!==-1;s||t.setBlendMode(0);for(var o=h.alpha,i=h.scrollFactorX,l=h.scrollFactorY,u=0;u<r;u++){var f=n[u];if(f.willRender(p)){var d,c,m,g;if(f.alphaTopLeft!==void 0)d=f.alphaTopLeft,c=f.alphaTopRight,m=f.alphaBottomLeft,g=f.alphaBottomRight;else{var x=f.alpha;d=x,c=x,m=x,g=x}var T=f.scrollFactorX,S=f.scrollFactorY;!s&&f.blendMode!==t.currentBlendMode&&t.setBlendMode(f.blendMode);var P=f.mask;P&&P.preRenderWebGL(t,f,p);var L=f.type;L!==t.currentType&&(t.newType=!0,t.currentType=L),t.nextTypeMatch=u<r-1?n[u+1].type===t.currentType:!1,f.setScrollFactor(T*i,S*l),f.setAlpha(d*o,c*o,m*o,g*o),f.renderWebGL(t,f,p,e,h),f.setAlpha(d,c,m,g),f.setScrollFactor(T,S),P&&P.postRenderWebGL(t,p),t.newType=!1}}t.pipelines.postBatch(h)}};v.exports=y},47407:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports=["normal","multiply","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"]},3069:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),p=t(31401),a=t(441),n=t(95643),r=t(41212),e=t(35846),s=t(44594),o=t(61369),i=new h({Extends:n,Mixins:[p.AlphaSingle,p.BlendMode,p.Depth,p.Origin,p.ScrollFactor,p.Transform,p.Visible,a],initialize:function(u,f,d,c,m,g){n.call(this,u,"DOMElement"),this.parent=u.sys.game.domContainer,this.cache=u.sys.cache.html,this.node,this.transformOnly=!1,this.skewX=0,this.skewY=0,this.rotate3d=new o,this.rotate3dAngle="deg",this.pointerEvents="auto",this.width=0,this.height=0,this.displayWidth=0,this.displayHeight=0,this.handler=this.dispatchNativeEvent.bind(this),this.setPosition(f,d),typeof c=="string"?c[0]==="#"?this.setElement(c.substr(1),m,g):this.createElement(c,m,g):c&&this.setElement(c,m,g),u.sys.events.on(s.SLEEP,this.handleSceneEvent,this),u.sys.events.on(s.WAKE,this.handleSceneEvent,this),u.sys.events.on(s.PRE_RENDER,this.preRender,this)},handleSceneEvent:function(l){var u=this.node,f=u.style;u&&(f.display=l.settings.visible?"block":"none")},setSkew:function(l,u){return l===void 0&&(l=0),u===void 0&&(u=l),this.skewX=l,this.skewY=u,this},setPerspective:function(l){return this.parent.style.perspective=l+"px",this},perspective:{get:function(){return parseFloat(this.parent.style.perspective)},set:function(l){this.parent.style.perspective=l+"px"}},addListener:function(l){if(this.node){l=l.split(" ");for(var u=0;u<l.length;u++)this.node.addEventListener(l[u],this.handler,!1)}return this},removeListener:function(l){if(this.node){l=l.split(" ");for(var u=0;u<l.length;u++)this.node.removeEventListener(l[u],this.handler)}return this},dispatchNativeEvent:function(l){this.emit(l.type,l)},createElement:function(l,u,f){return this.setElement(document.createElement(l),u,f)},setElement:function(l,u,f){this.removeElement();var d;if(typeof l=="string"?(l[0]==="#"&&(l=l.substr(1)),d=document.getElementById(l)):typeof l=="object"&&l.nodeType===1&&(d=l),!d)return this;if(this.node=d,u&&r(u))for(var c in u)d.style[c]=u[c];else typeof u=="string"&&(d.style=u);return d.style.zIndex="0",d.style.display="inline",d.style.position="absolute",d.phaser=this,this.parent&&this.parent.appendChild(d),f&&(d.innerText=f),this.updateSize()},createFromCache:function(l,u){var f=this.cache.get(l);return f&&this.createFromHTML(f,u),this},createFromHTML:function(l,u){u===void 0&&(u="div"),this.removeElement();var f=document.createElement(u);return this.node=f,f.style.zIndex="0",f.style.display="inline",f.style.position="absolute",f.phaser=this,this.parent&&this.parent.appendChild(f),f.innerHTML=l,this.updateSize()},removeElement:function(){return this.node&&(e(this.node),this.node=null),this},updateSize:function(){var l=this.node,u=l.getBoundingClientRect();return this.width=l.clientWidth,this.height=l.clientHeight,this.displayWidth=u.width||0,this.displayHeight=u.height||0,this},getChildByProperty:function(l,u){if(this.node){for(var f=this.node.querySelectorAll("*"),d=0;d<f.length;d++)if(f[d][l]===u)return f[d]}return null},getChildByID:function(l){return this.getChildByProperty("id",l)},getChildByName:function(l){return this.getChildByProperty("name",l)},setClassName:function(l){return this.node&&(this.node.className=l,this.updateSize()),this},setText:function(l){return this.node&&(this.node.innerText=l,this.updateSize()),this},setHTML:function(l){return this.node&&(this.node.innerHTML=l,this.updateSize()),this},preRender:function(){var l=this.parentContainer,u=this.node;u&&l&&!l.willRender()&&(u.style.display="none")},willRender:function(){return!0},preDestroy:function(){this.removeElement(),this.scene.sys.events.off(s.SLEEP,this.handleSceneEvent,this),this.scene.sys.events.off(s.WAKE,this.handleSceneEvent,this),this.scene.sys.events.off(s.PRE_RENDER,this.preRender,this)}});v.exports=i},49381:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(47407),p=t(95643),a=t(61340),n=new a,r=new a,e=new a,s=function(o,i,l,u){if(i.node){var f=i.node.style,d=i.scene.sys.settings;if(!f||!d.visible||p.RENDER_MASK!==i.renderFlags||i.cameraFilter!==0&&i.cameraFilter&l.id||i.parentContainer&&!i.parentContainer.willRender()){f.display="none";return}var c=i.parentContainer,m=l.alpha*i.alpha;c&&(m*=c.alpha);var g=n,x=r,T=e,S=0,P=0,L="0%",I="0%";u?(S=i.width*i.scaleX*i.originX,P=i.height*i.scaleY*i.originY,x.applyITRS(i.x-S,i.y-P,i.rotation,i.scaleX,i.scaleY),g.copyFrom(l.matrix),g.multiplyWithOffset(u,-l.scrollX*i.scrollFactorX,-l.scrollY*i.scrollFactorY),x.e=i.x-S,x.f=i.y-P,g.multiply(x,T)):(S=i.width*i.originX,P=i.height*i.originY,x.applyITRS(i.x,i.y,i.rotation,i.scaleX,i.scaleY),g.copyFrom(l.matrix),L=100*i.originX+"%",I=100*i.originY+"%",x.e-=l.scrollX*i.scrollFactorX,x.f-=l.scrollY*i.scrollFactorY,g.multiply(x,T),T.e-=S,T.f-=P),i.transformOnly||(f.display="block",f.opacity=m,f.zIndex=i._depth,f.pointerEvents=i.pointerEvents,f.mixBlendMode=h[i._blendMode]),f.transform=T.getCSSMatrix()+" skew("+i.skewX+"rad, "+i.skewY+"rad) rotate3d("+i.rotate3d.x+","+i.rotate3d.y+","+i.rotate3d.z+","+i.rotate3d.w+i.rotate3dAngle+")",f.transformOrigin=L+" "+I}};v.exports=s},2611:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(3069),p=t(39429);p.register("dom",function(a,n,r,e,s){var o=new h(this.scene,a,n,r,e,s);return this.displayList.add(o),o})},441:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(29747),p=h,a=h;p=t(49381),a=t(49381),v.exports={renderWebGL:p,renderCanvas:a}},62980:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="addedtoscene"},41337:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="destroy"},44947:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="removedfromscene"},49358:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="complete"},35163:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="created"},97249:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="error"},19483:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="locked"},56059:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="loop"},26772:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="metadata"},64437:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="playing"},83411:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="play"},75780:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="seeked"},67799:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="seeking"},63500:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="stalled"},55541:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="stop"},53208:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="textureready"},4992:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="unlocked"},12:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="unsupported"},51708:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={ADDED_TO_SCENE:t(62980),DESTROY:t(41337),REMOVED_FROM_SCENE:t(44947),VIDEO_COMPLETE:t(49358),VIDEO_CREATED:t(35163),VIDEO_ERROR:t(97249),VIDEO_LOCKED:t(19483),VIDEO_LOOP:t(56059),VIDEO_METADATA:t(26772),VIDEO_PLAY:t(83411),VIDEO_PLAYING:t(64437),VIDEO_SEEKED:t(75780),VIDEO_SEEKING:t(67799),VIDEO_STALLED:t(63500),VIDEO_STOP:t(55541),VIDEO_TEXTURE:t(53208),VIDEO_UNLOCKED:t(4992),VIDEO_UNSUPPORTED:t(12)}},42421:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),p=t(31401),a=t(95643),n=t(64993),r=new h({Extends:a,Mixins:[p.Alpha,p.BlendMode,p.Depth,p.Flip,p.Origin,p.ScrollFactor,p.Size,p.Texture,p.Tint,p.Transform,p.Visible,n],initialize:function(s){a.call(this,s,"Extern")},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},preUpdate:function(){},render:function(){}});v.exports=r},70217:()=>{},56315:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(42421),p=t(39429);p.register("extern",function(){var a=new h(this.scene);return this.displayList.add(a),a})},64993:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(29747),p=h,a=h;p=t(80287),a=t(70217),v.exports={renderWebGL:p,renderCanvas:a}},80287:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(91296),p=function(a,n,r,e){a.pipelines.clear();var s=h(n,r,e).calc;n.render.call(n,a,r,s),a.pipelines.rebind()};v.exports=p},85592:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={ARC:0,BEGIN_PATH:1,CLOSE_PATH:2,FILL_RECT:3,LINE_TO:4,MOVE_TO:5,LINE_STYLE:6,FILL_STYLE:7,FILL_PATH:8,STROKE_PATH:9,FILL_TRIANGLE:10,STROKE_TRIANGLE:11,SAVE:14,RESTORE:15,TRANSLATE:16,SCALE:17,ROTATE:18,GRADIENT_FILL_STYLE:21,GRADIENT_LINE_STYLE:22}},43831:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(71911),p=t(83419),a=t(85592),n=t(31401),r=t(8497),e=t(95643),s=t(95540),o=t(35154),i=t(36383),l=t(84503),u=new p({Extends:e,Mixins:[n.AlphaSingle,n.BlendMode,n.Depth,n.Mask,n.Pipeline,n.PostPipeline,n.Transform,n.Visible,n.ScrollFactor,l],initialize:function(d,c){var m=o(c,"x",0),g=o(c,"y",0);e.call(this,d,"Graphics"),this.setPosition(m,g),this.initPipeline(),this.initPostPipeline(),this.displayOriginX=0,this.displayOriginY=0,this.commandBuffer=[],this.defaultFillColor=-1,this.defaultFillAlpha=1,this.defaultStrokeWidth=1,this.defaultStrokeColor=-1,this.defaultStrokeAlpha=1,this._lineWidth=1,this.lineStyle(1,0,0),this.fillStyle(0,0),this.setDefaultStyles(c)},setDefaultStyles:function(f){return o(f,"lineStyle",null)&&(this.defaultStrokeWidth=o(f,"lineStyle.width",1),this.defaultStrokeColor=o(f,"lineStyle.color",16777215),this.defaultStrokeAlpha=o(f,"lineStyle.alpha",1),this.lineStyle(this.defaultStrokeWidth,this.defaultStrokeColor,this.defaultStrokeAlpha)),o(f,"fillStyle",null)&&(this.defaultFillColor=o(f,"fillStyle.color",16777215),this.defaultFillAlpha=o(f,"fillStyle.alpha",1),this.fillStyle(this.defaultFillColor,this.defaultFillAlpha)),this},lineStyle:function(f,d,c){return c===void 0&&(c=1),this.commandBuffer.push(a.LINE_STYLE,f,d,c),this._lineWidth=f,this},fillStyle:function(f,d){return d===void 0&&(d=1),this.commandBuffer.push(a.FILL_STYLE,f,d),this},fillGradientStyle:function(f,d,c,m,g,x,T,S){return g===void 0&&(g=1),x===void 0&&(x=g),T===void 0&&(T=g),S===void 0&&(S=g),this.commandBuffer.push(a.GRADIENT_FILL_STYLE,g,x,T,S,f,d,c,m),this},lineGradientStyle:function(f,d,c,m,g,x){return x===void 0&&(x=1),this.commandBuffer.push(a.GRADIENT_LINE_STYLE,f,x,d,c,m,g),this},beginPath:function(){return this.commandBuffer.push(a.BEGIN_PATH),this},closePath:function(){return this.commandBuffer.push(a.CLOSE_PATH),this},fillPath:function(){return this.commandBuffer.push(a.FILL_PATH),this},fill:function(){return this.commandBuffer.push(a.FILL_PATH),this},strokePath:function(){return this.commandBuffer.push(a.STROKE_PATH),this},stroke:function(){return this.commandBuffer.push(a.STROKE_PATH),this},fillCircleShape:function(f){return this.fillCircle(f.x,f.y,f.radius)},strokeCircleShape:function(f){return this.strokeCircle(f.x,f.y,f.radius)},fillCircle:function(f,d,c){return this.beginPath(),this.arc(f,d,c,0,i.PI2),this.fillPath(),this},strokeCircle:function(f,d,c){return this.beginPath(),this.arc(f,d,c,0,i.PI2),this.strokePath(),this},fillRectShape:function(f){return this.fillRect(f.x,f.y,f.width,f.height)},strokeRectShape:function(f){return this.strokeRect(f.x,f.y,f.width,f.height)},fillRect:function(f,d,c,m){return this.commandBuffer.push(a.FILL_RECT,f,d,c,m),this},strokeRect:function(f,d,c,m){var g=this._lineWidth/2,x=f-g,T=f+g;return this.beginPath(),this.moveTo(f,d),this.lineTo(f,d+m),this.strokePath(),this.beginPath(),this.moveTo(f+c,d),this.lineTo(f+c,d+m),this.strokePath(),this.beginPath(),this.moveTo(x,d),this.lineTo(T+c,d),this.strokePath(),this.beginPath(),this.moveTo(x,d+m),this.lineTo(T+c,d+m),this.strokePath(),this},fillRoundedRect:function(f,d,c,m,g){g===void 0&&(g=20);var x=g,T=g,S=g,P=g;typeof g!="number"&&(x=s(g,"tl",20),T=s(g,"tr",20),S=s(g,"bl",20),P=s(g,"br",20));var L=x>=0,I=T>=0,O=S>=0,M=P>=0;return x=Math.abs(x),T=Math.abs(T),S=Math.abs(S),P=Math.abs(P),this.beginPath(),this.moveTo(f+x,d),this.lineTo(f+c-T,d),I?this.arc(f+c-T,d+T,T,-i.TAU,0):this.arc(f+c,d,T,Math.PI,i.TAU,!0),this.lineTo(f+c,d+m-P),M?this.arc(f+c-P,d+m-P,P,0,i.TAU):this.arc(f+c,d+m,P,-i.TAU,Math.PI,!0),this.lineTo(f+S,d+m),O?this.arc(f+S,d+m-S,S,i.TAU,Math.PI):this.arc(f,d+m,S,0,-i.TAU,!0),this.lineTo(f,d+x),L?this.arc(f+x,d+x,x,-Math.PI,-i.TAU):this.arc(f,d,x,i.TAU,0,!0),this.fillPath(),this},strokeRoundedRect:function(f,d,c,m,g){g===void 0&&(g=20);var x=g,T=g,S=g,P=g,L=Math.min(c,m)/2;typeof g!="number"&&(x=s(g,"tl",20),T=s(g,"tr",20),S=s(g,"bl",20),P=s(g,"br",20));var I=x>=0,O=T>=0,M=S>=0,w=P>=0;return x=Math.min(Math.abs(x),L),T=Math.min(Math.abs(T),L),S=Math.min(Math.abs(S),L),P=Math.min(Math.abs(P),L),this.beginPath(),this.moveTo(f+x,d),this.lineTo(f+c-T,d),this.moveTo(f+c-T,d),O?this.arc(f+c-T,d+T,T,-i.TAU,0):this.arc(f+c,d,T,Math.PI,i.TAU,!0),this.lineTo(f+c,d+m-P),this.moveTo(f+c,d+m-P),w?this.arc(f+c-P,d+m-P,P,0,i.TAU):this.arc(f+c,d+m,P,-i.TAU,Math.PI,!0),this.lineTo(f+S,d+m),this.moveTo(f+S,d+m),M?this.arc(f+S,d+m-S,S,i.TAU,Math.PI):this.arc(f,d+m,S,0,-i.TAU,!0),this.lineTo(f,d+x),this.moveTo(f,d+x),I?this.arc(f+x,d+x,x,-Math.PI,-i.TAU):this.arc(f,d,x,i.TAU,0,!0),this.strokePath(),this},fillPointShape:function(f,d){return this.fillPoint(f.x,f.y,d)},fillPoint:function(f,d,c){return!c||c<1?c=1:(f-=c/2,d-=c/2),this.commandBuffer.push(a.FILL_RECT,f,d,c,c),this},fillTriangleShape:function(f){return this.fillTriangle(f.x1,f.y1,f.x2,f.y2,f.x3,f.y3)},strokeTriangleShape:function(f){return this.strokeTriangle(f.x1,f.y1,f.x2,f.y2,f.x3,f.y3)},fillTriangle:function(f,d,c,m,g,x){return this.commandBuffer.push(a.FILL_TRIANGLE,f,d,c,m,g,x),this},strokeTriangle:function(f,d,c,m,g,x){return this.commandBuffer.push(a.STROKE_TRIANGLE,f,d,c,m,g,x),this},strokeLineShape:function(f){return this.lineBetween(f.x1,f.y1,f.x2,f.y2)},lineBetween:function(f,d,c,m){return this.beginPath(),this.moveTo(f,d),this.lineTo(c,m),this.strokePath(),this},lineTo:function(f,d){return this.commandBuffer.push(a.LINE_TO,f,d),this},moveTo:function(f,d){return this.commandBuffer.push(a.MOVE_TO,f,d),this},strokePoints:function(f,d,c,m){d===void 0&&(d=!1),c===void 0&&(c=!1),m===void 0&&(m=f.length),this.beginPath(),this.moveTo(f[0].x,f[0].y);for(var g=1;g<m;g++)this.lineTo(f[g].x,f[g].y);return d&&this.lineTo(f[0].x,f[0].y),c&&this.closePath(),this.strokePath(),this},fillPoints:function(f,d,c,m){d===void 0&&(d=!1),c===void 0&&(c=!1),m===void 0&&(m=f.length),this.beginPath(),this.moveTo(f[0].x,f[0].y);for(var g=1;g<m;g++)this.lineTo(f[g].x,f[g].y);return d&&this.lineTo(f[0].x,f[0].y),c&&this.closePath(),this.fillPath(),this},strokeEllipseShape:function(f,d){d===void 0&&(d=32);var c=f.getPoints(d);return this.strokePoints(c,!0)},strokeEllipse:function(f,d,c,m,g){g===void 0&&(g=32);var x=new r(f,d,c,m),T=x.getPoints(g);return this.strokePoints(T,!0)},fillEllipseShape:function(f,d){d===void 0&&(d=32);var c=f.getPoints(d);return this.fillPoints(c,!0)},fillEllipse:function(f,d,c,m,g){g===void 0&&(g=32);var x=new r(f,d,c,m),T=x.getPoints(g);return this.fillPoints(T,!0)},arc:function(f,d,c,m,g,x,T){return x===void 0&&(x=!1),T===void 0&&(T=0),this.commandBuffer.push(a.ARC,f,d,c,m,g,x,T),this},slice:function(f,d,c,m,g,x,T){return x===void 0&&(x=!1),T===void 0&&(T=0),this.commandBuffer.push(a.BEGIN_PATH),this.commandBuffer.push(a.MOVE_TO,f,d),this.commandBuffer.push(a.ARC,f,d,c,m,g,x,T),this.commandBuffer.push(a.CLOSE_PATH),this},save:function(){return this.commandBuffer.push(a.SAVE),this},restore:function(){return this.commandBuffer.push(a.RESTORE),this},translateCanvas:function(f,d){return this.commandBuffer.push(a.TRANSLATE,f,d),this},scaleCanvas:function(f,d){return this.commandBuffer.push(a.SCALE,f,d),this},rotateCanvas:function(f){return this.commandBuffer.push(a.ROTATE,f),this},clear:function(){return this.commandBuffer.length=0,this.defaultFillColor>-1&&this.fillStyle(this.defaultFillColor,this.defaultFillAlpha),this.defaultStrokeColor>-1&&this.lineStyle(this.defaultStrokeWidth,this.defaultStrokeColor,this.defaultStrokeAlpha),this},generateTexture:function(f,d,c){var m=this.scene.sys,g=m.game.renderer;d===void 0&&(d=m.scale.width),c===void 0&&(c=m.scale.height),u.TargetCamera.setScene(this.scene),u.TargetCamera.setViewport(0,0,d,c),u.TargetCamera.scrollX=this.x,u.TargetCamera.scrollY=this.y;var x,T,S={willReadFrequently:!0};if(typeof f=="string")if(m.textures.exists(f)){x=m.textures.get(f);var P=x.getSourceImage();P instanceof HTMLCanvasElement&&(T=P.getContext("2d",S))}else x=m.textures.createCanvas(f,d,c),T=x.getSourceImage().getContext("2d",S);else f instanceof HTMLCanvasElement&&(T=f.getContext("2d",S));return T&&(this.renderCanvas(g,this,u.TargetCamera,null,T,!1),x&&x.refresh()),this},preDestroy:function(){this.commandBuffer=[]}});u.TargetCamera=new h,v.exports=u},32768:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(85592),p=t(20926),a=function(n,r,e,s,o,i){var l=r.commandBuffer,u=l.length,f=o||n.currentContext;if(!(u===0||!p(n,f,r,e,s))){e.addToRenderList(r);var d=1,c=1,m=0,g=0,x=1,T=0,S=0,P=0;f.beginPath();for(var L=0;L<u;++L){var I=l[L];switch(I){case h.ARC:f.arc(l[L+1],l[L+2],l[L+3],l[L+4],l[L+5],l[L+6]),L+=7;break;case h.LINE_STYLE:x=l[L+1],m=l[L+2],d=l[L+3],T=(m&16711680)>>>16,S=(m&65280)>>>8,P=m&255,f.strokeStyle="rgba("+T+","+S+","+P+","+d+")",f.lineWidth=x,L+=3;break;case h.FILL_STYLE:g=l[L+1],c=l[L+2],T=(g&16711680)>>>16,S=(g&65280)>>>8,P=g&255,f.fillStyle="rgba("+T+","+S+","+P+","+c+")",L+=2;break;case h.BEGIN_PATH:f.beginPath();break;case h.CLOSE_PATH:f.closePath();break;case h.FILL_PATH:i||f.fill();break;case h.STROKE_PATH:i||f.stroke();break;case h.FILL_RECT:i?f.rect(l[L+1],l[L+2],l[L+3],l[L+4]):f.fillRect(l[L+1],l[L+2],l[L+3],l[L+4]),L+=4;break;case h.FILL_TRIANGLE:f.beginPath(),f.moveTo(l[L+1],l[L+2]),f.lineTo(l[L+3],l[L+4]),f.lineTo(l[L+5],l[L+6]),f.closePath(),i||f.fill(),L+=6;break;case h.STROKE_TRIANGLE:f.beginPath(),f.moveTo(l[L+1],l[L+2]),f.lineTo(l[L+3],l[L+4]),f.lineTo(l[L+5],l[L+6]),f.closePath(),i||f.stroke(),L+=6;break;case h.LINE_TO:f.lineTo(l[L+1],l[L+2]),L+=2;break;case h.MOVE_TO:f.moveTo(l[L+1],l[L+2]),L+=2;break;case h.LINE_FX_TO:f.lineTo(l[L+1],l[L+2]),L+=5;break;case h.MOVE_FX_TO:f.moveTo(l[L+1],l[L+2]),L+=5;break;case h.SAVE:f.save();break;case h.RESTORE:f.restore();break;case h.TRANSLATE:f.translate(l[L+1],l[L+2]),L+=2;break;case h.SCALE:f.scale(l[L+1],l[L+2]),L+=2;break;case h.ROTATE:f.rotate(l[L+1]),L+=1;break;case h.GRADIENT_FILL_STYLE:L+=5;break;case h.GRADIENT_LINE_STYLE:L+=6;break}}f.restore()}};v.exports=a},87079:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(44603),p=t(43831);h.register("graphics",function(a,n){a===void 0&&(a={}),n!==void 0&&(a.add=n);var r=new p(this.scene,a);return a.add&&this.scene.sys.displayList.add(r),r})},1201:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(43831),p=t(39429);p.register("graphics",function(a){return this.displayList.add(new h(this.scene,a))})},84503:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(29747),p=h,a=h;p=t(77545),a=t(32768),a=t(32768),v.exports={renderWebGL:p,renderCanvas:a}},77545:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(85592),p=t(91296),a=t(61340),n=t(70554),r=function(l,u,f){this.x=l,this.y=u,this.width=f},e=function(l,u,f){this.points=[],this.pointsLength=1,this.points[0]=new r(l,u,f)},s=[],o=new a,i=function(l,u,f,d){if(u.commandBuffer.length!==0){f.addToRenderList(u);var c=l.pipelines.set(u.pipeline,u);l.pipelines.preBatch(u);for(var m=p(u,f,d).calc,g=o.loadIdentity(),x=u.commandBuffer,T=f.alpha*u.alpha,S=1,P=c.fillTint,L=c.strokeTint,I=0,O=0,M=0,w=.01,D=Math.PI*2,U,Y=[],H=0,X=!0,G=null,z=n.getTintAppendFloatAlpha,b=0;b<x.length;b++)switch(U=x[b],U){case h.BEGIN_PATH:{Y.length=0,G=null,X=!0;break}case h.CLOSE_PATH:{X=!1,G&&G.points.length&&G.points.push(G.points[0]);break}case h.FILL_PATH:{for(H=0;H<Y.length;H++)c.batchFillPath(Y[H].points,g,m);break}case h.STROKE_PATH:{for(H=0;H<Y.length;H++)c.batchStrokePath(Y[H].points,S,X,g,m);break}case h.LINE_STYLE:{S=x[++b];var N=x[++b],W=x[++b]*T,K=z(N,W);L.TL=K,L.TR=K,L.BL=K,L.BR=K;break}case h.FILL_STYLE:{var J=x[++b],j=x[++b]*T,Z=z(J,j);P.TL=Z,P.TR=Z,P.BL=Z,P.BR=Z;break}case h.GRADIENT_FILL_STYLE:{var q=x[++b]*T,_=x[++b]*T,tt=x[++b]*T,et=x[++b]*T;P.TL=z(x[++b],q),P.TR=z(x[++b],_),P.BL=z(x[++b],tt),P.BR=z(x[++b],et);break}case h.GRADIENT_LINE_STYLE:{S=x[++b];var ot=x[++b]*T;L.TL=z(x[++b],ot),L.TR=z(x[++b],ot),L.BL=z(x[++b],ot),L.BR=z(x[++b],ot);break}case h.ARC:{var it=0,lt=x[++b],vt=x[++b],xt=x[++b],yt=x[++b],nt=x[++b],dt=x[++b],ct=x[++b];for(nt-=yt,dt?nt<-D?nt=-D:nt>0&&(nt=-D+nt%D):nt>D?nt=D:nt<0&&(nt=D+nt%D),G===null&&(G=new e(lt+Math.cos(yt)*xt,vt+Math.sin(yt)*xt,S),Y.push(G),it+=w);it<1+ct;)M=nt*it+yt,I=lt+Math.cos(M)*xt,O=vt+Math.sin(M)*xt,G.points.push(new r(I,O,S)),it+=w;M=nt+yt,I=lt+Math.cos(M)*xt,O=vt+Math.sin(M)*xt,G.points.push(new r(I,O,S));break}case h.FILL_RECT:{c.batchFillRect(x[++b],x[++b],x[++b],x[++b],g,m);break}case h.FILL_TRIANGLE:{c.batchFillTriangle(x[++b],x[++b],x[++b],x[++b],x[++b],x[++b],g,m);break}case h.STROKE_TRIANGLE:{c.batchStrokeTriangle(x[++b],x[++b],x[++b],x[++b],x[++b],x[++b],S,g,m);break}case h.LINE_TO:{G!==null?G.points.push(new r(x[++b],x[++b],S)):(G=new e(x[++b],x[++b],S),Y.push(G));break}case h.MOVE_TO:{G=new e(x[++b],x[++b],S),Y.push(G);break}case h.SAVE:{s.push(g.copyToArray());break}case h.RESTORE:{g.copyFromArray(s.pop());break}case h.TRANSLATE:{lt=x[++b],vt=x[++b],g.translate(lt,vt);break}case h.SCALE:{lt=x[++b],vt=x[++b],g.scale(lt,vt);break}case h.ROTATE:{g.rotate(x[++b]);break}}l.pipelines.postBatch(u)}};v.exports=i},26479:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(61061),p=t(83419),a=t(51708),n=t(50792),r=t(46710),e=t(95540),s=t(35154),o=t(97022),i=t(41212),l=t(88492),u=t(35072),f=t(68287),d=new p({Extends:n,initialize:function(m,g,x){n.call(this),x?g&&!Array.isArray(g)&&(g=[g]):Array.isArray(g)?i(g[0])&&(x=g,g=null):i(g)&&(x=g,g=null),this.scene=m,this.children=new u,this.isParent=!0,this.type="Group",this.classType=e(x,"classType",f),this.name=e(x,"name",""),this.active=e(x,"active",!0),this.maxSize=e(x,"maxSize",-1),this.defaultKey=e(x,"defaultKey",null),this.defaultFrame=e(x,"defaultFrame",null),this.runChildUpdate=e(x,"runChildUpdate",!1),this.createCallback=e(x,"createCallback",null),this.removeCallback=e(x,"removeCallback",null),this.createMultipleCallback=e(x,"createMultipleCallback",null),this.internalCreateCallback=e(x,"internalCreateCallback",null),this.internalRemoveCallback=e(x,"internalRemoveCallback",null),g&&this.addMultiple(g),x&&this.createMultiple(x),this.on(a.ADDED_TO_SCENE,this.addedToScene,this),this.on(a.REMOVED_FROM_SCENE,this.removedFromScene,this)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},create:function(c,m,g,x,T,S){if(c===void 0&&(c=0),m===void 0&&(m=0),g===void 0&&(g=this.defaultKey),x===void 0&&(x=this.defaultFrame),T===void 0&&(T=!0),S===void 0&&(S=!0),this.isFull())return null;var P=new this.classType(this.scene,c,m,g,x);return P.addToDisplayList(this.scene.sys.displayList),P.addToUpdateList(),P.visible=T,P.setActive(S),this.add(P),P},createMultiple:function(c){if(this.isFull())return[];Array.isArray(c)||(c=[c]);var m=[];if(c[0].key)for(var g=0;g<c.length;g++){var x=this.createFromConfig(c[g]);m=m.concat(x)}return m},createFromConfig:function(c){if(this.isFull())return[];this.classType=e(c,"classType",this.classType);var m=e(c,"key",void 0),g=e(c,"frame",null),x=e(c,"visible",!0),T=e(c,"active",!0),S=[];if(m===void 0)return S;Array.isArray(m)||(m=[m]),Array.isArray(g)||(g=[g]);var P=e(c,"repeat",0),L=e(c,"randomKey",!1),I=e(c,"randomFrame",!1),O=e(c,"yoyo",!1),M=e(c,"quantity",!1),w=e(c,"frameQuantity",1),D=e(c,"max",0),U=l(m,g,{max:D,qty:M||w,random:L,randomB:I,repeat:P,yoyo:O});c.createCallback&&(this.createCallback=c.createCallback),c.removeCallback&&(this.removeCallback=c.removeCallback),c.internalCreateCallback&&(this.internalCreateCallback=c.internalCreateCallback),c.internalRemoveCallback&&(this.internalRemoveCallback=c.internalRemoveCallback);for(var Y=0;Y<U.length;Y++){var H=this.create(0,0,U[Y].a,U[Y].b,x,T);if(!H)break;S.push(H)}if(o(c,"setXY")){var X=s(c,"setXY.x",0),G=s(c,"setXY.y",0),z=s(c,"setXY.stepX",0),b=s(c,"setXY.stepY",0);h.SetXY(S,X,G,z,b)}if(o(c,"setRotation")){var N=s(c,"setRotation.value",0),W=s(c,"setRotation.step",0);h.SetRotation(S,N,W)}if(o(c,"setScale")){var K=s(c,"setScale.x",1),J=s(c,"setScale.y",K),j=s(c,"setScale.stepX",0),Z=s(c,"setScale.stepY",0);h.SetScale(S,K,J,j,Z)}if(o(c,"setOrigin")){var q=s(c,"setOrigin.x",.5),_=s(c,"setOrigin.y",q),tt=s(c,"setOrigin.stepX",0),et=s(c,"setOrigin.stepY",0);h.SetOrigin(S,q,_,tt,et)}if(o(c,"setAlpha")){var ot=s(c,"setAlpha.value",1),it=s(c,"setAlpha.step",0);h.SetAlpha(S,ot,it)}if(o(c,"setDepth")){var lt=s(c,"setDepth.value",0),vt=s(c,"setDepth.step",0);h.SetDepth(S,lt,vt)}if(o(c,"setScrollFactor")){var xt=s(c,"setScrollFactor.x",1),yt=s(c,"setScrollFactor.y",xt),nt=s(c,"setScrollFactor.stepX",0),dt=s(c,"setScrollFactor.stepY",0);h.SetScrollFactor(S,xt,yt,nt,dt)}var ct=e(c,"hitArea",null),Rt=e(c,"hitAreaCallback",null);ct&&h.SetHitArea(S,ct,Rt);var It=e(c,"gridAlign",!1);return It&&h.GridAlign(S,It),this.createMultipleCallback&&this.createMultipleCallback.call(this,S),S},preUpdate:function(c,m){if(!(!this.runChildUpdate||this.children.size===0))for(var g=this.children.entries.slice(),x=0;x<g.length;x++){var T=g[x];T.active&&T.update(c,m)}},add:function(c,m){return m===void 0&&(m=!1),this.isFull()?this:(this.children.set(c),this.internalCreateCallback&&this.internalCreateCallback.call(this,c),this.createCallback&&this.createCallback.call(this,c),m&&(c.addToDisplayList(this.scene.sys.displayList),c.addToUpdateList()),c.on(a.DESTROY,this.remove,this),this)},addMultiple:function(c,m){if(m===void 0&&(m=!1),Array.isArray(c))for(var g=0;g<c.length;g++)this.add(c[g],m);return this},remove:function(c,m,g){return m===void 0&&(m=!1),g===void 0&&(g=!1),this.children.contains(c)?(this.children.delete(c),this.internalRemoveCallback&&this.internalRemoveCallback.call(this,c),this.removeCallback&&this.removeCallback.call(this,c),c.off(a.DESTROY,this.remove,this),g?c.destroy():m&&(c.removeFromDisplayList(),c.removeFromUpdateList()),this):this},clear:function(c,m){c===void 0&&(c=!1),m===void 0&&(m=!1);for(var g=this.children,x=0;x<g.size;x++){var T=g.entries[x];T.off(a.DESTROY,this.remove,this),m?T.destroy():c&&(T.removeFromDisplayList(),T.removeFromUpdateList())}return this.children.clear(),this},contains:function(c){return this.children.contains(c)},getChildren:function(){return this.children.entries},getLength:function(){return this.children.size},getMatching:function(c,m,g,x){return r(this.children.entries,c,m,g,x)},getFirst:function(c,m,g,x,T,S,P){return this.getHandler(!0,1,c,m,g,x,T,S,P)},getFirstNth:function(c,m,g,x,T,S,P,L){return this.getHandler(!0,c,m,g,x,T,S,P,L)},getLast:function(c,m,g,x,T,S,P){return this.getHandler(!1,1,c,m,g,x,T,S,P)},getLastNth:function(c,m,g,x,T,S,P,L){return this.getHandler(!1,c,m,g,x,T,S,P,L)},getHandler:function(c,m,g,x,T,S,P,L,I){g===void 0&&(g=!1),x===void 0&&(x=!1);var O,M,w=0,D=this.children.entries;if(c)for(M=0;M<D.length;M++)if(O=D[M],O.active===g){if(w++,w===m)break}else O=null;else for(M=D.length-1;M>=0;M--)if(O=D[M],O.active===g){if(w++,w===m)break}else O=null;return O?(typeof T=="number"&&(O.x=T),typeof S=="number"&&(O.y=S),O):x?this.create(T,S,P,L,I):null},get:function(c,m,g,x,T){return this.getFirst(!1,!0,c,m,g,x,T)},getFirstAlive:function(c,m,g,x,T,S){return this.getFirst(!0,c,m,g,x,T,S)},getFirstDead:function(c,m,g,x,T,S){return this.getFirst(!1,c,m,g,x,T,S)},playAnimation:function(c,m){return h.PlayAnimation(this.children.entries,c,m),this},isFull:function(){return this.maxSize===-1?!1:this.children.size>=this.maxSize},countActive:function(c){c===void 0&&(c=!0);for(var m=0,g=0;g<this.children.size;g++)this.children.entries[g].active===c&&m++;return m},getTotalUsed:function(){return this.countActive()},getTotalFree:function(){var c=this.getTotalUsed(),m=this.maxSize===-1?999999999999:this.maxSize;return m-c},setActive:function(c){return this.active=c,this},setName:function(c){return this.name=c,this},propertyValueSet:function(c,m,g,x,T){return h.PropertyValueSet(this.children.entries,c,m,g,x,T),this},propertyValueInc:function(c,m,g,x,T){return h.PropertyValueInc(this.children.entries,c,m,g,x,T),this},setX:function(c,m){return h.SetX(this.children.entries,c,m),this},setY:function(c,m){return h.SetY(this.children.entries,c,m),this},setXY:function(c,m,g,x){return h.SetXY(this.children.entries,c,m,g,x),this},incX:function(c,m){return h.IncX(this.children.entries,c,m),this},incY:function(c,m){return h.IncY(this.children.entries,c,m),this},incXY:function(c,m,g,x){return h.IncXY(this.children.entries,c,m,g,x),this},shiftPosition:function(c,m,g){return h.ShiftPosition(this.children.entries,c,m,g),this},angle:function(c,m){return h.Angle(this.children.entries,c,m),this},rotate:function(c,m){return h.Rotate(this.children.entries,c,m),this},rotateAround:function(c,m){return h.RotateAround(this.children.entries,c,m),this},rotateAroundDistance:function(c,m,g){return h.RotateAroundDistance(this.children.entries,c,m,g),this},setAlpha:function(c,m){return h.SetAlpha(this.children.entries,c,m),this},setTint:function(c,m,g,x){return h.SetTint(this.children.entries,c,m,g,x),this},setOrigin:function(c,m,g,x){return h.SetOrigin(this.children.entries,c,m,g,x),this},scaleX:function(c,m){return h.ScaleX(this.children.entries,c,m),this},scaleY:function(c,m){return h.ScaleY(this.children.entries,c,m),this},scaleXY:function(c,m,g,x){return h.ScaleXY(this.children.entries,c,m,g,x),this},setDepth:function(c,m){return h.SetDepth(this.children.entries,c,m),this},setBlendMode:function(c){return h.SetBlendMode(this.children.entries,c),this},setHitArea:function(c,m){return h.SetHitArea(this.children.entries,c,m),this},shuffle:function(){return h.Shuffle(this.children.entries),this},kill:function(c){this.children.contains(c)&&c.setActive(!1)},killAndHide:function(c){this.children.contains(c)&&(c.setActive(!1),c.setVisible(!1))},setVisible:function(c,m,g){return h.SetVisible(this.children.entries,c,m,g),this},toggleVisible:function(){return h.ToggleVisible(this.children.entries),this},destroy:function(c,m){c===void 0&&(c=!1),m===void 0&&(m=!1),!(!this.scene||this.ignoreDestroy)&&(this.emit(a.DESTROY,this),this.removeAllListeners(),this.scene.sys.updateList.remove(this),this.clear(m,c),this.scene=void 0,this.children=void 0)}});v.exports=d},94975:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(44603),p=t(26479);h.register("group",function(a){return new p(this.scene,null,a)})},3385:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(26479),p=t(39429);p.register("group",function(a,n){return this.updateList.add(new h(this.scene,a,n))})},88571:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),p=t(31401),a=t(95643),n=t(59819),r=new h({Extends:a,Mixins:[p.Alpha,p.BlendMode,p.Depth,p.Flip,p.GetBounds,p.Mask,p.Origin,p.Pipeline,p.PostPipeline,p.ScrollFactor,p.Size,p.TextureCrop,p.Tint,p.Transform,p.Visible,n],initialize:function(s,o,i,l,u){a.call(this,s,"Image"),this._crop=this.resetCropObject(),this.setTexture(l,u),this.setPosition(o,i),this.setSizeToFrame(),this.setOriginFromFrame(),this.initPipeline(),this.initPostPipeline(!0)}});v.exports=r},40652:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,h,p,a){p.addToRenderList(h),t.batchSprite(h,h.frame,p,a)};v.exports=y},82459:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(25305),p=t(44603),a=t(23568),n=t(88571);p.register("image",function(r,e){r===void 0&&(r={});var s=a(r,"key",null),o=a(r,"frame",null),i=new n(this.scene,0,0,s,o);return e!==void 0&&(r.add=e),h(this.scene,i,r),i})},2117:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(88571),p=t(39429);p.register("image",function(a,n,r,e){return this.displayList.add(new h(this.scene,a,n,r,e))})},59819:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(29747),p=h,a=h;p=t(99517),a=t(40652),v.exports={renderWebGL:p,renderCanvas:a}},99517:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,h,p,a){p.addToRenderList(h),this.pipeline.batchSprite(h,p,a)};v.exports=y},77856:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h={Events:t(51708),DisplayList:t(8050),GameObjectCreator:t(44603),GameObjectFactory:t(39429),UpdateList:t(45027),Components:t(31401),GetCalcMatrix:t(91296),BuildGameObject:t(25305),BuildGameObjectAnimation:t(13059),GameObject:t(95643),BitmapText:t(22186),Blitter:t(6107),Bob:t(46590),Container:t(31559),DOMElement:t(3069),DynamicBitmapText:t(2638),Extern:t(42421),Graphics:t(43831),Group:t(26479),Image:t(88571),Layer:t(93595),Particles:t(18404),PathFollower:t(1159),RenderTexture:t(591),RetroFont:t(196),Rope:t(77757),Sprite:t(68287),Text:t(50171),GetTextSize:t(14220),MeasureText:t(79557),TextStyle:t(35762),TileSprite:t(20839),Zone:t(41481),Video:t(18471),Shape:t(17803),Arc:t(23629),Curve:t(89),Ellipse:t(19921),Grid:t(30479),IsoBox:t(61475),IsoTriangle:t(16933),Line:t(57847),Polygon:t(24949),Rectangle:t(74561),Star:t(55911),Triangle:t(36931),Factories:{Blitter:t(12709),Container:t(24961),DOMElement:t(2611),DynamicBitmapText:t(72566),Extern:t(56315),Graphics:t(1201),Group:t(3385),Image:t(2117),Layer:t(20005),Particles:t(676),PathFollower:t(90145),RenderTexture:t(60505),Rope:t(96819),Sprite:t(46409),StaticBitmapText:t(34914),Text:t(68005),TileSprite:t(91681),Zone:t(84175),Video:t(89025),Arc:t(42563),Curve:t(40511),Ellipse:t(1543),Grid:t(34137),IsoBox:t(3933),IsoTriangle:t(49803),Line:t(2481),Polygon:t(64827),Rectangle:t(87959),Star:t(93697),Triangle:t(45245)},Creators:{Blitter:t(9403),Container:t(77143),DynamicBitmapText:t(11164),Graphics:t(87079),Group:t(94975),Image:t(82459),Layer:t(25179),Particles:t(92730),RenderTexture:t(34495),Rope:t(26209),Sprite:t(15567),StaticBitmapText:t(57336),Text:t(71259),TileSprite:t(14167),Zone:t(95261),Video:t(11511)}};h.Shader=t(20071),h.Mesh=t(4703),h.NineSlice=t(28103),h.PointLight=t(80321),h.Plane=t(33663),h.Factories.Shader=t(74177),h.Factories.Mesh=t(9225),h.Factories.NineSlice=t(47521),h.Factories.PointLight=t(71255),h.Factories.Plane=t(30985),h.Creators.Shader=t(54935),h.Creators.Mesh=t(20527),h.Creators.NineSlice=t(28279),h.Creators.PointLight=t(39829),h.Creators.Plane=t(56015),h.Light=t(41432),h.LightsManager=t(61356),h.LightsPlugin=t(88992),v.exports=h},93595:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(10312),p=t(83419),a=t(31401),n=t(53774),r=t(45893),e=t(50792),s=t(51708),o=t(73162),i=t(33963),l=t(44594),u=t(19186),f=new p({Extends:o,Mixins:[a.AlphaSingle,a.BlendMode,a.Depth,a.Mask,a.PostPipeline,a.Visible,e,i],initialize:function(c,m){o.call(this,c),e.call(this),this.scene=c,this.displayList=null,this.type="Layer",this.state=0,this.parentContainer=null,this.name="",this.active=!0,this.tabIndex=-1,this.data=null,this.renderFlags=15,this.cameraFilter=0,this.input=null,this.body=null,this.ignoreDestroy=!1,this.systems=c.sys,this.events=c.sys.events,this.sortChildrenFlag=!1,this.addCallback=this.addChildCallback,this.removeCallback=this.removeChildCallback,this.initPostPipeline(),this.clearAlpha(),this.setBlendMode(h.SKIP_CHECK),m&&this.add(m),c.sys.queueDepthSort()},setActive:function(d){return this.active=d,this},setName:function(d){return this.name=d,this},setState:function(d){return this.state=d,this},setDataEnabled:function(){return this.data||(this.data=new r(this)),this},setData:function(d,c){return this.data||(this.data=new r(this)),this.data.set(d,c),this},incData:function(d,c){return this.data||(this.data=new r(this)),this.data.inc(d,c),this},toggleData:function(d){return this.data||(this.data=new r(this)),this.data.toggle(d),this},getData:function(d){return this.data||(this.data=new r(this)),this.data.get(d)},setInteractive:function(){return this},disableInteractive:function(){return this},removeInteractive:function(){return this},addedToScene:function(){},removedFromScene:function(){},update:function(){},toJSON:function(){return n(this)},willRender:function(d){return!(this.renderFlags!==15||this.list.length===0||this.cameraFilter!==0&&this.cameraFilter&d.id)},getIndexList:function(){for(var d=this,c=this.parentContainer,m=[];c&&(m.unshift(c.getIndex(d)),d=c,c.parentContainer);)c=c.parentContainer;return m.unshift(this.displayList.getIndex(d)),m},addChildCallback:function(d){var c=d.displayList;c&&c!==this&&d.removeFromDisplayList(),d.displayList||(this.queueDepthSort(),d.displayList=this,d.emit(s.ADDED_TO_SCENE,d,this.scene),this.events.emit(l.ADDED_TO_SCENE,d,this.scene))},removeChildCallback:function(d){this.queueDepthSort(),d.displayList=null,d.emit(s.REMOVED_FROM_SCENE,d,this.scene),this.events.emit(l.REMOVED_FROM_SCENE,d,this.scene)},queueDepthSort:function(){this.sortChildrenFlag=!0},depthSort:function(){this.sortChildrenFlag&&(u(this.list,this.sortByDepth),this.sortChildrenFlag=!1)},sortByDepth:function(d,c){return d._depth-c._depth},getChildren:function(){return this.list},addToDisplayList:function(d){return d===void 0&&(d=this.scene.sys.displayList),this.displayList&&this.displayList!==d&&this.removeFromDisplayList(),d.exists(this)||(this.displayList=d,d.add(this,!0),d.queueDepthSort(),this.emit(s.ADDED_TO_SCENE,this,this.scene),d.events.emit(l.ADDED_TO_SCENE,this,this.scene)),this},removeFromDisplayList:function(){var d=this.displayList||this.scene.sys.displayList;return d.exists(this)&&(d.remove(this,!0),d.queueDepthSort(),this.displayList=null,this.emit(s.REMOVED_FROM_SCENE,this,this.scene),d.events.emit(l.REMOVED_FROM_SCENE,this,this.scene)),this},destroy:function(d){if(!(!this.scene||this.ignoreDestroy)){this.emit(s.DESTROY,this);for(var c=this.list;c.length;)c[0].destroy(d);this.removeAllListeners(),this.resetPostPipeline(!0),this.displayList&&(this.displayList.remove(this,!0,!1),this.displayList.queueDepthSort()),this.data&&(this.data.destroy(),this.data=void 0),this.active=!1,this.visible=!1,this.list=void 0,this.scene=void 0,this.displayList=void 0,this.systems=void 0,this.events=void 0}}});v.exports=f},2956:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,h,p){var a=h.list;if(a.length!==0){h.depthSort();var n=h.blendMode!==-1;n||t.setBlendMode(0);var r=h._alpha;h.mask&&h.mask.preRenderCanvas(t,null,p);for(var e=0;e<a.length;e++){var s=a[e];if(s.willRender(p)){var o=s.alpha;!n&&s.blendMode!==t.currentBlendMode&&t.setBlendMode(s.blendMode),s.setAlpha(o*r),s.renderCanvas(t,s,p),s.setAlpha(o)}}h.mask&&h.mask.postRenderCanvas(t)}};v.exports=y},25179:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(25305),p=t(93595),a=t(44603),n=t(23568);a.register("layer",function(r,e){r===void 0&&(r={});var s=n(r,"children",null),o=new p(this.scene,s);return e!==void 0&&(r.add=e),h(this.scene,o,r),o})},20005:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(93595),p=t(39429);p.register("layer",function(a){return this.displayList.add(new h(this.scene,a))})},33963:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(29747),p=h,a=h;p=t(15869),a=t(2956),v.exports={renderWebGL:p,renderCanvas:a}},15869:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,h,p){var a=h.list,n=a.length;if(n!==0){h.depthSort(),t.pipelines.preBatch(h);var r=h.blendMode!==-1;r||t.setBlendMode(0);for(var e=h.alpha,s=0;s<n;s++){var o=a[s];if(o.willRender(p)){var i,l,u,f;if(o.alphaTopLeft!==void 0)i=o.alphaTopLeft,l=o.alphaTopRight,u=o.alphaBottomLeft,f=o.alphaBottomRight;else{var d=o.alpha;i=d,l=d,u=d,f=d}!r&&o.blendMode!==t.currentBlendMode&&t.setBlendMode(o.blendMode);var c=o.mask;c&&c.preRenderWebGL(t,o,p);var m=o.type;m!==t.currentType&&(t.newType=!0,t.currentType=m),t.nextTypeMatch=s<n-1?a[s+1].type===t.currentType:!1,o.setAlpha(i*e,l*e,u*e,f*e),o.renderWebGL(t,o,p),o.setAlpha(i,l,u,f),c&&c.postRenderWebGL(t,p),t.newType=!1}}t.pipelines.postBatch(h)}};v.exports=y},41432:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(96503),p=t(83419),a=t(31401),n=t(51767),r=t(70554),e=new p({Extends:h,Mixins:[a.Origin,a.ScrollFactor,a.Visible],initialize:function(o,i,l,u,f,d,c){h.call(this,o,i,l),this.color=new n(u,f,d),this.intensity=c,this.renderFlags=15,this.cameraFilter=0,this.setScrollFactor(1,1),this.setOrigin(),this.setDisplayOrigin(l)},displayWidth:{get:function(){return this.diameter},set:function(s){this.diameter=s}},displayHeight:{get:function(){return this.diameter},set:function(s){this.diameter=s}},width:{get:function(){return this.diameter},set:function(s){this.diameter=s}},height:{get:function(){return this.diameter},set:function(s){this.diameter=s}},willRender:function(s){return!(e.RENDER_MASK!==this.renderFlags||this.cameraFilter!==0&&this.cameraFilter&s.id)},setColor:function(s){var o=r.getFloatsFromUintRGB(s);return this.color.set(o[0],o[1],o[2]),this},setIntensity:function(s){return this.intensity=s,this},setRadius:function(s){return this.radius=s,this}});e.RENDER_MASK=15,v.exports=e},61356:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(81491),p=t(83419),a=t(20339),n=t(41432),r=t(80321),e=t(51767),s=t(19133),o=t(19186),i=t(70554),l=new p({initialize:function(){this.lights=[],this.ambientColor=new e(.1,.1,.1),this.active=!1,this.maxLights=-1,this.visibleLights=0},addPointLight:function(u,f,d,c,m,g){return this.systems.displayList.add(new r(this.scene,u,f,d,c,m,g))},enable:function(){return this.maxLights===-1&&(this.maxLights=this.systems.renderer.config.maxLights),this.active=!0,this},disable:function(){return this.active=!1,this},getLights:function(u){for(var f=this.lights,d=u.worldView,c=[],m=0;m<f.length;m++){var g=f[m];g.willRender(u)&&h(g,d)&&c.push({light:g,distance:a(g.x,g.y,d.centerX,d.centerY)})}return c.length>this.maxLights&&(o(c,this.sortByDistance),c=c.slice(0,this.maxLights)),this.visibleLights=c.length,c},sortByDistance:function(u,f){return u.distance>=f.distance},setAmbientColor:function(u){var f=i.getFloatsFromUintRGB(u);return this.ambientColor.set(f[0],f[1],f[2]),this},getMaxVisibleLights:function(){return this.maxLights},getLightCount:function(){return this.lights.length},addLight:function(u,f,d,c,m){u===void 0&&(u=0),f===void 0&&(f=0),d===void 0&&(d=128),c===void 0&&(c=16777215),m===void 0&&(m=1);var g=i.getFloatsFromUintRGB(c),x=new n(u,f,d,g[0],g[1],g[2],m);return this.lights.push(x),x},removeLight:function(u){var f=this.lights.indexOf(u);return f>=0&&s(this.lights,f),this},shutdown:function(){this.lights.length=0},destroy:function(){this.shutdown()}});v.exports=l},88992:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),p=t(61356),a=t(37277),n=t(44594),r=new h({Extends:p,initialize:function(s){this.scene=s,this.systems=s.sys,s.sys.settings.isBooted||s.sys.events.once(n.BOOT,this.boot,this),p.call(this)},boot:function(){var e=this.systems.events;e.on(n.SHUTDOWN,this.shutdown,this),e.on(n.DESTROY,this.destroy,this)},destroy:function(){this.shutdown(),this.scene=void 0,this.systems=void 0}});a.register("LightsPlugin",r,"lights"),v.exports=r},4703:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),p=t(31401),a=t(39506),n=t(83997),r=t(95643),e=t(34684),s=t(92515),o=t(91296),i=t(37867),l=t(29807),u=t(43396),f=t(19186),d=t(25836),c=t(39318),m=new h({Extends:r,Mixins:[p.AlphaSingle,p.BlendMode,p.Depth,p.Mask,p.Pipeline,p.PostPipeline,p.ScrollFactor,p.Size,p.Texture,p.Transform,p.Visible,l],initialize:function(x,T,S,P,L,I,O,M,w,D,U,Y){T===void 0&&(T=0),S===void 0&&(S=0),P===void 0&&(P="__WHITE"),r.call(this,x,"Mesh"),this.faces=[],this.vertices=[],this.tintFill=!1,this.debugCallback=null,this.debugGraphic=null,this.hideCCW=!0,this.modelPosition=new d,this.modelScale=new d(1,1,1),this.modelRotation=new d,this.dirtyCache=[0,0,0,0,0,0,0,0,0,0,0,0],this.transformMatrix=new i,this.viewPosition=new d,this.viewMatrix=new i,this.projectionMatrix=new i,this.totalRendered=0,this.totalFrame=0,this.ignoreDirtyCache=!1,this.fov,this.displayOriginX=0,this.displayOriginY=0;var H=x.sys.renderer;this.setPosition(T,S),this.setTexture(P,L),this.setSize(H.width,H.height),this.initPipeline(),this.initPostPipeline(),this.setPerspective(H.width,H.height),I&&this.addVertices(I,O,M,w,D,U,Y)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},panX:function(g){return this.viewPosition.addScale(d.LEFT,g),this.dirtyCache[10]=1,this},panY:function(g){return this.viewPosition.y+=d.DOWN.y*g,this.dirtyCache[10]=1,this},panZ:function(g){return this.viewPosition.z+=g,this.dirtyCache[10]=1,this},setPerspective:function(g,x,T,S,P){return T===void 0&&(T=45),S===void 0&&(S=.01),P===void 0&&(P=1e3),this.fov=T,this.projectionMatrix.perspective(a(T),g/x,S,P),this.dirtyCache[10]=1,this.dirtyCache[11]=0,this},setOrtho:function(g,x,T,S){return g===void 0&&(g=this.scene.sys.renderer.getAspectRatio()),x===void 0&&(x=1),T===void 0&&(T=-1e3),S===void 0&&(S=1e3),this.fov=0,this.projectionMatrix.ortho(-g,g,-x,x,T,S),this.dirtyCache[10]=1,this.dirtyCache[11]=1,this},clear:function(){return this.faces.forEach(function(g){g.destroy()}),this.faces=[],this.vertices=[],this},addVerticesFromObj:function(g,x,T,S,P,L,I,O,M){var w=this.scene.sys.cache.obj.get(g),D;return w&&(D=e(w,this,x,T,S,P,L,I,O,M)),(!D||D.verts.length===0)&&console.warn("Mesh.addVerticesFromObj data empty:",g),this},sortByDepth:function(g,x){return g.depth-x.depth},depthSort:function(){return f(this.faces,this.sortByDepth),this},addVertex:function(g,x,T,S,P,L,I){var O=new c(g,x,T,S,P,L,I);return this.vertices.push(O),O},addFace:function(g,x,T){var S=new n(g,x,T);return this.faces.push(S),this.dirtyCache[9]=-1,S},addVertices:function(g,x,T,S,P,L,I){var O=s(g,x,T,S,P,L,I);return O?(this.faces=this.faces.concat(O.faces),this.vertices=this.vertices.concat(O.vertices)):console.warn("Mesh.addVertices data empty or invalid"),this.dirtyCache[9]=-1,this},getFaceCount:function(){return this.faces.length},getVertexCount:function(){return this.vertices.length},getFace:function(g){return this.faces[g]},hasFaceAt:function(g,x,T){T===void 0&&(T=this.scene.sys.cameras.main);for(var S=o(this,T).calc,P=this.faces,L=0;L<P.length;L++){var I=P[L];if(I.contains(g,x,S))return!0}return!1},getFaceAt:function(g,x,T){T===void 0&&(T=this.scene.sys.cameras.main);for(var S=o(this,T).calc,P=this.faces,L=[],I=0;I<P.length;I++){var O=P[I];O.contains(g,x,S)&&L.push(O)}return f(L,this.sortByDepth)},setDebug:function(g,x){return this.debugGraphic=g,!g&&!x?this.debugCallback=null:x?this.debugCallback=x:this.debugCallback=this.renderDebug,this},isDirty:function(){var g=this.modelPosition,x=this.modelRotation,T=this.modelScale,S=this.dirtyCache,P=g.x,L=g.y,I=g.z,O=x.x,M=x.y,w=x.z,D=T.x,U=T.y,Y=T.z,H=this.getFaceCount(),X=S[0],G=S[1],z=S[2],b=S[3],N=S[4],W=S[5],K=S[6],J=S[7],j=S[8],Z=S[9];return S[0]=P,S[1]=L,S[2]=I,S[3]=O,S[4]=M,S[5]=w,S[6]=D,S[7]=U,S[8]=Y,S[9]=H,X!==P||G!==L||z!==I||b!==O||N!==M||W!==w||K!==D||J!==U||j!==Y||Z!==H},preUpdate:function(){this.totalRendered=this.totalFrame,this.totalFrame=0;var g=this.dirtyCache;if(!(!this.ignoreDirtyCache&&!g[10]&&!this.isDirty())){var x=this.width,T=this.height,S=this.viewMatrix,P=this.viewPosition;g[10]&&(S.identity(),S.translate(P),S.invert(),g[10]=0);var L=this.transformMatrix;L.setWorldMatrix(this.modelRotation,this.modelPosition,this.modelScale,this.viewMatrix,this.projectionMatrix);for(var I=P.z,O=this.faces,M=0;M<O.length;M++)O[M].transformCoordinatesLocal(L,x,T,I);this.depthSort()}},renderDebug:function(g,x){for(var T=g.debugGraphic,S=0;S<x.length;S++){var P=x[S],L=P.vertex1.tx,I=P.vertex1.ty,O=P.vertex2.tx,M=P.vertex2.ty,w=P.vertex3.tx,D=P.vertex3.ty;T.strokeTriangle(L,I,O,M,w,D)}},preDestroy:function(){this.clear(),this.debugCallback=null,this.debugGraphic=null},clearTint:function(){return this.setTint()},setInteractive:function(g){g===void 0&&(g={});var x=(function(T,S,P){for(var L=this.faces,I=0;I<L.length;I++){var O=L[I];if(O.contains(S,P))return!0}return!1}).bind(this);return this.scene.sys.input.enable(this,g,x),this},setTint:function(g){g===void 0&&(g=16777215);for(var x=this.vertices,T=0;T<x.length;T++)x[T].color=g;return this},uvScroll:function(g,x){for(var T=this.faces,S=0;S<T.length;S++)T[S].scrollUV(g,x);return this},uvScale:function(g,x){for(var T=this.faces,S=0;S<T.length;S++)T[S].scaleUV(g,x);return this},tint:{set:function(g){this.setTint(g)}},rotateX:{get:function(){return u(this.modelRotation.x)},set:function(g){this.modelRotation.x=a(g)}},rotateY:{get:function(){return u(this.modelRotation.y)},set:function(g){this.modelRotation.y=a(g)}},rotateZ:{get:function(){return u(this.modelRotation.z)},set:function(g){this.modelRotation.z=a(g)}}});v.exports=m},36488:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(){};v.exports=y},20527:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(25305),p=t(44603),a=t(23568),n=t(35154),r=t(4703);p.register("mesh",function(e,s){e===void 0&&(e={});var o=a(e,"key",null),i=a(e,"frame",null),l=n(e,"vertices",[]),u=n(e,"uvs",[]),f=n(e,"indicies",[]),d=n(e,"containsZ",!1),c=n(e,"normals",[]),m=n(e,"colors",16777215),g=n(e,"alphas",1),x=new r(this.scene,0,0,o,i,l,u,f,d,c,m,g);return s!==void 0&&(e.add=s),h(this.scene,x,e),x})},9225:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(4703),p=t(39429);p.register("mesh",function(a,n,r,e,s,o,i,l,u,f,d){return this.displayList.add(new h(this.scene,a,n,r,e,s,o,i,l,u,f,d))})},29807:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(29747),p=h,a=h;p=t(48833),a=t(36488),v.exports={renderWebGL:p,renderCanvas:a}},48833:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(91296),p=function(a,n,r,e){var s=n.faces,o=s.length;if(o!==0){r.addToRenderList(n);var i=a.pipelines.set(n.pipeline,n),l=h(n,r,e).calc;a.pipelines.preBatch(n);for(var u=i.setGameObject(n),f=i.vertexViewF32,d=i.vertexViewU32,c=i.vertexCount*i.currentShader.vertexComponentCount-1,m=n.tintFill,g=[],x=n.debugCallback,T=l.a,S=l.b,P=l.c,L=l.d,I=l.e,O=l.f,M=n.viewPosition.z,w=n.hideCCW,D=r.roundPixels,U=r.alpha*n.alpha,Y=0,H=0;H<o;H++){var X=s[H];X.isInView(r,w,M,U,T,S,P,L,I,O,D)&&(i.shouldFlush(3)&&(i.flush(),u=i.setGameObject(n),c=i.vertexCount*i.currentShader.vertexComponentCount-1),c=X.load(f,d,c,u,m),Y++,i.vertexCount+=3,i.currentBatch.count=i.vertexCount-i.currentBatch.start,x&&g.push(X))}n.totalFrame+=Y,x&&x.call(n,n,g),a.pipelines.postBatch(n)}};v.exports=p},28103:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),p=t(31401),a=t(95643),n=t(78023),r=t(39318),e=new h({Extends:a,Mixins:[p.AlphaSingle,p.BlendMode,p.Depth,p.GetBounds,p.Mask,p.Origin,p.Pipeline,p.PostPipeline,p.ScrollFactor,p.Texture,p.Transform,p.Visible,n],initialize:function(o,i,l,u,f,d,c,m,g,x,T){a.call(this,o,"NineSlice"),this._width,this._height,this._originX=.5,this._originY=.5,this._sizeComponent=!0,this.vertices=[],this.leftWidth,this.rightWidth,this.topHeight,this.bottomHeight,this.tint=16777215,this.tintFill=!1;var S=o.textures.getFrame(u,f);this.is3Slice=!x&&!T,S&&S.scale9&&(this.is3Slice=S.is3Slice);for(var P=this.is3Slice?18:54,L=0;L<P;L++)this.vertices.push(new r);this.setPosition(i,l),this.setTexture(u,f),this.setSlices(d,c,m,g,x,T,!1),this.updateDisplayOrigin(),this.initPipeline(),this.initPostPipeline()},setSlices:function(s,o,i,l,u,f,d){i===void 0&&(i=10),l===void 0&&(l=10),u===void 0&&(u=0),f===void 0&&(f=0),d===void 0&&(d=!1);var c=this.frame,m=!1;if(this.is3Slice&&d&&u!==0&&f!==0&&(m=!0),m)console.warn("Cannot change 9 slice to 3 slice");else{if(c&&c.scale9&&!d){var g=c.data.scale9Borders,x=g.x,T=g.y;i=x,l=c.width-g.w-x,u=T,f=c.height-g.h-T,s===void 0&&(s=c.width),o===void 0&&(o=c.height)}else s===void 0&&(s=256),o===void 0&&(o=256);this._width=s,this._height=o,this.leftWidth=i,this.rightWidth=l,this.topHeight=u,this.bottomHeight=f,this.is3Slice&&(o=c.height,this._height=o,this.topHeight=o,this.bottomHeight=0),this.updateVertices(),this.updateUVs()}return this},updateUVs:function(){var s=this.leftWidth,o=this.rightWidth,i=this.topHeight,l=this.bottomHeight,u=this.frame.width,f=this.frame.height;this.updateQuadUVs(0,0,0,s/u,i/f),this.updateQuadUVs(6,s/u,0,1-o/u,i/f),this.updateQuadUVs(12,1-o/u,0,1,i/f),this.is3Slice||(this.updateQuadUVs(18,0,i/f,s/u,1-l/f),this.updateQuadUVs(24,s/u,i/f,1-o/u,1-l/f),this.updateQuadUVs(30,1-o/u,i/f,1,1-l/f),this.updateQuadUVs(36,0,1-l/f,s/u,1),this.updateQuadUVs(42,s/u,1-l/f,1-o/u,1),this.updateQuadUVs(48,1-o/u,1-l/f,1,1))},updateVertices:function(){var s=this.leftWidth,o=this.rightWidth,i=this.topHeight,l=this.bottomHeight,u=this.width,f=this.height;this.updateQuad(0,-.5,.5,-.5+s/u,.5-i/f),this.updateQuad(6,-.5+s/u,.5,.5-o/u,.5-i/f),this.updateQuad(12,.5-o/u,.5,.5,.5-i/f),this.is3Slice||(this.updateQuad(18,-.5,.5-i/f,-.5+s/u,-.5+l/f),this.updateQuad(24,-.5+s/u,.5-i/f,.5-o/u,-.5+l/f),this.updateQuad(30,.5-o/u,.5-i/f,.5,-.5+l/f),this.updateQuad(36,-.5,-.5+l/f,-.5+s/u,-.5),this.updateQuad(42,-.5+s/u,-.5+l/f,.5-o/u,-.5),this.updateQuad(48,.5-o/u,-.5+l/f,.5,-.5))},updateQuad:function(s,o,i,l,u){var f=this.width,d=this.height,c=this.originX,m=this.originY,g=this.vertices;g[s+0].resize(o,i,f,d,c,m),g[s+1].resize(o,u,f,d,c,m),g[s+2].resize(l,i,f,d,c,m),g[s+3].resize(o,u,f,d,c,m),g[s+4].resize(l,u,f,d,c,m),g[s+5].resize(l,i,f,d,c,m)},updateQuadUVs:function(s,o,i,l,u){var f=this.vertices,d=this.frame,c=d.u0,m=d.v0,g=d.u1,x=d.v1;if(c!==0||g!==1){var T=g-c;o=c+o*T,l=c+l*T}if(m!==0||x!==1){var S=x-m;i=m+i*S,u=m+u*S}f[s+0].setUVs(o,i),f[s+1].setUVs(o,u),f[s+2].setUVs(l,i),f[s+3].setUVs(o,u),f[s+4].setUVs(l,u),f[s+5].setUVs(l,i)},clearTint:function(){return this.setTint(16777215),this},setTint:function(s){return s===void 0&&(s=16777215),this.tint=s,this.tintFill=!1,this},setTintFill:function(s){return this.setTint(s),this.tintFill=!0,this},isTinted:{get:function(){return this.tint!==16777215}},width:{get:function(){return this._width},set:function(s){this._width=Math.max(s,this.leftWidth+this.rightWidth),this.updateVertices()}},height:{get:function(){return this._height},set:function(s){this.is3Slice||(this._height=Math.max(s,this.topHeight+this.bottomHeight),this.updateVertices())}},displayWidth:{get:function(){return this.scaleX*this.width},set:function(s){this.scaleX=s/this.width}},displayHeight:{get:function(){return this.scaleY*this.height},set:function(s){this.scaleY=s/this.height}},setSize:function(s,o){this.width=s,this.height=o,this.updateDisplayOrigin();var i=this.input;return i&&!i.customHitArea&&(i.hitArea.width=this.width,i.hitArea.height=this.height),this},setDisplaySize:function(s,o){return this.displayWidth=s,this.displayHeight=o,this},originX:{get:function(){return this._originX},set:function(s){this._originX=s,this.updateVertices()}},originY:{get:function(){return this._originY},set:function(s){this._originY=s,this.updateVertices()}},setOrigin:function(s,o){return s===void 0&&(s=.5),o===void 0&&(o=s),this._originX=s,this._originY=o,this.updateVertices(),this.updateDisplayOrigin()},setSizeToFrame:function(){if(this.is3Slice){var s=this.frame.height;this._height=s,this.topHeight=s,this.bottomHeight=0}return this.updateUVs(),this},preDestroy:function(){this.vertices=[]}});v.exports=e},28279:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(25305),p=t(44603),a=t(23568),n=t(35154),r=t(28103);p.register("nineslice",function(e,s){e===void 0&&(e={});var o=a(e,"key",null),i=a(e,"frame",null),l=n(e,"width",256),u=n(e,"height",256),f=n(e,"leftWidth",10),d=n(e,"rightWidth",10),c=n(e,"topHeight",0),m=n(e,"bottomHeight",0),g=new r(this.scene,0,0,o,i,l,u,f,d,c,m);return s!==void 0&&(e.add=s),h(this.scene,g,e),g})},47521:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(28103),p=t(39429);p.register("nineslice",function(a,n,r,e,s,o,i,l,u,f){return this.displayList.add(new h(this.scene,a,n,r,e,s,o,i,l,u,f))})},78023:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(29747),p=h,a=h;p=t(52230),v.exports={renderWebGL:p,renderCanvas:a}},52230:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(91296),p=t(70554),a=function(n,r,e,s){var o=r.vertices,i=o.length;if(i!==0){e.addToRenderList(r);var l=n.pipelines.set(r.pipeline,r),u=h(r,e,s,!1).calc;n.pipelines.preBatch(r);var f=l.setGameObject(r),d=l.vertexViewF32,c=l.vertexViewU32,m=l.vertexCount*l.currentShader.vertexComponentCount-1,g=e.roundPixels,x=r.tintFill,T=e.alpha*r.alpha,S=p.getTintAppendFloatAlpha(r.tint,T),P=l.vertexAvailable(),L=-1;P<i&&(L=P);for(var I=0;I<i;I++){var O=o[I];I===L&&(l.flush(),f=l.setGameObject(r),m=0),d[++m]=u.getXRound(O.vx,O.vy,g),d[++m]=u.getYRound(O.vx,O.vy,g),d[++m]=O.u,d[++m]=O.v,d[++m]=f,d[++m]=x,c[++m]=S,l.vertexCount++,l.currentBatch.count=l.vertexCount-l.currentBatch.start}n.pipelines.postBatch(r)}};v.exports=a},76472:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),p=t(44777),a=t(37589),n=t(6113),r=t(91389),e=t(90664),s=new h({Extends:p,initialize:function(i){p.call(this,i,null,!1),this.active=!1,this.easeName="Linear",this.r=[],this.g=[],this.b=[]},getMethod:function(){return this.propertyValue===null?0:9},setMethods:function(){var o=this.propertyValue,i=o,l=this.defaultEmit,u=this.defaultUpdate;if(this.method===9){this.start=o[0],this.ease=n("Linear"),this.interpolation=r("linear"),l=this.easedValueEmit,u=this.easeValueUpdate,i=o[0],this.active=!0;for(var f=0;f<o.length;f++){var d=e(o[f]);this.r.push(d.r),this.g.push(d.g),this.b.push(d.b)}}return this.onEmit=l,this.onUpdate=u,this.current=i,this},setEase:function(o){this.easeName=o,this.ease=n(o)},easedValueEmit:function(){return this.current=this.start,this.start},easeValueUpdate:function(o,i,l){var u=this.ease(l),f=this.interpolation(this.r,u),d=this.interpolation(this.g,u),c=this.interpolation(this.b,u),m=a(f,d,c);return this.current=m,m}});v.exports=s},44777:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(30976),p=t(45319),a=t(83419),n=t(99472),r=t(6113),e=t(95540),s=t(91389),o=t(77720),i=t(15994),l=new a({initialize:function(f,d,c){c===void 0&&(c=!1),this.propertyKey=f,this.propertyValue=d,this.defaultValue=d,this.steps=0,this.counter=0,this.yoyo=!1,this.direction=0,this.start=0,this.current=0,this.end=0,this.ease=null,this.interpolation=null,this.emitOnly=c,this.onEmit=this.defaultEmit,this.onUpdate=this.defaultUpdate,this.active=!0,this.method=0,this._onEmit,this._onUpdate},loadConfig:function(u,f){u===void 0&&(u={}),f&&(this.propertyKey=f),this.propertyValue=e(u,this.propertyKey,this.defaultValue),this.method=this.getMethod(),this.setMethods(),this.emitOnly&&(this.onUpdate=this.defaultUpdate)},toJSON:function(){return JSON.stringify(this.propertyValue)},onChange:function(u){var f;switch(this.method){case 1:case 3:case 8:f=u;break;case 2:this.propertyValue.indexOf(u)>=0&&(f=u);break;case 4:var d=(this.end-this.start)/this.steps;f=o(u,d),this.counter=f;break;case 5:case 6:case 7:f=p(u,this.start,this.end);break;case 9:f=this.start[0];break}return this.current=f,this},getMethod:function(){var u=this.propertyValue;if(u===null)return 0;var f=typeof u;if(f==="number")return 1;if(Array.isArray(u))return 2;if(f==="function")return 3;if(f==="object"){if(this.hasBoth(u,"start","end"))return this.has(u,"steps")?4:5;if(this.hasBoth(u,"min","max"))return 6;if(this.has(u,"random"))return 7;if(this.hasEither(u,"onEmit","onUpdate"))return 8;if(this.hasEither(u,"values","interpolation"))return 9}return 0},setMethods:function(){var u=this.propertyValue,f=u,d=this.defaultEmit,c=this.defaultUpdate;switch(this.method){case 1:d=this.staticValueEmit;break;case 2:d=this.randomStaticValueEmit,f=u[0];break;case 3:this._onEmit=u,d=this.proxyEmit;break;case 4:this.start=u.start,this.end=u.end,this.steps=u.steps,this.counter=this.start,this.yoyo=this.has(u,"yoyo")?u.yoyo:!1,this.direction=0,d=this.steppedEmit,f=this.start;break;case 5:this.start=u.start,this.end=u.end;var m=this.has(u,"ease")?u.ease:"Linear";this.ease=r(m,u.easeParams),d=this.has(u,"random")&&u.random?this.randomRangedValueEmit:this.easedValueEmit,c=this.easeValueUpdate,f=this.start;break;case 6:this.start=u.min,this.end=u.max,d=this.has(u,"int")&&u.int?this.randomRangedIntEmit:this.randomRangedValueEmit,f=this.start;break;case 7:var g=u.random;Array.isArray(g)&&(this.start=g[0],this.end=g[1]),d=this.randomRangedIntEmit,f=this.start;break;case 8:this._onEmit=this.has(u,"onEmit")?u.onEmit:this.defaultEmit,this._onUpdate=this.has(u,"onUpdate")?u.onUpdate:this.defaultUpdate,d=this.proxyEmit,c=this.proxyUpdate;break;case 9:this.start=u.values;var x=this.has(u,"ease")?u.ease:"Linear";this.ease=r(x,u.easeParams),this.interpolation=s(u.interpolation),d=this.easedValueEmit,c=this.easeValueUpdate,f=this.start[0];break}return this.onEmit=d,this.onUpdate=c,this.current=f,this},has:function(u,f){return u.hasOwnProperty(f)},hasBoth:function(u,f,d){return u.hasOwnProperty(f)&&u.hasOwnProperty(d)},hasEither:function(u,f,d){return u.hasOwnProperty(f)||u.hasOwnProperty(d)},defaultEmit:function(u,f,d){return d},defaultUpdate:function(u,f,d,c){return c},proxyEmit:function(u,f,d){var c=this._onEmit(u,f,d);return this.current=c,c},proxyUpdate:function(u,f,d,c){var m=this._onUpdate(u,f,d,c);return this.current=m,m},staticValueEmit:function(){return this.current},staticValueUpdate:function(){return this.current},randomStaticValueEmit:function(){var u=Math.floor(Math.random()*this.propertyValue.length);return this.current=this.propertyValue[u],this.current},randomRangedValueEmit:function(u,f){var d=n(this.start,this.end);return u&&u.data[f]&&(u.data[f].min=d,u.data[f].max=this.end),this.current=d,d},randomRangedIntEmit:function(u,f){var d=h(this.start,this.end);return u&&u.data[f]&&(u.data[f].min=d,u.data[f].max=this.end),this.current=d,d},steppedEmit:function(){var u=this.counter,f=u,d=(this.end-this.start)/this.steps;if(this.yoyo){var c;this.direction===0?(f+=d,f>=this.end&&(c=f-this.end,f=this.end-c,this.direction=1)):(f-=d,f<=this.start&&(c=this.start-f,f=this.start+c,this.direction=0)),this.counter=f}else this.counter=i(f+d,this.start,this.end);return this.current=u,u},easedValueEmit:function(u,f){if(u&&u.data[f]){var d=u.data[f];d.min=this.start,d.max=this.end}return this.current=this.start,this.start},easeValueUpdate:function(u,f,d){var c=u.data[f],m,g=this.ease(d);return this.interpolation?m=this.interpolation(this.start,g):m=(c.max-c.min)*g+c.min,this.current=m,m},destroy:function(){this.propertyValue=null,this.defaultValue=null,this.ease=null,this.interpolation=null,this._onEmit=null,this._onUpdate=null}});v.exports=l},24502:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),p=t(95540),a=t(20286),n=new h({Extends:a,initialize:function(e,s,o,i,l){if(typeof e=="object"){var u=e;e=p(u,"x",0),s=p(u,"y",0),o=p(u,"power",0),i=p(u,"epsilon",100),l=p(u,"gravity",50)}else e===void 0&&(e=0),s===void 0&&(s=0),o===void 0&&(o=0),i===void 0&&(i=100),l===void 0&&(l=50);a.call(this,e,s,!0),this._gravity=l,this._power=o*l,this._epsilon=i*i},update:function(r,e){var s=this.x-r.x,o=this.y-r.y,i=s*s+o*o;if(i!==0){var l=Math.sqrt(i);i<this._epsilon&&(i=this._epsilon);var u=this._power*e/(i*l)*100;r.velocityX+=s*u,r.velocityY+=o*u}},epsilon:{get:function(){return Math.sqrt(this._epsilon)},set:function(r){this._epsilon=r*r}},power:{get:function(){return this._power/this._gravity},set:function(r){this._power=r*this._gravity}},gravity:{get:function(){return this._gravity},set:function(r){var e=this.power;this._gravity=r,this.power=e}}});v.exports=n},56480:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(9674),p=t(45319),a=t(83419),n=t(39506),r=t(87841),e=t(11520),s=t(26099),o=new a({initialize:function(l){this.emitter=l,this.texture=null,this.frame=null,this.x=0,this.y=0,this.worldPosition=new s,this.velocityX=0,this.velocityY=0,this.accelerationX=0,this.accelerationY=0,this.maxVelocityX=1e4,this.maxVelocityY=1e4,this.bounce=0,this.scaleX=1,this.scaleY=1,this.alpha=1,this.angle=0,this.rotation=0,this.tint=16777215,this.life=1e3,this.lifeCurrent=1e3,this.delayCurrent=0,this.holdCurrent=0,this.lifeT=0,this.data={tint:{min:16777215,max:16777215},alpha:{min:1,max:1},rotate:{min:0,max:0},scaleX:{min:1,max:1},scaleY:{min:1,max:1},x:{min:0,max:0},y:{min:0,max:0},accelerationX:{min:0,max:0},accelerationY:{min:0,max:0},maxVelocityX:{min:0,max:0},maxVelocityY:{min:0,max:0},moveToX:{min:0,max:0},moveToY:{min:0,max:0},bounce:{min:0,max:0}},this.isCropped=!1,this.scene=l.scene,this.anims=new h(this),this.bounds=new r},emit:function(i,l,u,f,d,c){return this.emitter.emit(i,l,u,f,d,c)},isAlive:function(){return this.lifeCurrent>0},kill:function(){this.lifeCurrent=0},setPosition:function(i,l){i===void 0&&(i=0),l===void 0&&(l=0),this.x=i,this.y=l},fire:function(i,l){var u=this.emitter,f=u.ops,d=u.getAnim();if(d?this.anims.play(d):(this.frame=u.getFrame(),this.texture=this.frame.texture),!this.frame)throw new Error("Particle has no texture frame");if(u.getEmitZone(this),i===void 0?this.x+=f.x.onEmit(this,"x"):f.x.steps>0?this.x+=i+f.x.onEmit(this,"x"):this.x+=i,l===void 0?this.y+=f.y.onEmit(this,"y"):f.y.steps>0?this.y+=l+f.y.onEmit(this,"y"):this.y+=l,this.life=f.lifespan.onEmit(this,"lifespan"),this.lifeCurrent=this.life,this.lifeT=0,this.delayCurrent=f.delay.onEmit(this,"delay"),this.holdCurrent=f.hold.onEmit(this,"hold"),this.scaleX=f.scaleX.onEmit(this,"scaleX"),this.scaleY=f.scaleY.active?f.scaleY.onEmit(this,"scaleY"):this.scaleX,this.angle=f.rotate.onEmit(this,"rotate"),this.rotation=n(this.angle),u.worldMatrix.transformPoint(this.x,this.y,this.worldPosition),this.delayCurrent===0&&u.getDeathZone(this))return this.lifeCurrent=0,!1;var c=f.speedX.onEmit(this,"speedX"),m=f.speedY.active?f.speedY.onEmit(this,"speedY"):c;if(u.radial){var g=n(f.angle.onEmit(this,"angle"));this.velocityX=Math.cos(g)*Math.abs(c),this.velocityY=Math.sin(g)*Math.abs(m)}else if(u.moveTo){var x=f.moveToX.onEmit(this,"moveToX"),T=f.moveToY.onEmit(this,"moveToY"),S=this.life/1e3;this.velocityX=(x-this.x)/S,this.velocityY=(T-this.y)/S}else this.velocityX=c,this.velocityY=m;return u.acceleration&&(this.accelerationX=f.accelerationX.onEmit(this,"accelerationX"),this.accelerationY=f.accelerationY.onEmit(this,"accelerationY")),this.maxVelocityX=f.maxVelocityX.onEmit(this,"maxVelocityX"),this.maxVelocityY=f.maxVelocityY.onEmit(this,"maxVelocityY"),this.bounce=f.bounce.onEmit(this,"bounce"),this.alpha=f.alpha.onEmit(this,"alpha"),f.color.active?this.tint=f.color.onEmit(this,"tint"):this.tint=f.tint.onEmit(this,"tint"),!0},update:function(i,l,u){if(this.lifeCurrent<=0)return this.holdCurrent>0?(this.holdCurrent-=i,this.holdCurrent<=0):!0;if(this.delayCurrent>0)return this.delayCurrent-=i,!1;this.anims.update(0,i);var f=this.emitter,d=f.ops,c=1-this.lifeCurrent/this.life;if(this.lifeT=c,this.x=d.x.onUpdate(this,"x",c,this.x),this.y=d.y.onUpdate(this,"y",c,this.y),f.moveTo){var m=d.moveToX.onUpdate(this,"moveToX",c,f.moveToX),g=d.moveToY.onUpdate(this,"moveToY",c,f.moveToY),x=this.lifeCurrent/1e3;this.velocityX=(m-this.x)/x,this.velocityY=(g-this.y)/x}return this.computeVelocity(f,i,l,u,c),this.scaleX=d.scaleX.onUpdate(this,"scaleX",c,this.scaleX),d.scaleY.active?this.scaleY=d.scaleY.onUpdate(this,"scaleY",c,this.scaleY):this.scaleY=this.scaleX,this.angle=d.rotate.onUpdate(this,"rotate",c,this.angle),this.rotation=n(this.angle),f.getDeathZone(this)?(this.lifeCurrent=0,!0):(this.alpha=p(d.alpha.onUpdate(this,"alpha",c,this.alpha),0,1),d.color.active?this.tint=d.color.onUpdate(this,"color",c,this.tint):this.tint=d.tint.onUpdate(this,"tint",c,this.tint),this.lifeCurrent-=i,this.lifeCurrent<=0&&this.holdCurrent<=0)},computeVelocity:function(i,l,u,f,d){var c=i.ops,m=this.velocityX,g=this.velocityY,x=c.accelerationX.onUpdate(this,"accelerationX",d,this.accelerationX),T=c.accelerationY.onUpdate(this,"accelerationY",d,this.accelerationY),S=c.maxVelocityX.onUpdate(this,"maxVelocityX",d,this.maxVelocityX),P=c.maxVelocityY.onUpdate(this,"maxVelocityY",d,this.maxVelocityY);this.bounce=c.bounce.onUpdate(this,"bounce",d,this.bounce),m+=i.gravityX*u+x*u,g+=i.gravityY*u+T*u,m=p(m,-S,S),g=p(g,-P,P),this.velocityX=m,this.velocityY=g,this.x+=m*u,this.y+=g*u,i.worldMatrix.transformPoint(this.x,this.y,this.worldPosition);for(var L=0;L<f.length;L++){var I=f[L];I.active&&I.update(this,l,u,d)}},setSizeToFrame:function(){},getBounds:function(i){i===void 0&&(i=this.emitter.getWorldTransformMatrix());var l=Math.abs(i.scaleX)*this.scaleX,u=Math.abs(i.scaleY)*this.scaleY,f=this.x,d=this.y,c=this.rotation,m=this.frame.width*l/2,g=this.frame.height*u/2,x=this.bounds,T=new s(f-m,d-g),S=new s(f+m,d-g),P=new s(f-m,d+g),L=new s(f+m,d+g);return c!==0&&(e(T,f,d,c),e(S,f,d,c),e(P,f,d,c),e(L,f,d,c)),i.transformPoint(T.x,T.y,T),i.transformPoint(S.x,S.y,S),i.transformPoint(P.x,P.y,P),i.transformPoint(L.x,L.y,L),x.x=Math.min(T.x,S.x,P.x,L.x),x.y=Math.min(T.y,S.y,P.y,L.y),x.width=Math.max(T.x,S.x,P.x,L.x)-x.x,x.height=Math.max(T.y,S.y,P.y,L.y)-x.y,x},destroy:function(){this.anims.destroy(),this.anims=null,this.emitter=null,this.texture=null,this.frame=null,this.scene=null}});v.exports=o},69601:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),p=t(20286),a=t(87841),n=new h({Extends:p,initialize:function(e,s,o,i,l,u,f,d){l===void 0&&(l=!0),u===void 0&&(u=!0),f===void 0&&(f=!0),d===void 0&&(d=!0),p.call(this,e,s,!0),this.bounds=new a(e,s,o,i),this.collideLeft=l,this.collideRight=u,this.collideTop=f,this.collideBottom=d},update:function(r){var e=this.bounds,s=-r.bounce,o=r.worldPosition;o.x<e.x&&this.collideLeft?(r.x+=e.x-o.x,r.velocityX*=s):o.x>e.right&&this.collideRight&&(r.x-=o.x-e.right,r.velocityX*=s),o.y<e.y&&this.collideTop?(r.y+=e.y-o.y,r.velocityY*=s):o.y>e.bottom&&this.collideBottom&&(r.y-=o.y-e.bottom,r.velocityY*=s)}});v.exports=n},31600:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),p=t(31401),a=t(53774),n=t(43459),r=t(26388),e=t(19909),s=t(76472),o=t(44777),i=t(20696),l=t(95643),u=t(95540),f=t(26546),d=t(24502),c=t(1985),m=t(97022),g=t(86091),x=t(73162),T=t(20074),S=t(269),P=t(56480),L=t(69601),I=t(68875),O=t(87841),M=t(59996),w=t(72905),D=t(90668),U=t(19186),Y=t(61340),H=t(26099),X=t(15994),G=["active","advance","blendMode","colorEase","deathCallback","deathCallbackScope","duration","emitCallback","emitCallbackScope","follow","frequency","gravityX","gravityY","maxAliveParticles","maxParticles","name","emitting","particleBringToTop","particleClass","radial","sortCallback","sortOrderAsc","sortProperty","stopAfter","tintFill","timeScale","trackVisible","visible"],z=["accelerationX","accelerationY","alpha","angle","bounce","color","delay","hold","lifespan","maxVelocityX","maxVelocityY","moveToX","moveToY","quantity","rotate","scaleX","scaleY","speedX","speedY","tint","x","y"],b=new h({Extends:l,Mixins:[p.AlphaSingle,p.BlendMode,p.Depth,p.Mask,p.Pipeline,p.PostPipeline,p.ScrollFactor,p.Texture,p.Transform,p.Visible,D],initialize:function(W,K,J,j,Z){l.call(this,W,"ParticleEmitter"),this.particleClass=P,this.config=null,this.ops={accelerationX:new o("accelerationX",0),accelerationY:new o("accelerationY",0),alpha:new o("alpha",1),angle:new o("angle",{min:0,max:360},!0),bounce:new o("bounce",0),color:new s("color"),delay:new o("delay",0,!0),hold:new o("hold",0,!0),lifespan:new o("lifespan",1e3,!0),maxVelocityX:new o("maxVelocityX",1e4),maxVelocityY:new o("maxVelocityY",1e4),moveToX:new o("moveToX",0),moveToY:new o("moveToY",0),quantity:new o("quantity",1,!0),rotate:new o("rotate",0),scaleX:new o("scaleX",1),scaleY:new o("scaleY",1),speedX:new o("speedX",0,!0),speedY:new o("speedY",0,!0),tint:new o("tint",16777215),x:new o("x",0),y:new o("y",0)},this.radial=!0,this.gravityX=0,this.gravityY=0,this.acceleration=!1,this.moveTo=!1,this.emitCallback=null,this.emitCallbackScope=null,this.deathCallback=null,this.deathCallbackScope=null,this.maxParticles=0,this.maxAliveParticles=0,this.stopAfter=0,this.duration=0,this.frequency=0,this.emitting=!0,this.particleBringToTop=!0,this.timeScale=1,this.emitZones=[],this.deathZones=[],this.viewBounds=null,this.follow=null,this.followOffset=new H,this.trackVisible=!1,this.frames=[],this.randomFrame=!0,this.frameQuantity=1,this.anims=[],this.randomAnim=!0,this.animQuantity=1,this.dead=[],this.alive=[],this.counters=new Float32Array(10),this.skipping=!1,this.worldMatrix=new Y,this.sortProperty="",this.sortOrderAsc=!0,this.sortCallback=this.depthSortCallback,this.processors=new x(this),this.tintFill=!1,this.initPipeline(),this.initPostPipeline(),this.setPosition(K,J),this.setTexture(j),Z&&this.setConfig(Z)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},setConfig:function(N){if(!N)return this;this.config=N;var W=0,K="",J=this.ops;for(W=0;W<z.length;W++)K=z[W],J[K].loadConfig(N);for(W=0;W<G.length;W++)K=G[W],m(N,K)&&(this[K]=u(N,K));if(this.acceleration=this.accelerationX!==0||this.accelerationY!==0,this.moveTo=this.moveToX!==0&&this.moveToY!==0,m(N,"speed")&&(J.speedX.loadConfig(N,"speed"),J.speedY.active=!1),(c(N,["speedX","speedY"])||this.moveTo)&&(this.radial=!1),m(N,"scale")&&(J.scaleX.loadConfig(N,"scale"),J.scaleY.active=!1),m(N,"callbackScope")){var j=u(N,"callbackScope",null);this.emitCallbackScope=j,this.deathCallbackScope=j}if(m(N,"emitZone")&&this.addEmitZone(N.emitZone),m(N,"deathZone")&&this.addDeathZone(N.deathZone),m(N,"bounds")){var Z=this.addParticleBounds(N.bounds);Z.collideLeft=u(N,"collideLeft",!0),Z.collideRight=u(N,"collideRight",!0),Z.collideTop=u(N,"collideTop",!0),Z.collideBottom=u(N,"collideBottom",!0)}return m(N,"followOffset")&&this.followOffset.setFromObject(u(N,"followOffset",0)),m(N,"texture")&&this.setTexture(N.texture),m(N,"frame")?this.setEmitterFrame(N.frame):m(N,"anim")&&this.setAnim(N.anim),m(N,"reserve")&&this.reserve(N.reserve),m(N,"advance")&&this.fastForward(N.advance),this.resetCounters(this.frequency,this.emitting),this.emitting&&this.emit(i.START,this),this},updateConfig:function(N){return N&&(this.config?this.setConfig(S(this.config,N)):this.setConfig(N)),this},toJSON:function(){var N=a(this),W=0,K="";for(W=0;W<G.length;W++)K=G[W],N[K]=this[K];var J=this.ops;for(W=0;W<z.length;W++)K=z[W],J[K]&&(N[K]=J[K].toJSON());return J.speedY.active||(delete N.speedX,N.speed=J.speedX.toJSON()),this.scaleX===this.scaleY&&(delete N.scaleX,delete N.scaleY,N.scale=J.scaleX.toJSON()),N},resetCounters:function(N,W){var K=this.counters;K.fill(0),K[0]=N,W&&(K[5]=1)},startFollow:function(N,W,K,J){return W===void 0&&(W=0),K===void 0&&(K=0),J===void 0&&(J=!1),this.follow=N,this.followOffset.set(W,K),this.trackVisible=J,this},stopFollow:function(){return this.follow=null,this.followOffset.set(0,0),this.trackVisible=!1,this},getFrame:function(){var N=this.frames,W=N.length,K;return W===1?K=N[0]:this.randomFrame?K=f(N):(K=N[this.currentFrame],this.frameCounter++,this.frameCounter===this.frameQuantity&&(this.frameCounter=0,this.currentFrame++,this.currentFrame===W&&(this.currentFrame=0))),this.texture.get(K)},setEmitterFrame:function(N,W,K){W===void 0&&(W=!0),K===void 0&&(K=1),this.randomFrame=W,this.frameQuantity=K,this.currentFrame=0;var J=typeof N;if(this.frames.length=0,Array.isArray(N))this.frames=this.frames.concat(N);else if(J==="string"||J==="number")this.frames.push(N);else if(J==="object"){var j=N;N=u(j,"frames",null),N&&(this.frames=this.frames.concat(N));var Z=u(j,"cycle",!1);this.randomFrame=!Z,this.frameQuantity=u(j,"quantity",K)}return this.frames.length===1&&(this.frameQuantity=1,this.randomFrame=!1),this},getAnim:function(){var N=this.anims,W=N.length;if(W===0)return null;if(W===1)return N[0];if(this.randomAnim)return f(N);var K=N[this.currentAnim];return this.animCounter++,this.animCounter>=this.animQuantity&&(this.animCounter=0,this.currentAnim=X(this.currentAnim+1,0,W)),K},setAnim:function(N,W,K){W===void 0&&(W=!0),K===void 0&&(K=1),this.randomAnim=W,this.animQuantity=K,this.currentAnim=0;var J=typeof N;if(this.anims.length=0,Array.isArray(N))this.anims=this.anims.concat(N);else if(J==="string")this.anims.push(N);else if(J==="object"){var j=N;N=u(j,"anims",null),N&&(this.anims=this.anims.concat(N));var Z=u(j,"cycle",!1);this.randomAnim=!Z,this.animQuantity=u(j,"quantity",K)}return this.anims.length===1&&(this.animQuantity=1,this.randomAnim=!1),this},setRadial:function(N){return N===void 0&&(N=!0),this.radial=N,this},addParticleBounds:function(N,W,K,J,j,Z,q,_){if(typeof N=="object"){var tt=N;N=tt.x,W=tt.y,K=m(tt,"w")?tt.w:tt.width,J=m(tt,"h")?tt.h:tt.height}return this.addParticleProcessor(new L(N,W,K,J,j,Z,q,_))},setParticleSpeed:function(N,W){return W===void 0&&(W=N),this.ops.speedX.onChange(N),N===W?this.ops.speedY.active=!1:this.ops.speedY.onChange(W),this.radial=!0,this},setParticleScale:function(N,W){return N===void 0&&(N=1),W===void 0&&(W=N),this.ops.scaleX.onChange(N),this.ops.scaleY.onChange(W),this},setParticleGravity:function(N,W){return this.gravityX=N,this.gravityY=W,this},setParticleAlpha:function(N){return this.ops.alpha.onChange(N),this},setParticleTint:function(N){return this.ops.tint.onChange(N),this},setEmitterAngle:function(N){return this.ops.angle.onChange(N),this},setParticleLifespan:function(N){return this.ops.lifespan.onChange(N),this},setQuantity:function(N){return this.quantity=N,this},setFrequency:function(N,W){return this.frequency=N,this.flowCounter=N>0?N:0,W&&(this.quantity=W),this},addDeathZone:function(N){Array.isArray(N)||(N=[N]);for(var W,K=[],J=0;J<N.length;J++)if(W=N[J],W instanceof r)K.push(W);else if(typeof W.contains=="function")W=new r(W,!0),K.push(W);else{var j=u(W,"type","onEnter"),Z=u(W,"source",null);if(Z&&typeof Z.contains=="function"){var q=j==="onEnter";W=new r(Z,q),K.push(W)}}return this.deathZones=this.deathZones.concat(K),K},removeDeathZone:function(N){return w(this.deathZones,N),this},clearDeathZones:function(){return this.deathZones.length=0,this},addEmitZone:function(N){Array.isArray(N)||(N=[N]);for(var W,K=[],J=0;J<N.length;J++)if(W=N[J],W instanceof I||W instanceof e)K.push(W);else{var j=u(W,"source",null);if(j){var Z=u(W,"type","random");if(Z==="random"&&typeof j.getRandomPoint=="function")W=new I(j),K.push(W);else if(Z==="edge"&&typeof j.getPoints=="function"){var q=u(W,"quantity",1),_=u(W,"stepRate",0),tt=u(W,"yoyo",!1),et=u(W,"seamless",!0),ot=u(W,"total",-1);W=new e(j,q,_,tt,et,ot),K.push(W)}}}return this.emitZones=this.emitZones.concat(K),K},removeEmitZone:function(N){return w(this.emitZones,N),this.zoneIndex=0,this},clearEmitZones:function(){return this.emitZones.length=0,this.zoneIndex=0,this},getEmitZone:function(N){var W=this.emitZones,K=W.length;if(K!==0){var J=W[this.zoneIndex];J.getPoint(N),J.total>-1&&(this.zoneTotal++,this.zoneTotal===J.total&&(this.zoneTotal=0,this.zoneIndex++,this.zoneIndex===K&&(this.zoneIndex=0)))}},getDeathZone:function(N){for(var W=this.deathZones,K=0;K<W.length;K++){var J=W[K];if(J.willKill(N))return this.emit(i.DEATH_ZONE,this,N,J),!0}return!1},setEmitZone:function(N){var W;return isFinite(N)?W=N:W=this.emitZones.indexOf(N),W>=0&&(this.zoneIndex=W),this},addParticleProcessor:function(N){return this.processors.exists(N)||(N.emitter&&N.emitter.removeParticleProcessor(N),this.processors.add(N),N.emitter=this),N},removeParticleProcessor:function(N){return this.processors.exists(N)&&(this.processors.remove(N,!0),N.emitter=null),N},getProcessors:function(){return this.processors.getAll("active",!0)},createGravityWell:function(N){return this.addParticleProcessor(new d(N))},reserve:function(N){var W=this.dead;if(this.maxParticles>0){var K=this.getParticleCount();K+N>this.maxParticles&&(N=this.maxParticles-(K+N))}for(var J=0;J<N;J++)W.push(new this.particleClass(this));return this},getAliveParticleCount:function(){return this.alive.length},getDeadParticleCount:function(){return this.dead.length},getParticleCount:function(){return this.getAliveParticleCount()+this.getDeadParticleCount()},atLimit:function(){return this.maxParticles>0&&this.getParticleCount()>=this.maxParticles?!0:this.maxAliveParticles>0&&this.getAliveParticleCount()>=this.maxAliveParticles},onParticleEmit:function(N,W){return N===void 0?(this.emitCallback=null,this.emitCallbackScope=null):typeof N=="function"&&(this.emitCallback=N,W&&(this.emitCallbackScope=W)),this},onParticleDeath:function(N,W){return N===void 0?(this.deathCallback=null,this.deathCallbackScope=null):typeof N=="function"&&(this.deathCallback=N,W&&(this.deathCallbackScope=W)),this},killAll:function(){for(var N=this.dead,W=this.alive;W.length>0;)N.push(W.pop());return this},forEachAlive:function(N,W){for(var K=this.alive,J=K.length,j=0;j<J;j++)N.call(W,K[j],this);return this},forEachDead:function(N,W){for(var K=this.dead,J=K.length,j=0;j<J;j++)N.call(W,K[j],this);return this},start:function(N,W){return N===void 0&&(N=0),this.emitting||(N>0&&this.fastForward(N),this.emitting=!0,this.resetCounters(this.frequency,!0),W!==void 0&&(this.duration=Math.abs(W)),this.emit(i.START,this)),this},stop:function(N){return N===void 0&&(N=!1),this.emitting&&(this.emitting=!1,N&&this.killAll(),this.emit(i.STOP,this)),this},pause:function(){return this.active=!1,this},resume:function(){return this.active=!0,this},setSortProperty:function(N,W){return N===void 0&&(N=""),W===void 0&&(W=this.true),this.sortProperty=N,this.sortOrderAsc=W,this.sortCallback=this.depthSortCallback,this},setSortCallback:function(N){return this.sortProperty!==""?N=this.depthSortCallback:N=null,this.sortCallback=N,this},depthSort:function(){return U(this.alive,this.sortCallback.bind(this)),this},depthSortCallback:function(N,W){var K=this.sortProperty;return this.sortOrderAsc?N[K]-W[K]:W[K]-N[K]},flow:function(N,W,K){return W===void 0&&(W=1),this.emitting=!1,this.frequency=N,this.quantity=W,K!==void 0&&(this.stopAfter=K),this.start()},explode:function(N,W,K){this.frequency=-1,this.resetCounters(-1,!0);var J=this.emitParticle(N,W,K);return this.emit(i.EXPLODE,this,J),J},emitParticleAt:function(N,W,K){return this.emitParticle(K,N,W)},emitParticle:function(N,W,K){if(!this.atLimit()){N===void 0&&(N=this.ops.quantity.onEmit());for(var J=this.dead,j=this.stopAfter,Z=this.follow?this.follow.x+this.followOffset.x:W,q=this.follow?this.follow.y+this.followOffset.y:K,_=0;_<N;_++){var tt=J.pop();if(tt||(tt=new this.particleClass(this)),tt.fire(Z,q)?(this.particleBringToTop?this.alive.push(tt):this.alive.unshift(tt),this.emitCallback&&this.emitCallback.call(this.emitCallbackScope,tt,this)):this.dead.push(tt),j>0&&(this.stopCounter++,this.stopCounter>=j)||this.atLimit())break}return tt}},fastForward:function(N,W){W===void 0&&(W=1e3/60);var K=0;for(this.skipping=!0;K<Math.abs(N);)this.preUpdate(0,W),K+=W;return this.skipping=!1,this},preUpdate:function(N,W){W*=this.timeScale;var K=W/1e3;this.trackVisible&&(this.visible=this.follow.visible),this.getWorldTransformMatrix(this.worldMatrix);var J=this.getProcessors(),j=this.alive,Z=this.dead,q=0,_=[],tt=j.length;for(q=0;q<tt;q++){var et=j[q];et.update(W,K,J)&&_.push({index:q,particle:et})}if(tt=_.length,tt>0){var ot=this.deathCallback,it=this.deathCallbackScope;for(q=tt-1;q>=0;q--){var lt=_[q];j.splice(lt.index,1),Z.push(lt.particle),ot&&ot.call(it,lt.particle),lt.particle.setPosition()}}if(!this.emitting&&!this.skipping){this.completeFlag===1&&j.length===0&&(this.completeFlag=0,this.emit(i.COMPLETE,this));return}if(this.frequency===0)this.emitParticle();else if(this.frequency>0)for(this.flowCounter-=W;this.flowCounter<=0;)this.emitParticle(),this.flowCounter+=this.frequency;this.skipping||(this.duration>0&&(this.elapsed+=W,this.elapsed>=this.duration&&this.stop()),this.stopAfter>0&&this.stopCounter>=this.stopAfter&&this.stop())},overlap:function(N){for(var W=this.getWorldTransformMatrix(),K=this.alive,J=K.length,j=[],Z=0;Z<J;Z++){var q=K[Z];M(N,q.getBounds(W))&&j.push(q)}return j},getBounds:function(N,W,K,J){N===void 0&&(N=0),W===void 0&&(W=0),K===void 0&&(K=1e3/60),J===void 0&&(J=new O);var j=this.getWorldTransformMatrix(),Z,q,_=this.alive,tt=!1;if(J.setTo(0,0,0,0),W>0){var et=0;for(this.skipping=!0;et<Math.abs(W);){for(this.preUpdate(0,K),Z=0;Z<_.length;Z++)q=_[Z].getBounds(j),tt?T(J,q):(tt=!0,n(q,J));et+=K}this.skipping=!1}else for(Z=0;Z<_.length;Z++)q=_[Z].getBounds(j),tt?T(J,q):(tt=!0,n(q,J));return N>0&&g(J,N,N),J},createEmitter:function(){throw new Error("createEmitter removed. See ParticleEmitter docs for info")},particleX:{get:function(){return this.ops.x.current},set:function(N){this.ops.x.onChange(N)}},particleY:{get:function(){return this.ops.y.current},set:function(N){this.ops.y.onChange(N)}},accelerationX:{get:function(){return this.ops.accelerationX.current},set:function(N){this.ops.accelerationX.onChange(N)}},accelerationY:{get:function(){return this.ops.accelerationY.current},set:function(N){this.ops.accelerationY.onChange(N)}},maxVelocityX:{get:function(){return this.ops.maxVelocityX.current},set:function(N){this.ops.maxVelocityX.onChange(N)}},maxVelocityY:{get:function(){return this.ops.maxVelocityY.current},set:function(N){this.ops.maxVelocityY.onChange(N)}},speed:{get:function(){return this.ops.speedX.current},set:function(N){this.ops.speedX.onChange(N),this.ops.speedY.onChange(N)}},speedX:{get:function(){return this.ops.speedX.current},set:function(N){this.ops.speedX.onChange(N)}},speedY:{get:function(){return this.ops.speedY.current},set:function(N){this.ops.speedY.onChange(N)}},moveToX:{get:function(){return this.ops.moveToX.current},set:function(N){this.ops.moveToX.onChange(N)}},moveToY:{get:function(){return this.ops.moveToY.current},set:function(N){this.ops.moveToY.onChange(N)}},bounce:{get:function(){return this.ops.bounce.current},set:function(N){this.ops.bounce.onChange(N)}},particleScaleX:{get:function(){return this.ops.scaleX.current},set:function(N){this.ops.scaleX.onChange(N)}},particleScaleY:{get:function(){return this.ops.scaleY.current},set:function(N){this.ops.scaleY.onChange(N)}},particleColor:{get:function(){return this.ops.color.current},set:function(N){this.ops.color.onChange(N)}},colorEase:{get:function(){return this.ops.color.easeName},set:function(N){this.ops.color.setEase(N)}},particleTint:{get:function(){return this.ops.tint.current},set:function(N){this.ops.tint.onChange(N)}},particleAlpha:{get:function(){return this.ops.alpha.current},set:function(N){this.ops.alpha.onChange(N)}},lifespan:{get:function(){return this.ops.lifespan.current},set:function(N){this.ops.lifespan.onChange(N)}},particleAngle:{get:function(){return this.ops.angle.current},set:function(N){this.ops.angle.onChange(N)}},particleRotate:{get:function(){return this.ops.rotate.current},set:function(N){this.ops.rotate.onChange(N)}},quantity:{get:function(){return this.ops.quantity.current},set:function(N){this.ops.quantity.onChange(N)}},delay:{get:function(){return this.ops.delay.current},set:function(N){this.ops.delay.onChange(N)}},hold:{get:function(){return this.ops.hold.current},set:function(N){this.ops.hold.onChange(N)}},flowCounter:{get:function(){return this.counters[0]},set:function(N){this.counters[0]=N}},frameCounter:{get:function(){return this.counters[1]},set:function(N){this.counters[1]=N}},animCounter:{get:function(){return this.counters[2]},set:function(N){this.counters[2]=N}},elapsed:{get:function(){return this.counters[3]},set:function(N){this.counters[3]=N}},stopCounter:{get:function(){return this.counters[4]},set:function(N){this.counters[4]=N}},completeFlag:{get:function(){return this.counters[5]},set:function(N){this.counters[5]=N}},zoneIndex:{get:function(){return this.counters[6]},set:function(N){this.counters[6]=N}},zoneTotal:{get:function(){return this.counters[7]},set:function(N){this.counters[7]=N}},currentFrame:{get:function(){return this.counters[8]},set:function(N){this.counters[8]=N}},currentAnim:{get:function(){return this.counters[9]},set:function(N){this.counters[9]=N}},preDestroy:function(){this.texture=null,this.frames=null,this.anims=null,this.emitCallback=null,this.emitCallbackScope=null,this.deathCallback=null,this.deathCallbackScope=null,this.emitZones=null,this.deathZones=null,this.bounds=null,this.follow=null,this.counters=null;var N,W=this.ops;for(N=0;N<z.length;N++){var K=z[N];W[K].destroy()}for(N=0;N<this.alive.length;N++)this.alive[N].destroy();for(N=0;N<this.dead.length;N++)this.dead[N].destroy();this.ops=null,this.alive=[],this.dead=[],this.worldMatrix.destroy()}});v.exports=b},9871:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(59996),p=t(61340),a=new p,n=new p,r=new p,e=new p,s=function(o,i,l,u){var f=a,d=n,c=r,m=e;u?(m.loadIdentity(),m.multiply(u),m.translate(i.x,i.y),m.rotate(i.rotation),m.scale(i.scaleX,i.scaleY)):m.applyITRS(i.x,i.y,i.rotation,i.scaleX,i.scaleY);var g=o.currentContext,x=l.roundPixels,T=l.alpha,S=i.alpha,P=i.alive,L=P.length,I=i.viewBounds;if(!(!i.visible||L===0||I&&!h(I,l.worldView))){i.sortCallback&&i.depthSort(),l.addToRenderList(i);var O=i.scrollFactorX,M=i.scrollFactorY;g.save(),g.globalCompositeOperation=o.blendModes[i.blendMode];for(var w=0;w<L;w++){var D=P[w],U=D.alpha*S*T;if(!(U<=0||D.scaleX===0||D.scaleY===0)){c.applyITRS(D.x,D.y,D.rotation,D.scaleX,D.scaleY),f.copyFrom(l.matrix),f.multiplyWithOffset(m,-l.scrollX*O,-l.scrollY*M),c.e=D.x,c.f=D.y,f.multiply(c,d);var Y=D.frame,H=Y.canvasData;if(H.width>0&&H.height>0){var X=-Y.halfWidth,G=-Y.halfHeight;g.globalAlpha=U,g.save(),d.setToContext(g),x&&(X=Math.round(X),G=Math.round(G)),g.imageSmoothingEnabled=!Y.source.scaleMode,g.drawImage(Y.source.image,H.x,H.y,H.width,H.height,X,G,H.width,H.height),g.restore()}}}g.restore()}};v.exports=s},92730:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(25305),p=t(44603),a=t(23568),n=t(95540),r=t(31600);p.register("particles",function(e,s){e===void 0&&(e={});var o=a(e,"key",null),i=n(e,"config",null),l=new r(this.scene,0,0,o);return s!==void 0&&(e.add=s),h(this.scene,l,e),i&&l.setConfig(i),l})},676:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(39429),p=t(31600);h.register("particles",function(a,n,r,e){return a!==void 0&&typeof a=="string"&&console.warn("ParticleEmitterManager was removed in Phaser 3.60. See documentation for details"),this.displayList.add(new p(this.scene,a,n,r,e))})},90668:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(29747),p=h,a=h;p=t(21188),a=t(9871),v.exports={renderWebGL:p,renderCanvas:a}},21188:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(59996),p=t(61340),a=t(70554),n=new p,r=new p,e=new p,s=new p,o=function(i,l,u,f){var d=i.pipelines.set(l.pipeline),c=n,m=r,g=e,x=s;f?(x.loadIdentity(),x.multiply(f),x.translate(l.x,l.y),x.rotate(l.rotation),x.scale(l.scaleX,l.scaleY)):x.applyITRS(l.x,l.y,l.rotation,l.scaleX,l.scaleY);var T=a.getTintAppendFloatAlpha,S=u.alpha,P=l.alpha;i.pipelines.preBatch(l);var L=l.alive,I=L.length,O=l.viewBounds;if(!(I===0||O&&!h(O,u.worldView))){l.sortCallback&&l.depthSort(),u.addToRenderList(l),c.copyFrom(u.matrix),c.multiplyWithOffset(x,-u.scrollX*l.scrollFactorX,-u.scrollY*l.scrollFactorY),i.setBlendMode(l.blendMode),l.mask&&(l.mask.preRenderWebGL(i,l,u),i.pipelines.set(l.pipeline));for(var M=l.tintFill,w,D,U=0;U<I;U++){var Y=L[U],H=Y.alpha*P*S;if(!(H<=0||Y.scaleX===0||Y.scaleY===0)){g.applyITRS(Y.x,Y.y,Y.rotation,Y.scaleX,Y.scaleY),g.e=Y.x,g.f=Y.y,c.multiply(g,m);var X=Y.frame;X.glTexture!==D&&(D=X.glTexture,w=d.setGameObject(l,X));var G=-X.halfWidth,z=-X.halfHeight,b=m.setQuad(G,z,G+X.width,z+X.height),N=T(Y.tint,H);d.shouldFlush(6)&&(d.flush(),w=d.setGameObject(l,X)),d.batchQuad(l,b[0],b[1],b[2],b[3],b[4],b[5],b[6],b[7],X.u0,X.v0,X.u1,X.v1,N,N,N,N,M,D,w)}}l.mask&&l.mask.postRenderWebGL(i,u),i.pipelines.postBatch(l)}};v.exports=o},20286:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),p=new h({initialize:function(n,r,e){n===void 0&&(n=0),r===void 0&&(r=0),e===void 0&&(e=!0),this.emitter,this.x=n,this.y=r,this.active=e},update:function(){},destroy:function(){this.emitter=null}});v.exports=p},9774:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="complete"},812:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="deathzone"},30522:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="explode"},96695:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="start"},18677:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="stop"},20696:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={COMPLETE:t(9774),DEATH_ZONE:t(812),EXPLODE:t(30522),START:t(96695),STOP:t(18677)}},18404:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={EmitterColorOp:t(76472),EmitterOp:t(44777),Events:t(20696),GravityWell:t(24502),Particle:t(56480),ParticleBounds:t(69601),ParticleEmitter:t(31600),ParticleProcessor:t(20286),Zones:t(21024)}},26388:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),p=new h({initialize:function(n,r){this.source=n,this.killOnEnter=r},willKill:function(a){var n=this.source.contains(a.x,a.y);return n&&this.killOnEnter||!n&&!this.killOnEnter}});v.exports=p},19909:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),p=new h({initialize:function(n,r,e,s,o,i){s===void 0&&(s=!1),o===void 0&&(o=!0),i===void 0&&(i=-1),this.source=n,this.points=[],this.quantity=r,this.stepRate=e,this.yoyo=s,this.counter=-1,this.seamless=o,this._length=0,this._direction=0,this.total=i,this.updateSource()},updateSource:function(){if(this.points=this.source.getPoints(this.quantity,this.stepRate),this.seamless){var a=this.points[0],n=this.points[this.points.length-1];a.x===n.x&&a.y===n.y&&this.points.pop()}var r=this._length;return this._length=this.points.length,this._length<r&&this.counter>this._length&&(this.counter=this._length-1),this},changeSource:function(a){return this.source=a,this.updateSource()},getPoint:function(a){this._direction===0?(this.counter++,this.counter>=this._length&&(this.yoyo?(this._direction=1,this.counter=this._length-1):this.counter=0)):(this.counter--,this.counter===-1&&(this.yoyo?(this._direction=0,this.counter=0):this.counter=this._length-1));var n=this.points[this.counter];n&&(a.x=n.x,a.y=n.y)}});v.exports=p},68875:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),p=t(26099),a=new h({initialize:function(r){this.source=r,this._tempVec=new p,this.total=-1},getPoint:function(n){var r=this._tempVec;this.source.getRandomPoint(r),n.x=r.x,n.y=r.y}});v.exports=a},21024:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={DeathZone:t(26388),EdgeZone:t(19909),RandomZone:t(68875)}},1159:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),p=t(31401),a=t(68287),n=new h({Extends:a,Mixins:[p.PathFollower],initialize:function(e,s,o,i,l,u){a.call(this,e,o,i,l,u),this.path=s},preUpdate:function(r,e){this.anims.update(r,e),this.pathUpdate(r)}});v.exports=n},90145:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(39429),p=t(1159);h.register("follower",function(a,n,r,e,s){var o=new p(this.scene,a,n,r,e,s);return this.displayList.add(o),this.updateList.add(o),o})},33663:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(9674),p=t(83419),a=t(48803),n=t(90664),r=t(4703),e=t(45650),s=new p({Extends:r,initialize:function(i,l,u,f,d,c,m,g){f||(f="__DEFAULT"),r.call(this,i,l,u,f,d),this.type="Plane",this.anims=new h(this),this.gridWidth,this.gridHeight,this.isTiled,this._checkerboard=null,this.hideCCW=!1,this.setGridSize(c,m,g),this.setSizeToFrame(!1),this.setViewHeight()},originX:{get:function(){return .5}},originY:{get:function(){return .5}},setGridSize:function(o,i,l){o===void 0&&(o=8),i===void 0&&(i=8),l===void 0&&(l=!1);var u=!1;return l&&(u=!0),this.gridWidth=o,this.gridHeight=i,this.isTiled=l,this.clear(),a({mesh:this,widthSegments:o,heightSegments:i,isOrtho:!1,tile:l,flipY:u}),this},setSizeToFrame:function(o){o===void 0&&(o=!0);var i=this.frame;if(this.setPerspective(this.width/i.width,this.height/i.height),this._checkerboard&&this._checkerboard!==this.texture&&this.removeCheckerboard(),!o)return this;var l=this.gridWidth,u=this.gridHeight,f=this.vertices,d=i.u0,c=i.u1,m=i.v0,g=i.v1,x,T,S=0;if(this.isTiled)for(m=i.v1,g=i.v0,T=0;T<u;T++)for(x=0;x<l;x++)f[S++].setUVs(d,g),f[S++].setUVs(d,m),f[S++].setUVs(c,g),f[S++].setUVs(d,m),f[S++].setUVs(c,m),f[S++].setUVs(c,g);else{var P=l+1,L=u+1,I=c-d,O=g-m,M=[];for(T=0;T<L;T++)for(x=0;x<P;x++){var w=d+I*(x/l),D=m+O*(T/u);M.push(w,D)}for(T=0;T<u;T++)for(x=0;x<l;x++){var U=(x+P*T)*2,Y=(x+P*(T+1))*2,H=(x+1+P*(T+1))*2,X=(x+1+P*T)*2;f[S++].setUVs(M[U],M[U+1]),f[S++].setUVs(M[Y],M[Y+1]),f[S++].setUVs(M[X],M[X+1]),f[S++].setUVs(M[Y],M[Y+1]),f[S++].setUVs(M[H],M[H+1]),f[S++].setUVs(M[X],M[X+1])}}return this},setViewHeight:function(o){o===void 0&&(o=this.frame.height);var i=this.fov*(Math.PI/180);this.viewPosition.z=this.height/o/Math.tan(i/2),this.dirtyCache[10]=1},createCheckerboard:function(o,i,l,u,f){o===void 0&&(o=16777215),i===void 0&&(i=255),l===void 0&&(l=255),u===void 0&&(u=255),f===void 0&&(f=128);for(var d=n(o),c=n(i),m=[],g=0;g<16;g++)for(var x=0;x<16;x++)g<8&&x<8||g>7&&x>7?m.push(d.r,d.g,d.b,l):m.push(c.r,c.g,c.b,u);var T=this.scene.sys.textures.addUint8Array(e(),new Uint8Array(m),16,16);return this.removeCheckerboard(),this.setTexture(T),this.setSizeToFrame(),this.setViewHeight(f),this},removeCheckerboard:function(){this._checkerboard&&(this._checkerboard.destroy(),this._checkerboard=null)},play:function(o,i){return this.anims.play(o,i)},playReverse:function(o,i){return this.anims.playReverse(o,i)},playAfterDelay:function(o,i){return this.anims.playAfterDelay(o,i)},playAfterRepeat:function(o,i){return this.anims.playAfterRepeat(o,i)},stop:function(){return this.anims.stop()},stopAfterDelay:function(o){return this.anims.stopAfterDelay(o)},stopAfterRepeat:function(o){return this.anims.stopAfterRepeat(o)},stopOnFrame:function(o){return this.anims.stopOnFrame(o)},preUpdate:function(o,i){r.prototype.preUpdate.call(this,o,i),this.anims.update(o,i)},preDestroy:function(){this.clear(),this.removeCheckerboard(),this.anims.destroy(),this.anims=void 0,this.debugCallback=null,this.debugGraphic=null}});v.exports=s},56015:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(25305),p=t(13059),a=t(44603),n=t(23568),r=t(35154),e=t(33663);a.register("plane",function(s,o){s===void 0&&(s={});var i=n(s,"key",null),l=n(s,"frame",null),u=r(s,"width",8),f=r(s,"height",8),d=r(s,"tile",!1),c=new e(this.scene,0,0,i,l,u,f,d);o!==void 0&&(s.add=o);var m=r(s,"checkerboard",null);if(m){var g=r(m,"color1",16777215),x=r(m,"color2",255),T=r(m,"alpha1",255),S=r(m,"alpha2",255),P=r(m,"height",128);c.createCheckerboard(g,x,T,S,P)}return h(this.scene,c,s),p(c,s),c})},30985:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(33663),p=t(39429);p.register("plane",function(a,n,r,e,s,o,i){return this.displayList.add(new h(this.scene,a,n,r,e,s,o,i))})},80321:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),p=t(31401),a=t(95643),n=t(30100),r=t(36060),e=t(67277),s=new h({Extends:a,Mixins:[p.AlphaSingle,p.BlendMode,p.Depth,p.Mask,p.Pipeline,p.PostPipeline,p.ScrollFactor,p.Transform,p.Visible,e],initialize:function(i,l,u,f,d,c,m){f===void 0&&(f=16777215),d===void 0&&(d=128),c===void 0&&(c=1),m===void 0&&(m=.1),a.call(this,i,"PointLight"),this.initPipeline(r.POINTLIGHT_PIPELINE),this.initPostPipeline(),this.setPosition(l,u),this.color=n(f),this.intensity=c,this.attenuation=m,this.width=d*2,this.height=d*2,this._radius=d},radius:{get:function(){return this._radius},set:function(o){this._radius=o,this.width=o*2,this.height=o*2}},originX:{get:function(){return .5}},originY:{get:function(){return .5}},displayOriginX:{get:function(){return this._radius}},displayOriginY:{get:function(){return this._radius}}});v.exports=s},39829:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(25305),p=t(44603),a=t(23568),n=t(80321);p.register("pointlight",function(r,e){r===void 0&&(r={});var s=a(r,"color",16777215),o=a(r,"radius",128),i=a(r,"intensity",1),l=a(r,"attenuation",.1),u=new n(this.scene,0,0,s,o,i,l);return e!==void 0&&(r.add=e),h(this.scene,u,r),u})},71255:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(39429),p=t(80321);h.register("pointlight",function(a,n,r,e,s,o){return this.displayList.add(new p(this.scene,a,n,r,e,s,o))})},67277:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(29747),p=h,a=h;p=t(57787),v.exports={renderWebGL:p,renderCanvas:a}},57787:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(91296),p=function(a,n,r,e){r.addToRenderList(n);var s=a.pipelines.set(n.pipeline),o=h(n,r,e).calc,i=n.width,l=n.height,u=-n._radius,f=-n._radius,d=u+i,c=f+l,m=o.getX(0,0),g=o.getY(0,0),x=o.getX(u,f),T=o.getY(u,f),S=o.getX(u,c),P=o.getY(u,c),L=o.getX(d,c),I=o.getY(d,c),O=o.getX(d,f),M=o.getY(d,f);a.pipelines.preBatch(n),s.batchPointLight(n,r,x,T,S,P,L,I,O,M,m,g),a.pipelines.postBatch(n)};v.exports=p},591:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),p=t(81320),a=t(88571),n=new h({Extends:a,initialize:function(e,s,o,i,l){s===void 0&&(s=0),o===void 0&&(o=0),i===void 0&&(i=32),l===void 0&&(l=32);var u=new p(e.sys.textures,"",i,l);a.call(this,e,s,o,u),this.type="RenderTexture",this.camera=this.texture.camera,this._saved=!1},setSize:function(r,e){this.width=r,this.height=e,this.texture.setSize(r,e),this.updateDisplayOrigin();var s=this.input;return s&&!s.customHitArea&&(s.hitArea.width=r,s.hitArea.height=e),this},resize:function(r,e){return this.setSize(r,e),this},saveTexture:function(r){var e=this.texture;return e.key=r,e.manager.addDynamicTexture(e)&&(this._saved=!0),e},fill:function(r,e,s,o,i,l){return this.texture.fill(r,e,s,o,i,l),this},clear:function(){return this.texture.clear(),this},stamp:function(r,e,s,o,i){return this.texture.stamp(r,e,s,o,i),this},erase:function(r,e,s){return this.texture.erase(r,e,s),this},draw:function(r,e,s,o,i){return this.texture.draw(r,e,s,o,i),this},drawFrame:function(r,e,s,o,i,l){return this.texture.drawFrame(r,e,s,o,i,l),this},repeat:function(r,e,s,o,i,l,u,f,d){return this.texture.repeat(r,e,s,o,i,l,u,f,d),this},beginDraw:function(){return this.texture.beginDraw(),this},batchDraw:function(r,e,s,o,i){return this.texture.batchDraw(r,e,s,o,i),this},batchDrawFrame:function(r,e,s,o,i,l){return this.texture.batchDrawFrame(r,e,s,o,i,l),this},endDraw:function(r){return this.texture.endDraw(r),this},snapshotArea:function(r,e,s,o,i,l,u){return this.texture.snapshotArea(r,e,s,o,i,l,u),this},snapshot:function(r,e,s){return this.snapshotArea(0,0,this.width,this.height,r,e,s)},snapshotPixel:function(r,e,s){return this.snapshotArea(r,e,1,1,s,"pixel")},preDestroy:function(){this.camera=null,this._saved||this.texture.destroy()}});v.exports=n},34495:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(25305),p=t(44603),a=t(23568),n=t(591);p.register("renderTexture",function(r,e){r===void 0&&(r={});var s=a(r,"x",0),o=a(r,"y",0),i=a(r,"width",32),l=a(r,"height",32),u=new n(this.scene,s,o,i,l);return e!==void 0&&(r.add=e),h(this.scene,u,r),u})},60505:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(39429),p=t(591);h.register("renderTexture",function(a,n,r,e){return this.displayList.add(new p(this.scene,a,n,r,e))})},77757:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(9674),p=t(83419),a=t(31401),n=t(95643),r=t(36060),e=t(38745),s=t(26099),o=new p({Extends:n,Mixins:[a.AlphaSingle,a.BlendMode,a.Depth,a.Flip,a.Mask,a.Pipeline,a.PostPipeline,a.Size,a.Texture,a.Transform,a.Visible,a.ScrollFactor,e],initialize:function(l,u,f,d,c,m,g,x,T){d===void 0&&(d="__DEFAULT"),m===void 0&&(m=2),g===void 0&&(g=!0),n.call(this,l,"Rope"),this.anims=new h(this),this.points=m,this.vertices,this.uv,this.colors,this.alphas,this.tintFill=d==="__DEFAULT",this.dirty=!1,this.horizontal=g,this._flipX=!1,this._flipY=!1,this._perp=new s,this.debugCallback=null,this.debugGraphic=null,this.setTexture(d,c),this.setPosition(u,f),this.setSizeToFrame(),this.initPipeline(r.ROPE_PIPELINE),this.initPostPipeline(),Array.isArray(m)&&this.resizeArrays(m.length),this.setPoints(m,x,T),this.updateVertices()},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},preUpdate:function(i,l){var u=this.anims.currentFrame;this.anims.update(i,l),this.anims.currentFrame!==u&&(this.updateUVs(),this.updateVertices())},play:function(i,l,u){return this.anims.play(i,l,u),this},setDirty:function(){return this.dirty=!0,this},setHorizontal:function(i,l,u){return i===void 0&&(i=this.points.length),this.horizontal?this:(this.horizontal=!0,this.setPoints(i,l,u))},setVertical:function(i,l,u){return i===void 0&&(i=this.points.length),this.horizontal?(this.horizontal=!1,this.setPoints(i,l,u)):this},setTintFill:function(i){return i===void 0&&(i=!1),this.tintFill=i,this},setAlphas:function(i,l){var u=this.points.length;if(u<1)return this;var f=this.alphas;i===void 0?i=[1]:!Array.isArray(i)&&l===void 0&&(i=[i]);var d,c=0;if(l!==void 0)for(d=0;d<u;d++)c=d*2,f[c]=i,f[c+1]=l;else if(i.length===u)for(d=0;d<u;d++)c=d*2,f[c]=i[d],f[c+1]=i[d];else{var m=i[0];for(d=0;d<u;d++)c=d*2,i.length>c&&(m=i[c]),f[c]=m,i.length>c+1&&(m=i[c+1]),f[c+1]=m}return this},setColors:function(i){var l=this.points.length;if(l<1)return this;var u=this.colors;i===void 0?i=[16777215]:Array.isArray(i)||(i=[i]);var f,d=0;if(i.length===l)for(f=0;f<l;f++)d=f*2,u[d]=i[f],u[d+1]=i[f];else{var c=i[0];for(f=0;f<l;f++)d=f*2,i.length>d&&(c=i[d]),u[d]=c,i.length>d+1&&(c=i[d+1]),u[d+1]=c}return this},setPoints:function(i,l,u){if(i===void 0&&(i=2),typeof i=="number"){var f=i;f<2&&(f=2),i=[];var d,c,m;if(this.horizontal)for(m=-this.frame.halfWidth,c=this.frame.width/(f-1),d=0;d<f;d++)i.push({x:m+d*c,y:0});else for(m=-this.frame.halfHeight,c=this.frame.height/(f-1),d=0;d<f;d++)i.push({x:0,y:m+d*c})}var g=i.length,x=this.points.length;return g<1?(console.warn("Rope: Not enough points given"),this):(g===1&&(i.unshift({x:0,y:0}),g++),x!==g&&this.resizeArrays(g),this.dirty=!0,this.points=i,this.updateUVs(),l!=null&&this.setColors(l),u!=null&&this.setAlphas(u),this)},updateUVs:function(){for(var i=this.uv,l=this.points.length,u=this.frame.u0,f=this.frame.v0,d=this.frame.u1,c=this.frame.v1,m=(d-u)/(l-1),g=(c-f)/(l-1),x=0;x<l;x++){var T=x*4,S,P,L,I;this.horizontal?(this._flipX?(S=d-x*m,L=d-x*m):(S=u+x*m,L=u+x*m),this._flipY?(P=c,I=f):(P=f,I=c)):(this._flipX?(S=u,L=d):(S=d,L=u),this._flipY?(P=c-x*g,I=c-x*g):(P=f+x*g,I=f+x*g)),i[T+0]=S,i[T+1]=P,i[T+2]=L,i[T+3]=I}return this},resizeArrays:function(i){var l=this.colors,u=this.alphas;this.vertices=new Float32Array(i*4),this.uv=new Float32Array(i*4),l=new Uint32Array(i*2),u=new Float32Array(i*2);for(var f=0;f<i*2;f++)l[f]=16777215,u[f]=1;return this.colors=l,this.alphas=u,this.dirty=!0,this},updateVertices:function(){var i=this._perp,l=this.points,u=this.vertices,f=l.length;if(this.dirty=!1,!(f<1)){for(var d,c=l[0],m=this.horizontal?this.frame.halfHeight:this.frame.halfWidth,g=0;g<f;g++){var x=l[g],T=g*4;g<f-1?d=l[g+1]:d=x,i.x=d.y-c.y,i.y=-(d.x-c.x);var S=i.length();i.x/=S,i.y/=S,i.x*=m,i.y*=m,u[T]=x.x+i.x,u[T+1]=x.y+i.y,u[T+2]=x.x-i.x,u[T+3]=x.y-i.y,c=x}return this}},setDebug:function(i,l){return this.debugGraphic=i,!i&&!l?this.debugCallback=null:l?this.debugCallback=l:this.debugCallback=this.renderDebugVerts,this},renderDebugVerts:function(i,l,u){var f=i.debugGraphic,d=u[0],c=u[1],m=u[2],g=u[3];f.lineBetween(d,c,m,g);for(var x=4;x<l;x+=4){var T=u[x+0],S=u[x+1],P=u[x+2],L=u[x+3];f.lineBetween(d,c,T,S),f.lineBetween(m,g,P,L),f.lineBetween(m,g,T,S),f.lineBetween(T,S,P,L),d=T,c=S,m=P,g=L}},preDestroy:function(){this.anims.destroy(),this.anims=void 0,this.points=null,this.vertices=null,this.uv=null,this.colors=null,this.alphas=null,this.debugCallback=null,this.debugGraphic=null},flipX:{get:function(){return this._flipX},set:function(i){return this._flipX=i,this.updateUVs()}},flipY:{get:function(){return this._flipY},set:function(i){return this._flipY=i,this.updateUVs()}}});v.exports=o},95262:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(){};v.exports=y},26209:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(25305),p=t(44603),a=t(23568),n=t(35154),r=t(77757);p.register("rope",function(e,s){e===void 0&&(e={});var o=a(e,"key",null),i=a(e,"frame",null),l=a(e,"horizontal",!0),u=n(e,"points",void 0),f=n(e,"colors",void 0),d=n(e,"alphas",void 0),c=new r(this.scene,0,0,o,i,u,l,f,d);return s!==void 0&&(e.add=s),h(this.scene,c,e),c})},96819:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(77757),p=t(39429);p.register("rope",function(a,n,r,e,s,o,i,l){return this.displayList.add(new h(this.scene,a,n,r,e,s,o,i,l))})},38745:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(29747),p=h,a=h;p=t(20439),a=t(95262),v.exports={renderWebGL:p,renderCanvas:a}},20439:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(91296),p=t(70554),a=function(n,r,e,s){e.addToRenderList(r);var o=n.pipelines.set(r.pipeline,r),i=h(r,e,s).calc,l=r.vertices,u=r.uv,f=r.colors,d=r.alphas,c=r.alpha,m=p.getTintAppendFloatAlpha,g=e.roundPixels,x=l.length,T=Math.floor(x*.5);o.flush(),n.pipelines.preBatch(r);var S=o.setGameObject(r),P=o.vertexViewF32,L=o.vertexViewU32,I=o.vertexCount*o.currentShader.vertexComponentCount-1,O=0,M=r.tintFill;r.dirty&&r.updateVertices();for(var w=r.debugCallback,D=[],U=0;U<x;U+=2){var Y=l[U+0],H=l[U+1],X=Y*i.a+H*i.c+i.e,G=Y*i.b+H*i.d+i.f;g&&(X=Math.round(X),G=Math.round(G)),P[++I]=X,P[++I]=G,P[++I]=u[U+0],P[++I]=u[U+1],P[++I]=S,P[++I]=M,L[++I]=m(f[O],e.alpha*(d[O]*c)),O++,w&&(D[U+0]=X,D[U+1]=G)}w&&w.call(r,r,x,D),o.vertexCount+=T,o.currentBatch.count=o.vertexCount-o.currentBatch.start,n.pipelines.postBatch(r)};v.exports=a},20071:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),p=t(31401),a=t(95643),n=t(95540),r=t(79291),e=t(61622),s=t(25479),o=t(61340),i=t(95428),l=t(92503),u=new h({Extends:a,Mixins:[p.ComputedSize,p.Depth,p.GetBounds,p.Mask,p.Origin,p.ScrollFactor,p.Transform,p.Visible,s],initialize:function(d,c,m,g,x,T,S,P){m===void 0&&(m=0),g===void 0&&(g=0),x===void 0&&(x=128),T===void 0&&(T=128),a.call(this,d,"Shader"),this.blendMode=-1,this.shader;var L=d.sys.renderer;this.renderer=L,this.gl=L.gl,this.vertexData=new ArrayBuffer(6*(Float32Array.BYTES_PER_ELEMENT*2)),this.vertexBuffer=L.createVertexBuffer(this.vertexData.byteLength,this.gl.STREAM_DRAW),this._deferSetShader=null,this._deferProjOrtho=null,this.program=null,this.bytes=new Uint8Array(this.vertexData),this.vertexViewF32=new Float32Array(this.vertexData),this._tempMatrix1=new o,this._tempMatrix2=new o,this._tempMatrix3=new o,this.viewMatrix=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),this.projectionMatrix=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),this.uniforms={},this.pointer=null,this._rendererWidth=L.width,this._rendererHeight=L.height,this._textureCount=0,this.framebuffer=null,this.glTexture=null,this.renderToTexture=!1,this.texture=null,this.setPosition(m,g),this.setSize(x,T),this.setOrigin(.5,.5),this.setShader(c,S,P),this.renderer.on(l.RESTORE_WEBGL,this.onContextRestored,this)},willRender:function(f){return this.renderToTexture?!0:!(a.RENDER_MASK!==this.renderFlags||this.cameraFilter!==0&&this.cameraFilter&f.id)},setRenderToTexture:function(f,d){if(!this.renderToTexture){var c=this.width,m=this.height,g=this.renderer;this.glTexture=g.createTextureFromSource(null,c,m,0),this.framebuffer=g.createFramebuffer(c,m,this.glTexture,!1),this._rendererWidth=c,this._rendererHeight=m,this.renderToTexture=!0,this.projOrtho(0,this.width,this.height,0),f&&(this.texture=this.scene.sys.textures.addGLTexture(f,this.glTexture))}return this.shader&&(g.pipelines.clear(),this.load(),this.flush(),g.pipelines.rebind()),this},setShader:function(f,d,c){if(this.renderer.contextLost)return this._deferSetShader={key:f,textures:d,textureData:c},this;if(d===void 0&&(d=[]),typeof f=="string"){var m=this.scene.sys.cache.shader;if(!m.has(f))return console.warn("Shader missing: "+f),this;this.shader=m.get(f)}else this.shader=f;var g=this.gl,x=this.renderer;this.program&&x.deleteProgram(this.program);var T=x.createProgram(this.shader.vertexSrc,this.shader.fragmentSrc);g.uniformMatrix4fv(g.getUniformLocation(T.webGLProgram,"uViewMatrix"),!1,this.viewMatrix),g.uniformMatrix4fv(g.getUniformLocation(T.webGLProgram,"uProjectionMatrix"),!1,this.projectionMatrix),g.uniform2f(g.getUniformLocation(T.webGLProgram,"uResolution"),this.width,this.height),this.program=T;var S=new Date,P={resolution:{type:"2f",value:{x:this.width,y:this.height}},time:{type:"1f",value:0},mouse:{type:"2f",value:{x:this.width/2,y:this.height/2}},date:{type:"4fv",value:[S.getFullYear(),S.getMonth(),S.getDate(),S.getHours()*60*60+S.getMinutes()*60+S.getSeconds()]},sampleRate:{type:"1f",value:44100},iChannel0:{type:"sampler2D",value:null,textureData:{repeat:!0}},iChannel1:{type:"sampler2D",value:null,textureData:{repeat:!0}},iChannel2:{type:"sampler2D",value:null,textureData:{repeat:!0}},iChannel3:{type:"sampler2D",value:null,textureData:{repeat:!0}}};this.shader.uniforms?this.uniforms=r(!0,{},this.shader.uniforms,P):this.uniforms=P;for(var L=0;L<4;L++)d[L]&&this.setSampler2D("iChannel"+L,d[L],L,c);return this.initUniforms(),this.projOrtho(0,this._rendererWidth,this._rendererHeight,0),this},setPointer:function(f){return this.pointer=f,this},projOrtho:function(f,d,c,m){if(this.renderer.contextLost){this._deferProjOrtho={left:f,right:d,bottom:c,top:m};return}var g=-1e3,x=1e3,T=1/(f-d),S=1/(c-m),P=1/(g-x),L=this.projectionMatrix;L[0]=-2*T,L[5]=-2*S,L[10]=2*P,L[12]=(f+d)*T,L[13]=(m+c)*S,L[14]=(x+g)*P;var I=this.program,O=this.gl,M=this.renderer;M.setProgram(I),O.uniformMatrix4fv(O.getUniformLocation(I.webGLProgram,"uProjectionMatrix"),!1,this.projectionMatrix),this._rendererWidth=d,this._rendererHeight=c},initUniforms:function(){var f=this.renderer.glFuncMap,d=this.program;this._textureCount=0;for(var c in this.uniforms){var m=this.uniforms[c],g=m.type,x=f[g];m.uniformLocation=this.renderer.createUniformLocation(d,c),g!=="sampler2D"&&(m.glMatrix=x.matrix,m.glValueLength=x.length,m.glFunc=x.func)}},setSampler2DBuffer:function(f,d,c,m,g,x){g===void 0&&(g=0),x===void 0&&(x={});var T=this.uniforms[f];return T.value=d,x.width=c,x.height=m,T.textureData=x,this._textureCount=g,this.initSampler2D(T),this},setSampler2D:function(f,d,c,m){c===void 0&&(c=0);var g=this.scene.sys.textures;if(g.exists(d)){var x=g.getFrame(d);if(x.glTexture&&x.glTexture.isRenderTexture)return this.setSampler2DBuffer(f,x.glTexture,x.width,x.height,c,m);var T=this.uniforms[f],S=x.source;T.textureKey=d,T.source=S.image,T.value=x.glTexture,S.isGLTexture&&(m||(m={}),m.width=S.width,m.height=S.height),m&&(T.textureData=m),this._textureCount=c,this.initSampler2D(T)}return this},setUniform:function(f,d){return e(this.uniforms,f,d),this},getUniform:function(f){return n(this.uniforms,f,null)},setChannel0:function(f,d){return this.setSampler2D("iChannel0",f,0,d)},setChannel1:function(f,d){return this.setSampler2D("iChannel1",f,1,d)},setChannel2:function(f,d){return this.setSampler2D("iChannel2",f,2,d)},setChannel3:function(f,d){return this.setSampler2D("iChannel3",f,3,d)},initSampler2D:function(f){if(f.value){var d=f.textureData;if(d&&!f.value.isRenderTexture){var c=this.gl,m=f.value,g=c[n(d,"magFilter","linear").toUpperCase()],x=c[n(d,"minFilter","linear").toUpperCase()],T=c[n(d,"wrapS","repeat").toUpperCase()],S=c[n(d,"wrapT","repeat").toUpperCase()],P=c[n(d,"format","rgba").toUpperCase()],L=n(d,"flipY",!1),I=n(d,"width",m.width),O=n(d,"height",m.height),M=n(d,"source",m.pixels);d.repeat&&(T=c.REPEAT,S=c.REPEAT),d.width&&(M=null),m.update(M,I,O,L,T,S,x,g,P)}this.renderer.setProgram(this.program),this._textureCount++}},syncUniforms:function(){var f=this.gl,d=this.uniforms,c,m,g,x,T,S=0;for(var P in d)c=d[P],g=c.glFunc,m=c.glValueLength,x=c.uniformLocation,T=c.value,T!==null&&(m===1?c.glMatrix?g.call(f,x.webGLUniformLocation,c.transpose,T):g.call(f,x.webGLUniformLocation,T):m===2?g.call(f,x.webGLUniformLocation,T.x,T.y):m===3?g.call(f,x.webGLUniformLocation,T.x,T.y,T.z):m===4?g.call(f,x.webGLUniformLocation,T.x,T.y,T.z,T.w):c.type==="sampler2D"&&(f.activeTexture(f.TEXTURE0+S),f.bindTexture(f.TEXTURE_2D,T.webGLTexture),f.uniform1i(x.webGLUniformLocation,S),S++))},load:function(f){var d=this.gl,c=this.width,m=this.height,g=this.renderer,x=this.program,T=this.viewMatrix;if(!this.renderToTexture){var S=-this._displayOriginX,P=-this._displayOriginY;T[0]=f[0],T[1]=f[1],T[4]=f[2],T[5]=f[3],T[8]=f[4],T[9]=f[5],T[12]=T[0]*S+T[4]*P,T[13]=T[1]*S+T[5]*P}d.useProgram(x.webGLProgram),d.uniformMatrix4fv(d.getUniformLocation(x.webGLProgram,"uViewMatrix"),!1,T),d.uniformMatrix4fv(d.getUniformLocation(x.webGLProgram,"uProjectionMatrix"),!1,this.projectionMatrix),d.uniform2f(d.getUniformLocation(x.webGLProgram,"uResolution"),this.width,this.height);var L=this.uniforms,I=L.resolution;I.value.x=c,I.value.y=m,L.time.value=g.game.loop.getDuration();var O=this.pointer;if(O){var M=L.mouse,w=O.x/c,D=1-O.y/m;M.value.x=w.toFixed(2),M.value.y=D.toFixed(2)}this.syncUniforms()},flush:function(){var f=this.width,d=this.height,c=this.program,m=this.gl,g=this.vertexBuffer,x=this.renderer,T=Float32Array.BYTES_PER_ELEMENT*2;this.renderToTexture&&(x.setFramebuffer(this.framebuffer),m.clearColor(0,0,0,0),m.clear(m.COLOR_BUFFER_BIT)),m.bindBuffer(m.ARRAY_BUFFER,g.webGLBuffer);var S=m.getAttribLocation(c.webGLProgram,"inPosition");S!==-1&&(m.enableVertexAttribArray(S),m.vertexAttribPointer(S,2,m.FLOAT,!1,T,0));var P=this.vertexViewF32;P[3]=d,P[4]=f,P[5]=d,P[8]=f,P[9]=d,P[10]=f;var L=6;m.bufferSubData(m.ARRAY_BUFFER,0,this.bytes.subarray(0,L*T)),m.drawArrays(m.TRIANGLES,0,L),this.renderToTexture&&x.setFramebuffer(null,!1)},setAlpha:function(){},setBlendMode:function(){},onContextRestored:function(){if(this._deferSetShader!==null){var f=this._deferSetShader.key,d=this._deferSetShader.textures,c=this._deferSetShader.textureData;this._deferSetShader=null,this.setShader(f,d,c)}if(this._deferProjOrtho!==null){var m=this._deferProjOrtho.left,g=this._deferProjOrtho.right,x=this._deferProjOrtho.bottom,T=this._deferProjOrtho.top;this._deferProjOrtho=null,this.projOrtho(m,g,x,T)}},preDestroy:function(){var f=this.renderer;f.off(l.RESTORE_WEBGL,this.onContextRestored,this),f.deleteProgram(this.program),f.deleteBuffer(this.vertexBuffer),this.renderToTexture&&(f.deleteFramebuffer(this.framebuffer),this.texture.destroy(),this.framebuffer=null,this.glTexture=null,this.texture=null),i(this.uniforms,function(d){f.deleteUniformLocation(d.uniformLocation),d.uniformLocation=null})}});v.exports=u},80464:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(){};v.exports=y},54935:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(25305),p=t(44603),a=t(23568),n=t(20071);p.register("shader",function(r,e){r===void 0&&(r={});var s=a(r,"key",null),o=a(r,"x",0),i=a(r,"y",0),l=a(r,"width",128),u=a(r,"height",128),f=new n(this.scene,s,o,i,l,u);return e!==void 0&&(r.add=e),h(this.scene,f,r),f})},74177:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(20071),p=t(39429);p.register("shader",function(a,n,r,e,s,o,i){return this.displayList.add(new h(this.scene,a,n,r,e,s,o,i))})},25479:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(29747),p=h,a=h;p=t(19257),a=t(80464),v.exports={renderWebGL:p,renderCanvas:a}},19257:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(91296),p=function(a,n,r,e){if(n.shader){if(r.addToRenderList(n),a.pipelines.clear(),n.renderToTexture)n.load(),n.flush();else{var s=h(n,r,e).calc;(a.width!==n._rendererWidth||a.height!==n._rendererHeight)&&n.projOrtho(0,a.width,a.height,0),n.load(s.matrix),n.flush()}a.pipelines.rebind()}};v.exports=p},10441:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(70554),p=function(a,n,r,e,s,o){for(var i=h.getTintAppendFloatAlpha(r.fillColor,r.fillAlpha*e),l=r.pathData,u=r.pathIndexes,f=0;f<u.length;f+=3){var d=u[f]*2,c=u[f+1]*2,m=u[f+2]*2,g=l[d+0]-s,x=l[d+1]-o,T=l[c+0]-s,S=l[c+1]-o,P=l[m+0]-s,L=l[m+1]-o,I=n.getX(g,x),O=n.getY(g,x),M=n.getX(T,S),w=n.getY(T,S),D=n.getX(P,L),U=n.getY(P,L);a.batchTri(r,I,O,M,w,D,U,0,0,1,1,i,i,i,2)}};v.exports=p},65960:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,h,p,a){var n=p||h.fillColor,r=a||h.fillAlpha,e=(n&16711680)>>>16,s=(n&65280)>>>8,o=n&255;t.fillStyle="rgba("+e+","+s+","+o+","+r+")"};v.exports=y},75177:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,h,p,a){var n=p||h.strokeColor,r=a||h.strokeAlpha,e=(n&16711680)>>>16,s=(n&65280)>>>8,o=n&255;t.strokeStyle="rgba("+e+","+s+","+o+","+r+")",t.lineWidth=h.lineWidth};v.exports=y},17803:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),p=t(31401),a=t(95643),n=t(23031),r=new h({Extends:a,Mixins:[p.AlphaSingle,p.BlendMode,p.Depth,p.GetBounds,p.Mask,p.Origin,p.Pipeline,p.PostPipeline,p.ScrollFactor,p.Transform,p.Visible],initialize:function(s,o,i){o===void 0&&(o="Shape"),a.call(this,s,o),this.geom=i,this.pathData=[],this.pathIndexes=[],this.fillColor=16777215,this.fillAlpha=1,this.strokeColor=16777215,this.strokeAlpha=1,this.lineWidth=1,this.isFilled=!1,this.isStroked=!1,this.closePath=!0,this._tempLine=new n,this.width=0,this.height=0,this.initPipeline(),this.initPostPipeline()},setFillStyle:function(e,s){return s===void 0&&(s=1),e===void 0?this.isFilled=!1:(this.fillColor=e,this.fillAlpha=s,this.isFilled=!0),this},setStrokeStyle:function(e,s,o){return o===void 0&&(o=1),e===void 0?this.isStroked=!1:(this.lineWidth=e,this.strokeColor=s,this.strokeAlpha=o,this.isStroked=!0),this},setClosePath:function(e){return this.closePath=e,this},setSize:function(e,s){return this.width=e,this.height=s,this},setDisplaySize:function(e,s){return this.displayWidth=e,this.displayHeight=s,this},preDestroy:function(){this.geom=null,this._tempLine=null,this.pathData=[],this.pathIndexes=[]},displayWidth:{get:function(){return this.scaleX*this.width},set:function(e){this.scaleX=e/this.width}},displayHeight:{get:function(){return this.scaleY*this.height},set:function(e){this.scaleY=e/this.height}}});v.exports=r},34682:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(70554),p=function(a,n,r,e,s){var o=a.strokeTint,i=h.getTintAppendFloatAlpha(n.strokeColor,n.strokeAlpha*r);o.TL=i,o.TR=i,o.BL=i,o.BR=i;var l=n.pathData,u=l.length-1,f=n.lineWidth,d=f/2,c=l[0]-e,m=l[1]-s;n.closePath||(u-=2);for(var g=2;g<u;g+=2){var x=l[g]-e,T=l[g+1]-s;a.batchLine(c,m,x,T,d,d,f,g-2,n.closePath?g===u-1:!1),c=x,m=T}};v.exports=p},23629:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(13609),p=t(83419),a=t(39506),n=t(94811),r=t(96503),e=t(36383),s=t(17803),o=new p({Extends:s,Mixins:[h],initialize:function(l,u,f,d,c,m,g,x,T){u===void 0&&(u=0),f===void 0&&(f=0),d===void 0&&(d=128),c===void 0&&(c=0),m===void 0&&(m=360),g===void 0&&(g=!1),s.call(this,l,"Arc",new r(0,0,d)),this._startAngle=c,this._endAngle=m,this._anticlockwise=g,this._iterations=.01,this.setPosition(u,f);var S=this.geom.radius*2;this.setSize(S,S),x!==void 0&&this.setFillStyle(x,T),this.updateDisplayOrigin(),this.updateData()},iterations:{get:function(){return this._iterations},set:function(i){this._iterations=i,this.updateData()}},radius:{get:function(){return this.geom.radius},set:function(i){this.geom.radius=i;var l=i*2;this.setSize(l,l),this.updateDisplayOrigin(),this.updateData()}},startAngle:{get:function(){return this._startAngle},set:function(i){this._startAngle=i,this.updateData()}},endAngle:{get:function(){return this._endAngle},set:function(i){this._endAngle=i,this.updateData()}},anticlockwise:{get:function(){return this._anticlockwise},set:function(i){this._anticlockwise=i,this.updateData()}},setRadius:function(i){return this.radius=i,this},setIterations:function(i){return i===void 0&&(i=.01),this.iterations=i,this},setStartAngle:function(i,l){return this._startAngle=i,l!==void 0&&(this._anticlockwise=l),this.updateData()},setEndAngle:function(i,l){return this._endAngle=i,l!==void 0&&(this._anticlockwise=l),this.updateData()},updateData:function(){var i=this._iterations,l=i,u=this.geom.radius,f=a(this._startAngle),d=a(this._endAngle),c=this._anticlockwise,m=u,g=u;d-=f,c?d<-e.PI2?d=-e.PI2:d>0&&(d=-e.PI2+d%e.PI2):d>e.PI2?d=e.PI2:d<0&&(d=e.PI2+d%e.PI2);for(var x=[m+Math.cos(f)*u,g+Math.sin(f)*u],T;l<1;)T=d*l+f,x.push(m+Math.cos(T)*u,g+Math.sin(T)*u),l+=i;return T=d+f,x.push(m+Math.cos(T)*u,g+Math.sin(T)*u),x.push(m+Math.cos(f)*u,g+Math.sin(f)*u),this.pathIndexes=n(x),this.pathData=x,this}});v.exports=o},42542:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(39506),p=t(65960),a=t(75177),n=t(20926),r=function(e,s,o,i){o.addToRenderList(s);var l=e.currentContext;if(n(e,l,s,o,i)){var u=s.radius;l.beginPath(),l.arc(u-s.originX*(u*2),u-s.originY*(u*2),u,h(s._startAngle),h(s._endAngle),s.anticlockwise),s.closePath&&l.closePath(),s.isFilled&&(p(l,s),l.fill()),s.isStroked&&(a(l,s),l.stroke()),l.restore()}};v.exports=r},42563:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(23629),p=t(39429);p.register("arc",function(a,n,r,e,s,o,i,l){return this.displayList.add(new h(this.scene,a,n,r,e,s,o,i,l))}),p.register("circle",function(a,n,r,e,s){return this.displayList.add(new h(this.scene,a,n,r,0,360,!1,e,s))})},13609:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(29747),p=h,a=h;p=t(41447),a=t(42542),v.exports={renderWebGL:p,renderCanvas:a}},41447:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(91296),p=t(10441),a=t(34682),n=function(r,e,s,o){s.addToRenderList(e);var i=r.pipelines.set(e.pipeline),l=h(e,s,o),u=i.calcMatrix.copyFrom(l.calc),f=e._displayOriginX,d=e._displayOriginY,c=s.alpha*e.alpha;r.pipelines.preBatch(e),e.isFilled&&p(i,u,e,c,f,d),e.isStroked&&a(i,e,c,f,d),r.pipelines.postBatch(e)};v.exports=n},89:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),p=t(33141),a=t(94811),n=t(87841),r=t(17803),e=new h({Extends:r,Mixins:[p],initialize:function(o,i,l,u,f,d){i===void 0&&(i=0),l===void 0&&(l=0),r.call(this,o,"Curve",u),this._smoothness=32,this._curveBounds=new n,this.closePath=!1,this.setPosition(i,l),f!==void 0&&this.setFillStyle(f,d),this.updateData()},smoothness:{get:function(){return this._smoothness},set:function(s){this._smoothness=s,this.updateData()}},setSmoothness:function(s){return this._smoothness=s,this.updateData()},updateData:function(){var s=this._curveBounds,o=this._smoothness;this.geom.getBounds(s,o),this.setSize(s.width,s.height),this.updateDisplayOrigin();for(var i=[],l=this.geom.getPoints(o),u=0;u<l.length;u++)i.push(l[u].x,l[u].y);return i.push(l[0].x,l[0].y),this.pathIndexes=a(i),this.pathData=i,this}});v.exports=e},3170:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(65960),p=t(75177),a=t(20926),n=function(r,e,s,o){s.addToRenderList(e);var i=r.currentContext;if(a(r,i,e,s,o)){var l=e._displayOriginX+e._curveBounds.x,u=e._displayOriginY+e._curveBounds.y,f=e.pathData,d=f.length-1,c=f[0]-l,m=f[1]-u;i.beginPath(),i.moveTo(c,m),e.closePath||(d-=2);for(var g=2;g<d;g+=2){var x=f[g]-l,T=f[g+1]-u;i.lineTo(x,T)}e.closePath&&i.closePath(),e.isFilled&&(h(i,e),i.fill()),e.isStroked&&(p(i,e),i.stroke()),i.restore()}};v.exports=n},40511:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(39429),p=t(89);h.register("curve",function(a,n,r,e,s){return this.displayList.add(new p(this.scene,a,n,r,e,s))})},33141:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(29747),p=h,a=h;p=t(53987),a=t(3170),v.exports={renderWebGL:p,renderCanvas:a}},53987:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(10441),p=t(91296),a=t(34682),n=function(r,e,s,o){s.addToRenderList(e);var i=r.pipelines.set(e.pipeline),l=p(e,s,o),u=i.calcMatrix.copyFrom(l.calc),f=e._displayOriginX+e._curveBounds.x,d=e._displayOriginY+e._curveBounds.y,c=s.alpha*e.alpha;r.pipelines.preBatch(e),e.isFilled&&h(i,u,e,c,f,d),e.isStroked&&a(i,e,c,f,d),r.pipelines.postBatch(e)};v.exports=n},19921:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),p=t(94811),a=t(54205),n=t(8497),r=t(17803),e=new h({Extends:r,Mixins:[a],initialize:function(o,i,l,u,f,d,c){i===void 0&&(i=0),l===void 0&&(l=0),u===void 0&&(u=128),f===void 0&&(f=128),r.call(this,o,"Ellipse",new n(u/2,f/2,u,f)),this._smoothness=64,this.setPosition(i,l),this.width=u,this.height=f,d!==void 0&&this.setFillStyle(d,c),this.updateDisplayOrigin(),this.updateData()},smoothness:{get:function(){return this._smoothness},set:function(s){this._smoothness=s,this.updateData()}},setSize:function(s,o){return this.width=s,this.height=o,this.geom.setPosition(s/2,o/2),this.geom.setSize(s,o),this.updateDisplayOrigin(),this.updateData()},setSmoothness:function(s){return this._smoothness=s,this.updateData()},updateData:function(){for(var s=[],o=this.geom.getPoints(this._smoothness),i=0;i<o.length;i++)s.push(o[i].x,o[i].y);return s.push(o[0].x,o[0].y),this.pathIndexes=p(s),this.pathData=s,this}});v.exports=e},7930:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(65960),p=t(75177),a=t(20926),n=function(r,e,s,o){s.addToRenderList(e);var i=r.currentContext;if(a(r,i,e,s,o)){var l=e._displayOriginX,u=e._displayOriginY,f=e.pathData,d=f.length-1,c=f[0]-l,m=f[1]-u;i.beginPath(),i.moveTo(c,m),e.closePath||(d-=2);for(var g=2;g<d;g+=2){var x=f[g]-l,T=f[g+1]-u;i.lineTo(x,T)}i.closePath(),e.isFilled&&(h(i,e),i.fill()),e.isStroked&&(p(i,e),i.stroke()),i.restore()}};v.exports=n},1543:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(19921),p=t(39429);p.register("ellipse",function(a,n,r,e,s,o){return this.displayList.add(new h(this.scene,a,n,r,e,s,o))})},54205:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(29747),p=h,a=h;p=t(19467),a=t(7930),v.exports={renderWebGL:p,renderCanvas:a}},19467:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(10441),p=t(91296),a=t(34682),n=function(r,e,s,o){s.addToRenderList(e);var i=r.pipelines.set(e.pipeline),l=p(e,s,o),u=i.calcMatrix.copyFrom(l.calc),f=e._displayOriginX,d=e._displayOriginY,c=s.alpha*e.alpha;r.pipelines.preBatch(e),e.isFilled&&h(i,u,e,c,f,d),e.isStroked&&a(i,e,c,f,d),r.pipelines.postBatch(e)};v.exports=n},30479:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),p=t(17803),a=t(26015),n=new h({Extends:p,Mixins:[a],initialize:function(e,s,o,i,l,u,f,d,c,m,g){s===void 0&&(s=0),o===void 0&&(o=0),i===void 0&&(i=128),l===void 0&&(l=128),u===void 0&&(u=32),f===void 0&&(f=32),p.call(this,e,"Grid",null),this.cellWidth=u,this.cellHeight=f,this.showCells=!0,this.outlineFillColor=0,this.outlineFillAlpha=0,this.showOutline=!0,this.showAltCells=!1,this.altFillColor,this.altFillAlpha,this.setPosition(s,o),this.setSize(i,l),this.setFillStyle(d,c),m!==void 0&&this.setOutlineStyle(m,g),this.updateDisplayOrigin()},setFillStyle:function(r,e){return e===void 0&&(e=1),r===void 0?this.showCells=!1:(this.fillColor=r,this.fillAlpha=e,this.showCells=!0),this},setAltFillStyle:function(r,e){return e===void 0&&(e=1),r===void 0?this.showAltCells=!1:(this.altFillColor=r,this.altFillAlpha=e,this.showAltCells=!0),this},setOutlineStyle:function(r,e){return e===void 0&&(e=1),r===void 0?this.showOutline=!1:(this.outlineFillColor=r,this.outlineFillAlpha=e,this.showOutline=!0),this}});v.exports=n},49912:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(65960),p=t(75177),a=t(20926),n=function(r,e,s,o){s.addToRenderList(e);var i=r.currentContext;if(a(r,i,e,s,o)){var l=-e._displayOriginX,u=-e._displayOriginY,f=s.alpha*e.alpha,d=e.width,c=e.height,m=e.cellWidth,g=e.cellHeight,x=Math.ceil(d/m),T=Math.ceil(c/g),S=m,P=g,L=m-(x*m-d),I=g-(T*g-c),O=e.showCells,M=e.showAltCells,w=e.showOutline,D=0,U=0,Y=0,H=0,X=0;if(w&&(S--,P--,L===m&&L--,I===g&&I--),O&&e.fillAlpha>0)for(h(i,e),U=0;U<T;U++)for(M&&(Y=U%2),D=0;D<x;D++){if(M&&Y){Y=0;continue}Y++,H=D<x-1?S:L,X=U<T-1?P:I,i.fillRect(l+D*m,u+U*g,H,X)}if(M&&e.altFillAlpha>0)for(h(i,e,e.altFillColor,e.altFillAlpha*f),U=0;U<T;U++)for(M&&(Y=U%2),D=0;D<x;D++){if(M&&!Y){Y=1;continue}Y=0,H=D<x-1?S:L,X=U<T-1?P:I,i.fillRect(l+D*m,u+U*g,H,X)}if(w&&e.outlineFillAlpha>0){for(p(i,e,e.outlineFillColor,e.outlineFillAlpha*f),D=1;D<x;D++){var G=D*m;i.beginPath(),i.moveTo(G+l,u),i.lineTo(G+l,c+u),i.stroke()}for(U=1;U<T;U++){var z=U*g;i.beginPath(),i.moveTo(l,z+u),i.lineTo(l+d,z+u),i.stroke()}}i.restore()}};v.exports=n},34137:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(39429),p=t(30479);h.register("grid",function(a,n,r,e,s,o,i,l,u,f){return this.displayList.add(new p(this.scene,a,n,r,e,s,o,i,l,u,f))})},26015:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(29747),p=h,a=h;p=t(46161),a=t(49912),v.exports={renderWebGL:p,renderCanvas:a}},46161:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(91296),p=t(70554),a=function(n,r,e,s){e.addToRenderList(r);var o=n.pipelines.set(r.pipeline),i=h(r,e,s),l=o.calcMatrix.copyFrom(i.calc);l.translate(-r._displayOriginX,-r._displayOriginY);var u=e.alpha*r.alpha,f=r.width,d=r.height,c=r.cellWidth,m=r.cellHeight,g=Math.ceil(f/c),x=Math.ceil(d/m),T=c,S=m,P=c-(g*c-f),L=m-(x*m-d),I,O,M=r.showCells,w=r.showAltCells,D=r.showOutline,U=0,Y=0,H=0,X=0,G=0;if(D&&(T--,S--,P===c&&P--,L===m&&L--),n.pipelines.preBatch(r),M&&r.fillAlpha>0)for(I=o.fillTint,O=p.getTintAppendFloatAlpha(r.fillColor,r.fillAlpha*u),I.TL=O,I.TR=O,I.BL=O,I.BR=O,Y=0;Y<x;Y++)for(w&&(H=Y%2),U=0;U<g;U++){if(w&&H){H=0;continue}H++,X=U<g-1?T:P,G=Y<x-1?S:L,o.batchFillRect(U*c,Y*m,X,G)}if(w&&r.altFillAlpha>0)for(I=o.fillTint,O=p.getTintAppendFloatAlpha(r.altFillColor,r.altFillAlpha*u),I.TL=O,I.TR=O,I.BL=O,I.BR=O,Y=0;Y<x;Y++)for(w&&(H=Y%2),U=0;U<g;U++){if(w&&!H){H=1;continue}H=0,X=U<g-1?T:P,G=Y<x-1?S:L,o.batchFillRect(U*c,Y*m,X,G)}if(D&&r.outlineFillAlpha>0){var z=o.strokeTint,b=p.getTintAppendFloatAlpha(r.outlineFillColor,r.outlineFillAlpha*u);for(z.TL=b,z.TR=b,z.BL=b,z.BR=b,U=1;U<g;U++){var N=U*c;o.batchLine(N,0,N,d,1,1,1,0,!1)}for(Y=1;Y<x;Y++){var W=Y*m;o.batchLine(0,W,f,W,1,1,1,0,!1)}}n.pipelines.postBatch(r)};v.exports=a},61475:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(99651),p=t(83419),a=t(17803),n=new p({Extends:a,Mixins:[h],initialize:function(e,s,o,i,l,u,f,d){s===void 0&&(s=0),o===void 0&&(o=0),i===void 0&&(i=48),l===void 0&&(l=32),u===void 0&&(u=15658734),f===void 0&&(f=10066329),d===void 0&&(d=13421772),a.call(this,e,"IsoBox",null),this.projection=4,this.fillTop=u,this.fillLeft=f,this.fillRight=d,this.showTop=!0,this.showLeft=!0,this.showRight=!0,this.isFilled=!0,this.setPosition(s,o),this.setSize(i,l),this.updateDisplayOrigin()},setProjection:function(r){return this.projection=r,this},setFaces:function(r,e,s){return r===void 0&&(r=!0),e===void 0&&(e=!0),s===void 0&&(s=!0),this.showTop=r,this.showLeft=e,this.showRight=s,this},setFillStyle:function(r,e,s){return this.fillTop=r,this.fillLeft=e,this.fillRight=s,this.isFilled=!0,this}});v.exports=n},11508:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(65960),p=t(20926),a=function(n,r,e,s){e.addToRenderList(r);var o=n.currentContext;if(p(n,o,r,e,s)&&r.isFilled){var i=r.width,l=r.height,u=i/2,f=i/r.projection;r.showTop&&(h(o,r,r.fillTop),o.beginPath(),o.moveTo(-u,-l),o.lineTo(0,-f-l),o.lineTo(u,-l),o.lineTo(u,-1),o.lineTo(0,f-1),o.lineTo(-u,-1),o.lineTo(-u,-l),o.fill()),r.showLeft&&(h(o,r,r.fillLeft),o.beginPath(),o.moveTo(-u,0),o.lineTo(0,f),o.lineTo(0,f-l),o.lineTo(-u,-l),o.lineTo(-u,0),o.fill()),r.showRight&&(h(o,r,r.fillRight),o.beginPath(),o.moveTo(u,0),o.lineTo(0,f),o.lineTo(0,f-l),o.lineTo(u,-l),o.lineTo(u,0),o.fill()),o.restore()}};v.exports=a},3933:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(39429),p=t(61475);h.register("isobox",function(a,n,r,e,s,o,i){return this.displayList.add(new p(this.scene,a,n,r,e,s,o,i))})},99651:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(29747),p=h,a=h;p=t(68149),a=t(11508),v.exports={renderWebGL:p,renderCanvas:a}},68149:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(91296),p=t(70554),a=function(n,r,e,s){e.addToRenderList(r);var o=n.pipelines.set(r.pipeline),i=h(r,e,s),l=o.calcMatrix.copyFrom(i.calc),u=r.width,f=r.height,d=u/2,c=u/r.projection,m=e.alpha*r.alpha;if(r.isFilled){var g,x,T,S,P,L,I,O,M;n.pipelines.preBatch(r),r.showTop&&(g=p.getTintAppendFloatAlpha(r.fillTop,m),x=l.getX(-d,-f),T=l.getY(-d,-f),S=l.getX(0,-c-f),P=l.getY(0,-c-f),L=l.getX(d,-f),I=l.getY(d,-f),O=l.getX(0,c-f),M=l.getY(0,c-f),o.batchQuad(r,x,T,S,P,L,I,O,M,0,0,1,1,g,g,g,g,2)),r.showLeft&&(g=p.getTintAppendFloatAlpha(r.fillLeft,m),x=l.getX(-d,0),T=l.getY(-d,0),S=l.getX(0,c),P=l.getY(0,c),L=l.getX(0,c-f),I=l.getY(0,c-f),O=l.getX(-d,-f),M=l.getY(-d,-f),o.batchQuad(r,x,T,S,P,L,I,O,M,0,0,1,1,g,g,g,g,2)),r.showRight&&(g=p.getTintAppendFloatAlpha(r.fillRight,m),x=l.getX(d,0),T=l.getY(d,0),S=l.getX(0,c),P=l.getY(0,c),L=l.getX(0,c-f),I=l.getY(0,c-f),O=l.getX(d,-f),M=l.getY(d,-f),o.batchQuad(r,x,T,S,P,L,I,O,M,0,0,1,1,g,g,g,g,2)),n.pipelines.postBatch(r)}};v.exports=a},16933:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),p=t(60561),a=t(17803),n=new h({Extends:a,Mixins:[p],initialize:function(e,s,o,i,l,u,f,d,c){s===void 0&&(s=0),o===void 0&&(o=0),i===void 0&&(i=48),l===void 0&&(l=32),u===void 0&&(u=!1),f===void 0&&(f=15658734),d===void 0&&(d=10066329),c===void 0&&(c=13421772),a.call(this,e,"IsoTriangle",null),this.projection=4,this.fillTop=f,this.fillLeft=d,this.fillRight=c,this.showTop=!0,this.showLeft=!0,this.showRight=!0,this.isReversed=u,this.isFilled=!0,this.setPosition(s,o),this.setSize(i,l),this.updateDisplayOrigin()},setProjection:function(r){return this.projection=r,this},setReversed:function(r){return this.isReversed=r,this},setFaces:function(r,e,s){return r===void 0&&(r=!0),e===void 0&&(e=!0),s===void 0&&(s=!0),this.showTop=r,this.showLeft=e,this.showRight=s,this},setFillStyle:function(r,e,s){return this.fillTop=r,this.fillLeft=e,this.fillRight=s,this.isFilled=!0,this}});v.exports=n},79590:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(65960),p=t(20926),a=function(n,r,e,s){e.addToRenderList(r);var o=n.currentContext;if(p(n,o,r,e,s)&&r.isFilled){var i=r.width,l=r.height,u=i/2,f=i/r.projection,d=r.isReversed;r.showTop&&d&&(h(o,r,r.fillTop),o.beginPath(),o.moveTo(-u,-l),o.lineTo(0,-f-l),o.lineTo(u,-l),o.lineTo(0,f-l),o.fill()),r.showLeft&&(h(o,r,r.fillLeft),o.beginPath(),d?(o.moveTo(-u,-l),o.lineTo(0,f),o.lineTo(0,f-l)):(o.moveTo(-u,0),o.lineTo(0,f),o.lineTo(0,f-l)),o.fill()),r.showRight&&(h(o,r,r.fillRight),o.beginPath(),d?(o.moveTo(u,-l),o.lineTo(0,f),o.lineTo(0,f-l)):(o.moveTo(u,0),o.lineTo(0,f),o.lineTo(0,f-l)),o.fill()),o.restore()}};v.exports=a},49803:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(39429),p=t(16933);h.register("isotriangle",function(a,n,r,e,s,o,i,l){return this.displayList.add(new p(this.scene,a,n,r,e,s,o,i,l))})},60561:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(29747),p=h,a=h;p=t(51503),a=t(79590),v.exports={renderWebGL:p,renderCanvas:a}},51503:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(91296),p=t(70554),a=function(n,r,e,s){e.addToRenderList(r);var o=n.pipelines.set(r.pipeline),i=h(r,e,s),l=o.calcMatrix.copyFrom(i.calc),u=r.width,f=r.height,d=u/2,c=u/r.projection,m=r.isReversed,g=e.alpha*r.alpha;if(r.isFilled){n.pipelines.preBatch(r);var x,T,S,P,L,I,O;if(r.showTop&&m){x=p.getTintAppendFloatAlpha(r.fillTop,g),T=l.getX(-d,-f),S=l.getY(-d,-f),P=l.getX(0,-c-f),L=l.getY(0,-c-f),I=l.getX(d,-f),O=l.getY(d,-f);var M=l.getX(0,c-f),w=l.getY(0,c-f);o.batchQuad(r,T,S,P,L,I,O,M,w,0,0,1,1,x,x,x,x,2)}r.showLeft&&(x=p.getTintAppendFloatAlpha(r.fillLeft,g),m?(T=l.getX(-d,-f),S=l.getY(-d,-f),P=l.getX(0,c),L=l.getY(0,c),I=l.getX(0,c-f),O=l.getY(0,c-f)):(T=l.getX(-d,0),S=l.getY(-d,0),P=l.getX(0,c),L=l.getY(0,c),I=l.getX(0,c-f),O=l.getY(0,c-f)),o.batchTri(r,T,S,P,L,I,O,0,0,1,1,x,x,x,2)),r.showRight&&(x=p.getTintAppendFloatAlpha(r.fillRight,g),m?(T=l.getX(d,-f),S=l.getY(d,-f),P=l.getX(0,c),L=l.getY(0,c),I=l.getX(0,c-f),O=l.getY(0,c-f)):(T=l.getX(d,0),S=l.getY(d,0),P=l.getX(0,c),L=l.getY(0,c),I=l.getX(0,c-f),O=l.getY(0,c-f)),o.batchTri(r,T,S,P,L,I,O,0,0,1,1,x,x,x,2)),n.pipelines.postBatch(r)}};v.exports=a},57847:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),p=t(17803),a=t(23031),n=t(36823),r=new h({Extends:p,Mixins:[n],initialize:function(s,o,i,l,u,f,d,c,m){o===void 0&&(o=0),i===void 0&&(i=0),l===void 0&&(l=0),u===void 0&&(u=0),f===void 0&&(f=128),d===void 0&&(d=0),p.call(this,s,"Line",new a(l,u,f,d));var g=Math.max(1,this.geom.right-this.geom.left),x=Math.max(1,this.geom.bottom-this.geom.top);this.lineWidth=1,this._startWidth=1,this._endWidth=1,this.setPosition(o,i),this.setSize(g,x),c!==void 0&&this.setStrokeStyle(1,c,m),this.updateDisplayOrigin()},setLineWidth:function(e,s){return s===void 0&&(s=e),this._startWidth=e,this._endWidth=s,this.lineWidth=e,this},setTo:function(e,s,o,i){return this.geom.setTo(e,s,o,i),this}});v.exports=r},17440:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(75177),p=t(20926),a=function(n,r,e,s){e.addToRenderList(r);var o=n.currentContext;if(p(n,o,r,e,s)){var i=r._displayOriginX,l=r._displayOriginY;r.isStroked&&(h(o,r),o.beginPath(),o.moveTo(r.geom.x1-i,r.geom.y1-l),o.lineTo(r.geom.x2-i,r.geom.y2-l),o.stroke()),o.restore()}};v.exports=a},2481:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(39429),p=t(57847);h.register("line",function(a,n,r,e,s,o,i,l){return this.displayList.add(new p(this.scene,a,n,r,e,s,o,i,l))})},36823:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(29747),p=h,a=h;p=t(77385),a=t(17440),v.exports={renderWebGL:p,renderCanvas:a}},77385:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(91296),p=t(70554),a=function(n,r,e,s){e.addToRenderList(r);var o=n.pipelines.set(r.pipeline),i=h(r,e,s);o.calcMatrix.copyFrom(i.calc);var l=r._displayOriginX,u=r._displayOriginY,f=e.alpha*r.alpha;if(n.pipelines.preBatch(r),r.isStroked){var d=o.strokeTint,c=p.getTintAppendFloatAlpha(r.strokeColor,r.strokeAlpha*f);d.TL=c,d.TR=c,d.BL=c,d.BR=c,o.batchLine(r.geom.x1-l,r.geom.y1-u,r.geom.x2-l,r.geom.y2-u,r._startWidth/2,r._endWidth/2,1,0,!1,i.sprite,i.camera)}n.pipelines.postBatch(r)};v.exports=a},24949:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(90273),p=t(83419),a=t(94811),n=t(13829),r=t(25717),e=t(17803),s=t(5469),o=new p({Extends:e,Mixins:[h],initialize:function(l,u,f,d,c,m){u===void 0&&(u=0),f===void 0&&(f=0),e.call(this,l,"Polygon",new r(d));var g=n(this.geom);this.setPosition(u,f),this.setSize(g.width,g.height),c!==void 0&&this.setFillStyle(c,m),this.updateDisplayOrigin(),this.updateData()},smooth:function(i){i===void 0&&(i=1);for(var l=0;l<i;l++)s(this.geom);return this.updateData()},setTo:function(i){this.geom.setTo(i);var l=n(this.geom);return this.setSize(l.width,l.height),this.updateDisplayOrigin(),this.updateData()},updateData:function(){for(var i=[],l=this.geom.points,u=0;u<l.length;u++)i.push(l[u].x,l[u].y);return i.push(l[0].x,l[0].y),this.pathIndexes=a(i),this.pathData=i,this}});v.exports=o},38710:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(65960),p=t(75177),a=t(20926),n=function(r,e,s,o){s.addToRenderList(e);var i=r.currentContext;if(a(r,i,e,s,o)){var l=e._displayOriginX,u=e._displayOriginY,f=e.pathData,d=f.length-1,c=f[0]-l,m=f[1]-u;i.beginPath(),i.moveTo(c,m),e.closePath||(d-=2);for(var g=2;g<d;g+=2){var x=f[g]-l,T=f[g+1]-u;i.lineTo(x,T)}e.closePath&&i.closePath(),e.isFilled&&(h(i,e),i.fill()),e.isStroked&&(p(i,e),i.stroke()),i.restore()}};v.exports=n},64827:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(39429),p=t(24949);h.register("polygon",function(a,n,r,e,s){return this.displayList.add(new p(this.scene,a,n,r,e,s))})},90273:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(29747),p=h,a=h;p=t(73695),a=t(38710),v.exports={renderWebGL:p,renderCanvas:a}},73695:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(10441),p=t(91296),a=t(34682),n=function(r,e,s,o){s.addToRenderList(e);var i=r.pipelines.set(e.pipeline),l=p(e,s,o),u=i.calcMatrix.copyFrom(l.calc),f=e._displayOriginX,d=e._displayOriginY,c=s.alpha*e.alpha;r.pipelines.preBatch(e),e.isFilled&&h(i,u,e,c,f,d),e.isStroked&&a(i,e,c,f,d),r.pipelines.postBatch(e)};v.exports=n},74561:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),p=t(87841),a=t(17803),n=t(95597),r=new h({Extends:a,Mixins:[n],initialize:function(s,o,i,l,u,f,d){o===void 0&&(o=0),i===void 0&&(i=0),l===void 0&&(l=128),u===void 0&&(u=128),a.call(this,s,"Rectangle",new p(0,0,l,u)),this.setPosition(o,i),this.setSize(l,u),f!==void 0&&this.setFillStyle(f,d),this.updateDisplayOrigin(),this.updateData()},setSize:function(e,s){this.width=e,this.height=s,this.geom.setSize(e,s),this.updateData(),this.updateDisplayOrigin();var o=this.input;return o&&!o.customHitArea&&(o.hitArea.width=e,o.hitArea.height=s),this},updateData:function(){var e=[],s=this.geom,o=this._tempLine;return s.getLineA(o),e.push(o.x1,o.y1,o.x2,o.y2),s.getLineB(o),e.push(o.x2,o.y2),s.getLineC(o),e.push(o.x2,o.y2),s.getLineD(o),e.push(o.x2,o.y2),this.pathData=e,this}});v.exports=r},48682:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(65960),p=t(75177),a=t(20926),n=function(r,e,s,o){s.addToRenderList(e);var i=r.currentContext;if(a(r,i,e,s,o)){var l=e._displayOriginX,u=e._displayOriginY;e.isFilled&&(h(i,e),i.fillRect(-l,-u,e.width,e.height)),e.isStroked&&(p(i,e),i.beginPath(),i.rect(-l,-u,e.width,e.height),i.stroke()),i.restore()}};v.exports=n},87959:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(39429),p=t(74561);h.register("rectangle",function(a,n,r,e,s,o){return this.displayList.add(new p(this.scene,a,n,r,e,s,o))})},95597:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(29747),p=h,a=h;p=t(52059),a=t(48682),v.exports={renderWebGL:p,renderCanvas:a}},52059:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(91296),p=t(34682),a=t(70554),n=function(r,e,s,o){s.addToRenderList(e);var i=r.pipelines.set(e.pipeline),l=h(e,s,o);i.calcMatrix.copyFrom(l.calc);var u=e._displayOriginX,f=e._displayOriginY,d=s.alpha*e.alpha;if(r.pipelines.preBatch(e),e.isFilled){var c=i.fillTint,m=a.getTintAppendFloatAlpha(e.fillColor,e.fillAlpha*d);c.TL=m,c.TR=m,c.BL=m,c.BR=m,i.batchFillRect(-u,-f,e.width,e.height)}e.isStroked&&p(i,e,d,u,f),r.pipelines.postBatch(e)};v.exports=n},55911:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(81991),p=t(83419),a=t(94811),n=t(17803),r=new p({Extends:n,Mixins:[h],initialize:function(s,o,i,l,u,f,d,c){o===void 0&&(o=0),i===void 0&&(i=0),l===void 0&&(l=5),u===void 0&&(u=32),f===void 0&&(f=64),n.call(this,s,"Star",null),this._points=l,this._innerRadius=u,this._outerRadius=f,this.setPosition(o,i),this.setSize(f*2,f*2),d!==void 0&&this.setFillStyle(d,c),this.updateDisplayOrigin(),this.updateData()},setPoints:function(e){return this._points=e,this.updateData()},setInnerRadius:function(e){return this._innerRadius=e,this.updateData()},setOuterRadius:function(e){return this._outerRadius=e,this.updateData()},points:{get:function(){return this._points},set:function(e){this._points=e,this.updateData()}},innerRadius:{get:function(){return this._innerRadius},set:function(e){this._innerRadius=e,this.updateData()}},outerRadius:{get:function(){return this._outerRadius},set:function(e){this._outerRadius=e,this.updateData()}},updateData:function(){var e=[],s=this._points,o=this._innerRadius,i=this._outerRadius,l=Math.PI/2*3,u=Math.PI/s,f=i,d=i;e.push(f,d+-i);for(var c=0;c<s;c++)e.push(f+Math.cos(l)*i,d+Math.sin(l)*i),l+=u,e.push(f+Math.cos(l)*o,d+Math.sin(l)*o),l+=u;return e.push(f,d+-i),this.pathIndexes=a(e),this.pathData=e,this}});v.exports=r},64272:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(65960),p=t(75177),a=t(20926),n=function(r,e,s,o){s.addToRenderList(e);var i=r.currentContext;if(a(r,i,e,s,o)){var l=e._displayOriginX,u=e._displayOriginY,f=e.pathData,d=f.length-1,c=f[0]-l,m=f[1]-u;i.beginPath(),i.moveTo(c,m),e.closePath||(d-=2);for(var g=2;g<d;g+=2){var x=f[g]-l,T=f[g+1]-u;i.lineTo(x,T)}i.closePath(),e.isFilled&&(h(i,e),i.fill()),e.isStroked&&(p(i,e),i.stroke()),i.restore()}};v.exports=n},93697:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(55911),p=t(39429);p.register("star",function(a,n,r,e,s,o,i){return this.displayList.add(new h(this.scene,a,n,r,e,s,o,i))})},81991:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(29747),p=h,a=h;p=t(57017),a=t(64272),v.exports={renderWebGL:p,renderCanvas:a}},57017:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(10441),p=t(91296),a=t(34682),n=function(r,e,s,o){s.addToRenderList(e);var i=r.pipelines.set(e.pipeline),l=p(e,s,o),u=i.calcMatrix.copyFrom(l.calc),f=e._displayOriginX,d=e._displayOriginY,c=s.alpha*e.alpha;r.pipelines.preBatch(e),e.isFilled&&h(i,u,e,c,f,d),e.isStroked&&a(i,e,c,f,d),r.pipelines.postBatch(e)};v.exports=n},36931:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),p=t(17803),a=t(16483),n=t(96195),r=new h({Extends:p,Mixins:[n],initialize:function(s,o,i,l,u,f,d,c,m,g,x){o===void 0&&(o=0),i===void 0&&(i=0),l===void 0&&(l=0),u===void 0&&(u=128),f===void 0&&(f=64),d===void 0&&(d=0),c===void 0&&(c=128),m===void 0&&(m=128),p.call(this,s,"Triangle",new a(l,u,f,d,c,m));var T=this.geom.right-this.geom.left,S=this.geom.bottom-this.geom.top;this.setPosition(o,i),this.setSize(T,S),g!==void 0&&this.setFillStyle(g,x),this.updateDisplayOrigin(),this.updateData()},setTo:function(e,s,o,i,l,u){return this.geom.setTo(e,s,o,i,l,u),this.updateData()},updateData:function(){var e=[],s=this.geom,o=this._tempLine;return s.getLineA(o),e.push(o.x1,o.y1,o.x2,o.y2),s.getLineB(o),e.push(o.x2,o.y2),s.getLineC(o),e.push(o.x2,o.y2),this.pathData=e,this}});v.exports=r},85172:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(65960),p=t(75177),a=t(20926),n=function(r,e,s,o){s.addToRenderList(e);var i=r.currentContext;if(a(r,i,e,s,o)){var l=e._displayOriginX,u=e._displayOriginY,f=e.geom.x1-l,d=e.geom.y1-u,c=e.geom.x2-l,m=e.geom.y2-u,g=e.geom.x3-l,x=e.geom.y3-u;i.beginPath(),i.moveTo(f,d),i.lineTo(c,m),i.lineTo(g,x),i.closePath(),e.isFilled&&(h(i,e),i.fill()),e.isStroked&&(p(i,e),i.stroke()),i.restore()}};v.exports=n},45245:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(39429),p=t(36931);h.register("triangle",function(a,n,r,e,s,o,i,l,u,f){return this.displayList.add(new p(this.scene,a,n,r,e,s,o,i,l,u,f))})},96195:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(29747),p=h,a=h;p=t(83253),a=t(85172),v.exports={renderWebGL:p,renderCanvas:a}},83253:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(91296),p=t(34682),a=t(70554),n=function(r,e,s,o){s.addToRenderList(e);var i=r.pipelines.set(e.pipeline),l=h(e,s,o);i.calcMatrix.copyFrom(l.calc);var u=e._displayOriginX,f=e._displayOriginY,d=s.alpha*e.alpha;if(r.pipelines.preBatch(e),e.isFilled){var c=i.fillTint,m=a.getTintAppendFloatAlpha(e.fillColor,e.fillAlpha*d);c.TL=m,c.TR=m,c.BL=m,c.BR=m;var g=e.geom.x1-u,x=e.geom.y1-f,T=e.geom.x2-u,S=e.geom.y2-f,P=e.geom.x3-u,L=e.geom.y3-f;i.batchFillTriangle(g,x,T,S,P,L,l.sprite,l.camera)}e.isStroked&&p(i,e,d,u,f),r.pipelines.postBatch(e)};v.exports=n},68287:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(9674),p=t(83419),a=t(31401),n=t(95643),r=t(92751),e=new p({Extends:n,Mixins:[a.Alpha,a.BlendMode,a.Depth,a.Flip,a.GetBounds,a.Mask,a.Origin,a.Pipeline,a.PostPipeline,a.ScrollFactor,a.Size,a.TextureCrop,a.Tint,a.Transform,a.Visible,r],initialize:function(o,i,l,u,f){n.call(this,o,"Sprite"),this._crop=this.resetCropObject(),this.anims=new h(this),this.setTexture(u,f),this.setPosition(i,l),this.setSizeToFrame(),this.setOriginFromFrame(),this.initPipeline(),this.initPostPipeline(!0)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},preUpdate:function(s,o){this.anims.update(s,o)},play:function(s,o){return this.anims.play(s,o)},playReverse:function(s,o){return this.anims.playReverse(s,o)},playAfterDelay:function(s,o){return this.anims.playAfterDelay(s,o)},playAfterRepeat:function(s,o){return this.anims.playAfterRepeat(s,o)},chain:function(s){return this.anims.chain(s)},stop:function(){return this.anims.stop()},stopAfterDelay:function(s){return this.anims.stopAfterDelay(s)},stopAfterRepeat:function(s){return this.anims.stopAfterRepeat(s)},stopOnFrame:function(s){return this.anims.stopOnFrame(s)},toJSON:function(){return a.ToJSON(this)},preDestroy:function(){this.anims.destroy(),this.anims=void 0}});v.exports=e},76552:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,h,p,a){p.addToRenderList(h),t.batchSprite(h,h.frame,p,a)};v.exports=y},15567:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(25305),p=t(13059),a=t(44603),n=t(23568),r=t(68287);a.register("sprite",function(e,s){e===void 0&&(e={});var o=n(e,"key",null),i=n(e,"frame",null),l=new r(this.scene,0,0,o,i);return s!==void 0&&(e.add=s),h(this.scene,l,e),p(l,e),l})},46409:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(39429),p=t(68287);h.register("sprite",function(a,n,r,e){return this.displayList.add(new p(this.scene,a,n,r,e))})},92751:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(29747),p=h,a=h;p=t(9409),a=t(76552),v.exports={renderWebGL:p,renderCanvas:a}},9409:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,h,p,a){p.addToRenderList(h),h.pipeline.batchSprite(h,p,a)};v.exports=y},14220:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,h,p){var a=t.canvas,n=t.context,r=t.style,e=[],s=0,o=p.length;r.maxLines>0&&r.maxLines<p.length&&(o=r.maxLines),r.syncFont(a,n);for(var i=t.letterSpacing,l=0;l<o;l++){var u=r.strokeThickness;if(i===0)u+=n.measureText(p[l]).width;else{for(var f=p[l],d=0;d<f.length;d++)u+=n.measureText(f[d]).width;f.length>1&&(u+=i*(f.length-1))}r.wordWrap&&(u-=n.measureText(" ").width),e[l]=Math.ceil(u),s=Math.max(s,e[l])}var c=h.fontSize+r.strokeThickness,m=c*o,g=t.lineSpacing;return o>1&&(m+=g*(o-1)),{width:s,height:m,lines:o,lineWidths:e,lineSpacing:g,lineHeight:c}};v.exports=y},79557:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(27919),p=function(a){var n=h.create(this),r=n.getContext("2d",{willReadFrequently:!0});a.syncFont(n,r);var e=r.measureText(a.testString);if("actualBoundingBoxAscent"in e){var s=e.actualBoundingBoxAscent,o=e.actualBoundingBoxDescent;return h.remove(n),{ascent:s,descent:o,fontSize:s+o}}var i=Math.ceil(e.width*a.baselineX),l=i,u=2*l;l=l*a.baselineY|0,n.width=i,n.height=u,r.fillStyle="#f00",r.fillRect(0,0,i,u),r.font=a._font,r.textBaseline="alphabetic",r.fillStyle="#000",r.fillText(a.testString,0,l);var f={ascent:0,descent:0,fontSize:0},d=r.getImageData(0,0,i,u);if(!d)return f.ascent=l,f.descent=l+6,f.fontSize=f.ascent+f.descent,h.remove(n),f;var c=d.data,m=c.length,g=i*4,x,T,S=0,P=!1;for(x=0;x<l;x++){for(T=0;T<g;T+=4)if(c[S+T]!==255){P=!0;break}if(!P)S+=g;else break}for(f.ascent=l-x,S=m-g,P=!1,x=u;x>l;x--){for(T=0;T<g;T+=4)if(c[S+T]!==255){P=!0;break}if(!P)S-=g;else break}return f.descent=x-l,f.fontSize=f.ascent+f.descent,h.remove(n),f};v.exports=p},50171:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(40366),p=t(27919),a=t(83419),n=t(31401),r=t(95643),e=t(14220),s=t(35154),o=t(35846),i=t(61771),l=t(35762),u=t(45650),f=new a({Extends:r,Mixins:[n.Alpha,n.BlendMode,n.ComputedSize,n.Crop,n.Depth,n.Flip,n.GetBounds,n.Mask,n.Origin,n.Pipeline,n.PostPipeline,n.ScrollFactor,n.Tint,n.Transform,n.Visible,i],initialize:function(c,m,g,x,T){m===void 0&&(m=0),g===void 0&&(g=0),r.call(this,c,"Text"),this.renderer=c.sys.renderer,this.setPosition(m,g),this.setOrigin(0,0),this.initPipeline(),this.initPostPipeline(!0),this.canvas=p.create(this),this.context,this.style=new l(this,T),this.autoRound=!0,this.splitRegExp=/(?:\r\n|\r|\n)/,this._text=void 0,this.padding={left:0,right:0,top:0,bottom:0},this.width=1,this.height=1,this.lineSpacing=0,this.letterSpacing=0,this.style.resolution===0&&(this.style.resolution=1),this._crop=this.resetCropObject(),this._textureKey=u(),this.texture=c.sys.textures.addCanvas(this._textureKey,this.canvas),this.context=this.texture.context,this.frame=this.texture.get(),this.frame.source.resolution=this.style.resolution,this.renderer&&this.renderer.gl&&(this.renderer.deleteTexture(this.frame.source.glTexture),this.frame.source.glTexture=null),this.initRTL(),this.setText(x),T&&T.padding&&this.setPadding(T.padding),T&&T.lineSpacing&&this.setLineSpacing(T.lineSpacing)},initRTL:function(){this.style.rtl&&(this.canvas.dir="rtl",this.context.direction="rtl",this.canvas.style.display="none",h(this.canvas,this.scene.sys.canvas),this.originX=1)},runWordWrap:function(d){var c=this.style;if(c.wordWrapCallback){var m=c.wordWrapCallback.call(c.wordWrapCallbackScope,d,this);return Array.isArray(m)&&(m=m.join(`
`)),m}else return c.wordWrapWidth?c.wordWrapUseAdvanced?this.advancedWordWrap(d,this.context,this.style.wordWrapWidth):this.basicWordWrap(d,this.context,this.style.wordWrapWidth):d},advancedWordWrap:function(d,c,m){for(var g="",x=d.replace(/ +/gi," ").split(this.splitRegExp),T=x.length,S=0;S<T;S++){var P=x[S],L="";P=P.replace(/^ *|\s*$/gi,"");var I=c.measureText(P).width;if(I<m){g+=P+`
`;continue}for(var O=m,M=P.split(" "),w=0;w<M.length;w++){var D=M[w],U=D+" ",Y=c.measureText(U).width;if(Y>O){if(w===0){for(var H=U;H.length&&(H=H.slice(0,-1),Y=c.measureText(H).width,!(Y<=O)););if(!H.length)throw new Error("wordWrapWidth < a single character");var X=D.substr(H.length);M[w]=X,L+=H}var G=M[w].length?w:w+1,z=M.slice(G).join(" ").replace(/[ \n]*$/gi,"");x.splice(S+1,0,z),T=x.length;break}else L+=U,O-=Y}g+=L.replace(/[ \n]*$/gi,"")+`
`}return g=g.replace(/[\s|\n]*$/gi,""),g},basicWordWrap:function(d,c,m){for(var g="",x=d.split(this.splitRegExp),T=x.length-1,S=c.measureText(" ").width,P=0;P<=T;P++){for(var L=m,I=x[P].split(" "),O=I.length-1,M=0;M<=O;M++){var w=I[M],D=c.measureText(w).width,U=D;M<O&&(U+=S),U>L&&M>0&&(g+=`
`,L=m),g+=w,M<O?(g+=" ",L-=U):L-=D}P<T&&(g+=`
`)}return g},getWrappedText:function(d){d===void 0&&(d=this._text),this.style.syncFont(this.canvas,this.context);var c=this.runWordWrap(d);return c.split(this.splitRegExp)},setText:function(d){return!d&&d!==0&&(d=""),Array.isArray(d)&&(d=d.join(`
`)),d!==this._text&&(this._text=d.toString(),this.updateText()),this},appendText:function(d,c){c===void 0&&(c=!0),!d&&d!==0&&(d=""),Array.isArray(d)&&(d=d.join(`
`)),d=d.toString();var m=this._text.concat(c?`
`+d:d);return m!==this._text&&(this._text=m,this.updateText()),this},setStyle:function(d){return this.style.setStyle(d)},setFont:function(d){return this.style.setFont(d)},setFontFamily:function(d){return this.style.setFontFamily(d)},setFontSize:function(d){return this.style.setFontSize(d)},setFontStyle:function(d){return this.style.setFontStyle(d)},setFixedSize:function(d,c){return this.style.setFixedSize(d,c)},setBackgroundColor:function(d){return this.style.setBackgroundColor(d)},setFill:function(d){return this.style.setFill(d)},setColor:function(d){return this.style.setColor(d)},setStroke:function(d,c){return this.style.setStroke(d,c)},setShadow:function(d,c,m,g,x,T){return this.style.setShadow(d,c,m,g,x,T)},setShadowOffset:function(d,c){return this.style.setShadowOffset(d,c)},setShadowColor:function(d){return this.style.setShadowColor(d)},setShadowBlur:function(d){return this.style.setShadowBlur(d)},setShadowStroke:function(d){return this.style.setShadowStroke(d)},setShadowFill:function(d){return this.style.setShadowFill(d)},setWordWrapWidth:function(d,c){return this.style.setWordWrapWidth(d,c)},setWordWrapCallback:function(d,c){return this.style.setWordWrapCallback(d,c)},setAlign:function(d){return this.style.setAlign(d)},setResolution:function(d){return this.style.setResolution(d)},setLineSpacing:function(d){return this.lineSpacing=d,this.updateText()},setLetterSpacing:function(d){return this.letterSpacing=d,this.updateText()},setPadding:function(d,c,m,g){if(typeof d=="object"){var x=d,T=s(x,"x",null);T!==null?(d=T,m=T):(d=s(x,"left",0),m=s(x,"right",d));var S=s(x,"y",null);S!==null?(c=S,g=S):(c=s(x,"top",0),g=s(x,"bottom",c))}else d===void 0&&(d=0),c===void 0&&(c=d),m===void 0&&(m=d),g===void 0&&(g=c);return this.padding.left=d,this.padding.top=c,this.padding.right=m,this.padding.bottom=g,this.updateText()},setMaxLines:function(d){return this.style.setMaxLines(d)},setRTL:function(d){d===void 0&&(d=!0);var c=this.style;return c.rtl===d?this:(c.rtl=d,d?(this.canvas.dir="rtl",this.context.direction="rtl",this.canvas.style.display="none",h(this.canvas,this.scene.sys.canvas)):(this.canvas.dir="ltr",this.context.direction="ltr"),c.align==="left"?c.align="right":c.align==="right"&&(c.align="left"),this)},updateText:function(){var d=this.canvas,c=this.context,m=this.style,g=m.resolution,x=m.metrics;m.syncFont(d,c);var T=this._text;(m.wordWrapWidth||m.wordWrapCallback)&&(T=this.runWordWrap(this._text));var S=T.split(this.splitRegExp),P=e(this,x,S),L=this.padding,I;m.fixedWidth===0?(this.width=P.width+L.left+L.right,I=P.width):(this.width=m.fixedWidth,I=this.width-L.left-L.right,I<P.width&&(I=P.width)),m.fixedHeight===0?this.height=P.height+L.top+L.bottom:this.height=m.fixedHeight;var O=this.width,M=this.height;this.updateDisplayOrigin(),O*=g,M*=g,O=Math.max(O,1),M=Math.max(M,1),d.width!==O||d.height!==M?(d.width=O,d.height=M,this.frame.setSize(O,M),m.syncFont(d,c),m.rtl&&(c.direction="rtl")):c.clearRect(0,0,O,M),c.save(),c.scale(g,g),m.backgroundColor&&(c.fillStyle=m.backgroundColor,c.fillRect(0,0,O,M)),m.syncStyle(d,c),c.translate(L.left,L.top);for(var w,D,U=0;U<P.lines;U++){if(w=m.strokeThickness/2,D=m.strokeThickness/2+U*P.lineHeight+x.ascent,U>0&&(D+=P.lineSpacing*U),m.rtl)w=O-w-L.left-L.right;else if(m.align==="right")w+=I-P.lineWidths[U];else if(m.align==="center")w+=(I-P.lineWidths[U])/2;else if(m.align==="justify"){var Y=.85;if(P.lineWidths[U]/P.width>=Y){var H=P.width-P.lineWidths[U],X=c.measureText(" ").width,G=S[U].trim(),z=G.split(" ");H+=(S[U].length-G.length)*X;for(var b=Math.floor(H/X),N=0;b>0;)z[N]+=" ",N=(N+1)%(z.length-1||1),--b;S[U]=z.join(" ")}}this.autoRound&&(w=Math.round(w),D=Math.round(D));var W=this.letterSpacing;if(m.strokeThickness&&W===0&&(m.syncShadow(c,m.shadowStroke),c.strokeText(S[U],w,D)),m.color)if(m.syncShadow(c,m.shadowFill),W!==0)for(var K=0,J=S[U].split(""),j=0;j<J.length;j++)m.strokeThickness&&(m.syncShadow(c,m.shadowStroke),c.strokeText(J[j],w+K,D),m.syncShadow(c,m.shadowFill)),c.fillText(J[j],w+K,D),K+=c.measureText(J[j]).width+W;else c.fillText(S[U],w,D)}c.restore(),this.renderer&&this.renderer.gl&&(this.frame.source.glTexture=this.renderer.canvasToTexture(d,this.frame.source.glTexture,!0));var Z=this.input;return Z&&!Z.customHitArea&&(Z.hitArea.width=this.width,Z.hitArea.height=this.height),this},getTextMetrics:function(){return this.style.getTextMetrics()},text:{get:function(){return this._text},set:function(d){this.setText(d)}},toJSON:function(){var d=n.ToJSON(this),c={autoRound:this.autoRound,text:this._text,style:this.style.toJSON(),padding:{left:this.padding.left,right:this.padding.right,top:this.padding.top,bottom:this.padding.bottom}};return d.data=c,d},preDestroy:function(){o(this.canvas),p.remove(this.canvas);var d=this.texture;d&&d.destroy()}});v.exports=f},79724:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,h,p,a){h.width===0||h.height===0||(p.addToRenderList(h),t.batchSprite(h,h.frame,p,a))};v.exports=y},71259:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(25305),p=t(44603),a=t(23568),n=t(50171);p.register("text",function(r,e){r===void 0&&(r={});var s=a(r,"text",""),o=a(r,"style",null),i=a(r,"padding",null);i!==null&&(o.padding=i);var l=new n(this.scene,0,0,s,o);return e!==void 0&&(r.add=e),h(this.scene,l,r),l.autoRound=a(r,"autoRound",!0),l.resolution=a(r,"resolution",1),l})},68005:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(50171),p=t(39429);p.register("text",function(a,n,r,e){return this.displayList.add(new h(this.scene,a,n,r,e))})},61771:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(29747),p=h,a=h;p=t(34397),a=t(79724),v.exports={renderWebGL:p,renderCanvas:a}},35762:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),p=t(23568),a=t(35154),n=t(79557),r={fontFamily:["fontFamily","Courier"],fontSize:["fontSize","16px"],fontStyle:["fontStyle",""],backgroundColor:["backgroundColor",null],color:["color","#fff"],stroke:["stroke","#fff"],strokeThickness:["strokeThickness",0],shadowOffsetX:["shadow.offsetX",0],shadowOffsetY:["shadow.offsetY",0],shadowColor:["shadow.color","#000"],shadowBlur:["shadow.blur",0],shadowStroke:["shadow.stroke",!1],shadowFill:["shadow.fill",!1],align:["align","left"],maxLines:["maxLines",0],fixedWidth:["fixedWidth",0],fixedHeight:["fixedHeight",0],resolution:["resolution",0],rtl:["rtl",!1],testString:["testString","|Mqgy"],baselineX:["baselineX",1.2],baselineY:["baselineY",1.4],wordWrapWidth:["wordWrap.width",null],wordWrapCallback:["wordWrap.callback",null],wordWrapCallbackScope:["wordWrap.callbackScope",null],wordWrapUseAdvanced:["wordWrap.useAdvancedWrap",!1]},e=new h({initialize:function(o,i){this.parent=o,this.fontFamily,this.fontSize,this.fontStyle,this.backgroundColor,this.color,this.stroke,this.strokeThickness,this.shadowOffsetX,this.shadowOffsetY,this.shadowColor,this.shadowBlur,this.shadowStroke,this.shadowFill,this.align,this.maxLines,this.fixedWidth,this.fixedHeight,this.resolution,this.rtl,this.testString,this.baselineX,this.baselineY,this.wordWrapWidth,this.wordWrapCallback,this.wordWrapCallbackScope,this.wordWrapUseAdvanced,this._font,this.setStyle(i,!1,!0)},setStyle:function(s,o,i){o===void 0&&(o=!0),i===void 0&&(i=!1);for(var l in r){var u=i?r[l][1]:this[l];l==="wordWrapCallback"||l==="wordWrapCallbackScope"?this[l]=a(s,r[l][0],u):s&&l==="fontSize"&&typeof s.fontSize=="number"?this[l]=s.fontSize.toString()+"px":this[l]=p(s,r[l][0],u)}var f=a(s,"font",null);f!==null&&this.setFont(f,!1),this._font=[this.fontStyle,this.fontSize,this.fontFamily].join(" ").trim();var d=a(s,"fill",null);d!==null&&(this.color=d);var c=a(s,"metrics",!1);return c?this.metrics={ascent:a(c,"ascent",0),descent:a(c,"descent",0),fontSize:a(c,"fontSize",0)}:(o||!this.metrics)&&(this.metrics=n(this)),o?this.parent.updateText():this.parent},syncFont:function(s,o){o.font=this._font},syncStyle:function(s,o){o.textBaseline="alphabetic",o.fillStyle=this.color,o.strokeStyle=this.stroke,o.lineWidth=this.strokeThickness,o.lineCap="round",o.lineJoin="round"},syncShadow:function(s,o){o?(s.shadowOffsetX=this.shadowOffsetX,s.shadowOffsetY=this.shadowOffsetY,s.shadowColor=this.shadowColor,s.shadowBlur=this.shadowBlur):(s.shadowOffsetX=0,s.shadowOffsetY=0,s.shadowColor=0,s.shadowBlur=0)},update:function(s){return s&&(this._font=[this.fontStyle,this.fontSize,this.fontFamily].join(" ").trim(),this.metrics=n(this)),this.parent.updateText()},setFont:function(s,o){o===void 0&&(o=!0);var i=s,l="",u="";if(typeof s!="string")i=a(s,"fontFamily","Courier"),l=a(s,"fontSize","16px"),u=a(s,"fontStyle","");else{var f=s.split(" "),d=0;u=f.length>2?f[d++]:"",l=f[d++]||"16px",i=f[d++]||"Courier"}return(i!==this.fontFamily||l!==this.fontSize||u!==this.fontStyle)&&(this.fontFamily=i,this.fontSize=l,this.fontStyle=u,o&&this.update(!0)),this.parent},setFontFamily:function(s){return this.fontFamily!==s&&(this.fontFamily=s,this.update(!0)),this.parent},setFontStyle:function(s){return this.fontStyle!==s&&(this.fontStyle=s,this.update(!0)),this.parent},setFontSize:function(s){return typeof s=="number"&&(s=s.toString()+"px"),this.fontSize!==s&&(this.fontSize=s,this.update(!0)),this.parent},setTestString:function(s){return this.testString=s,this.update(!0)},setFixedSize:function(s,o){return this.fixedWidth=s,this.fixedHeight=o,s&&(this.parent.width=s),o&&(this.parent.height=o),this.update(!1)},setBackgroundColor:function(s){return this.backgroundColor=s,this.update(!1)},setFill:function(s){return this.color=s,this.update(!1)},setColor:function(s){return this.color=s,this.update(!1)},setResolution:function(s){return this.resolution=s,this.update(!1)},setStroke:function(s,o){return o===void 0&&(o=this.strokeThickness),s===void 0&&this.strokeThickness!==0?(this.strokeThickness=0,this.update(!0)):(this.stroke!==s||this.strokeThickness!==o)&&(this.stroke=s,this.strokeThickness=o,this.update(!0)),this.parent},setShadow:function(s,o,i,l,u,f){return s===void 0&&(s=0),o===void 0&&(o=0),i===void 0&&(i="#000"),l===void 0&&(l=0),u===void 0&&(u=!1),f===void 0&&(f=!0),this.shadowOffsetX=s,this.shadowOffsetY=o,this.shadowColor=i,this.shadowBlur=l,this.shadowStroke=u,this.shadowFill=f,this.update(!1)},setShadowOffset:function(s,o){return s===void 0&&(s=0),o===void 0&&(o=s),this.shadowOffsetX=s,this.shadowOffsetY=o,this.update(!1)},setShadowColor:function(s){return s===void 0&&(s="#000"),this.shadowColor=s,this.update(!1)},setShadowBlur:function(s){return s===void 0&&(s=0),this.shadowBlur=s,this.update(!1)},setShadowStroke:function(s){return this.shadowStroke=s,this.update(!1)},setShadowFill:function(s){return this.shadowFill=s,this.update(!1)},setWordWrapWidth:function(s,o){return o===void 0&&(o=!1),this.wordWrapWidth=s,this.wordWrapUseAdvanced=o,this.update(!1)},setWordWrapCallback:function(s,o){return o===void 0&&(o=null),this.wordWrapCallback=s,this.wordWrapCallbackScope=o,this.update(!1)},setAlign:function(s){return s===void 0&&(s="left"),this.align=s,this.update(!1)},setMaxLines:function(s){return s===void 0&&(s=0),this.maxLines=s,this.update(!1)},getTextMetrics:function(){var s=this.metrics;return{ascent:s.ascent,descent:s.descent,fontSize:s.fontSize}},toJSON:function(){var s={};for(var o in r)s[o]=this[o];return s.metrics=this.getTextMetrics(),s},destroy:function(){this.parent=void 0}});v.exports=e},34397:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(70554),p=function(a,n,r,e){if(!(n.width===0||n.height===0)){r.addToRenderList(n);var s=n.frame,o=s.width,i=s.height,l=h.getTintAppendFloatAlpha,u=a.pipelines.set(n.pipeline,n),f=u.setTexture2D(s.glTexture,n);u.batchTexture(n,s.glTexture,o,i,n.x,n.y,o/n.style.resolution,i/n.style.resolution,n.scaleX,n.scaleY,n.rotation,n.flipX,n.flipY,n.scrollFactorX,n.scrollFactorY,n.displayOriginX,n.displayOriginY,0,0,o,i,l(n.tintTopLeft,r.alpha*n._alphaTL),l(n.tintTopRight,r.alpha*n._alphaTR),l(n.tintBottomLeft,r.alpha*n._alphaBL),l(n.tintBottomRight,r.alpha*n._alphaBR),n.tintFill,0,0,r,e,!1,f)}};v.exports=p},20839:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(27919),p=t(83419),a=t(31401),n=t(95643),r=t(98439),e=t(68703),s=t(56295),o=t(45650),i=t(26099),l=8,u=new p({Extends:n,Mixins:[a.Alpha,a.BlendMode,a.ComputedSize,a.Crop,a.Depth,a.Flip,a.GetBounds,a.Mask,a.Origin,a.Pipeline,a.PostPipeline,a.ScrollFactor,a.Tint,a.Transform,a.Visible,s],initialize:function(d,c,m,g,x,T,S){var P=d.sys.renderer;n.call(this,d,"TileSprite");var L=d.sys.textures.get(T),I=L.get(S);I.source.compressionAlgorithm&&(console.warn("TileSprite cannot use compressed texture"),L=d.sys.textures.get("__MISSING"),I=L.get()),L.type==="DynamicTexture"&&(console.warn("TileSprite cannot use Dynamic Texture"),L=d.sys.textures.get("__MISSING"),I=L.get()),!g||!x?(g=g||I.width,x=x||I.height):(g=Math.floor(g),x=Math.floor(x)),this._tilePosition=new i,this._tileScale=new i(1,1),this.dirty=!1,this.renderer=P,this.canvas=h.create(this,g,x),this.context=this.canvas.getContext("2d",{willReadFrequently:!1}),this.displayTexture=L,this.displayFrame=I,this._crop=this.resetCropObject(),this._textureKey=o(),this.texture=d.sys.textures.addCanvas(this._textureKey,this.canvas),this.frame=this.texture.get(),this.potWidth=r(I.width),this.potHeight=r(I.height),this.fillCanvas=h.create2D(this,this.potWidth,this.potHeight),this.fillContext=this.fillCanvas.getContext("2d",{willReadFrequently:!1}),this.fillPattern=null,this.setPosition(c,m),this.setSize(g,x),this.setFrame(S),this.setOriginFromFrame(),this.initPipeline(),this.initPostPipeline(!0)},setTexture:function(f,d){return this.displayTexture=this.scene.sys.textures.get(f),this.setFrame(d)},setFrame:function(f){var d=this.displayTexture.get(f);return this.potWidth=r(d.width),this.potHeight=r(d.height),this.canvas.width=0,!d.cutWidth||!d.cutHeight?this.renderFlags&=~l:this.renderFlags|=l,this.displayFrame=d,this.dirty=!0,this.updateTileTexture(),this},setTilePosition:function(f,d){return f!==void 0&&(this.tilePositionX=f),d!==void 0&&(this.tilePositionY=d),this},setTileScale:function(f,d){return f===void 0&&(f=this.tileScaleX),d===void 0&&(d=f),this.tileScaleX=f,this.tileScaleY=d,this},updateTileTexture:function(){if(!(!this.dirty||!this.renderer)){var f=this.displayFrame;if(f.source.isRenderTexture||f.source.isGLTexture){console.warn("TileSprites can only use Image or Canvas based textures"),this.dirty=!1;return}var d=this.fillContext,c=this.fillCanvas,m=this.potWidth,g=this.potHeight;(!this.renderer||!this.renderer.gl)&&(m=f.cutWidth,g=f.cutHeight),d.clearRect(0,0,m,g),c.width=m,c.height=g,d.drawImage(f.source.image,f.cutX,f.cutY,f.cutWidth,f.cutHeight,0,0,m,g),this.renderer&&this.renderer.gl?this.fillPattern=this.renderer.canvasToTexture(c,this.fillPattern):this.fillPattern=d.createPattern(c,"repeat"),this.updateCanvas(),this.dirty=!1}},updateCanvas:function(){var f=this.canvas;if((f.width!==this.width||f.height!==this.height)&&(f.width=this.width,f.height=this.height,this.frame.setSize(this.width,this.height),this.updateDisplayOrigin(),this.dirty=!0),!this.dirty||this.renderer&&this.renderer.gl){this.dirty=!1;return}var d=this.context;this.scene.sys.game.config.antialias||e.disable(d);var c=this._tileScale.x,m=this._tileScale.y,g=this._tilePosition.x,x=this._tilePosition.y;d.clearRect(0,0,this.width,this.height),d.save(),d.scale(c,m),d.translate(-g,-x),d.fillStyle=this.fillPattern,d.fillRect(g,x,this.width/c,this.height/m),d.restore(),this.dirty=!1},preDestroy:function(){this.renderer&&this.renderer.gl&&this.renderer.deleteTexture(this.fillPattern),h.remove(this.canvas),h.remove(this.fillCanvas),this.fillPattern=null,this.fillContext=null,this.fillCanvas=null,this.displayTexture=null,this.displayFrame=null;var f=this.texture;f&&f.destroy(),this.renderer=null},tilePositionX:{get:function(){return this._tilePosition.x},set:function(f){this._tilePosition.x=f,this.dirty=!0}},tilePositionY:{get:function(){return this._tilePosition.y},set:function(f){this._tilePosition.y=f,this.dirty=!0}},tileScaleX:{get:function(){return this._tileScale.x},set:function(f){this._tileScale.x=f,this.dirty=!0}},tileScaleY:{get:function(){return this._tileScale.y},set:function(f){this._tileScale.y=f,this.dirty=!0}}});v.exports=u},46992:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,h,p,a){h.updateCanvas(),p.addToRenderList(h),t.batchSprite(h,h.frame,p,a)};v.exports=y},14167:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(25305),p=t(44603),a=t(23568),n=t(20839);p.register("tileSprite",function(r,e){r===void 0&&(r={});var s=a(r,"x",0),o=a(r,"y",0),i=a(r,"width",512),l=a(r,"height",512),u=a(r,"key",""),f=a(r,"frame",""),d=new n(this.scene,s,o,i,l,u,f);return e!==void 0&&(r.add=e),h(this.scene,d,r),d})},91681:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(20839),p=t(39429);p.register("tileSprite",function(a,n,r,e,s,o){return this.displayList.add(new h(this.scene,a,n,r,e,s,o))})},56295:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(29747),p=h,a=h;p=t(18553),a=t(46992),v.exports={renderWebGL:p,renderCanvas:a}},18553:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(70554),p=function(a,n,r,e){n.updateCanvas();var s=n.width,o=n.height;if(!(s===0||o===0)){r.addToRenderList(n);var i=h.getTintAppendFloatAlpha,l=a.pipelines.set(n.pipeline,n),u=l.setTexture2D(n.fillPattern,n);l.batchTexture(n,n.fillPattern,n.displayFrame.width*n.tileScaleX,n.displayFrame.height*n.tileScaleY,n.x,n.y,s,o,n.scaleX,n.scaleY,n.rotation,n.flipX,n.flipY,n.scrollFactorX,n.scrollFactorY,n.originX*s,n.originY*o,0,0,s,o,i(n.tintTopLeft,r.alpha*n._alphaTL),i(n.tintTopRight,r.alpha*n._alphaTR),i(n.tintBottomLeft,r.alpha*n._alphaBL),i(n.tintBottomRight,r.alpha*n._alphaBR),n.tintFill,n.tilePositionX%n.displayFrame.width/n.displayFrame.width,n.tilePositionY%n.displayFrame.height/n.displayFrame.height,r,e,!1,u)}};v.exports=p},18471:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(45319),p=t(83419),a=t(31401),n=t(51708),r=t(8443),e=t(95643),s=t(36383),o=t(14463),i=t(45650),l=t(10247),u=new p({Extends:e,Mixins:[a.Alpha,a.BlendMode,a.ComputedSize,a.Depth,a.Flip,a.GetBounds,a.Mask,a.Origin,a.Pipeline,a.PostPipeline,a.ScrollFactor,a.TextureCrop,a.Tint,a.Transform,a.Visible,l],initialize:function(d,c,m,g){e.call(this,d,"Video"),this.video,this.videoTexture,this.videoTextureSource,this.snapshotTexture,this.flipY=!1,this._key=i(),this.touchLocked=!1,this.playWhenUnlocked=!1,this.frameReady=!1,this.isStalled=!1,this.failedPlayAttempts=0,this.metadata,this.retry=0,this.retryInterval=500,this._systemMuted=!1,this._codeMuted=!1,this._systemPaused=!1,this._codePaused=!1,this._callbacks={ended:this.completeHandler.bind(this),legacy:this.legacyPlayHandler.bind(this),playing:this.playingHandler.bind(this),seeked:this.seekedHandler.bind(this),seeking:this.seekingHandler.bind(this),stalled:this.stalledHandler.bind(this),suspend:this.stalledHandler.bind(this),waiting:this.stalledHandler.bind(this)},this._loadCallbackHandler=this.loadErrorHandler.bind(this),this._metadataCallbackHandler=this.metadataHandler.bind(this),this._crop=this.resetCropObject(),this.markers={},this._markerIn=0,this._markerOut=0,this._playingMarker=!1,this._lastUpdate=0,this.cacheKey="",this.isSeeking=!1,this._playCalled=!1,this._getFrame=!1,this._rfvCallbackId=0;var x=d.sys.game;this._device=x.device.video,this.setPosition(c,m),this.setSize(256,256),this.initPipeline(),this.initPostPipeline(!0),x.events.on(r.PAUSE,this.globalPause,this),x.events.on(r.RESUME,this.globalResume,this);var T=d.sys.sound;T&&T.on(o.GLOBAL_MUTE,this.globalMute,this),g&&this.load(g)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},load:function(f){var d=this.scene.sys.cache.video.get(f);return d?(this.cacheKey=f,this.loadHandler(d.url,d.noAudio,d.crossOrigin)):console.warn("No video in cache for key: "+f),this},changeSource:function(f,d,c,m,g){d===void 0&&(d=!0),c===void 0&&(c=!1),this.cacheKey!==f&&(this.load(f),d&&this.play(c,m,g))},getVideoKey:function(){return this.cacheKey},loadURL:function(f,d,c){d===void 0&&(d=!1);var m=this._device.getVideoURL(f);return m?(this.cacheKey="",this.loadHandler(m.url,d,c)):console.warn("No supported video format found for "+f),this},loadMediaStream:function(f,d,c){return this.loadHandler(null,d,c,f)},loadHandler:function(f,d,c,m){d||(d=!1);var g=this.video;if(g?(this.removeLoadEventHandlers(),this.stop()):(g=document.createElement("video"),g.controls=!1,g.setAttribute("playsinline","playsinline"),g.setAttribute("preload","auto"),g.setAttribute("disablePictureInPicture","true")),d?(g.muted=!0,g.defaultMuted=!0,g.setAttribute("autoplay","autoplay")):(g.muted=!1,g.defaultMuted=!1,g.removeAttribute("autoplay")),c?g.setAttribute("crossorigin",c):g.removeAttribute("crossorigin"),m)if("srcObject"in g)try{g.srcObject=m}catch(T){if(T.name!=="TypeError")throw T;g.src=URL.createObjectURL(m)}else g.src=URL.createObjectURL(m);else g.src=f;this.retry=0,this.video=g,this._playCalled=!1,g.load(),this.addLoadEventHandlers();var x=this.scene.sys.textures.get(this._key);return this.setTexture(x),this},requestVideoFrame:function(f,d){var c=this.video;if(c){var m=d.width,g=d.height,x=this.videoTexture,T=this.videoTextureSource,S=!x||T.source!==c;S?(this._codePaused=c.paused,this._codeMuted=c.muted,x?(T.source=c,T.width=m,T.height=g,x.get().setSize(m,g)):(x=this.scene.sys.textures.create(this._key,c,m,g),x.add("__BASE",0,0,0,m,g),this.setTexture(x),this.videoTexture=x,this.videoTextureSource=x.source[0],this.videoTextureSource.setFlipY(this.flipY),this.emit(n.VIDEO_TEXTURE,this,x)),this.setSizeToFrame(),this.updateDisplayOrigin()):T.update(),this.isStalled=!1,this.metadata=d;var P=d.mediaTime;S&&(this._lastUpdate=P,this.emit(n.VIDEO_CREATED,this,m,g),this.frameReady||(this.frameReady=!0,this.emit(n.VIDEO_PLAY,this))),this._playingMarker?P>=this._markerOut&&(c.loop?(c.currentTime=this._markerIn,this.emit(n.VIDEO_LOOP,this)):(this.stop(!1),this.emit(n.VIDEO_COMPLETE,this))):P<this._lastUpdate&&this.emit(n.VIDEO_LOOP,this),this._lastUpdate=P,this._getFrame?(this.removeEventHandlers(),c.pause(),this._getFrame=!1):this._rfvCallbackId=this.video.requestVideoFrameCallback(this.requestVideoFrame.bind(this))}},play:function(f,d,c){d===void 0&&(d=-1),c===void 0&&(c=s.MAX_SAFE_INTEGER);var m=this.video;return!m||this.isPlaying()?(m||console.warn("Video not loaded"),this):(f===void 0&&(f=m.loop),m.loop=f,this._markerIn=d,this._markerOut=c,this._playingMarker=d>-1&&c>d&&c<s.MAX_SAFE_INTEGER,this._playCalled||(this._getFrame=!1,this._rfvCallbackId=m.requestVideoFrameCallback(this.requestVideoFrame.bind(this)),this._playCalled=!0,this.createPlayPromise()),this)},getFirstFrame:function(){var f=this.video;return!f||this.isPlaying()?(f||console.warn("Video not loaded"),this):(this._playCalled||(this._getFrame=!0,this._rfvCallbackId=f.requestVideoFrameCallback(this.requestVideoFrame.bind(this)),this.createPlayPromise()),this)},addLoadEventHandlers:function(){var f=this.video;f&&(f.addEventListener("error",this._loadCallbackHandler),f.addEventListener("abort",this._loadCallbackHandler),f.addEventListener("loadedmetadata",this._metadataCallbackHandler))},removeLoadEventHandlers:function(){var f=this.video;f&&(f.removeEventListener("error",this._loadCallbackHandler),f.removeEventListener("abort",this._loadCallbackHandler))},addEventHandlers:function(){var f=this.video;if(f){var d=this._callbacks;for(var c in d)f.addEventListener(c,d[c])}},removeEventHandlers:function(){var f=this.video;if(f){var d=this._callbacks;for(var c in d)f.removeEventListener(c,d[c])}},createPlayPromise:function(f){f===void 0&&(f=!0);var d=this.video,c=d.play();if(c!==void 0){var m=this.playSuccess.bind(this),g=this.playError.bind(this);if(!f){var x=this;g=function(){x.failedPlayAttempts++}}c.then(m).catch(g)}else d.addEventListener("playing",this._callbacks.legacy),f||this.failedPlayAttempts++},addMarker:function(f,d,c){return!isNaN(d)&&d>=0&&!isNaN(c)&&c>d&&(this.markers[f]=[d,c]),this},playMarker:function(f,d){var c=this.markers[f];return c&&this.play(d,c[0],c[1]),this},removeMarker:function(f){return delete this.markers[f],this},snapshot:function(f,d){return f===void 0&&(f=this.width),d===void 0&&(d=this.height),this.snapshotArea(0,0,this.width,this.height,f,d)},snapshotArea:function(f,d,c,m,g,x){f===void 0&&(f=0),d===void 0&&(d=0),c===void 0&&(c=this.width),m===void 0&&(m=this.height),g===void 0&&(g=c),x===void 0&&(x=m);var T=this.video,S=this.snapshotTexture;return S?(S.setSize(g,x),T&&S.context.drawImage(T,f,d,c,m,0,0,g,x)):(S=this.scene.sys.textures.createCanvas(i(),g,x),this.snapshotTexture=S,T&&S.context.drawImage(T,f,d,c,m,0,0,g,x)),S.update()},saveSnapshotTexture:function(f){return this.snapshotTexture?this.scene.sys.textures.renameTexture(this.snapshotTexture.key,f):this.snapshotTexture=this.scene.sys.textures.createCanvas(f,this.width,this.height),this.snapshotTexture},playSuccess:function(){if(this._playCalled){this.addEventHandlers(),this._codePaused=!1,this.touchLocked&&(this.touchLocked=!1,this.emit(n.VIDEO_UNLOCKED,this));var f=this.scene.sys.sound;f&&f.mute&&this.setMute(!0),this._markerIn>-1&&(this.video.currentTime=this._markerIn)}},playError:function(f){var d=f.name;d==="NotAllowedError"?(this.touchLocked=!0,this.playWhenUnlocked=!0,this.failedPlayAttempts=1,this.emit(n.VIDEO_LOCKED,this)):d==="NotSupportedError"?(this.stop(!1),this.emit(n.VIDEO_UNSUPPORTED,this,f)):(this.stop(!1),this.emit(n.VIDEO_ERROR,this,f))},legacyPlayHandler:function(){var f=this.video;f&&(this.playSuccess(),f.removeEventListener("playing",this._callbacks.legacy))},playingHandler:function(){this.isStalled=!1,this.emit(n.VIDEO_PLAYING,this)},loadErrorHandler:function(f){this.stop(!1),this.emit(n.VIDEO_ERROR,this,f)},metadataHandler:function(f){this.emit(n.VIDEO_METADATA,this,f)},setSizeToFrame:function(f){f||(f=this.frame),this.width=f.realWidth,this.height=f.realHeight,this.scaleX!==1&&(this.scaleX=this.displayWidth/this.width),this.scaleY!==1&&(this.scaleY=this.displayHeight/this.height);var d=this.input;return d&&!d.customHitArea&&(d.hitArea.width=this.width,d.hitArea.height=this.height),this},stalledHandler:function(f){this.isStalled=!0,this.emit(n.VIDEO_STALLED,this,f)},completeHandler:function(){this._playCalled=!1,this.emit(n.VIDEO_COMPLETE,this)},preUpdate:function(f,d){var c=this.video;!c||!this._playCalled||this.touchLocked&&this.playWhenUnlocked&&(this.retry+=d,this.retry>=this.retryInterval&&(this.createPlayPromise(!1),this.retry=0))},seekTo:function(f){var d=this.video;if(d){var c=d.duration;if(c!==1/0&&!isNaN(c)){var m=c*f;this.setCurrentTime(m)}}return this},getCurrentTime:function(){return this.video?this.video.currentTime:0},setCurrentTime:function(f){var d=this.video;if(d){if(typeof f=="string"){var c=f[0],m=parseFloat(f.substr(1));c==="+"?f=d.currentTime+m:c==="-"&&(f=d.currentTime-m)}d.currentTime=f}return this},seekingHandler:function(){this.isSeeking=!0,this.emit(n.VIDEO_SEEKING,this)},seekedHandler:function(){this.isSeeking=!1,this.emit(n.VIDEO_SEEKED,this)},getProgress:function(){var f=this.video;if(f){var d=f.duration;if(d!==1/0&&!isNaN(d))return f.currentTime/d}return-1},getDuration:function(){return this.video?this.video.duration:0},setMute:function(f){f===void 0&&(f=!0),this._codeMuted=f;var d=this.video;return d&&(d.muted=this._systemMuted?!0:f),this},isMuted:function(){return this._codeMuted},globalMute:function(f,d){this._systemMuted=d;var c=this.video;c&&(c.muted=this._codeMuted?!0:d)},globalPause:function(){this._systemPaused=!0,this.video&&!this.video.ended&&(this.removeEventHandlers(),this.video.pause())},globalResume:function(){this._systemPaused=!1,this.video&&!this._codePaused&&!this.video.ended&&this.createPlayPromise()},setPaused:function(f){f===void 0&&(f=!0);var d=this.video;return this._codePaused=f,d&&!d.ended&&(f?d.paused||(this.removeEventHandlers(),d.pause()):f||(this._playCalled?d.paused&&!this._systemPaused&&this.createPlayPromise():this.play())),this},pause:function(){return this.setPaused(!0)},resume:function(){return this.setPaused(!1)},getVolume:function(){return this.video?this.video.volume:1},setVolume:function(f){return f===void 0&&(f=1),this.video&&(this.video.volume=h(f,0,1)),this},getPlaybackRate:function(){return this.video?this.video.playbackRate:1},setPlaybackRate:function(f){return this.video&&(this.video.playbackRate=f),this},getLoop:function(){return this.video?this.video.loop:!1},setLoop:function(f){return f===void 0&&(f=!0),this.video&&(this.video.loop=f),this},isPlaying:function(){return this.video?!(this.video.paused||this.video.ended):!1},isPaused:function(){return this.video&&this._playCalled&&this.video.paused||this._codePaused||this._systemPaused},saveTexture:function(f,d){return d===void 0&&(d=!1),this.videoTexture&&(this.scene.sys.textures.renameTexture(this._key,f),this.videoTextureSource.setFlipY(d)),this._key=f,this.flipY=d,!!this.videoTexture},stop:function(f){f===void 0&&(f=!0);var d=this.video;return d&&(this.removeEventHandlers(),d.cancelVideoFrameCallback(this._rfvCallbackId),d.pause()),this.retry=0,this._playCalled=!1,f&&this.emit(n.VIDEO_STOP,this),this},removeVideoElement:function(){var f=this.video;if(f){for(f.parentNode&&f.parentNode.removeChild(f);f.hasChildNodes();)f.removeChild(f.firstChild);f.removeAttribute("autoplay"),f.removeAttribute("src"),this.video=null}},preDestroy:function(){this.stop(!1),this.removeLoadEventHandlers(),this.removeVideoElement();var f=this.scene.sys.game.events;f.off(r.PAUSE,this.globalPause,this),f.off(r.RESUME,this.globalResume,this);var d=this.scene.sys.sound;d&&d.off(o.GLOBAL_MUTE,this.globalMute,this)}});v.exports=u},58352:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,h,p,a){h.videoTexture&&(p.addToRenderList(h),t.batchSprite(h,h.frame,p,a))};v.exports=y},11511:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(25305),p=t(44603),a=t(23568),n=t(18471);p.register("video",function(r,e){r===void 0&&(r={});var s=a(r,"key",null),o=new n(this.scene,0,0,s);return e!==void 0&&(r.add=e),h(this.scene,o,r),o})},89025:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(18471),p=t(39429);p.register("video",function(a,n,r){return this.displayList.add(new h(this.scene,a,n,r))})},10247:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(29747),p=h,a=h;p=t(29849),a=t(58352),v.exports={renderWebGL:p,renderCanvas:a}},29849:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,h,p,a){h.videoTexture&&(p.addToRenderList(h),h.pipeline.batchSprite(h,p,a))};v.exports=y},41481:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(10312),p=t(96503),a=t(87902),n=t(83419),r=t(31401),e=t(95643),s=t(87841),o=t(37303),i=new n({Extends:e,Mixins:[r.Depth,r.GetBounds,r.Origin,r.Transform,r.ScrollFactor,r.Visible],initialize:function(u,f,d,c,m){c===void 0&&(c=1),m===void 0&&(m=c),e.call(this,u,"Zone"),this.setPosition(f,d),this.width=c,this.height=m,this.blendMode=h.NORMAL,this.updateDisplayOrigin()},displayWidth:{get:function(){return this.scaleX*this.width},set:function(l){this.scaleX=l/this.width}},displayHeight:{get:function(){return this.scaleY*this.height},set:function(l){this.scaleY=l/this.height}},setSize:function(l,u,f){f===void 0&&(f=!0),this.width=l,this.height=u,this.updateDisplayOrigin();var d=this.input;return f&&d&&!d.customHitArea&&(d.hitArea.width=l,d.hitArea.height=u),this},setDisplaySize:function(l,u){return this.displayWidth=l,this.displayHeight=u,this},setCircleDropZone:function(l){return this.setDropZone(new p(0,0,l),a)},setRectangleDropZone:function(l,u){return this.setDropZone(new s(0,0,l,u),o)},setDropZone:function(l,u){return this.input||this.setInteractive(l,u,!0),this},setAlpha:function(){},setBlendMode:function(){},renderCanvas:function(l,u,f){f.addToRenderList(u)},renderWebGL:function(l,u,f){f.addToRenderList(u)}});v.exports=i},95261:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(44603),p=t(23568),a=t(41481);h.register("zone",function(n){var r=p(n,"x",0),e=p(n,"y",0),s=p(n,"width",1),o=p(n,"height",s);return new a(this.scene,r,e,s,o)})},84175:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(41481),p=t(39429);p.register("zone",function(a,n,r,e){return this.displayList.add(new h(this.scene,a,n,r,e))})},95166:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){return t.radius>0?Math.PI*t.radius*t.radius:0};v.exports=y},96503:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),p=t(87902),a=t(26241),n=t(79124),r=t(23777),e=t(28176),s=new h({initialize:function(i,l,u){i===void 0&&(i=0),l===void 0&&(l=0),u===void 0&&(u=0),this.type=r.CIRCLE,this.x=i,this.y=l,this._radius=u,this._diameter=u*2},contains:function(o,i){return p(this,o,i)},getPoint:function(o,i){return a(this,o,i)},getPoints:function(o,i,l){return n(this,o,i,l)},getRandomPoint:function(o){return e(this,o)},setTo:function(o,i,l){return this.x=o,this.y=i,this._radius=l,this._diameter=l*2,this},setEmpty:function(){return this._radius=0,this._diameter=0,this},setPosition:function(o,i){return i===void 0&&(i=o),this.x=o,this.y=i,this},isEmpty:function(){return this._radius<=0},radius:{get:function(){return this._radius},set:function(o){this._radius=o,this._diameter=o*2}},diameter:{get:function(){return this._diameter},set:function(o){this._diameter=o,this._radius=o*.5}},left:{get:function(){return this.x-this._radius},set:function(o){this.x=o+this._radius}},right:{get:function(){return this.x+this._radius},set:function(o){this.x=o-this._radius}},top:{get:function(){return this.y-this._radius},set:function(o){this.y=o+this._radius}},bottom:{get:function(){return this.y+this._radius},set:function(o){this.y=o-this._radius}}});v.exports=s},71562:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){return 2*(Math.PI*t.radius)};v.exports=y},92110:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(2141),p=function(a,n,r){return r===void 0&&(r=new h),r.x=a.x+a.radius*Math.cos(n),r.y=a.y+a.radius*Math.sin(n),r};v.exports=p},42250:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(96503),p=function(a){return new h(a.x,a.y,a.radius)};v.exports=p},87902:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,h,p){if(t.radius>0&&h>=t.left&&h<=t.right&&p>=t.top&&p<=t.bottom){var a=(t.x-h)*(t.x-h),n=(t.y-p)*(t.y-p);return a+n<=t.radius*t.radius}else return!1};v.exports=y},5698:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(87902),p=function(a,n){return h(a,n.x,n.y)};v.exports=p},70588:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(87902),p=function(a,n){return h(a,n.x,n.y)&&h(a,n.right,n.y)&&h(a,n.x,n.bottom)&&h(a,n.right,n.bottom)};v.exports=p},26394:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,h){return h.setTo(t.x,t.y,t.radius)};v.exports=y},76278:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,h){return t.x===h.x&&t.y===h.y&&t.radius===h.radius};v.exports=y},2074:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(87841),p=function(a,n){return n===void 0&&(n=new h),n.x=a.left,n.y=a.top,n.width=a.diameter,n.height=a.diameter,n};v.exports=p},26241:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(92110),p=t(62945),a=t(36383),n=t(2141),r=function(e,s,o){o===void 0&&(o=new n);var i=p(s,0,a.PI2);return h(e,i,o)};v.exports=r},79124:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(71562),p=t(92110),a=t(62945),n=t(36383),r=function(e,s,o,i){i===void 0&&(i=[]),!s&&o>0&&(s=h(e)/o);for(var l=0;l<s;l++){var u=a(l/s,0,n.PI2);i.push(p(e,u))}return i};v.exports=r},50884:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,h,p){return t.x+=h,t.y+=p,t};v.exports=y},39212:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,h){return t.x+=h.x,t.y+=h.y,t};v.exports=y},28176:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(2141),p=function(a,n){n===void 0&&(n=new h);var r=2*Math.PI*Math.random(),e=Math.random()+Math.random(),s=e>1?2-e:e,o=s*Math.cos(r),i=s*Math.sin(r);return n.x=a.x+o*a.radius,n.y=a.y+i*a.radius,n};v.exports=p},88911:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(96503);h.Area=t(95166),h.Circumference=t(71562),h.CircumferencePoint=t(92110),h.Clone=t(42250),h.Contains=t(87902),h.ContainsPoint=t(5698),h.ContainsRect=t(70588),h.CopyFrom=t(26394),h.Equals=t(76278),h.GetBounds=t(2074),h.GetPoint=t(26241),h.GetPoints=t(79124),h.Offset=t(50884),h.OffsetPoint=t(39212),h.Random=t(28176),v.exports=h},23777:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={CIRCLE:0,ELLIPSE:1,LINE:2,POINT:3,POLYGON:4,RECTANGLE:5,TRIANGLE:6};v.exports=y},78874:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){return t.isEmpty()?0:t.getMajorRadius()*t.getMinorRadius()*Math.PI};v.exports=y},92990:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){var h=t.width/2,p=t.height/2,a=Math.pow(h-p,2)/Math.pow(h+p,2);return Math.PI*(h+p)*(1+3*a/(10+Math.sqrt(4-3*a)))};v.exports=y},79522:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(2141),p=function(a,n,r){r===void 0&&(r=new h);var e=a.width/2,s=a.height/2;return r.x=a.x+e*Math.cos(n),r.y=a.y+s*Math.sin(n),r};v.exports=p},58102:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(8497),p=function(a){return new h(a.x,a.y,a.width,a.height)};v.exports=p},81154:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,h,p){if(t.width<=0||t.height<=0)return!1;var a=(h-t.x)/t.width,n=(p-t.y)/t.height;return a*=a,n*=n,a+n<.25};v.exports=y},46662:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(81154),p=function(a,n){return h(a,n.x,n.y)};v.exports=p},1632:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(81154),p=function(a,n){return h(a,n.x,n.y)&&h(a,n.right,n.y)&&h(a,n.x,n.bottom)&&h(a,n.right,n.bottom)};v.exports=p},65534:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,h){return h.setTo(t.x,t.y,t.width,t.height)};v.exports=y},8497:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),p=t(81154),a=t(90549),n=t(48320),r=t(23777),e=t(24820),s=new h({initialize:function(i,l,u,f){i===void 0&&(i=0),l===void 0&&(l=0),u===void 0&&(u=0),f===void 0&&(f=0),this.type=r.ELLIPSE,this.x=i,this.y=l,this.width=u,this.height=f},contains:function(o,i){return p(this,o,i)},getPoint:function(o,i){return a(this,o,i)},getPoints:function(o,i,l){return n(this,o,i,l)},getRandomPoint:function(o){return e(this,o)},setTo:function(o,i,l,u){return this.x=o,this.y=i,this.width=l,this.height=u,this},setEmpty:function(){return this.width=0,this.height=0,this},setPosition:function(o,i){return i===void 0&&(i=o),this.x=o,this.y=i,this},setSize:function(o,i){return i===void 0&&(i=o),this.width=o,this.height=i,this},isEmpty:function(){return this.width<=0||this.height<=0},getMinorRadius:function(){return Math.min(this.width,this.height)/2},getMajorRadius:function(){return Math.max(this.width,this.height)/2},left:{get:function(){return this.x-this.width/2},set:function(o){this.x=o+this.width/2}},right:{get:function(){return this.x+this.width/2},set:function(o){this.x=o-this.width/2}},top:{get:function(){return this.y-this.height/2},set:function(o){this.y=o+this.height/2}},bottom:{get:function(){return this.y+this.height/2},set:function(o){this.y=o-this.height/2}}});v.exports=s},36146:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,h){return t.x===h.x&&t.y===h.y&&t.width===h.width&&t.height===h.height};v.exports=y},23694:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(87841),p=function(a,n){return n===void 0&&(n=new h),n.x=a.left,n.y=a.top,n.width=a.width,n.height=a.height,n};v.exports=p},90549:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(79522),p=t(62945),a=t(36383),n=t(2141),r=function(e,s,o){o===void 0&&(o=new n);var i=p(s,0,a.PI2);return h(e,i,o)};v.exports=r},48320:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(92990),p=t(79522),a=t(62945),n=t(36383),r=function(e,s,o,i){i===void 0&&(i=[]),!s&&o>0&&(s=h(e)/o);for(var l=0;l<s;l++){var u=a(l/s,0,n.PI2);i.push(p(e,u))}return i};v.exports=r},73424:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,h,p){return t.x+=h,t.y+=p,t};v.exports=y},44808:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,h){return t.x+=h.x,t.y+=h.y,t};v.exports=y},24820:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(2141),p=function(a,n){n===void 0&&(n=new h);var r=Math.random()*Math.PI*2,e=Math.sqrt(Math.random());return n.x=a.x+e*Math.cos(r)*a.width/2,n.y=a.y+e*Math.sin(r)*a.height/2,n};v.exports=p},49203:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(8497);h.Area=t(78874),h.Circumference=t(92990),h.CircumferencePoint=t(79522),h.Clone=t(58102),h.Contains=t(81154),h.ContainsPoint=t(46662),h.ContainsRect=t(1632),h.CopyFrom=t(65534),h.Equals=t(36146),h.GetBounds=t(23694),h.GetPoint=t(90549),h.GetPoints=t(48320),h.Offset=t(73424),h.OffsetPoint=t(44808),h.Random=t(24820),v.exports=h},55738:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(23777),p=t(79291),a={Circle:t(88911),Ellipse:t(49203),Intersects:t(91865),Line:t(2529),Mesh:t(73090),Point:t(43711),Polygon:t(58423),Rectangle:t(93232),Triangle:t(84435)};a=p(!1,a,h),v.exports=a},2044:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(20339),p=function(a,n){return h(a.x,a.y,n.x,n.y)<=a.radius+n.radius};v.exports=p},81491:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,h){var p=h.width/2,a=h.height/2,n=Math.abs(t.x-h.x-p),r=Math.abs(t.y-h.y-a),e=p+t.radius,s=a+t.radius;if(n>e||r>s)return!1;if(n<=p||r<=a)return!0;var o=n-p,i=r-a,l=o*o,u=i*i,f=t.radius*t.radius;return l+u<=f};v.exports=y},63376:(v,y,t)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(2141),p=t(2044),a=function(n,r,e){if(e===void 0&&(e=[]),p(n,r)){var s=n.x,o=n.y,i=n.radius,l=r.x,u=r.y,f=r.radius,d,c,m,g,x;if(o===u)x=(f*f-i*i-l*l+s*s)/(2*(s-l)),d=1,c=-2*u,m=l*l+x*x-2*l*x+u*u-f*f,g=c*c-4*d*m,g===0?e.push(new h(x,-c/(2*d))):g>0&&(e.push(new h(x,(-c+Math.sqrt(g))/(2*d))),e.push(new h(x,(-c-Math.sqrt(g))/(2*d))));else{var T=(s-l)/(o-u),S=(f*f-i*i-l*l+s*s-u*u+o*o)/(2*(o-u));d=T*T+1,c=2*o*T-2*S*T-2*s,m=s*s+o*o+S*S-i*i-2*o*S,g=c*c-4*d*m,g===0?(x=-c/(2*d),e.push(new h(x,S-x*T))):g>0&&(x=(-c+Math.sqrt(g))/(2*d),e.push(new h(x,S-x*T)),x=(-c-Math.sqrt(g))/(2*d),e.push(new h(x,S-x*T)))}}return e};v.exports=a},97439:(v,y,t)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(4042),p=t(81491),a=function(n,r,e){if(e===void 0&&(e=[]),p(n,r)){var s=r.getLineA(),o=r.getLineB(),i=r.getLineC(),l=r.getLineD();h(s,n,e),h(o,n,e),h(i,n,e),h(l,n,e)}return e};v.exports=a},4042:(v,y,t)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(2141),p=t(80462),a=function(n,r,e){if(e===void 0&&(e=[]),p(n,r)){var s=n.x1,o=n.y1,i=n.x2,l=n.y2,u=r.x,f=r.y,d=r.radius,c=i-s,m=l-o,g=s-u,x=o-f,T=c*c+m*m,S=2*(c*g+m*x),P=g*g+x*x-d*d,L=S*S-4*T*P,I,O;if(L===0){var M=-S/(2*T);I=s+M*c,O=o+M*m,M>=0&&M<=1&&e.push(new h(I,O))}else if(L>0){var w=(-S-Math.sqrt(L))/(2*T);I=s+w*c,O=o+w*m,w>=0&&w<=1&&e.push(new h(I,O));var D=(-S+Math.sqrt(L))/(2*T);I=s+D*c,O=o+D*m,D>=0&&D<=1&&e.push(new h(I,O))}}return e};v.exports=a},36100:(v,y,t)=>{/**
 * @author       Richard Davey
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(25836),p=function(a,n,r,e){r===void 0&&(r=!1);var s=a.x1,o=a.y1,i=a.x2,l=a.y2,u=n.x1,f=n.y1,d=n.x2,c=n.y2,m=i-s,g=l-o,x=d-u,T=c-f,S=m*T-g*x;if(S===0)return null;var P,L,I;if(r){if(P=(m*(f-o)+g*(s-u))/(x*g-T*m),m!==0)L=(u+x*P-s)/m;else if(g!==0)L=(f+T*P-o)/g;else return null;if(L<0||P<0||P>1)return null;I=L}else{if(P=((u-s)*T-(f-o)*x)/S,L=((o-f)*m-(s-u)*g)/S,P<0||P>1||L<0||L>1)return null;I=P}return e===void 0&&(e=new h),e.set(s+m*I,o+g*I,I)};v.exports=p},3073:(v,y,t)=>{/**
 * @author       Richard Davey
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(36100),p=t(23031),a=t(25836),n=new p,r=new a,e=function(s,o,i,l){i===void 0&&(i=!1),l===void 0&&(l=new a);var u=!1;l.set(),r.set();for(var f=o[o.length-1],d=0;d<o.length;d++){var c=o[d];n.setTo(f.x,f.y,c.x,c.y),f=c,h(s,n,i,r)&&(!u||r.z<l.z)&&(l.copy(r),u=!0)}return u?l:null};v.exports=e},56362:(v,y,t)=>{/**
 * @author       Richard Davey
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(25836),p=t(61369),a=t(3073),n=new h,r=function(e,s,o,i){i===void 0&&(i=new p),Array.isArray(s)||(s=[s]);var l=!1;i.set(),n.set();for(var u=0;u<s.length;u++)a(e,s[u].points,o,n)&&(!l||n.z<i.z)&&(i.set(n.x,n.y,n.z,u),l=!0);return l?i:null};v.exports=r},60646:(v,y,t)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(2141),p=t(76112),a=t(92773),n=function(r,e,s){if(s===void 0&&(s=[]),a(r,e))for(var o=e.getLineA(),i=e.getLineB(),l=e.getLineC(),u=e.getLineD(),f=[new h,new h,new h,new h],d=[p(o,r,f[0]),p(i,r,f[1]),p(l,r,f[2]),p(u,r,f[3])],c=0;c<4;c++)d[c]&&s.push(f[c]);return s};v.exports=n},71147:(v,y,t)=>{/**
 * @author       Richard Davey
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(61369),p=t(56362),a=t(23031),n=new a;function r(o,i,l,u,f){var d=Math.cos(o),c=Math.sin(o);n.setTo(i,l,i+d,l+c);var m=p(n,u,!0);m&&f.push(new h(m.x,m.y,o,m.w))}function e(o,i){return o.z-i.z}var s=function(o,i,l){Array.isArray(l)||(l=[l]);for(var u=[],f=[],d=0;d<l.length;d++)for(var c=l[d].points,m=0;m<c.length;m++){var g=Math.atan2(c[m].y-i,c[m].x-o);f.indexOf(g)===-1&&(r(g,o,i,l,u),r(g-1e-5,o,i,l,u),r(g+1e-5,o,i,l,u),f.push(g))}return u.sort(e)};v.exports=s},68389:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(87841),p=t(59996),a=function(n,r,e){return e===void 0&&(e=new h),p(n,r)&&(e.x=Math.max(n.x,r.x),e.y=Math.max(n.y,r.y),e.width=Math.min(n.right,r.right)-e.x,e.height=Math.min(n.bottom,r.bottom)-e.y),e};v.exports=a},52784:(v,y,t)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(60646),p=t(59996),a=function(n,r,e){if(e===void 0&&(e=[]),p(n,r)){var s=n.getLineA(),o=n.getLineB(),i=n.getLineC(),l=n.getLineD();h(s,r,e),h(o,r,e),h(i,r,e),h(l,r,e)}return e};v.exports=a},26341:(v,y,t)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(89265),p=t(60646),a=function(n,r,e){if(e===void 0&&(e=[]),h(n,r)){var s=r.getLineA(),o=r.getLineB(),i=r.getLineC();p(s,n,e),p(o,n,e),p(i,n,e)}return e};v.exports=a},38720:(v,y,t)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(4042),p=t(67636),a=function(n,r,e){if(e===void 0&&(e=[]),p(n,r)){var s=n.getLineA(),o=n.getLineB(),i=n.getLineC();h(s,r,e),h(o,r,e),h(i,r,e)}return e};v.exports=a},13882:(v,y,t)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(2141),p=t(2822),a=t(76112),n=function(r,e,s){if(s===void 0&&(s=[]),p(r,e))for(var o=r.getLineA(),i=r.getLineB(),l=r.getLineC(),u=[new h,new h,new h],f=[a(o,e,u[0]),a(i,e,u[1]),a(l,e,u[2])],d=0;d<3;d++)f[d]&&s.push(u[d]);return s};v.exports=n},75636:(v,y,t)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(82944),p=t(13882),a=function(n,r,e){if(e===void 0&&(e=[]),h(n,r)){var s=r.getLineA(),o=r.getLineB(),i=r.getLineC();p(n,s,e),p(n,o,e),p(n,i,e)}return e};v.exports=a},80462:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(87902),p=t(2141),a=new p,n=function(r,e,s){if(s===void 0&&(s=a),h(e,r.x1,r.y1))return s.x=r.x1,s.y=r.y1,!0;if(h(e,r.x2,r.y2))return s.x=r.x2,s.y=r.y2,!0;var o=r.x2-r.x1,i=r.y2-r.y1,l=e.x-r.x1,u=e.y-r.y1,f=o*o+i*i,d=o,c=i;if(f>0){var m=(l*o+u*i)/f;d*=m,c*=m}s.x=r.x1+d,s.y=r.y1+c;var g=d*d+c*c;return g<=f&&d*o+c*i>=0&&h(e,s.x,s.y)};v.exports=n},76112:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,h,p){var a=t.x1,n=t.y1,r=t.x2,e=t.y2,s=h.x1,o=h.y1,i=h.x2,l=h.y2;if(a===r&&n===e||s===i&&o===l)return!1;var u=(l-o)*(r-a)-(i-s)*(e-n);if(u===0)return!1;var f=((i-s)*(n-o)-(l-o)*(a-s))/u,d=((r-a)*(n-o)-(e-n)*(a-s))/u;return f<0||f>1||d<0||d>1?!1:(p&&(p.x=a+f*(r-a),p.y=n+f*(e-n)),!0)};v.exports=y},92773:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,h){var p=t.x1,a=t.y1,n=t.x2,r=t.y2,e=h.x,s=h.y,o=h.right,i=h.bottom,l=0;if(p>=e&&p<=o&&a>=s&&a<=i||n>=e&&n<=o&&r>=s&&r<=i)return!0;if(p<e&&n>=e){if(l=a+(r-a)*(e-p)/(n-p),l>s&&l<=i)return!0}else if(p>o&&n<=o&&(l=a+(r-a)*(o-p)/(n-p),l>=s&&l<=i))return!0;if(a<s&&r>=s){if(l=p+(n-p)*(s-a)/(r-a),l>=e&&l<=o)return!0}else if(a>i&&r<=i&&(l=p+(n-p)*(i-a)/(r-a),l>=e&&l<=o))return!0;return!1};v.exports=y},16204:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Florian Mertens
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,h,p){p===void 0&&(p=1);var a=h.x1,n=h.y1,r=h.x2,e=h.y2,s=t.x,o=t.y,i=(r-a)*(r-a)+(e-n)*(e-n);if(i===0)return!1;var l=((s-a)*(r-a)+(o-n)*(e-n))/i;if(l<0)return Math.sqrt((a-s)*(a-s)+(n-o)*(n-o))<=p;if(l>=0&&l<=1){var u=((n-o)*(r-a)-(a-s)*(e-n))/i;return Math.abs(u)*Math.sqrt(i)<=p}else return Math.sqrt((r-s)*(r-s)+(e-o)*(e-o))<=p};v.exports=y},14199:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(16204),p=function(a,n){if(!h(a,n))return!1;var r=Math.min(n.x1,n.x2),e=Math.max(n.x1,n.x2),s=Math.min(n.y1,n.y2),o=Math.max(n.y1,n.y2);return a.x>=r&&a.x<=e&&a.y>=s&&a.y<=o};v.exports=p},59996:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,h){return t.width<=0||t.height<=0||h.width<=0||h.height<=0?!1:!(t.right<h.x||t.bottom<h.y||t.x>h.right||t.y>h.bottom)};v.exports=y},89265:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(76112),p=t(37303),a=t(48653),n=t(77493),r=function(e,s){if(s.left>e.right||s.right<e.left||s.top>e.bottom||s.bottom<e.top)return!1;var o=s.getLineA(),i=s.getLineB(),l=s.getLineC();if(p(e,o.x1,o.y1)||p(e,o.x2,o.y2)||p(e,i.x1,i.y1)||p(e,i.x2,i.y2)||p(e,l.x1,l.y1)||p(e,l.x2,l.y2))return!0;var u=e.getLineA(),f=e.getLineB(),d=e.getLineC(),c=e.getLineD();if(h(o,u)||h(o,f)||h(o,d)||h(o,c)||h(i,u)||h(i,f)||h(i,d)||h(i,c)||h(l,u)||h(l,f)||h(l,d)||h(l,c))return!0;var m=n(e),g=a(s,m,!0);return g.length>0};v.exports=r},84411:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,h,p,a,n,r){return r===void 0&&(r=0),!(h>t.right+r||p<t.left-r||a>t.bottom+r||n<t.top-r)};v.exports=y},67636:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(80462),p=t(10690),a=function(n,r){return n.left>r.right||n.right<r.left||n.top>r.bottom||n.bottom<r.top?!1:!!(p(n,r.x,r.y)||h(n.getLineA(),r)||h(n.getLineB(),r)||h(n.getLineC(),r))};v.exports=a},2822:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(76112),p=function(a,n){return!!(a.contains(n.x1,n.y1)||a.contains(n.x2,n.y2)||h(a.getLineA(),n)||h(a.getLineB(),n)||h(a.getLineC(),n))};v.exports=p},82944:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(48653),p=t(71694),a=t(76112),n=function(r,e){if(r.left>e.right||r.right<e.left||r.top>e.bottom||r.bottom<e.top)return!1;var s=r.getLineA(),o=r.getLineB(),i=r.getLineC(),l=e.getLineA(),u=e.getLineB(),f=e.getLineC();if(a(s,l)||a(s,u)||a(s,f)||a(o,l)||a(o,u)||a(o,f)||a(i,l)||a(i,u)||a(i,f))return!0;var d=p(r),c=h(e,d,!0);return c.length>0||(d=p(e),c=h(r,d,!0),c.length>0)};v.exports=n},91865:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={CircleToCircle:t(2044),CircleToRectangle:t(81491),GetCircleToCircle:t(63376),GetCircleToRectangle:t(97439),GetLineToCircle:t(4042),GetLineToLine:t(36100),GetLineToPoints:t(3073),GetLineToPolygon:t(56362),GetLineToRectangle:t(60646),GetRaysFromPointToPolygon:t(71147),GetRectangleIntersection:t(68389),GetRectangleToRectangle:t(52784),GetRectangleToTriangle:t(26341),GetTriangleToCircle:t(38720),GetTriangleToLine:t(13882),GetTriangleToTriangle:t(75636),LineToCircle:t(80462),LineToLine:t(76112),LineToRectangle:t(92773),PointToLine:t(16204),PointToLineSegment:t(14199),RectangleToRectangle:t(59996),RectangleToTriangle:t(89265),RectangleToValues:t(84411),TriangleToCircle:t(67636),TriangleToLine:t(2822),TriangleToTriangle:t(82944)}},91938:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){return Math.atan2(t.y2-t.y1,t.x2-t.x1)};v.exports=y},84993:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,h,p){h===void 0&&(h=1),p===void 0&&(p=[]);var a=Math.round(t.x1),n=Math.round(t.y1),r=Math.round(t.x2),e=Math.round(t.y2),s=Math.abs(r-a),o=Math.abs(e-n),i=a<r?1:-1,l=n<e?1:-1,u=s-o;p.push({x:a,y:n});for(var f=1;!(a===r&&n===e);){var d=u<<1;d>-o&&(u-=o,a+=i),d<s&&(u+=s,n+=l),f%h===0&&p.push({x:a,y:n}),f++}return p};v.exports=y},36469:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,h,p){var a=h-(t.x1+t.x2)/2,n=p-(t.y1+t.y2)/2;return t.x1+=a,t.y1+=n,t.x2+=a,t.y2+=n,t};v.exports=y},31116:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(23031),p=function(a){return new h(a.x1,a.y1,a.x2,a.y2)};v.exports=p},59944:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,h){return h.setTo(t.x1,t.y1,t.x2,t.y2)};v.exports=y},59220:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,h){return t.x1===h.x1&&t.y1===h.y1&&t.x2===h.x2&&t.y2===h.y2};v.exports=y},78177:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(35001),p=function(a,n,r){r===void 0&&(r=n);var e=h(a),s=a.x2-a.x1,o=a.y2-a.y1;return n&&(a.x1=a.x1-s/e*n,a.y1=a.y1-o/e*n),r&&(a.x2=a.x2+s/e*r,a.y2=a.y2+o/e*r),a};v.exports=p},26708:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(52816),p=t(6113),a=t(2141),n=function(r,e,s,o,i){o===void 0&&(o=0),i===void 0&&(i=[]);var l=[],u=r.x1,f=r.y1,d=r.x2-u,c=r.y2-f,m=p(e,i),g,x,T=s-1;for(g=0;g<T;g++)x=m(g/T),l.push(new a(u+d*x,f+c*x));if(x=m(1),l.push(new a(u+d*x,f+c*x)),o>0){var S=l[0],P=[S];for(g=1;g<l.length-1;g++){var L=l[g];h(S,L)>=o&&(P.push(L),S=L)}var I=l[l.length-1];return h(S,I)<o&&P.pop(),P.push(I),P}else return l};v.exports=n},32125:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(2141),p=function(a,n){return n===void 0&&(n=new h),n.x=(a.x1+a.x2)/2,n.y=(a.y1+a.y2)/2,n};v.exports=p},99569:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Florian Mertens
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(2141),p=function(a,n,r){r===void 0&&(r=new h);var e=a.x1,s=a.y1,o=a.x2,i=a.y2,l=(o-e)*(o-e)+(i-s)*(i-s);if(l===0)return r;var u=((n.x-e)*(o-e)+(n.y-s)*(i-s))/l;return r.x=e+u*(o-e),r.y=s+u*(i-s),r};v.exports=p},34638:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(36383),p=t(91938),a=t(2141),n=function(r,e){e===void 0&&(e=new a);var s=p(r)-h.TAU;return e.x=Math.cos(s),e.y=Math.sin(s),e};v.exports=n},13151:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(2141),p=function(a,n,r){return r===void 0&&(r=new h),r.x=a.x1+(a.x2-a.x1)*n,r.y=a.y1+(a.y2-a.y1)*n,r};v.exports=p},15258:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(35001),p=t(2141),a=function(n,r,e,s){s===void 0&&(s=[]),!r&&e>0&&(r=h(n)/e);for(var o=n.x1,i=n.y1,l=n.x2,u=n.y2,f=0;f<r;f++){var d=f/r,c=o+(l-o)*d,m=i+(u-i)*d;s.push(new p(c,m))}return s};v.exports=a},26408:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Florian Mertens
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,h){var p=t.x1,a=t.y1,n=t.x2,r=t.y2,e=(n-p)*(n-p)+(r-a)*(r-a);if(e===0)return!1;var s=((a-h.y)*(n-p)-(p-h.x)*(r-a))/e;return Math.abs(s)*Math.sqrt(e)};v.exports=y},98770:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){return Math.abs(t.y1-t.y2)};v.exports=y},35001:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){return Math.sqrt((t.x2-t.x1)*(t.x2-t.x1)+(t.y2-t.y1)*(t.y2-t.y1))};v.exports=y},23031:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),p=t(13151),a=t(15258),n=t(23777),r=t(65822),e=t(26099),s=new h({initialize:function(i,l,u,f){i===void 0&&(i=0),l===void 0&&(l=0),u===void 0&&(u=0),f===void 0&&(f=0),this.type=n.LINE,this.x1=i,this.y1=l,this.x2=u,this.y2=f},getPoint:function(o,i){return p(this,o,i)},getPoints:function(o,i,l){return a(this,o,i,l)},getRandomPoint:function(o){return r(this,o)},setTo:function(o,i,l,u){return o===void 0&&(o=0),i===void 0&&(i=0),l===void 0&&(l=0),u===void 0&&(u=0),this.x1=o,this.y1=i,this.x2=l,this.y2=u,this},setFromObjects:function(o,i){return this.x1=o.x,this.y1=o.y,this.x2=i.x,this.y2=i.y,this},getPointA:function(o){return o===void 0&&(o=new e),o.set(this.x1,this.y1),o},getPointB:function(o){return o===void 0&&(o=new e),o.set(this.x2,this.y2),o},left:{get:function(){return Math.min(this.x1,this.x2)},set:function(o){this.x1<=this.x2?this.x1=o:this.x2=o}},right:{get:function(){return Math.max(this.x1,this.x2)},set:function(o){this.x1>this.x2?this.x1=o:this.x2=o}},top:{get:function(){return Math.min(this.y1,this.y2)},set:function(o){this.y1<=this.y2?this.y1=o:this.y2=o}},bottom:{get:function(){return Math.max(this.y1,this.y2)},set:function(o){this.y1>this.y2?this.y1=o:this.y2=o}}});v.exports=s},64795:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(36383),p=t(15994),a=t(91938),n=function(r){var e=a(r)-h.TAU;return p(e,-Math.PI,Math.PI)};v.exports=n},52616:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(36383),p=t(91938),a=function(n){return Math.cos(p(n)-h.TAU)};v.exports=a},87231:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(36383),p=t(91938),a=function(n){return Math.sin(p(n)-h.TAU)};v.exports=a},89662:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,h,p){return t.x1+=h,t.y1+=p,t.x2+=h,t.y2+=p,t};v.exports=y},71165:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){return-((t.x2-t.x1)/(t.y2-t.y1))};v.exports=y},65822:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(2141),p=function(a,n){n===void 0&&(n=new h);var r=Math.random();return n.x=a.x1+r*(a.x2-a.x1),n.y=a.y1+r*(a.y2-a.y1),n};v.exports=p},69777:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(91938),p=t(64795),a=function(n,r){return 2*p(r)-Math.PI-h(n)};v.exports=a},39706:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(64400),p=function(a,n){var r=(a.x1+a.x2)/2,e=(a.y1+a.y2)/2;return h(a,r,e,n)};v.exports=p},82585:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(64400),p=function(a,n,r){return h(a,n.x,n.y,r)};v.exports=p},64400:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,h,p,a){var n=Math.cos(a),r=Math.sin(a),e=t.x1-h,s=t.y1-p;return t.x1=e*n-s*r+h,t.y1=e*r+s*n+p,e=t.x2-h,s=t.y2-p,t.x2=e*n-s*r+h,t.y2=e*r+s*n+p,t};v.exports=y},62377:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,h,p,a,n){return t.x1=h,t.y1=p,t.x2=h+Math.cos(a)*n,t.y2=p+Math.sin(a)*n,t};v.exports=y},71366:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){return(t.y2-t.y1)/(t.x2-t.x1)};v.exports=y},10809:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){return Math.abs(t.x1-t.x2)};v.exports=y},2529:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(23031);h.Angle=t(91938),h.BresenhamPoints=t(84993),h.CenterOn=t(36469),h.Clone=t(31116),h.CopyFrom=t(59944),h.Equals=t(59220),h.Extend=t(78177),h.GetEasedPoints=t(26708),h.GetMidPoint=t(32125),h.GetNearestPoint=t(99569),h.GetNormal=t(34638),h.GetPoint=t(13151),h.GetPoints=t(15258),h.GetShortestDistance=t(26408),h.Height=t(98770),h.Length=t(35001),h.NormalAngle=t(64795),h.NormalX=t(52616),h.NormalY=t(87231),h.Offset=t(89662),h.PerpSlope=t(71165),h.Random=t(65822),h.ReflectAngle=t(69777),h.Rotate=t(39706),h.RotateAroundPoint=t(82585),h.RotateAroundXY=t(64400),h.SetToAngle=t(62377),h.Slope=t(71366),h.Width=t(10809),v.exports=h},83997:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),p=t(87841),a=t(26099);function n(e,s,o,i){var l=e-o,u=s-i,f=l*l+u*u;return Math.sqrt(f)}var r=new h({initialize:function(s,o,i){this.vertex1=s,this.vertex2=o,this.vertex3=i,this.bounds=new p,this._inCenter=new a},getInCenter:function(e){e===void 0&&(e=!0);var s=this.vertex1,o=this.vertex2,i=this.vertex3,l,u,f,d,c,m;e?(l=s.x,u=s.y,f=o.x,d=o.y,c=i.x,m=i.y):(l=s.vx,u=s.vy,f=o.vx,d=o.vy,c=i.vx,m=i.vy);var g=n(c,m,f,d),x=n(l,u,c,m),T=n(f,d,l,u),S=g+x+T;return this._inCenter.set((l*g+f*x+c*T)/S,(u*g+d*x+m*T)/S)},contains:function(e,s,o){var i=this.vertex1,l=this.vertex2,u=this.vertex3,f=i.vx,d=i.vy,c=l.vx,m=l.vy,g=u.vx,x=u.vy;if(o){var T=o.a,S=o.b,P=o.c,L=o.d,I=o.e,O=o.f;f=i.vx*T+i.vy*P+I,d=i.vx*S+i.vy*L+O,c=l.vx*T+l.vy*P+I,m=l.vx*S+l.vy*L+O,g=u.vx*T+u.vy*P+I,x=u.vx*S+u.vy*L+O}var M=g-f,w=x-d,D=c-f,U=m-d,Y=e-f,H=s-d,X=M*M+w*w,G=M*D+w*U,z=M*Y+w*H,b=D*D+U*U,N=D*Y+U*H,W=X*b-G*G,K=W===0?0:1/W,J=(b*z-G*N)*K,j=(X*N-G*z)*K;return J>=0&&j>=0&&J+j<1},isCounterClockwise:function(e){var s=this.vertex1,o=this.vertex2,i=this.vertex3,l=(o.vx-s.vx)*(i.vy-s.vy)-(o.vy-s.vy)*(i.vx-s.vx);return e<=0?l>=0:l<0},load:function(e,s,o,i,l){return o=this.vertex1.load(e,s,o,i,l),o=this.vertex2.load(e,s,o,i,l),o=this.vertex3.load(e,s,o,i,l),o},transformCoordinatesLocal:function(e,s,o,i){return this.vertex1.transformCoordinatesLocal(e,s,o,i),this.vertex2.transformCoordinatesLocal(e,s,o,i),this.vertex3.transformCoordinatesLocal(e,s,o,i),this},updateBounds:function(){var e=this.vertex1,s=this.vertex2,o=this.vertex3,i=this.bounds;return i.x=Math.min(e.vx,s.vx,o.vx),i.y=Math.min(e.vy,s.vy,o.vy),i.width=Math.max(e.vx,s.vx,o.vx)-i.x,i.height=Math.max(e.vy,s.vy,o.vy)-i.y,this},isInView:function(e,s,o,i,l,u,f,d,c,m,g){this.update(i,l,u,f,d,c,m,g);var x=this.vertex1,T=this.vertex2,S=this.vertex3;if(x.ta<=0&&T.ta<=0&&S.ta<=0||s&&!this.isCounterClockwise(o))return!1;var P=this.bounds;P.x=Math.min(x.tx,T.tx,S.tx),P.y=Math.min(x.ty,T.ty,S.ty),P.width=Math.max(x.tx,T.tx,S.tx)-P.x,P.height=Math.max(x.ty,T.ty,S.ty)-P.y;var L=e.x+e.width,I=e.y+e.height;return P.width<=0||P.height<=0||e.width<=0||e.height<=0?!1:!(P.right<e.x||P.bottom<e.y||P.x>L||P.y>I)},scrollUV:function(e,s){return this.vertex1.scrollUV(e,s),this.vertex2.scrollUV(e,s),this.vertex3.scrollUV(e,s),this},scaleUV:function(e,s){return this.vertex1.scaleUV(e,s),this.vertex2.scaleUV(e,s),this.vertex3.scaleUV(e,s),this},setColor:function(e){return this.vertex1.color=e,this.vertex2.color=e,this.vertex3.color=e,this},update:function(e,s,o,i,l,u,f,d){return this.vertex1.update(s,o,i,l,u,f,d,e),this.vertex2.update(s,o,i,l,u,f,d,e),this.vertex3.update(s,o,i,l,u,f,d,e),this},translate:function(e,s){s===void 0&&(s=0);var o=this.vertex1,i=this.vertex2,l=this.vertex3;return o.x+=e,o.y+=s,i.x+=e,i.y+=s,l.x+=e,l.y+=s,this},x:{get:function(){return this.getInCenter().x},set:function(e){var s=this.getInCenter();this.translate(e-s.x,0)}},y:{get:function(){return this.getInCenter().y},set:function(e){var s=this.getInCenter();this.translate(0,e-s.y)}},alpha:{get:function(){var e=this.vertex1,s=this.vertex2,o=this.vertex3;return(e.alpha+s.alpha+o.alpha)/3},set:function(e){this.vertex1.alpha=e,this.vertex2.alpha=e,this.vertex3.alpha=e}},depth:{get:function(){var e=this.vertex1,s=this.vertex2,o=this.vertex3;return(e.vz+s.vz+o.vz)/3}},destroy:function(){this.vertex1=null,this.vertex2=null,this.vertex3=null}});v.exports=r},48803:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83997),p=t(95540),a=t(37867),n=t(25836),r=t(39318),e=new n,s=new n,o=new a,i=function(l){var u=p(l,"mesh"),f=p(l,"texture",null),d=p(l,"frame"),c=p(l,"width",1),m=p(l,"height",c),g=p(l,"widthSegments",1),x=p(l,"heightSegments",g),T=p(l,"x",0),S=p(l,"y",0),P=p(l,"z",0),L=p(l,"rotateX",0),I=p(l,"rotateY",0),O=p(l,"rotateZ",0),M=p(l,"zIsUp",!0),w=p(l,"isOrtho",u?u.dirtyCache[11]:!1),D=p(l,"colors",[16777215]),U=p(l,"alphas",[1]),Y=p(l,"tile",!1),H=p(l,"flipY",!1),X=p(l,"width",null),G={faces:[],verts:[]};e.set(T,S,P),s.set(L,I,O),o.fromRotationXYTranslation(s,e,M);var z;if(!f&&u)f=u.texture,d||(z=u.frame);else if(u&&typeof f=="string")f=u.scene.sys.textures.get(f);else if(!f)return G;z||(z=f.get(d)),!X&&w&&f&&u&&(c=z.width/u.height,m=z.height/u.height);var b=c/2,N=m/2,W=Math.floor(g),K=Math.floor(x),J=W+1,j=K+1,Z=c/W,q=m/K,_=[],tt=[],et,ot,it=0,lt=1,vt=0,xt=1;z&&(it=z.u0,lt=z.u1,H?(vt=z.v1,xt=z.v0):(vt=z.v0,xt=z.v1));var yt=lt-it,nt=xt-vt;for(ot=0;ot<j;ot++){var dt=ot*q-N;for(et=0;et<J;et++){var ct=et*Z-b;tt.push(ct,-dt);var Rt=it+yt*(et/W),It=vt+nt*(ot/K);_.push(Rt,It)}}Array.isArray(D)||(D=[D]),Array.isArray(U)||(U=[U]);var ne=0,ee=0;for(ot=0;ot<K;ot++)for(et=0;et<W;et++){var le=(et+J*ot)*2,Zt=(et+J*(ot+1))*2,fe=(et+1+J*(ot+1))*2,Gt=(et+1+J*ot)*2,de=D[ee],ae=U[ne],me=new r(tt[le],tt[le+1],0,_[le],_[le+1],de,ae).transformMat4(o),Ke=new r(tt[Zt],tt[Zt+1],0,_[Zt],_[Zt+1],de,ae).transformMat4(o),Je=new r(tt[Gt],tt[Gt+1],0,_[Gt],_[Gt+1],de,ae).transformMat4(o),ce=new r(tt[Zt],tt[Zt+1],0,_[Zt],_[Zt+1],de,ae).transformMat4(o),ie=new r(tt[fe],tt[fe+1],0,_[fe],_[fe+1],de,ae).transformMat4(o),Ne=new r(tt[Gt],tt[Gt+1],0,_[Gt],_[Gt+1],de,ae).transformMat4(o);Y&&(me.setUVs(it,xt),Ke.setUVs(it,vt),Je.setUVs(lt,xt),ce.setUVs(it,vt),ie.setUVs(lt,vt),Ne.setUVs(lt,xt)),ee++,ee===D.length&&(ee=0),ne++,ne===U.length&&(ne=0),G.verts.push(me,Ke,Je,ce,ie,Ne),G.faces.push(new h(me,Ke,Je),new h(ce,ie,Ne))}return u&&(u.faces=u.faces.concat(G.faces),u.vertices=u.vertices.concat(G.verts)),G};v.exports=i},34684:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83997),p=t(37867),a=t(25836),n=t(39318),r=new a,e=new a,s=new p,o=function(i,l,u,f,d,c,m,g,x,T){u===void 0&&(u=1),f===void 0&&(f=0),d===void 0&&(d=0),c===void 0&&(c=0),m===void 0&&(m=0),g===void 0&&(g=0),x===void 0&&(x=0),T===void 0&&(T=!0);var S={faces:[],verts:[]},P=i.materials;r.set(f,d,c),e.set(m,g,x),s.fromRotationXYTranslation(e,r,T);for(var L=0;L<i.models.length;L++)for(var I=i.models[L],O=I.vertices,M=I.textureCoords,w=I.faces,D=0;D<w.length;D++){var U=w[D],Y=U.vertices[0],H=U.vertices[1],X=U.vertices[2],G=O[Y.vertexIndex],z=O[H.vertexIndex],b=O[X.vertexIndex],N=Y.textureCoordsIndex,W=H.textureCoordsIndex,K=X.textureCoordsIndex,J=N===-1?{u:0,v:1}:M[N],j=W===-1?{u:0,v:0}:M[W],Z=K===-1?{u:1,v:1}:M[K],q=16777215;U.material!==""&&P[U.material]&&(q=P[U.material]);var _=new n(G.x*u,G.y*u,G.z*u,J.u,J.v,q).transformMat4(s),tt=new n(z.x*u,z.y*u,z.z*u,j.u,j.v,q).transformMat4(s),et=new n(b.x*u,b.y*u,b.z*u,Z.u,Z.v,q).transformMat4(s);S.verts.push(_,tt,et),S.faces.push(new h(_,tt,et))}return l&&(l.faces=l.faces.concat(S.faces),l.vertices=l.vertices.concat(S.verts)),S};v.exports=o},92515:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83997),p=t(39318),a=function(n,r,e,s,o,i,l,u){if(s===void 0&&(s=!1),i===void 0&&(i=16777215),l===void 0&&(l=1),u===void 0&&(u=!1),n.length!==r.length&&!s){console.warn("GenerateVerts: vertices and uvs count not equal");return}var f={faces:[],vertices:[]},d,c,m,g,x,T,S,P,L,I,O,M=s?3:2,w=Array.isArray(i),D=Array.isArray(l);if(Array.isArray(e)&&e.length>0)for(d=0;d<e.length;d++){var U=e[d],Y=e[d]*2,H=e[d]*M;c=n[H],m=n[H+1],g=s?n[H+2]:0,x=r[Y],T=r[Y+1],u&&(T=1-T),S=w?i[U]:i,P=D?l[U]:l,L=0,I=0,O=0,o&&(L=o[H],I=o[H+1],O=s?o[H+2]:0),f.vertices.push(new p(c,m,g,x,T,S,P,L,I,O))}else{var X=0,G=0;for(d=0;d<n.length;d+=M)c=n[d],m=n[d+1],g=s?n[d+2]:0,x=r[X],T=r[X+1],S=w?i[G]:i,P=D?l[G]:l,L=0,I=0,O=0,o&&(L=o[d],I=o[d+1],O=s?o[d+2]:0),f.vertices.push(new p(c,m,g,x,T,S,P,L,I,O)),X+=2,G++}for(d=0;d<f.vertices.length;d+=3){var z=f.vertices[d],b=f.vertices[d+1],N=f.vertices[d+2];f.faces.push(new h(z,b,N))}return f};v.exports=a},85048:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=!0,t="untitled",h="",p="";function a(c){var m=c.indexOf("#");return m>-1?c.substring(0,m):c}function n(c){return c.models.length===0&&c.models.push({faces:[],name:t,textureCoords:[],vertexNormals:[],vertices:[]}),h="",c.models[c.models.length-1]}function r(c,m){var g=c.length>=2?c[1]:t;m.models.push({faces:[],name:g,textureCoords:[],vertexNormals:[],vertices:[]}),h=""}function e(c){c.length===2&&(h=c[1])}function s(c,m){var g=c.length,x=g>=2?parseFloat(c[1]):0,T=g>=3?parseFloat(c[2]):0,S=g>=4?parseFloat(c[3]):0;n(m).vertices.push({x,y:T,z:S})}function o(c,m){var g=c.length,x=g>=2?parseFloat(c[1]):0,T=g>=3?parseFloat(c[2]):0,S=g>=4?parseFloat(c[3]):0;isNaN(x)&&(x=0),isNaN(T)&&(T=0),isNaN(S)&&(S=0),y&&(T=1-T),n(m).textureCoords.push({u:x,v:T,w:S})}function i(c,m){var g=c.length,x=g>=2?parseFloat(c[1]):0,T=g>=3?parseFloat(c[2]):0,S=g>=4?parseFloat(c[3]):0;n(m).vertexNormals.push({x,y:T,z:S})}function l(c,m){var g=c.length-1;if(!(g<3)){for(var x={group:h,material:p,vertices:[]},T=0;T<g;T++){var S=c[T+1],P=S.split("/"),L=P.length;if(!(L<1||L>3)){var I=0,O=0,M=0;I=parseInt(P[0],10),L>1&&P[1]!==""&&(O=parseInt(P[1],10)),L>2&&(M=parseInt(P[2],10)),I!==0&&(I<0&&(I=n(m).vertices.length+1+I),O-=1,I-=1,M-=1,x.vertices.push({textureCoordsIndex:O,vertexIndex:I,vertexNormalIndex:M}))}}n(m).faces.push(x)}}function u(c,m){c.length>=2&&m.materialLibraries.push(c[1])}function f(c){c.length>=2&&(p=c[1])}var d=function(c,m){m===void 0&&(m=!0),y=m;var g={materials:{},materialLibraries:[],models:[]};h="",p="";for(var x=c.split(`
`),T=0;T<x.length;T++){var S=a(x[T]),P=S.replace(/\s\s+/g," ").trim().split(" ");switch(P[0].toLowerCase()){case"o":r(P,g);break;case"g":e(P);break;case"v":s(P,g);break;case"vt":o(P,g);break;case"vn":i(P,g);break;case"f":l(P,g);break;case"mtllib":u(P,g);break;case"usemtl":f(P);break}}return g};v.exports=d},61485:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(37589),p=function(a){for(var n={},r=a.split(`
`),e="",s=0;s<r.length;s++){var o=r[s].trim();if(!(o.indexOf("#")===0||o==="")){var i=o.replace(/\s\s+/g," ").trim().split(" ");switch(i[0].toLowerCase()){case"newmtl":{e=i[1];break}case"kd":{var l=Math.floor(i[1]*255),u=i.length>=2?Math.floor(i[2]*255):l,f=i.length>=3?Math.floor(i[3]*255):l;n[e]=h(l,u,f);break}}}}return n};v.exports=p},92570:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,h,p,a){var n,r;if(p===void 0&&a===void 0){var e=t.getInCenter();n=e.x,r=e.y}var s=Math.cos(h),o=Math.sin(h),i=t.vertex1,l=t.vertex2,u=t.vertex3,f=i.x-n,d=i.y-r;i.set(f*s-d*o+n,f*o+d*s+r),f=l.x-n,d=l.y-r,l.set(f*s-d*o+n,f*o+d*s+r),f=u.x-n,d=u.y-r,u.set(f*s-d*o+n,f*o+d*s+r)};v.exports=y},39318:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),p=t(70554),a=t(25836),n=new h({Extends:a,initialize:function(e,s,o,i,l,u,f,d,c,m){u===void 0&&(u=16777215),f===void 0&&(f=1),d===void 0&&(d=0),c===void 0&&(c=0),m===void 0&&(m=0),a.call(this,e,s,o),this.vx=0,this.vy=0,this.vz=0,this.nx=d,this.ny=c,this.nz=m,this.u=i,this.v=l,this.color=u,this.alpha=f,this.tx=0,this.ty=0,this.ta=0,this.tu=i,this.tv=l},setUVs:function(r,e){return this.u=r,this.v=e,this.tu=r,this.tv=e,this},scrollUV:function(r,e){return this.tu+=r,this.tv+=e,this},scaleUV:function(r,e){return this.tu=this.u*r,this.tv=this.v*e,this},transformCoordinatesLocal:function(r,e,s,o){var i=this.x,l=this.y,u=this.z,f=r.val,d=i*f[0]+l*f[4]+u*f[8]+f[12],c=i*f[1]+l*f[5]+u*f[9]+f[13],m=i*f[2]+l*f[6]+u*f[10]+f[14],g=i*f[3]+l*f[7]+u*f[11]+f[15];this.vx=d/g*e,this.vy=-(c/g)*s,o<=0?this.vz=m/g:this.vz=-(m/g)},resize:function(r,e,s,o,i,l){return this.x=r,this.y=e,this.vx=this.x*s,this.vy=-this.y*o,this.vz=0,i<.5?this.vx+=s*(.5-i):i>.5&&(this.vx-=s*(i-.5)),l<.5?this.vy+=o*(.5-l):l>.5&&(this.vy-=o*(l-.5)),this},update:function(r,e,s,o,i,l,u,f){var d=this.vx*r+this.vy*s+i,c=this.vx*e+this.vy*o+l;return u&&(d=Math.round(d),c=Math.round(c)),this.tx=d,this.ty=c,this.ta=this.alpha*f,this},load:function(r,e,s,o,i){return r[++s]=this.tx,r[++s]=this.ty,r[++s]=this.tu,r[++s]=this.tv,r[++s]=o,r[++s]=i,e[++s]=p.getTintAppendFloatAlpha(this.color,this.ta),s}});v.exports=n},73090:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h={Face:t(83997),GenerateGridVerts:t(48803),GenerateObjVerts:t(34684),GenerateVerts:t(92515),ParseObj:t(85048),ParseObjMaterial:t(61485),RotateFace:t(92570),Vertex:t(39318)};v.exports=h},96550:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){return t.setTo(Math.ceil(t.x),Math.ceil(t.y))};v.exports=y},99706:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(2141),p=function(a){return new h(a.x,a.y)};v.exports=p},68010:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,h){return h.setTo(t.x,t.y)};v.exports=y},27814:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,h){return t.x===h.x&&t.y===h.y};v.exports=y},73565:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){return t.setTo(Math.floor(t.x),Math.floor(t.y))};v.exports=y},87555:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(2141),p=function(a,n){if(n===void 0&&(n=new h),!Array.isArray(a))throw new Error("GetCentroid points argument must be an array");var r=a.length;if(r<1)throw new Error("GetCentroid points array must not be empty");if(r===1)n.x=a[0].x,n.y=a[0].y;else{for(var e=0;e<r;e++)n.x+=a[e].x,n.y+=a[e].y;n.x/=r,n.y/=r}return n};v.exports=p},28793:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){return Math.sqrt(t.x*t.x+t.y*t.y)};v.exports=y},44405:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){return t.x*t.x+t.y*t.y};v.exports=y},20873:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(87841),p=function(a,n){n===void 0&&(n=new h);for(var r=Number.NEGATIVE_INFINITY,e=Number.POSITIVE_INFINITY,s=Number.NEGATIVE_INFINITY,o=Number.POSITIVE_INFINITY,i=0;i<a.length;i++){var l=a[i];l.x>r&&(r=l.x),l.x<e&&(e=l.x),l.y>s&&(s=l.y),l.y<o&&(o=l.y)}return n.x=e,n.y=o,n.width=r-e,n.height=s-o,n};v.exports=p},26152:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(2141),p=function(a,n,r,e){return r===void 0&&(r=0),e===void 0&&(e=new h),e.x=a.x+(n.x-a.x)*r,e.y=a.y+(n.y-a.y)*r,e};v.exports=p},55767:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){return t.setTo(t.y,t.x)};v.exports=y},79432:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(2141),p=function(a,n){return n===void 0&&(n=new h),n.setTo(-a.x,-a.y)};v.exports=p},2141:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),p=t(23777),a=new h({initialize:function(r,e){r===void 0&&(r=0),e===void 0&&(e=r),this.type=p.POINT,this.x=r,this.y=e},setTo:function(n,r){return n===void 0&&(n=0),r===void 0&&(r=n),this.x=n,this.y=r,this}});v.exports=a},72930:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(2141),p=t(44405),a=function(n,r,e){e===void 0&&(e=new h);var s=n.x*r.x+n.y*r.y,o=s/p(r);return o!==0&&(e.x=o*r.x,e.y=o*r.y),e};v.exports=a},62880:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(2141),p=function(a,n,r){r===void 0&&(r=new h);var e=a.x*n.x+a.y*n.y;return e!==0&&(r.x=e*n.x,r.y=e*n.y),r};v.exports=p},15093:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(28793),p=function(a,n){if(a.x!==0||a.y!==0){var r=h(a);a.x/=r,a.y/=r}return a.x*=n,a.y*=n,a};v.exports=p},43711:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(2141);h.Ceil=t(96550),h.Clone=t(99706),h.CopyFrom=t(68010),h.Equals=t(27814),h.Floor=t(73565),h.GetCentroid=t(87555),h.GetMagnitude=t(28793),h.GetMagnitudeSq=t(44405),h.GetRectangleFromPoints=t(20873),h.Interpolate=t(26152),h.Invert=t(55767),h.Negative=t(79432),h.Project=t(72930),h.ProjectUnit=t(62880),h.SetMagnitude=t(15093),v.exports=h},12306:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(25717),p=function(a){return new h(a.points)};v.exports=p},63814:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,h,p){for(var a=!1,n=-1,r=t.points.length-1;++n<t.points.length;r=n){var e=t.points[n].x,s=t.points[n].y,o=t.points[r].x,i=t.points[r].y;(s<=p&&p<i||i<=p&&p<s)&&h<(o-e)*(p-s)/(i-s)+e&&(a=!a)}return a};v.exports=y},99338:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(63814),p=function(a,n){return h(a,n.x,n.y)};v.exports=p},94811:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function y(G,z,b){b=b||2;var N=z&&z.length,W=N?z[0]*b:G.length,K=t(G,0,W,b,!0),J=[];if(!K||K.next===K.prev)return J;var j,Z,q,_,tt,et,ot;if(N&&(K=s(G,z,K,b)),G.length>80*b){j=q=G[0],Z=_=G[1];for(var it=b;it<W;it+=b)tt=G[it],et=G[it+1],tt<j&&(j=tt),et<Z&&(Z=et),tt>q&&(q=tt),et>_&&(_=et);ot=Math.max(q-j,_-Z),ot=ot!==0?32767/ot:0}return p(K,J,b,j,Z,ot,0),J}function t(G,z,b,N,W){var K,J;if(W===X(G,z,b,N)>0)for(K=z;K<b;K+=N)J=U(K,G[K],G[K+1],J);else for(K=b-N;K>=z;K-=N)J=U(K,G[K],G[K+1],J);return J&&S(J,J.next)&&(Y(J),J=J.next),J}function h(G,z){if(!G)return G;z||(z=G);var b=G,N;do if(N=!1,!b.steiner&&(S(b,b.next)||T(b.prev,b,b.next)===0)){if(Y(b),b=z=b.prev,b===b.next)break;N=!0}else b=b.next;while(N||b!==z);return z}function p(G,z,b,N,W,K,J){if(G){!J&&K&&f(G,N,W,K);for(var j=G,Z,q;G.prev!==G.next;){if(Z=G.prev,q=G.next,K?n(G,N,W,K):a(G)){z.push(Z.i/b|0),z.push(G.i/b|0),z.push(q.i/b|0),Y(G),G=q.next,j=q.next;continue}if(G=q,G===j){J?J===1?(G=r(h(G),z,b),p(G,z,b,N,W,K,2)):J===2&&e(G,z,b,N,W,K):p(h(G),z,b,N,W,K,1);break}}}}function a(G){var z=G.prev,b=G,N=G.next;if(T(z,b,N)>=0)return!1;for(var W=z.x,K=b.x,J=N.x,j=z.y,Z=b.y,q=N.y,_=W<K?W<J?W:J:K<J?K:J,tt=j<Z?j<q?j:q:Z<q?Z:q,et=W>K?W>J?W:J:K>J?K:J,ot=j>Z?j>q?j:q:Z>q?Z:q,it=N.next;it!==z;){if(it.x>=_&&it.x<=et&&it.y>=tt&&it.y<=ot&&g(W,j,K,Z,J,q,it.x,it.y)&&T(it.prev,it,it.next)>=0)return!1;it=it.next}return!0}function n(G,z,b,N){var W=G.prev,K=G,J=G.next;if(T(W,K,J)>=0)return!1;for(var j=W.x,Z=K.x,q=J.x,_=W.y,tt=K.y,et=J.y,ot=j<Z?j<q?j:q:Z<q?Z:q,it=_<tt?_<et?_:et:tt<et?tt:et,lt=j>Z?j>q?j:q:Z>q?Z:q,vt=_>tt?_>et?_:et:tt>et?tt:et,xt=c(ot,it,z,b,N),yt=c(lt,vt,z,b,N),nt=G.prevZ,dt=G.nextZ;nt&&nt.z>=xt&&dt&&dt.z<=yt;){if(nt.x>=ot&&nt.x<=lt&&nt.y>=it&&nt.y<=vt&&nt!==W&&nt!==J&&g(j,_,Z,tt,q,et,nt.x,nt.y)&&T(nt.prev,nt,nt.next)>=0||(nt=nt.prevZ,dt.x>=ot&&dt.x<=lt&&dt.y>=it&&dt.y<=vt&&dt!==W&&dt!==J&&g(j,_,Z,tt,q,et,dt.x,dt.y)&&T(dt.prev,dt,dt.next)>=0))return!1;dt=dt.nextZ}for(;nt&&nt.z>=xt;){if(nt.x>=ot&&nt.x<=lt&&nt.y>=it&&nt.y<=vt&&nt!==W&&nt!==J&&g(j,_,Z,tt,q,et,nt.x,nt.y)&&T(nt.prev,nt,nt.next)>=0)return!1;nt=nt.prevZ}for(;dt&&dt.z<=yt;){if(dt.x>=ot&&dt.x<=lt&&dt.y>=it&&dt.y<=vt&&dt!==W&&dt!==J&&g(j,_,Z,tt,q,et,dt.x,dt.y)&&T(dt.prev,dt,dt.next)>=0)return!1;dt=dt.nextZ}return!0}function r(G,z,b){var N=G;do{var W=N.prev,K=N.next.next;!S(W,K)&&P(W,N,N.next,K)&&M(W,K)&&M(K,W)&&(z.push(W.i/b|0),z.push(N.i/b|0),z.push(K.i/b|0),Y(N),Y(N.next),N=G=K),N=N.next}while(N!==G);return h(N)}function e(G,z,b,N,W,K){var J=G;do{for(var j=J.next.next;j!==J.prev;){if(J.i!==j.i&&x(J,j)){var Z=D(J,j);J=h(J,J.next),Z=h(Z,Z.next),p(J,z,b,N,W,K,0),p(Z,z,b,N,W,K,0);return}j=j.next}J=J.next}while(J!==G)}function s(G,z,b,N){var W=[],K,J,j,Z,q;for(K=0,J=z.length;K<J;K++)j=z[K]*N,Z=K<J-1?z[K+1]*N:G.length,q=t(G,j,Z,N,!1),q===q.next&&(q.steiner=!0),W.push(m(q));for(W.sort(o),K=0;K<W.length;K++)b=i(W[K],b);return b}function o(G,z){return G.x-z.x}function i(G,z){var b=l(G,z);if(!b)return z;var N=D(b,G);return h(N,N.next),h(b,b.next)}function l(G,z){var b=z,N=G.x,W=G.y,K=-1/0,J;do{if(W<=b.y&&W>=b.next.y&&b.next.y!==b.y){var j=b.x+(W-b.y)*(b.next.x-b.x)/(b.next.y-b.y);if(j<=N&&j>K&&(K=j,J=b.x<b.next.x?b:b.next,j===N))return J}b=b.next}while(b!==z);if(!J)return null;var Z=J,q=J.x,_=J.y,tt=1/0,et;b=J;do N>=b.x&&b.x>=q&&N!==b.x&&g(W<_?N:K,W,q,_,W<_?K:N,W,b.x,b.y)&&(et=Math.abs(W-b.y)/(N-b.x),M(b,G)&&(et<tt||et===tt&&(b.x>J.x||b.x===J.x&&u(J,b)))&&(J=b,tt=et)),b=b.next;while(b!==Z);return J}function u(G,z){return T(G.prev,G,z.prev)<0&&T(z.next,G,G.next)<0}function f(G,z,b,N){var W=G;do W.z===0&&(W.z=c(W.x,W.y,z,b,N)),W.prevZ=W.prev,W.nextZ=W.next,W=W.next;while(W!==G);W.prevZ.nextZ=null,W.prevZ=null,d(W)}function d(G){var z,b,N,W,K,J,j,Z,q=1;do{for(b=G,G=null,K=null,J=0;b;){for(J++,N=b,j=0,z=0;z<q&&(j++,N=N.nextZ,!!N);z++);for(Z=q;j>0||Z>0&&N;)j!==0&&(Z===0||!N||b.z<=N.z)?(W=b,b=b.nextZ,j--):(W=N,N=N.nextZ,Z--),K?K.nextZ=W:G=W,W.prevZ=K,K=W;b=N}K.nextZ=null,q*=2}while(J>1);return G}function c(G,z,b,N,W){return G=(G-b)*W|0,z=(z-N)*W|0,G=(G|G<<8)&16711935,G=(G|G<<4)&252645135,G=(G|G<<2)&858993459,G=(G|G<<1)&1431655765,z=(z|z<<8)&16711935,z=(z|z<<4)&252645135,z=(z|z<<2)&858993459,z=(z|z<<1)&1431655765,G|z<<1}function m(G){var z=G,b=G;do(z.x<b.x||z.x===b.x&&z.y<b.y)&&(b=z),z=z.next;while(z!==G);return b}function g(G,z,b,N,W,K,J,j){return(W-J)*(z-j)>=(G-J)*(K-j)&&(G-J)*(N-j)>=(b-J)*(z-j)&&(b-J)*(K-j)>=(W-J)*(N-j)}function x(G,z){return G.next.i!==z.i&&G.prev.i!==z.i&&!O(G,z)&&(M(G,z)&&M(z,G)&&w(G,z)&&(T(G.prev,G,z.prev)||T(G,z.prev,z))||S(G,z)&&T(G.prev,G,G.next)>0&&T(z.prev,z,z.next)>0)}function T(G,z,b){return(z.y-G.y)*(b.x-z.x)-(z.x-G.x)*(b.y-z.y)}function S(G,z){return G.x===z.x&&G.y===z.y}function P(G,z,b,N){var W=I(T(G,z,b)),K=I(T(G,z,N)),J=I(T(b,N,G)),j=I(T(b,N,z));return!!(W!==K&&J!==j||W===0&&L(G,b,z)||K===0&&L(G,N,z)||J===0&&L(b,G,N)||j===0&&L(b,z,N))}function L(G,z,b){return z.x<=Math.max(G.x,b.x)&&z.x>=Math.min(G.x,b.x)&&z.y<=Math.max(G.y,b.y)&&z.y>=Math.min(G.y,b.y)}function I(G){return G>0?1:G<0?-1:0}function O(G,z){var b=G;do{if(b.i!==G.i&&b.next.i!==G.i&&b.i!==z.i&&b.next.i!==z.i&&P(b,b.next,G,z))return!0;b=b.next}while(b!==G);return!1}function M(G,z){return T(G.prev,G,G.next)<0?T(G,z,G.next)>=0&&T(G,G.prev,z)>=0:T(G,z,G.prev)<0||T(G,G.next,z)<0}function w(G,z){var b=G,N=!1,W=(G.x+z.x)/2,K=(G.y+z.y)/2;do b.y>K!=b.next.y>K&&b.next.y!==b.y&&W<(b.next.x-b.x)*(K-b.y)/(b.next.y-b.y)+b.x&&(N=!N),b=b.next;while(b!==G);return N}function D(G,z){var b=new H(G.i,G.x,G.y),N=new H(z.i,z.x,z.y),W=G.next,K=z.prev;return G.next=z,z.prev=G,b.next=W,W.prev=b,N.next=b,b.prev=N,K.next=N,N.prev=K,N}function U(G,z,b,N){var W=new H(G,z,b);return N?(W.next=N.next,W.prev=N,N.next.prev=W,N.next=W):(W.prev=W,W.next=W),W}function Y(G){G.next.prev=G.prev,G.prev.next=G.next,G.prevZ&&(G.prevZ.nextZ=G.nextZ),G.nextZ&&(G.nextZ.prevZ=G.prevZ)}function H(G,z,b){this.i=G,this.x=z,this.y=b,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}y.deviation=function(G,z,b,N){var W=z&&z.length,K=W?z[0]*b:G.length,J=Math.abs(X(G,0,K,b));if(W)for(var j=0,Z=z.length;j<Z;j++){var q=z[j]*b,_=j<Z-1?z[j+1]*b:G.length;J-=Math.abs(X(G,q,_,b))}var tt=0;for(j=0;j<N.length;j+=3){var et=N[j]*b,ot=N[j+1]*b,it=N[j+2]*b;tt+=Math.abs((G[et]-G[it])*(G[ot+1]-G[et+1])-(G[et]-G[ot])*(G[it+1]-G[et+1]))}return J===0&&tt===0?0:Math.abs((tt-J)/J)};function X(G,z,b,N){for(var W=0,K=z,J=b-N;K<b;K+=N)W+=(G[J]-G[K])*(G[K+1]+G[J+1]),J=K;return W}y.flatten=function(G){for(var z=G[0][0].length,b={vertices:[],holes:[],dimensions:z},N=0,W=0;W<G.length;W++){for(var K=0;K<G[W].length;K++)for(var J=0;J<z;J++)b.vertices.push(G[W][K][J]);W>0&&(N+=G[W-1].length,b.holes.push(N))}return b},v.exports=y},13829:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(87841),p=function(a,n){n===void 0&&(n=new h);for(var r=1/0,e=1/0,s=-r,o=-e,i,l=0;l<a.points.length;l++)i=a.points[l],r=Math.min(r,i.x),e=Math.min(e,i.y),s=Math.max(s,i.x),o=Math.max(o,i.y);return n.x=r,n.y=e,n.width=s-r,n.height=o-e,n};v.exports=p},26173:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,h){h===void 0&&(h=[]);for(var p=0;p<t.points.length;p++)h.push(t.points[p].x),h.push(t.points[p].y);return h};v.exports=y},9564:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(35001),p=t(23031),a=t(30052),n=function(r,e,s,o){o===void 0&&(o=[]);var i=r.points,l=a(r);!e&&s>0&&(e=l/s);for(var u=0;u<e;u++)for(var f=l*(u/e),d=0,c=0;c<i.length;c++){var m=i[c],g=i[(c+1)%i.length],x=new p(m.x,m.y,g.x,g.y),T=h(x);if(f<d||f>d+T){d+=T;continue}var S=x.getPoint((f-d)/T);o.push(S);break}return o};v.exports=n},30052:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(35001),p=t(23031),a=function(n){for(var r=n.points,e=0,s=0;s<r.length;s++){var o=r[s],i=r[(s+1)%r.length],l=new p(o.x,o.y,i.x,i.y);e+=h(l)}return e};v.exports=a},25717:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),p=t(63814),a=t(9564),n=t(23777),r=new h({initialize:function(s){this.type=n.POLYGON,this.area=0,this.points=[],s&&this.setTo(s)},contains:function(e,s){return p(this,e,s)},setTo:function(e){if(this.area=0,this.points=[],typeof e=="string"&&(e=e.split(" ")),!Array.isArray(e))return this;for(var s,o=0;o<e.length;o++)s={x:0,y:0},typeof e[o]=="number"||typeof e[o]=="string"?(s.x=parseFloat(e[o]),s.y=parseFloat(e[o+1]),o++):Array.isArray(e[o])?(s.x=e[o][0],s.y=e[o][1]):(s.x=e[o].x,s.y=e[o].y),this.points.push(s);return this.calculateArea(),this},calculateArea:function(){if(this.points.length<3)return this.area=0,this.area;for(var e=0,s,o,i=0;i<this.points.length-1;i++)s=this.points[i],o=this.points[i+1],e+=(o.x-s.x)*(s.y+o.y);return s=this.points[0],o=this.points[this.points.length-1],e+=(s.x-o.x)*(o.y+s.y),this.area=-e*.5,this.area},getPoints:function(e,s,o){return a(this,e,s,o)}});v.exports=r},8133:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){return t.points.reverse(),t};v.exports=y},29524:v=>{function y(r,e){var s=r.x-e.x,o=r.y-e.y;return s*s+o*o}function t(r,e,s){var o=e.x,i=e.y,l=s.x-o,u=s.y-i;if(l!==0||u!==0){var f=((r.x-o)*l+(r.y-i)*u)/(l*l+u*u);f>1?(o=s.x,i=s.y):f>0&&(o+=l*f,i+=u*f)}return l=r.x-o,u=r.y-i,l*l+u*u}function h(r,e){for(var s=r[0],o=[s],i,l=1,u=r.length;l<u;l++)i=r[l],y(i,s)>e&&(o.push(i),s=i);return s!==i&&o.push(i),o}function p(r,e,s,o,i){for(var l=o,u,f=e+1;f<s;f++){var d=t(r[f],r[e],r[s]);d>l&&(u=f,l=d)}l>o&&(u-e>1&&p(r,e,u,o,i),i.push(r[u]),s-u>1&&p(r,u,s,o,i))}function a(r,e){var s=r.length-1,o=[r[0]];return p(r,0,s,e,o),o.push(r[s]),o}var n=function(r,e,s){e===void 0&&(e=1),s===void 0&&(s=!1);var o=r.points;if(o.length>2){var i=e*e;s||(o=h(o,i)),r.setTo(a(o,i))}return r};v.exports=n},5469:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Igor Ognichenko <ognichenko.igor@gmail.com>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(h,p){return h[0]=p[0],h[1]=p[1],h},t=function(h){var p,a=[],n=h.points;for(p=0;p<n.length;p++)a.push([n[p].x,n[p].y]);var r=[];for(a.length>0&&r.push(y([0,0],a[0])),p=0;p<a.length-1;p++){var e=a[p],s=a[p+1],o=e[0],i=e[1],l=s[0],u=s[1];r.push([.85*o+.15*l,.85*i+.15*u]),r.push([.15*o+.85*l,.15*i+.85*u])}return a.length>1&&r.push(y([0,0],a[a.length-1])),h.setTo(r)};v.exports=t},24709:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,h,p){for(var a=t.points,n=0;n<a.length;n++)a[n].x+=h,a[n].y+=p;return t};v.exports=y},58423:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(25717);h.Clone=t(12306),h.Contains=t(63814),h.ContainsPoint=t(99338),h.Earcut=t(94811),h.GetAABB=t(13829),h.GetNumberArray=t(26173),h.GetPoints=t(9564),h.Perimeter=t(30052),h.Reverse=t(8133),h.Simplify=t(29524),h.Smooth=t(5469),h.Translate=t(24709),v.exports=h},62224:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){return t.width*t.height};v.exports=y},98615:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){return t.x=Math.ceil(t.x),t.y=Math.ceil(t.y),t};v.exports=y},31688:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){return t.x=Math.ceil(t.x),t.y=Math.ceil(t.y),t.width=Math.ceil(t.width),t.height=Math.ceil(t.height),t};v.exports=y},67502:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,h,p){return t.x=h-t.width/2,t.y=p-t.height/2,t};v.exports=y},65085:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(87841),p=function(a){return new h(a.x,a.y,a.width,a.height)};v.exports=p},37303:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,h,p){return t.width<=0||t.height<=0?!1:t.x<=h&&t.x+t.width>=h&&t.y<=p&&t.y+t.height>=p};v.exports=y},96553:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(37303),p=function(a,n){return h(a,n.x,n.y)};v.exports=p},70273:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,h){return h.width*h.height>t.width*t.height?!1:h.x>t.x&&h.x<t.right&&h.right>t.x&&h.right<t.right&&h.y>t.y&&h.y<t.bottom&&h.bottom>t.y&&h.bottom<t.bottom};v.exports=y},43459:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,h){return h.setTo(t.x,t.y,t.width,t.height)};v.exports=y},77493:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,h){return h===void 0&&(h=[]),h.push({x:t.x,y:t.y}),h.push({x:t.right,y:t.y}),h.push({x:t.right,y:t.bottom}),h.push({x:t.x,y:t.bottom}),h};v.exports=y},9219:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,h){return t.x===h.x&&t.y===h.y&&t.width===h.width&&t.height===h.height};v.exports=y},53751:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(8249),p=function(a,n){var r=h(a);return r<h(n)?a.setSize(n.height*r,n.height):a.setSize(n.width,n.width/r),a.setPosition(n.centerX-a.width/2,n.centerY-a.height/2)};v.exports=p},16088:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(8249),p=function(a,n){var r=h(a);return r>h(n)?a.setSize(n.height*r,n.height):a.setSize(n.width,n.width/r),a.setPosition(n.centerX-a.width/2,n.centerY-a.height/2)};v.exports=p},80774:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){return t.x=Math.floor(t.x),t.y=Math.floor(t.y),t};v.exports=y},83859:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){return t.x=Math.floor(t.x),t.y=Math.floor(t.y),t.width=Math.floor(t.width),t.height=Math.floor(t.height),t};v.exports=y},19217:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(87841),p=t(36383),a=function(n,r){if(r===void 0&&(r=new h),n.length===0)return r;for(var e=Number.MAX_VALUE,s=Number.MAX_VALUE,o=p.MIN_SAFE_INTEGER,i=p.MIN_SAFE_INTEGER,l,u,f,d=0;d<n.length;d++)l=n[d],Array.isArray(l)?(u=l[0],f=l[1]):(u=l.x,f=l.y),e=Math.min(e,u),s=Math.min(s,f),o=Math.max(o,u),i=Math.max(i,f);return r.x=e,r.y=s,r.width=o-e,r.height=i-s,r};v.exports=a},9477:(v,y,t)=>{/**
 * @author       samme
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(87841),p=function(a,n,r,e,s){return s===void 0&&(s=new h),s.setTo(Math.min(a,r),Math.min(n,e),Math.abs(a-r),Math.abs(n-e))};v.exports=p},8249:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){return t.height===0?NaN:t.width/t.height};v.exports=y},27165:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(2141),p=function(a,n){return n===void 0&&(n=new h),n.x=a.centerX,n.y=a.centerY,n};v.exports=p},20812:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(13019),p=t(2141),a=function(n,r,e){if(e===void 0&&(e=new p),r<=0||r>=1)return e.x=n.x,e.y=n.y,e;var s=h(n)*r;return r>.5?(s-=n.width+n.height,s<=n.width?(e.x=n.right-s,e.y=n.bottom):(e.x=n.x,e.y=n.bottom-(s-n.width))):s<=n.width?(e.x=n.x+s,e.y=n.y):(e.x=n.right,e.y=n.y+(s-n.width)),e};v.exports=a},34819:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(20812),p=t(13019),a=function(n,r,e,s){s===void 0&&(s=[]),!r&&e>0&&(r=p(n)/e);for(var o=0;o<r;o++){var i=o/r;s.push(h(n,i))}return s};v.exports=a},51313:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(2141),p=function(a,n){return n===void 0&&(n=new h),n.x=a.width,n.y=a.height,n};v.exports=p},86091:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(67502),p=function(a,n,r){var e=a.centerX,s=a.centerY;return a.setSize(a.width+n*2,a.height+r*2),h(a,e,s)};v.exports=p},53951:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(87841),p=t(59996),a=function(n,r,e){return e===void 0&&(e=new h),p(n,r)?(e.x=Math.max(n.x,r.x),e.y=Math.max(n.y,r.y),e.width=Math.min(n.right,r.right)-e.x,e.height=Math.min(n.bottom,r.bottom)-e.y):e.setEmpty(),e};v.exports=a},14649:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(13019),p=t(2141),a=function(n,r,e,s){if(s===void 0&&(s=[]),!r&&!e)return s;r?e=Math.round(h(n)/r):r=h(n)/e;for(var o=n.x,i=n.y,l=0,u=0;u<e;u++)switch(s.push(new p(o,i)),l){case 0:o+=r,o>=n.right&&(l=1,i+=o-n.right,o=n.right);break;case 1:i+=r,i>=n.bottom&&(l=2,o-=i-n.bottom,i=n.bottom);break;case 2:o-=r,o<=n.left&&(l=3,i-=n.left-o,o=n.left);break;case 3:i-=r,i<=n.top&&(l=0,i=n.top);break}return s};v.exports=a},33595:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,h){for(var p=t.x,a=t.right,n=t.y,r=t.bottom,e=0;e<h.length;e++)p=Math.min(p,h[e].x),a=Math.max(a,h[e].x),n=Math.min(n,h[e].y),r=Math.max(r,h[e].y);return t.x=p,t.y=n,t.width=a-p,t.height=r-n,t};v.exports=y},20074:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,h){var p=Math.min(t.x,h.x),a=Math.max(t.right,h.right);t.x=p,t.width=a-p;var n=Math.min(t.y,h.y),r=Math.max(t.bottom,h.bottom);return t.y=n,t.height=r-n,t};v.exports=y},92171:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,h,p){var a=Math.min(t.x,h),n=Math.max(t.right,h);t.x=a,t.width=n-a;var r=Math.min(t.y,p),e=Math.max(t.bottom,p);return t.y=r,t.height=e-r,t};v.exports=y},42981:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,h,p){return t.x+=h,t.y+=p,t};v.exports=y},46907:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,h){return t.x+=h.x,t.y+=h.y,t};v.exports=y},60170:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,h){return t.x<h.right&&t.right>h.x&&t.y<h.bottom&&t.bottom>h.y};v.exports=y},13019:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){return 2*(t.width+t.height)};v.exports=y},85133:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(2141),p=t(39506),a=function(n,r,e){e===void 0&&(e=new h),r=p(r);var s=Math.sin(r),o=Math.cos(r),i=o>0?n.width/2:n.width/-2,l=s>0?n.height/2:n.height/-2;return Math.abs(i*s)<Math.abs(l*o)?l=i*s/o:i=l*o/s,e.x=i+n.centerX,e.y=l+n.centerY,e};v.exports=a},26597:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(2141),p=function(a,n){return n===void 0&&(n=new h),n.x=a.x+Math.random()*a.width,n.y=a.y+Math.random()*a.height,n};v.exports=p},86470:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(30976),p=t(70273),a=t(2141),n=function(r,e,s){if(s===void 0&&(s=new a),p(r,e))switch(h(0,3)){case 0:s.x=r.x+Math.random()*(e.right-r.x),s.y=r.y+Math.random()*(e.top-r.y);break;case 1:s.x=e.x+Math.random()*(r.right-e.x),s.y=e.bottom+Math.random()*(r.bottom-e.bottom);break;case 2:s.x=r.x+Math.random()*(e.x-r.x),s.y=e.y+Math.random()*(r.bottom-e.y);break;case 3:s.x=e.right+Math.random()*(r.right-e.right),s.y=r.y+Math.random()*(e.bottom-r.y);break}return s};v.exports=n},87841:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),p=t(37303),a=t(20812),n=t(34819),r=t(23777),e=t(23031),s=t(26597),o=new h({initialize:function(l,u,f,d){l===void 0&&(l=0),u===void 0&&(u=0),f===void 0&&(f=0),d===void 0&&(d=0),this.type=r.RECTANGLE,this.x=l,this.y=u,this.width=f,this.height=d},contains:function(i,l){return p(this,i,l)},getPoint:function(i,l){return a(this,i,l)},getPoints:function(i,l,u){return n(this,i,l,u)},getRandomPoint:function(i){return s(this,i)},setTo:function(i,l,u,f){return this.x=i,this.y=l,this.width=u,this.height=f,this},setEmpty:function(){return this.setTo(0,0,0,0)},setPosition:function(i,l){return l===void 0&&(l=i),this.x=i,this.y=l,this},setSize:function(i,l){return l===void 0&&(l=i),this.width=i,this.height=l,this},isEmpty:function(){return this.width<=0||this.height<=0},getLineA:function(i){return i===void 0&&(i=new e),i.setTo(this.x,this.y,this.right,this.y),i},getLineB:function(i){return i===void 0&&(i=new e),i.setTo(this.right,this.y,this.right,this.bottom),i},getLineC:function(i){return i===void 0&&(i=new e),i.setTo(this.right,this.bottom,this.x,this.bottom),i},getLineD:function(i){return i===void 0&&(i=new e),i.setTo(this.x,this.bottom,this.x,this.y),i},left:{get:function(){return this.x},set:function(i){i>=this.right?this.width=0:this.width=this.right-i,this.x=i}},right:{get:function(){return this.x+this.width},set:function(i){i<=this.x?this.width=0:this.width=i-this.x}},top:{get:function(){return this.y},set:function(i){i>=this.bottom?this.height=0:this.height=this.bottom-i,this.y=i}},bottom:{get:function(){return this.y+this.height},set:function(i){i<=this.y?this.height=0:this.height=i-this.y}},centerX:{get:function(){return this.x+this.width/2},set:function(i){this.x=i-this.width/2}},centerY:{get:function(){return this.y+this.height/2},set:function(i){this.y=i-this.height/2}}});v.exports=o},94845:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,h){return t.width===h.width&&t.height===h.height};v.exports=y},31730:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,h,p){return p===void 0&&(p=h),t.width*=h,t.height*=p,t};v.exports=y},36899:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(87841),p=function(a,n,r){r===void 0&&(r=new h);var e=Math.min(a.x,n.x),s=Math.min(a.y,n.y),o=Math.max(a.right,n.right)-e,i=Math.max(a.bottom,n.bottom)-s;return r.setTo(e,s,o,i)};v.exports=p},93232:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(87841);h.Area=t(62224),h.Ceil=t(98615),h.CeilAll=t(31688),h.CenterOn=t(67502),h.Clone=t(65085),h.Contains=t(37303),h.ContainsPoint=t(96553),h.ContainsRect=t(70273),h.CopyFrom=t(43459),h.Decompose=t(77493),h.Equals=t(9219),h.FitInside=t(53751),h.FitOutside=t(16088),h.Floor=t(80774),h.FloorAll=t(83859),h.FromPoints=t(19217),h.FromXY=t(9477),h.GetAspectRatio=t(8249),h.GetCenter=t(27165),h.GetPoint=t(20812),h.GetPoints=t(34819),h.GetSize=t(51313),h.Inflate=t(86091),h.Intersection=t(53951),h.MarchingAnts=t(14649),h.MergePoints=t(33595),h.MergeRect=t(20074),h.MergeXY=t(92171),h.Offset=t(42981),h.OffsetPoint=t(46907),h.Overlaps=t(60170),h.Perimeter=t(13019),h.PerimeterPoint=t(85133),h.Random=t(26597),h.RandomOutside=t(86470),h.SameDimensions=t(94845),h.Scale=t(31730),h.Union=t(36899),v.exports=h},41658:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){var h=t.x1,p=t.y1,a=t.x2,n=t.y2,r=t.x3,e=t.y3;return Math.abs(((r-h)*(n-p)-(a-h)*(e-p))/2)};v.exports=y},39208:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(16483),p=function(a,n,r){var e=r*(Math.sqrt(3)/2),s=a,o=n,i=a+r/2,l=n+e,u=a-r/2,f=n+e;return new h(s,o,i,l,u,f)};v.exports=p},39545:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(94811),p=t(16483),a=function(n,r,e,s,o){r===void 0&&(r=null),e===void 0&&(e=1),s===void 0&&(s=1),o===void 0&&(o=[]);for(var i=h(n,r),l,u,f,d,c,m,g,x,T,S=0;S<i.length;S+=3)l=i[S],u=i[S+1],f=i[S+2],d=n[l*2]*e,c=n[l*2+1]*s,m=n[u*2]*e,g=n[u*2+1]*s,x=n[f*2]*e,T=n[f*2+1]*s,o.push(new p(d,c,m,g,x,T));return o};v.exports=a},90301:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(16483),p=function(a,n,r,e){e===void 0&&(e=r);var s=a,o=n,i=a,l=n-e,u=a+r,f=n;return new h(s,o,i,l,u,f)};v.exports=p},23707:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(97523),p=t(13584),a=function(n,r,e,s){s===void 0&&(s=h);var o=s(n),i=r-o.x,l=e-o.y;return p(n,i,l)};v.exports=a},97523:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(2141),p=function(a,n){return n===void 0&&(n=new h),n.x=(a.x1+a.x2+a.x3)/3,n.y=(a.y1+a.y2+a.y3)/3,n};v.exports=p},24951:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(26099);function p(n,r,e,s){return n*s-r*e}var a=function(n,r){r===void 0&&(r=new h);var e=n.x3,s=n.y3,o=n.x1-e,i=n.y1-s,l=n.x2-e,u=n.y2-s,f=2*p(o,i,l,u),d=p(i,o*o+i*i,u,l*l+u*u),c=p(o,o*o+i*i,l,l*l+u*u);return r.x=e-d/f,r.y=s+c/f,r};v.exports=a},85614:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(96503),p=function(a,n){n===void 0&&(n=new h);var r=a.x1,e=a.y1,s=a.x2,o=a.y2,i=a.x3,l=a.y3,u=s-r,f=o-e,d=i-r,c=l-e,m=u*(r+s)+f*(e+o),g=d*(r+i)+c*(e+l),x=2*(u*(l-o)-f*(i-s)),T,S;if(Math.abs(x)<1e-6){var P=Math.min(r,s,i),L=Math.min(e,o,l);T=(Math.max(r,s,i)-P)*.5,S=(Math.max(e,o,l)-L)*.5,n.x=P+T,n.y=L+S,n.radius=Math.sqrt(T*T+S*S)}else n.x=(c*m-f*g)/x,n.y=(u*g-d*m)/x,T=n.x-r,S=n.y-e,n.radius=Math.sqrt(T*T+S*S);return n};v.exports=p},74422:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(16483),p=function(a){return new h(a.x1,a.y1,a.x2,a.y2,a.x3,a.y3)};v.exports=p},10690:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,h,p){var a=t.x3-t.x1,n=t.y3-t.y1,r=t.x2-t.x1,e=t.y2-t.y1,s=h-t.x1,o=p-t.y1,i=a*a+n*n,l=a*r+n*e,u=a*s+n*o,f=r*r+e*e,d=r*s+e*o,c=i*f-l*l,m=c===0?0:1/c,g=(f*u-l*d)*m,x=(i*d-l*u)*m;return g>=0&&x>=0&&g+x<1};v.exports=y},48653:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,h,p,a){p===void 0&&(p=!1),a===void 0&&(a=[]);for(var n=t.x3-t.x1,r=t.y3-t.y1,e=t.x2-t.x1,s=t.y2-t.y1,o=n*n+r*r,i=n*e+r*s,l=e*e+s*s,u=o*l-i*i,f=u===0?0:1/u,d,c,m,g,x,T,S=t.x1,P=t.y1,L=0;L<h.length&&(m=h[L].x-S,g=h[L].y-P,x=n*m+r*g,T=e*m+s*g,d=(l*x-i*T)*f,c=(o*T-i*x)*f,!(d>=0&&c>=0&&d+c<1&&(a.push({x:h[L].x,y:h[L].y}),p)));L++);return a};v.exports=y},96006:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(10690),p=function(a,n){return h(a,n.x,n.y)};v.exports=p},71326:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,h){return h.setTo(t.x1,t.y1,t.x2,t.y2,t.x3,t.y3)};v.exports=y},71694:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,h){return h===void 0&&(h=[]),h.push({x:t.x1,y:t.y1}),h.push({x:t.x2,y:t.y2}),h.push({x:t.x3,y:t.y3}),h};v.exports=y},33522:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,h){return t.x1===h.x1&&t.y1===h.y1&&t.x2===h.x2&&t.y2===h.y2&&t.x3===h.x3&&t.y3===h.y3};v.exports=y},20437:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(2141),p=t(35001),a=function(n,r,e){e===void 0&&(e=new h);var s=n.getLineA(),o=n.getLineB(),i=n.getLineC();if(r<=0||r>=1)return e.x=s.x1,e.y=s.y1,e;var l=p(s),u=p(o),f=p(i),d=l+u+f,c=d*r,m=0;return c<l?(m=c/l,e.x=s.x1+(s.x2-s.x1)*m,e.y=s.y1+(s.y2-s.y1)*m):c>l+u?(c-=l+u,m=c/f,e.x=i.x1+(i.x2-i.x1)*m,e.y=i.y1+(i.y2-i.y1)*m):(c-=l,m=c/u,e.x=o.x1+(o.x2-o.x1)*m,e.y=o.y1+(o.y2-o.y1)*m),e};v.exports=a},80672:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(35001),p=t(2141),a=function(n,r,e,s){s===void 0&&(s=[]);var o=n.getLineA(),i=n.getLineB(),l=n.getLineC(),u=h(o),f=h(i),d=h(l),c=u+f+d;!r&&e>0&&(r=c/e);for(var m=0;m<r;m++){var g=c*(m/r),x=0,T=new p;g<u?(x=g/u,T.x=o.x1+(o.x2-o.x1)*x,T.y=o.y1+(o.y2-o.y1)*x):g>u+f?(g-=u+f,x=g/d,T.x=l.x1+(l.x2-l.x1)*x,T.y=l.y1+(l.y2-l.y1)*x):(g-=u,x=g/f,T.x=i.x1+(i.x2-i.x1)*x,T.y=i.y1+(i.y2-i.y1)*x),s.push(T)}return s};v.exports=a},39757:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(2141);function p(n,r,e,s){var o=n-e,i=r-s,l=o*o+i*i;return Math.sqrt(l)}var a=function(n,r){r===void 0&&(r=new h);var e=n.x1,s=n.y1,o=n.x2,i=n.y2,l=n.x3,u=n.y3,f=p(l,u,o,i),d=p(e,s,l,u),c=p(o,i,e,s),m=f+d+c;return r.x=(e*f+o*d+l*c)/m,r.y=(s*f+i*d+u*c)/m,r};v.exports=a},13584:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,h,p){return t.x1+=h,t.y1+=p,t.x2+=h,t.y2+=p,t.x3+=h,t.y3+=p,t};v.exports=y},1376:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(35001),p=function(a){var n=a.getLineA(),r=a.getLineB(),e=a.getLineC();return h(n)+h(r)+h(e)};v.exports=p},90260:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(2141),p=function(a,n){n===void 0&&(n=new h);var r=a.x2-a.x1,e=a.y2-a.y1,s=a.x3-a.x1,o=a.y3-a.y1,i=Math.random(),l=Math.random();return i+l>=1&&(i=1-i,l=1-l),n.x=a.x1+(r*i+s*l),n.y=a.y1+(e*i+o*l),n};v.exports=p},52172:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(99614),p=t(39757),a=function(n,r){var e=p(n);return h(n,e.x,e.y,r)};v.exports=a},49907:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(99614),p=function(a,n,r){return h(a,n.x,n.y,r)};v.exports=p},99614:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,h,p,a){var n=Math.cos(a),r=Math.sin(a),e=t.x1-h,s=t.y1-p;return t.x1=e*n-s*r+h,t.y1=e*r+s*n+p,e=t.x2-h,s=t.y2-p,t.x2=e*n-s*r+h,t.y2=e*r+s*n+p,e=t.x3-h,s=t.y3-p,t.x3=e*n-s*r+h,t.y3=e*r+s*n+p,t};v.exports=y},16483:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),p=t(10690),a=t(20437),n=t(80672),r=t(23777),e=t(23031),s=t(90260),o=new h({initialize:function(l,u,f,d,c,m){l===void 0&&(l=0),u===void 0&&(u=0),f===void 0&&(f=0),d===void 0&&(d=0),c===void 0&&(c=0),m===void 0&&(m=0),this.type=r.TRIANGLE,this.x1=l,this.y1=u,this.x2=f,this.y2=d,this.x3=c,this.y3=m},contains:function(i,l){return p(this,i,l)},getPoint:function(i,l){return a(this,i,l)},getPoints:function(i,l,u){return n(this,i,l,u)},getRandomPoint:function(i){return s(this,i)},setTo:function(i,l,u,f,d,c){return i===void 0&&(i=0),l===void 0&&(l=0),u===void 0&&(u=0),f===void 0&&(f=0),d===void 0&&(d=0),c===void 0&&(c=0),this.x1=i,this.y1=l,this.x2=u,this.y2=f,this.x3=d,this.y3=c,this},getLineA:function(i){return i===void 0&&(i=new e),i.setTo(this.x1,this.y1,this.x2,this.y2),i},getLineB:function(i){return i===void 0&&(i=new e),i.setTo(this.x2,this.y2,this.x3,this.y3),i},getLineC:function(i){return i===void 0&&(i=new e),i.setTo(this.x3,this.y3,this.x1,this.y1),i},left:{get:function(){return Math.min(this.x1,this.x2,this.x3)},set:function(i){var l=0;this.x1<=this.x2&&this.x1<=this.x3?l=this.x1-i:this.x2<=this.x1&&this.x2<=this.x3?l=this.x2-i:l=this.x3-i,this.x1-=l,this.x2-=l,this.x3-=l}},right:{get:function(){return Math.max(this.x1,this.x2,this.x3)},set:function(i){var l=0;this.x1>=this.x2&&this.x1>=this.x3?l=this.x1-i:this.x2>=this.x1&&this.x2>=this.x3?l=this.x2-i:l=this.x3-i,this.x1-=l,this.x2-=l,this.x3-=l}},top:{get:function(){return Math.min(this.y1,this.y2,this.y3)},set:function(i){var l=0;this.y1<=this.y2&&this.y1<=this.y3?l=this.y1-i:this.y2<=this.y1&&this.y2<=this.y3?l=this.y2-i:l=this.y3-i,this.y1-=l,this.y2-=l,this.y3-=l}},bottom:{get:function(){return Math.max(this.y1,this.y2,this.y3)},set:function(i){var l=0;this.y1>=this.y2&&this.y1>=this.y3?l=this.y1-i:this.y2>=this.y1&&this.y2>=this.y3?l=this.y2-i:l=this.y3-i,this.y1-=l,this.y2-=l,this.y3-=l}}});v.exports=o},84435:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(16483);h.Area=t(41658),h.BuildEquilateral=t(39208),h.BuildFromPolygon=t(39545),h.BuildRight=t(90301),h.CenterOn=t(23707),h.Centroid=t(97523),h.CircumCenter=t(24951),h.CircumCircle=t(85614),h.Clone=t(74422),h.Contains=t(10690),h.ContainsArray=t(48653),h.ContainsPoint=t(96006),h.CopyFrom=t(71326),h.Decompose=t(71694),h.Equals=t(33522),h.GetPoint=t(20437),h.GetPoints=t(80672),h.InCenter=t(39757),h.Perimeter=t(1376),h.Offset=t(13584),h.Random=t(90260),h.Rotate=t(52172),h.RotateAroundPoint=t(49907),h.RotateAroundXY=t(99614),v.exports=h},74457:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,h,p){return{gameObject:t,enabled:!0,draggable:!1,dropZone:!1,cursor:!1,target:null,camera:null,hitArea:h,hitAreaCallback:p,hitAreaDebug:null,customHitArea:!1,localX:0,localY:0,dragState:0,dragStartX:0,dragStartY:0,dragStartXGlobal:0,dragStartYGlobal:0,dragStartCamera:null,dragX:0,dragY:0}};v.exports=y},84409:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,h){return function(p,a,n,r){var e=t.getPixelAlpha(a,n,r.texture.key,r.frame.name);return e&&e>=h}};v.exports=y},7003:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),p=t(93301),a=t(50792),n=t(8214),r=t(8443),e=t(78970),s=t(85098),o=t(42515),i=t(36210),l=t(61340),u=t(85955),f=new h({initialize:function(c,m){this.game=c,this.scaleManager,this.canvas,this.config=m,this.enabled=!0,this.events=new a,this.isOver=!0,this.defaultCursor="",this.keyboard=m.inputKeyboard?new e(this):null,this.mouse=m.inputMouse?new s(this):null,this.touch=m.inputTouch?new i(this):null,this.pointers=[],this.pointersTotal=m.inputActivePointers;for(var g=0;g<=this.pointersTotal;g++){var x=new o(this,g);x.smoothFactor=m.inputSmoothFactor,this.pointers.push(x)}this.mousePointer=m.inputMouse?this.pointers[0]:null,this.activePointer=this.pointers[0],this.globalTopOnly=!0,this.time=0,this._tempPoint={x:0,y:0},this._tempHitTest=[],this._tempMatrix=new l,this._tempMatrix2=new l,this._tempSkip=!1,this.mousePointerContainer=[this.mousePointer],c.events.once(r.BOOT,this.boot,this)},boot:function(){var d=this.game,c=d.events;this.canvas=d.canvas,this.scaleManager=d.scale,this.events.emit(n.MANAGER_BOOT),c.on(r.PRE_RENDER,this.preRender,this),c.once(r.DESTROY,this.destroy,this)},setCanvasOver:function(d){this.isOver=!0,this.events.emit(n.GAME_OVER,d)},setCanvasOut:function(d){this.isOver=!1,this.events.emit(n.GAME_OUT,d)},preRender:function(){var d=this.game.loop.now,c=this.game.loop.delta,m=this.game.scene.getScenes(!0,!0);this.time=d,this.events.emit(n.MANAGER_UPDATE);for(var g=0;g<m.length;g++){var x=m[g];if(x.sys.input&&x.sys.input.updatePoll(d,c)&&this.globalTopOnly)return}},setDefaultCursor:function(d){this.defaultCursor=d,this.canvas.style.cursor!==d&&(this.canvas.style.cursor=d)},setCursor:function(d){d.cursor&&(this.canvas.style.cursor=d.cursor)},resetCursor:function(d,c){(c||d&&d.cursor)&&this.canvas&&(this.canvas.style.cursor=this.defaultCursor)},addPointer:function(d){d===void 0&&(d=1);var c=[];this.pointersTotal+d>10&&(d=10-this.pointersTotal);for(var m=0;m<d;m++){var g=this.pointers.length,x=new o(this,g);x.smoothFactor=this.config.inputSmoothFactor,this.pointers.push(x),this.pointersTotal++,c.push(x)}return c},updateInputPlugins:function(d,c){var m=this.game.scene.getScenes(!1,!0);this._tempSkip=!1;for(var g=0;g<m.length;g++){var x=m[g];if(x.sys.input){var T=x.sys.input.update(d,c);if(T&&this.globalTopOnly||this._tempSkip)return}}},onTouchStart:function(d){for(var c=this.pointers,m=[],g=0;g<d.changedTouches.length;g++)for(var x=d.changedTouches[g],T=1;T<c.length;T++){var S=c[T];if(!S.active){S.touchstart(x,d),this.activePointer=S,m.push(S);break}}this.updateInputPlugins(p.TOUCH_START,m)},onTouchMove:function(d){for(var c=this.pointers,m=[],g=0;g<d.changedTouches.length;g++)for(var x=d.changedTouches[g],T=1;T<c.length;T++){var S=c[T];if(S.active&&S.identifier===x.identifier){var P=document.elementFromPoint(x.clientX,x.clientY),L=P===this.canvas;!this.isOver&&L?this.setCanvasOver(d):this.isOver&&!L&&this.setCanvasOut(d),this.isOver&&(S.touchmove(x,d),this.activePointer=S,m.push(S));break}}this.updateInputPlugins(p.TOUCH_MOVE,m)},onTouchEnd:function(d){for(var c=this.pointers,m=[],g=0;g<d.changedTouches.length;g++)for(var x=d.changedTouches[g],T=1;T<c.length;T++){var S=c[T];if(S.active&&S.identifier===x.identifier){S.touchend(x,d),m.push(S);break}}this.updateInputPlugins(p.TOUCH_END,m)},onTouchCancel:function(d){for(var c=this.pointers,m=[],g=0;g<d.changedTouches.length;g++)for(var x=d.changedTouches[g],T=1;T<c.length;T++){var S=c[T];if(S.active&&S.identifier===x.identifier){S.touchcancel(x,d),m.push(S);break}}this.updateInputPlugins(p.TOUCH_CANCEL,m)},onMouseDown:function(d){var c=this.mousePointer;c.down(d),c.updateMotion(),this.activePointer=c,this.updateInputPlugins(p.MOUSE_DOWN,this.mousePointerContainer)},onMouseMove:function(d){var c=this.mousePointer;c.move(d),c.updateMotion(),this.activePointer=c,this.updateInputPlugins(p.MOUSE_MOVE,this.mousePointerContainer)},onMouseUp:function(d){var c=this.mousePointer;c.up(d),c.updateMotion(),this.activePointer=c,this.updateInputPlugins(p.MOUSE_UP,this.mousePointerContainer)},onMouseWheel:function(d){var c=this.mousePointer;c.wheel(d),this.activePointer=c,this.updateInputPlugins(p.MOUSE_WHEEL,this.mousePointerContainer)},onPointerLockChange:function(d){var c=this.mouse.locked;this.mousePointer.locked=c,this.events.emit(n.POINTERLOCK_CHANGE,d,c)},inputCandidate:function(d,c){var m=d.input;if(!m||!m.enabled||!d.willRender(c))return!1;var g=!0,x=d.parentContainer;if(x)do{if(!x.willRender(c)){g=!1;break}x=x.parentContainer}while(x);return g},hitTest:function(d,c,m,g){g===void 0&&(g=this._tempHitTest);var x=this._tempPoint,T=m.scrollX,S=m.scrollY;g.length=0;var P=d.x,L=d.y;m.getWorldPoint(P,L,x),d.worldX=x.x,d.worldY=x.y;for(var I={x:0,y:0},O=this._tempMatrix,M=this._tempMatrix2,w=0;w<c.length;w++){var D=c[w];if(this.inputCandidate(D,m)){var U=x.x+T*D.scrollFactorX-T,Y=x.y+S*D.scrollFactorY-S;D.parentContainer?(D.getWorldTransformMatrix(O,M),O.applyInverse(U,Y,I)):u(U,Y,D.x,D.y,D.rotation,D.scaleX,D.scaleY,I),this.pointWithinHitArea(D,I.x,I.y)&&g.push(D)}}return g},pointWithinHitArea:function(d,c,m){c+=d.displayOriginX,m+=d.displayOriginY;var g=d.input;return g&&g.hitAreaCallback(g.hitArea,c,m,d)?(g.localX=c,g.localY=m,!0):!1},pointWithinInteractiveObject:function(d,c,m){return d.hitArea?(c+=d.gameObject.displayOriginX,m+=d.gameObject.displayOriginY,d.localX=c,d.localY=m,d.hitAreaCallback(d.hitArea,c,m,d)):!1},transformPointer:function(d,c,m,g){var x=d.position,T=d.prevPosition;T.x=x.x,T.y=x.y;var S=this.scaleManager.transformX(c),P=this.scaleManager.transformY(m),L=d.smoothFactor;!g||L===0?(x.x=S,x.y=P):(x.x=S*L+T.x*(1-L),x.y=P*L+T.y*(1-L))},destroy:function(){this.events.removeAllListeners(),this.game.events.off(r.PRE_RENDER),this.keyboard&&this.keyboard.destroy(),this.mouse&&this.mouse.destroy(),this.touch&&this.touch.destroy();for(var d=0;d<this.pointers.length;d++)this.pointers[d].destroy();this.pointers=[],this._tempHitTest=[],this._tempMatrix.destroy(),this.canvas=null,this.game=null}});v.exports=f},48205:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(96503),p=t(87902),a=t(83419),n=t(93301),r=t(74457),e=t(84409),s=t(20339),o=t(8497),i=t(81154),l=t(8214),u=t(50792),f=t(95540),d=t(23777),c=t(89639),m=t(41212),g=t(37277),x=t(87841),T=t(37303),S=t(44594),P=t(16483),L=t(10690),I=new a({Extends:u,initialize:function(M){u.call(this),this.scene=M,this.systems=M.sys,this.settings=M.sys.settings,this.manager=M.sys.game.input,this.pluginEvents=new u,this.enabled=!0,this.displayList,this.cameras,c.install(this),this.mouse=this.manager.mouse,this.topOnly=!0,this.pollRate=-1,this._pollTimer=0;var w={cancelled:!1};this._eventContainer={stopPropagation:function(){w.cancelled=!0}},this._eventData=w,this.dragDistanceThreshold=0,this.dragTimeThreshold=0,this._temp=[],this._tempZones=[],this._list=[],this._pendingInsertion=[],this._pendingRemoval=[],this._draggable=[],this._drag={0:[],1:[],2:[],3:[],4:[],5:[],6:[],7:[],8:[],9:[],10:[]},this._dragState=[],this._over={0:[],1:[],2:[],3:[],4:[],5:[],6:[],7:[],8:[],9:[],10:[]},this._validTypes=["onDown","onUp","onOver","onOut","onMove","onDragStart","onDrag","onDragEnd","onDragEnter","onDragLeave","onDragOver","onDrop"],this._updatedThisFrame=!1,M.sys.events.once(S.BOOT,this.boot,this),M.sys.events.on(S.START,this.start,this)},boot:function(){this.cameras=this.systems.cameras,this.displayList=this.systems.displayList,this.systems.events.once(S.DESTROY,this.destroy,this),this.pluginEvents.emit(l.BOOT)},start:function(){var O=this.systems.events;O.on(S.TRANSITION_START,this.transitionIn,this),O.on(S.TRANSITION_OUT,this.transitionOut,this),O.on(S.TRANSITION_COMPLETE,this.transitionComplete,this),O.on(S.PRE_UPDATE,this.preUpdate,this),O.once(S.SHUTDOWN,this.shutdown,this),this.manager.events.on(l.GAME_OUT,this.onGameOut,this),this.manager.events.on(l.GAME_OVER,this.onGameOver,this),this.enabled=!0,this._dragState=[0,0,0,0,0,0,0,0,0,0],this.pluginEvents.emit(l.START)},onGameOver:function(O){this.isActive()&&this.emit(l.GAME_OVER,O.timeStamp,O)},onGameOut:function(O){this.isActive()&&this.emit(l.GAME_OUT,O.timeStamp,O)},preUpdate:function(){this.pluginEvents.emit(l.PRE_UPDATE);var O=this._pendingRemoval,M=this._pendingInsertion,w=O.length,D=M.length;if(!(w===0&&D===0)){for(var U=this._list,Y=0;Y<w;Y++){var H=O[Y],X=U.indexOf(H);X>-1&&(U.splice(X,1),this.clear(H,!0))}this._pendingRemoval.length=0,this._list=U.concat(M.splice(0))}},isActive:function(){return this.manager&&this.manager.enabled&&this.enabled&&this.scene.sys.canInput()},setCursor:function(O){this.manager&&this.manager.setCursor(O)},resetCursor:function(){this.manager&&this.manager.resetCursor(null,!0)},updatePoll:function(O,M){if(!this.isActive())return!1;if(this.pluginEvents.emit(l.UPDATE,O,M),this._updatedThisFrame)return this._updatedThisFrame=!1,!1;var w,D=this.manager,U=D.pointers;for(w=0;w<U.length;w++)U[w].updateMotion();if(this._list.length===0)return!1;var Y=this.pollRate;if(Y===-1)return!1;if(Y>0)if(this._pollTimer-=M,this._pollTimer<0)this._pollTimer=this.pollRate;else return!1;var H=!1;for(w=0;w<U.length;w++){var X=0,G=U[w];this._tempZones=[],this._temp=this.hitTestPointer(G),this.sortGameObjects(this._temp,G),this.sortDropZones(this._tempZones),this.topOnly&&(this._temp.length&&this._temp.splice(1),this._tempZones.length&&this._tempZones.splice(1)),X+=this.processOverOutEvents(G),this.getDragState(G)===2&&this.processDragThresholdEvent(G,O),X>0&&(H=!0)}return H},update:function(O,M){if(!this.isActive())return!1;for(var w=!1,D=0;D<M.length;D++){var U=0,Y=M[D];switch(this._tempZones=[],this._temp=this.hitTestPointer(Y),this.sortGameObjects(this._temp,Y),this.sortDropZones(this._tempZones),this.topOnly&&(this._temp.length&&this._temp.splice(1),this._tempZones.length&&this._tempZones.splice(1)),O){case n.MOUSE_DOWN:U+=this.processDragDownEvent(Y),U+=this.processDownEvents(Y),U+=this.processOverOutEvents(Y);break;case n.MOUSE_UP:U+=this.processDragUpEvent(Y),U+=this.processUpEvents(Y),U+=this.processOverOutEvents(Y);break;case n.TOUCH_START:U+=this.processDragDownEvent(Y),U+=this.processDownEvents(Y),U+=this.processOverEvents(Y);break;case n.TOUCH_END:case n.TOUCH_CANCEL:U+=this.processDragUpEvent(Y),U+=this.processUpEvents(Y),U+=this.processOutEvents(Y);break;case n.MOUSE_MOVE:case n.TOUCH_MOVE:U+=this.processDragMoveEvent(Y),U+=this.processMoveEvents(Y),U+=this.processOverOutEvents(Y);break;case n.MOUSE_WHEEL:U+=this.processWheelEvent(Y);break}U>0&&(w=!0)}return this._updatedThisFrame=!0,w},clear:function(O,M){M===void 0&&(M=!1),this.disable(O);var w=O.input;w&&(this.removeDebug(O),this.manager.resetCursor(w),w.gameObject=void 0,w.target=void 0,w.hitArea=void 0,w.hitAreaCallback=void 0,w.callbackContext=void 0,O.input=null),M||this.queueForRemoval(O);var D=this._draggable.indexOf(O);return D>-1&&this._draggable.splice(D,1),O},disable:function(O,M){M===void 0&&(M=!1);var w=O.input;w&&(w.enabled=!1,w.dragState=0);for(var D=this._drag,U=this._over,Y=this.manager,H=0,X;H<Y.pointers.length;H++)X=D[H].indexOf(O),X>-1&&D[H].splice(X,1),X=U[H].indexOf(O),X>-1&&U[H].splice(X,1);return M&&this.resetCursor(),this},enable:function(O,M,w,D){return D===void 0&&(D=!1),O.input?O.input.enabled=!0:this.setHitArea(O,M,w),O.input&&D&&!O.input.dropZone&&(O.input.dropZone=D),this},hitTestPointer:function(O){for(var M=this.cameras.getCamerasBelowPointer(O),w=0;w<M.length;w++){for(var D=M[w],U=this.manager.hitTest(O,this._list,D),Y=0;Y<U.length;Y++){var H=U[Y];H.input.dropZone&&this._tempZones.push(H)}if(U.length>0)return O.camera=D,U}return O.camera=M[0],[]},processDownEvents:function(O){var M=0,w=this._temp,D=this._eventData,U=this._eventContainer;D.cancelled=!1;for(var Y=0;Y<w.length;Y++){var H=w[Y];if(!(!H.input||!H.input.enabled)&&(M++,H.emit(l.GAMEOBJECT_POINTER_DOWN,O,H.input.localX,H.input.localY,U),D.cancelled||!this.isActive()||H.input&&H.input.enabled&&(this.emit(l.GAMEOBJECT_DOWN,O,H,U),D.cancelled||!this.isActive())))break}return!D.cancelled&&this.isActive()&&(O.downElement===this.manager.game.canvas?this.emit(l.POINTER_DOWN,O,w):this.emit(l.POINTER_DOWN_OUTSIDE,O)),M},getDragState:function(O){return this._dragState[O.id]},setDragState:function(O,M){this._dragState[O.id]=M},processDragThresholdEvent:function(O,M){var w=!1,D=this.dragTimeThreshold,U=this.dragDistanceThreshold;if((U>0&&s(O.x,O.y,O.downX,O.downY)>=U||D>0&&M>=O.downTime+D)&&(w=!0),w)return this.setDragState(O,3),this.processDragStartList(O)},processDragStartList:function(O){if(this.getDragState(O)!==3)return 0;var M=this._drag[O.id];M.length>1&&(M=M.slice(0));for(var w=0;w<M.length;w++){var D=M[w],U=D.input;U.dragState=2,U.dragStartX=D.x,U.dragStartY=D.y,U.dragStartXGlobal=O.worldX,U.dragStartYGlobal=O.worldY,U.dragStartCamera=O.camera,U.dragX=U.dragStartXGlobal-U.dragStartX,U.dragY=U.dragStartYGlobal-U.dragStartY,D.emit(l.GAMEOBJECT_DRAG_START,O,U.dragX,U.dragY),this.emit(l.DRAG_START,O,D)}return this.setDragState(O,4),M.length},processDragDownEvent:function(O){var M=this._temp;if(this._draggable.length===0||M.length===0||!O.primaryDown||this.getDragState(O)!==0)return 0;this.setDragState(O,1);for(var w=[],D=0;D<M.length;D++){var U=M[D];U.input.draggable&&U.input.dragState===0&&w.push(U)}return w.length===0?(this.setDragState(O,0),0):(w.length>1&&(this.sortGameObjects(w,O),this.topOnly&&w.splice(1)),this._drag[O.id]=w,this.dragDistanceThreshold===0&&this.dragTimeThreshold===0?(this.setDragState(O,3),this.processDragStartList(O)):(this.setDragState(O,2),0))},processDragMoveEvent:function(O){if(this.getDragState(O)===2&&this.processDragThresholdEvent(O,this.manager.game.loop.now),this.getDragState(O)!==4)return 0;var M=this._tempZones,w=this._drag[O.id];w.length>1&&(w=w.slice(0));for(var D=0;D<w.length;D++){var U=w[D],Y=U.input,H=Y.target;if(H){var X=M.indexOf(H);X===0?(U.emit(l.GAMEOBJECT_DRAG_OVER,O,H),this.emit(l.DRAG_OVER,O,U,H)):X>0?(U.emit(l.GAMEOBJECT_DRAG_LEAVE,O,H),this.emit(l.DRAG_LEAVE,O,U,H),Y.target=M[0],H=Y.target,U.emit(l.GAMEOBJECT_DRAG_ENTER,O,H),this.emit(l.DRAG_ENTER,O,U,H)):(U.emit(l.GAMEOBJECT_DRAG_LEAVE,O,H),this.emit(l.DRAG_LEAVE,O,U,H),M[0]?(Y.target=M[0],H=Y.target,U.emit(l.GAMEOBJECT_DRAG_ENTER,O,H),this.emit(l.DRAG_ENTER,O,U,H)):Y.target=null)}else!H&&M[0]&&(Y.target=M[0],H=Y.target,U.emit(l.GAMEOBJECT_DRAG_ENTER,O,H),this.emit(l.DRAG_ENTER,O,U,H));var G,z,b=O.positionToCamera(Y.dragStartCamera);if(!U.parentContainer)G=b.x-Y.dragX,z=b.y-Y.dragY;else{var N=b.x-Y.dragStartXGlobal,W=b.y-Y.dragStartYGlobal,K=U.getParentRotation(),J=N*Math.cos(K)+W*Math.sin(K),j=W*Math.cos(K)-N*Math.sin(K);J*=1/U.parentContainer.scaleX,j*=1/U.parentContainer.scaleY,G=J+Y.dragStartX,z=j+Y.dragStartY}U.emit(l.GAMEOBJECT_DRAG,O,G,z),this.emit(l.DRAG,O,U,G,z)}return w.length},processDragUpEvent:function(O){var M=this._drag[O.id];M.length>1&&(M=M.slice(0));for(var w=0;w<M.length;w++){var D=M[w],U=D.input;if(U&&U.dragState===2){U.dragState=0,U.dragX=U.localX-D.displayOriginX,U.dragY=U.localY-D.displayOriginY,U.dragStartCamera=null;var Y=!1,H=U.target;H&&(D.emit(l.GAMEOBJECT_DROP,O,H),this.emit(l.DROP,O,D,H),U.target=null,Y=!0),D.input&&D.input.enabled&&(D.emit(l.GAMEOBJECT_DRAG_END,O,U.dragX,U.dragY,Y),this.emit(l.DRAG_END,O,D,Y))}}return this.setDragState(O,0),M.splice(0),0},processMoveEvents:function(O){var M=0,w=this._temp,D=this._eventData,U=this._eventContainer;D.cancelled=!1;for(var Y=0;Y<w.length;Y++){var H=w[Y];if(!(!H.input||!H.input.enabled)&&(M++,H.emit(l.GAMEOBJECT_POINTER_MOVE,O,H.input.localX,H.input.localY,U),D.cancelled||!this.isActive()||H.input&&H.input.enabled&&(this.emit(l.GAMEOBJECT_MOVE,O,H,U),D.cancelled||!this.isActive()||this.topOnly)))break}return!D.cancelled&&this.isActive()&&this.emit(l.POINTER_MOVE,O,w),M},processWheelEvent:function(O){var M=0,w=this._temp,D=this._eventData,U=this._eventContainer;D.cancelled=!1;for(var Y=O.deltaX,H=O.deltaY,X=O.deltaZ,G=0;G<w.length;G++){var z=w[G];if(!(!z.input||!z.input.enabled)&&(M++,z.emit(l.GAMEOBJECT_POINTER_WHEEL,O,Y,H,X,U),D.cancelled||!this.isActive()||z.input&&z.input.enabled&&(this.emit(l.GAMEOBJECT_WHEEL,O,z,Y,H,X,U),D.cancelled||!this.isActive())))break}return!D.cancelled&&this.isActive()&&this.emit(l.POINTER_WHEEL,O,w,Y,H,X),M},processOverEvents:function(O){var M=this._temp,w=0,D=M.length,U=[];if(D>0){var Y=this.manager,H=this._eventData,X=this._eventContainer;H.cancelled=!1;for(var G=0;G<D;G++){var z=M[G];if(!(!z.input||!z.input.enabled)&&(U.push(z),Y.setCursor(z.input),z.emit(l.GAMEOBJECT_POINTER_OVER,O,z.input.localX,z.input.localY,X),w++,H.cancelled||!this.isActive()||z.input&&z.input.enabled&&(this.emit(l.GAMEOBJECT_OVER,O,z,X),H.cancelled||!this.isActive())))break}!H.cancelled&&this.isActive()&&this.emit(l.POINTER_OVER,O,U)}return this._over[O.id]=U,w},processOutEvents:function(O){var M=this._over[O.id],w=0,D=M.length;if(D>0){var U=this.manager,Y=this._eventData,H=this._eventContainer;Y.cancelled=!1,this.sortGameObjects(M,O);for(var X=0;X<D;X++){var G=M[X];if(G=M[X],!(!G.input||!G.input.enabled)&&(U.resetCursor(G.input),G.emit(l.GAMEOBJECT_POINTER_OUT,O,H),w++,Y.cancelled||!this.isActive()||G.input&&G.input.enabled&&(this.emit(l.GAMEOBJECT_OUT,O,G,H),Y.cancelled||!this.isActive())))break}!Y.cancelled&&this.isActive()&&this.emit(l.POINTER_OUT,O,M),this._over[O.id]=[]}return w},processOverOutEvents:function(O){var M=this._temp,w,D,U=[],Y=[],H=[],X=this._over[O.id],G=this._drag[O.id],z=this.manager;for(w=0;w<X.length;w++)D=X[w],M.indexOf(D)===-1&&G.indexOf(D)===-1?U.push(D):H.push(D);for(w=0;w<M.length;w++)D=M[w],X.indexOf(D)===-1&&Y.push(D);var b=U.length,N=0,W=this._eventData,K=this._eventContainer;if(W.cancelled=!1,b>0){for(this.sortGameObjects(U,O),w=0;w<b&&(D=U[w],!(!(!D.input||!D.input.enabled)&&(z.resetCursor(D.input),D.emit(l.GAMEOBJECT_POINTER_OUT,O,K),N++,W.cancelled||!this.isActive()||D.input&&D.input.enabled&&(this.emit(l.GAMEOBJECT_OUT,O,D,K),W.cancelled||!this.isActive()))));w++);(!W.cancelled||this.isActive())&&this.emit(l.POINTER_OUT,O,U)}if(b=Y.length,W.cancelled=!1,b>0){for(this.sortGameObjects(Y,O),w=0;w<b&&(D=Y[w],!(!(!D.input||!D.input.enabled)&&(z.setCursor(D.input),D.emit(l.GAMEOBJECT_POINTER_OVER,O,D.input.localX,D.input.localY,K),N++,W.cancelled||!this.isActive()||D.input&&D.input.enabled&&(this.emit(l.GAMEOBJECT_OVER,O,D,K),W.cancelled||!this.isActive()))));w++);!W.cancelled&&this.isActive()&&this.emit(l.POINTER_OVER,O,Y)}return X=H.concat(Y),this._over[O.id]=this.sortGameObjects(X,O),N},processUpEvents:function(O){var M=this._temp,w=this._eventData,D=this._eventContainer;w.cancelled=!1;for(var U=0;U<M.length;U++){var Y=M[U];if(!(!Y.input||!Y.input.enabled)&&(Y.emit(l.GAMEOBJECT_POINTER_UP,O,Y.input.localX,Y.input.localY,D),w.cancelled||!this.isActive()||Y.input&&Y.input.enabled&&(this.emit(l.GAMEOBJECT_UP,O,Y,D),w.cancelled||!this.isActive())))break}return!w.cancelled&&this.isActive()&&(O.upElement===this.manager.game.canvas?this.emit(l.POINTER_UP,O,M):this.emit(l.POINTER_UP_OUTSIDE,O)),M.length},forceDownState:function(O,M){this.forceState(O,M,l.GAMEOBJECT_POINTER_DOWN,l.GAMEOBJECT_DOWN,!1)},forceUpState:function(O,M){this.forceState(O,M,l.GAMEOBJECT_POINTER_UP,l.GAMEOBJECT_UP,!1)},forceOverState:function(O,M){this.forceState(O,M,l.GAMEOBJECT_POINTER_OVER,l.GAMEOBJECT_OVER,!0)},forceOutState:function(O,M){this.forceState(O,M,l.GAMEOBJECT_POINTER_OUT,l.GAMEOBJECT_OUT,!1)},forceState:function(O,M,w,D,U){var Y=this._eventData,H=this._eventContainer;Y.cancelled=!1,M.input&&M.input.enabled&&(M.emit(w,O,M.input.localX,M.input.localY,H),U&&this.setCursor(M.input),!Y.cancelled&&this.isActive()&&M.input&&M.input.enabled&&this.emit(D,O,M,H))},queueForInsertion:function(O){return this._pendingInsertion.indexOf(O)===-1&&this._list.indexOf(O)===-1&&this._pendingInsertion.push(O),this},queueForRemoval:function(O){return this._pendingRemoval.push(O),this},setDraggable:function(O,M){M===void 0&&(M=!0),Array.isArray(O)||(O=[O]);for(var w=0;w<O.length;w++){var D=O[w];D.input.draggable=M;var U=this._draggable.indexOf(D);M&&U===-1?this._draggable.push(D):!M&&U>-1&&this._draggable.splice(U,1)}return this},makePixelPerfect:function(O){O===void 0&&(O=1);var M=this.systems.textures;return e(M,O)},setHitArea:function(O,M,w){if(M===void 0)return this.setHitAreaFromTexture(O);Array.isArray(O)||(O=[O]);var D=!1,U=!1,Y=!1,H=!1,X=!1,G=!0;if(m(M)&&Object.keys(M).length){var z=M,b=O.some(function(j){return j.hasOwnProperty("faces")});if(!b){M=f(z,"hitArea",null),w=f(z,"hitAreaCallback",null),X=f(z,"pixelPerfect",!1);var N=f(z,"alphaTolerance",1);X&&(M={},w=this.makePixelPerfect(N))}D=f(z,"draggable",!1),U=f(z,"dropZone",!1),Y=f(z,"cursor",!1),H=f(z,"useHandCursor",!1),(!M||!w)&&(this.setHitAreaFromTexture(O),G=!1)}else typeof M=="function"&&!w&&(w=M,M={});for(var W=0;W<O.length;W++){var K=O[W];if(X&&K.type==="Container"){console.warn("Cannot pixelPerfect test a Container. Use a custom callback.");continue}var J=K.input?K.input:r(K,M,w);J.customHitArea=G,J.dropZone=U,J.cursor=H?"pointer":Y,K.input=J,D&&this.setDraggable(K),this.queueForInsertion(K)}return this},setHitAreaCircle:function(O,M,w,D,U){U===void 0&&(U=p);var Y=new h(M,w,D);return this.setHitArea(O,Y,U)},setHitAreaEllipse:function(O,M,w,D,U,Y){Y===void 0&&(Y=i);var H=new o(M,w,D,U);return this.setHitArea(O,H,Y)},setHitAreaFromTexture:function(O,M){M===void 0&&(M=T),Array.isArray(O)||(O=[O]);for(var w=0;w<O.length;w++){var D=O[w],U=D.frame,Y=0,H=0;if(D.width?(Y=D.width,H=D.height):U&&(Y=U.realWidth,H=U.realHeight),D.type==="Container"&&(Y===0||H===0)){console.warn("Container.setInteractive must specify a Shape or call setSize() first");continue}Y!==0&&H!==0&&(D.input=r(D,new x(0,0,Y,H),M),this.queueForInsertion(D))}return this},setHitAreaRectangle:function(O,M,w,D,U,Y){Y===void 0&&(Y=T);var H=new x(M,w,D,U);return this.setHitArea(O,H,Y)},setHitAreaTriangle:function(O,M,w,D,U,Y,H,X){X===void 0&&(X=L);var G=new P(M,w,D,U,Y,H);return this.setHitArea(O,G,X)},enableDebug:function(O,M){M===void 0&&(M=65280);var w=O.input;if(!w||!w.hitArea)return this;var D=w.hitArea,U=D.type,Y=w.hitAreaDebug,H=this.systems.add,X=this.systems.updateList;Y&&(X.remove(Y),Y.destroy(),Y=null);var G=0,z=0;switch(U){case d.CIRCLE:Y=H.arc(0,0,D.radius),G=D.x-D.radius,z=D.y-D.radius;break;case d.ELLIPSE:Y=H.ellipse(0,0,D.width,D.height),G=D.x-D.width/2,z=D.y-D.height/2;break;case d.LINE:Y=H.line(0,0,D.x1,D.y1,D.x2,D.y2);break;case d.POLYGON:Y=H.polygon(0,0,D.points);break;case d.RECTANGLE:Y=H.rectangle(0,0,D.width,D.height),G=D.x,z=D.y;break;case d.TRIANGLE:Y=H.triangle(0,0,D.x1,D.y1,D.x2,D.y2,D.x3,D.y3);break}return Y&&(Y.isFilled=!1,Y.strokeColor=M,Y.preUpdate=function(){Y.setVisible(O.visible),Y.setStrokeStyle(1/O.scale,Y.strokeColor),Y.setDisplayOrigin(O.displayOriginX,O.displayOriginY);var b=O.x,N=O.y,W=O.rotation,K=O.scaleX,J=O.scaleY;if(O.parentContainer){var j=O.getWorldTransformMatrix();b=j.tx,N=j.ty,W=j.rotation,K=j.scaleX,J=j.scaleY}Y.setRotation(W),Y.setScale(K,J),Y.setPosition(b+G*K,N+z*J),Y.setScrollFactor(O.scrollFactorX,O.scrollFactorY),Y.setDepth(O.depth)},X.add(Y),w.hitAreaDebug=Y),this},removeDebug:function(O){var M=O.input;if(M&&M.hitAreaDebug){var w=M.hitAreaDebug;w.destroy(),M.hitAreaDebug=null}return this},setPollAlways:function(){return this.setPollRate(0)},setPollOnMove:function(){return this.setPollRate(-1)},setPollRate:function(O){return this.pollRate=O,this._pollTimer=0,this},setGlobalTopOnly:function(O){return this.manager.globalTopOnly=O,this},setTopOnly:function(O){return this.topOnly=O,this},sortGameObjects:function(O,M){if(O.length<2||!M.camera)return O;var w=M.camera.renderList;return O.sort(function(D,U){var Y=Math.max(w.indexOf(D),0),H=Math.max(w.indexOf(U),0);return H-Y})},sortDropZones:function(O){return O.length<2?O:(this.scene.sys.depthSort(),O.sort(this.sortDropZoneHandler.bind(this)))},sortDropZoneHandler:function(O,M){if(!O.parentContainer&&!M.parentContainer)return this.displayList.getIndex(M)-this.displayList.getIndex(O);if(O.parentContainer===M.parentContainer)return M.parentContainer.getIndex(M)-O.parentContainer.getIndex(O);if(O.parentContainer===M)return-1;if(M.parentContainer===O)return 1;for(var w=O.getIndexList(),D=M.getIndexList(),U=Math.min(w.length,D.length),Y=0;Y<U;Y++){var H=w[Y],X=D[Y];if(H!==X)return X-H}return D.length-w.length},stopPropagation:function(){return this.manager._tempSkip=!0,this},addPointer:function(O){return this.manager.addPointer(O)},setDefaultCursor:function(O){return this.manager.setDefaultCursor(O),this},transitionIn:function(){this.enabled=this.settings.transitionAllowInput},transitionComplete:function(){this.settings.transitionAllowInput||(this.enabled=!0)},transitionOut:function(){this.enabled=this.settings.transitionAllowInput},shutdown:function(){this.pluginEvents.emit(l.SHUTDOWN),this._temp.length=0,this._list.length=0,this._draggable.length=0,this._pendingRemoval.length=0,this._pendingInsertion.length=0,this._dragState.length=0;for(var O=0;O<10;O++)this._drag[O]=[],this._over[O]=[];this.removeAllListeners();var M=this.manager;M.canvas.style.cursor=M.defaultCursor;var w=this.systems.events;w.off(S.TRANSITION_START,this.transitionIn,this),w.off(S.TRANSITION_OUT,this.transitionOut,this),w.off(S.TRANSITION_COMPLETE,this.transitionComplete,this),w.off(S.PRE_UPDATE,this.preUpdate,this),M.events.off(l.GAME_OUT,this.onGameOut,this),M.events.off(l.GAME_OVER,this.onGameOver,this),w.off(S.SHUTDOWN,this.shutdown,this)},resetPointers:function(){for(var O=this.manager.pointers,M=0;M<O.length;M++)O[M].reset()},destroy:function(){this.shutdown(),this.pluginEvents.emit(l.DESTROY),this.pluginEvents.removeAllListeners(),this.scene.sys.events.off(S.START,this.start,this),this.scene=null,this.cameras=null,this.manager=null,this.events=null,this.mouse=null},x:{get:function(){return this.manager.activePointer.x}},y:{get:function(){return this.manager.activePointer.y}},isOver:{get:function(){return this.manager.isOver}},mousePointer:{get:function(){return this.manager.mousePointer}},activePointer:{get:function(){return this.manager.activePointer}},pointer1:{get:function(){return this.manager.pointers[1]}},pointer2:{get:function(){return this.manager.pointers[2]}},pointer3:{get:function(){return this.manager.pointers[3]}},pointer4:{get:function(){return this.manager.pointers[4]}},pointer5:{get:function(){return this.manager.pointers[5]}},pointer6:{get:function(){return this.manager.pointers[6]}},pointer7:{get:function(){return this.manager.pointers[7]}},pointer8:{get:function(){return this.manager.pointers[8]}},pointer9:{get:function(){return this.manager.pointers[9]}},pointer10:{get:function(){return this.manager.pointers[10]}}});g.register("InputPlugin",I,"input"),v.exports=I},89639:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(35154),p={},a={};a.register=function(n,r,e,s,o){p[n]={plugin:r,mapping:e,settingsKey:s,configKey:o}},a.getPlugin=function(n){return p[n]},a.install=function(n){var r=n.scene.sys,e=r.settings.input,s=r.game.config;for(var o in p){var i=p[o].plugin,l=p[o].mapping,u=p[o].settingsKey,f=p[o].configKey;h(e,u,s[f])&&(n[l]=new i(n))}},a.remove=function(n){p.hasOwnProperty(n)&&delete p[n]},v.exports=a},42515:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(31040),p=t(83419),a=t(20339),n=t(43855),r=t(47235),e=t(26099),s=t(25892),o=new p({initialize:function(l,u){this.manager=l,this.id=u,this.event,this.downElement,this.upElement,this.camera=null,this.button=0,this.buttons=0,this.position=new e,this.prevPosition=new e,this.midPoint=new e(-1,-1),this.velocity=new e,this.angle=0,this.distance=0,this.smoothFactor=0,this.motionFactor=.2,this.worldX=0,this.worldY=0,this.moveTime=0,this.downX=0,this.downY=0,this.downTime=0,this.upX=0,this.upY=0,this.upTime=0,this.primaryDown=!1,this.isDown=!1,this.wasTouch=!1,this.wasCanceled=!1,this.movementX=0,this.movementY=0,this.identifier=0,this.pointerId=null,this.active=u===0,this.locked=!1,this.deltaX=0,this.deltaY=0,this.deltaZ=0},updateWorldPoint:function(i){var l=i.getWorldPoint(this.x,this.y);return this.worldX=l.x,this.worldY=l.y,this},positionToCamera:function(i,l){return i.getWorldPoint(this.x,this.y,l)},updateMotion:function(){var i=this.position.x,l=this.position.y,u=this.midPoint.x,f=this.midPoint.y;if(!(i===u&&l===f)){var d=r(this.motionFactor,u,i),c=r(this.motionFactor,f,l);n(d,i,.1)&&(d=i),n(c,l,.1)&&(c=l),this.midPoint.set(d,c);var m=i-d,g=l-c;this.velocity.set(m,g),this.angle=h(d,c,i,l),this.distance=Math.sqrt(m*m+g*g)}},up:function(i){"buttons"in i&&(this.buttons=i.buttons),this.event=i,this.button=i.button,this.upElement=i.target,this.manager.transformPointer(this,i.pageX,i.pageY,!1),i.button===0&&(this.primaryDown=!1,this.upX=this.x,this.upY=this.y),this.buttons===0&&(this.isDown=!1,this.upTime=i.timeStamp,this.wasTouch=!1)},down:function(i){"buttons"in i&&(this.buttons=i.buttons),this.event=i,this.button=i.button,this.downElement=i.target,this.manager.transformPointer(this,i.pageX,i.pageY,!1),i.button===0&&(this.primaryDown=!0,this.downX=this.x,this.downY=this.y),s.macOS&&i.ctrlKey&&(this.buttons=2,this.primaryDown=!1),this.isDown||(this.isDown=!0,this.downTime=i.timeStamp),this.wasTouch=!1},move:function(i){"buttons"in i&&(this.buttons=i.buttons),this.event=i,this.manager.transformPointer(this,i.pageX,i.pageY,!0),this.locked&&(this.movementX=i.movementX||i.mozMovementX||i.webkitMovementX||0,this.movementY=i.movementY||i.mozMovementY||i.webkitMovementY||0),this.moveTime=i.timeStamp,this.wasTouch=!1},wheel:function(i){"buttons"in i&&(this.buttons=i.buttons),this.event=i,this.manager.transformPointer(this,i.pageX,i.pageY,!1),this.deltaX=i.deltaX,this.deltaY=i.deltaY,this.deltaZ=i.deltaZ,this.wasTouch=!1},touchstart:function(i,l){i.pointerId&&(this.pointerId=i.pointerId),this.identifier=i.identifier,this.target=i.target,this.active=!0,this.buttons=1,this.event=l,this.downElement=i.target,this.manager.transformPointer(this,i.pageX,i.pageY,!1),this.primaryDown=!0,this.downX=this.x,this.downY=this.y,this.downTime=l.timeStamp,this.isDown=!0,this.wasTouch=!0,this.wasCanceled=!1,this.updateMotion()},touchmove:function(i,l){this.event=l,this.manager.transformPointer(this,i.pageX,i.pageY,!0),this.moveTime=l.timeStamp,this.wasTouch=!0,this.updateMotion()},touchend:function(i,l){this.buttons=0,this.event=l,this.upElement=i.target,this.manager.transformPointer(this,i.pageX,i.pageY,!1),this.primaryDown=!1,this.upX=this.x,this.upY=this.y,this.upTime=l.timeStamp,this.isDown=!1,this.wasTouch=!0,this.wasCanceled=!1,this.active=!1,this.updateMotion()},touchcancel:function(i,l){this.buttons=0,this.event=l,this.upElement=i.target,this.manager.transformPointer(this,i.pageX,i.pageY,!1),this.primaryDown=!1,this.upX=this.x,this.upY=this.y,this.upTime=l.timeStamp,this.isDown=!1,this.wasTouch=!0,this.wasCanceled=!0,this.active=!1},noButtonDown:function(){return this.buttons===0},leftButtonDown:function(){return!!(this.buttons&1)},rightButtonDown:function(){return!!(this.buttons&2)},middleButtonDown:function(){return!!(this.buttons&4)},backButtonDown:function(){return!!(this.buttons&8)},forwardButtonDown:function(){return!!(this.buttons&16)},leftButtonReleased:function(){return this.buttons===0?this.button===0&&!this.isDown:this.button===0},rightButtonReleased:function(){return this.buttons===0?this.button===2&&!this.isDown:this.button===2},middleButtonReleased:function(){return this.buttons===0?this.button===1&&!this.isDown:this.button===1},backButtonReleased:function(){return this.buttons===0?this.button===3&&!this.isDown:this.button===3},forwardButtonReleased:function(){return this.buttons===0?this.button===4&&!this.isDown:this.button===4},getDistance:function(){return this.isDown?a(this.downX,this.downY,this.x,this.y):a(this.downX,this.downY,this.upX,this.upY)},getDistanceX:function(){return this.isDown?Math.abs(this.downX-this.x):Math.abs(this.downX-this.upX)},getDistanceY:function(){return this.isDown?Math.abs(this.downY-this.y):Math.abs(this.downY-this.upY)},getDuration:function(){return this.isDown?this.manager.time-this.downTime:this.upTime-this.downTime},getAngle:function(){return this.isDown?h(this.downX,this.downY,this.x,this.y):h(this.downX,this.downY,this.upX,this.upY)},getInterpolatedPosition:function(i,l){i===void 0&&(i=10),l===void 0&&(l=[]);for(var u=this.prevPosition.x,f=this.prevPosition.y,d=this.position.x,c=this.position.y,m=0;m<i;m++){var g=1/i*m;l[m]={x:r(g,u,d),y:r(g,f,c)}}return l},reset:function(){this.event=null,this.downElement=null,this.upElement=null,this.button=0,this.buttons=0,this.position.set(0,0),this.prevPosition.set(0,0),this.midPoint.set(-1,-1),this.velocity.set(0,0),this.angle=0,this.distance=0,this.worldX=0,this.worldY=0,this.downX=0,this.downY=0,this.upX=0,this.upY=0,this.moveTime=0,this.upTime=0,this.downTime=0,this.primaryDown=!1,this.isDown=!1,this.wasTouch=!1,this.wasCanceled=!1,this.movementX=0,this.movementY=0,this.identifier=0,this.pointerId=null,this.deltaX=0,this.deltaY=0,this.deltaZ=0,this.active=this.id===0},destroy:function(){this.camera=null,this.manager=null,this.position=null},x:{get:function(){return this.position.x},set:function(i){this.position.x=i}},y:{get:function(){return this.position.y},set:function(i){this.position.y=i}},time:{get:function(){return this.event?this.event.timeStamp:0}}});v.exports=o},93301:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={MOUSE_DOWN:0,MOUSE_MOVE:1,MOUSE_UP:2,TOUCH_START:3,TOUCH_MOVE:4,TOUCH_END:5,POINTER_LOCK_CHANGE:6,TOUCH_CANCEL:7,MOUSE_WHEEL:8};v.exports=y},7179:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="boot"},85375:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="destroy"},39843:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="dragend"},23388:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="dragenter"},16133:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="drag"},27829:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="dragleave"},53904:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="dragover"},56058:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="dragstart"},2642:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="drop"},88171:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="gameobjectdown"},36147:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="dragend"},71692:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="dragenter"},96149:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="drag"},81285:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="dragleave"},74048:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="dragover"},21322:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="dragstart"},49378:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="drop"},86754:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="gameobjectmove"},86433:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="gameobjectout"},60709:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="gameobjectover"},24081:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="pointerdown"},11172:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="pointermove"},18907:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="pointerout"},95579:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="pointerover"},35368:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="pointerup"},26972:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="wheel"},47078:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="gameobjectup"},73802:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="gameobjectwheel"},56718:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="gameout"},25936:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="gameover"},27503:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="boot"},50852:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="process"},96438:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="update"},59152:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="pointerlockchange"},47777:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="pointerdown"},27957:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="pointerdownoutside"},19444:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="pointermove"},54251:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="pointerout"},18667:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="pointerover"},27192:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="pointerup"},24652:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="pointerupoutside"},45132:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="wheel"},44512:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="preupdate"},15757:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="shutdown"},41637:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="start"},93802:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="update"},8214:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={BOOT:t(7179),DESTROY:t(85375),DRAG_END:t(39843),DRAG_ENTER:t(23388),DRAG:t(16133),DRAG_LEAVE:t(27829),DRAG_OVER:t(53904),DRAG_START:t(56058),DROP:t(2642),GAME_OUT:t(56718),GAME_OVER:t(25936),GAMEOBJECT_DOWN:t(88171),GAMEOBJECT_DRAG_END:t(36147),GAMEOBJECT_DRAG_ENTER:t(71692),GAMEOBJECT_DRAG:t(96149),GAMEOBJECT_DRAG_LEAVE:t(81285),GAMEOBJECT_DRAG_OVER:t(74048),GAMEOBJECT_DRAG_START:t(21322),GAMEOBJECT_DROP:t(49378),GAMEOBJECT_MOVE:t(86754),GAMEOBJECT_OUT:t(86433),GAMEOBJECT_OVER:t(60709),GAMEOBJECT_POINTER_DOWN:t(24081),GAMEOBJECT_POINTER_MOVE:t(11172),GAMEOBJECT_POINTER_OUT:t(18907),GAMEOBJECT_POINTER_OVER:t(95579),GAMEOBJECT_POINTER_UP:t(35368),GAMEOBJECT_POINTER_WHEEL:t(26972),GAMEOBJECT_UP:t(47078),GAMEOBJECT_WHEEL:t(73802),MANAGER_BOOT:t(27503),MANAGER_PROCESS:t(50852),MANAGER_UPDATE:t(96438),POINTER_DOWN:t(47777),POINTER_DOWN_OUTSIDE:t(27957),POINTER_MOVE:t(19444),POINTER_OUT:t(54251),POINTER_OVER:t(18667),POINTER_UP:t(27192),POINTER_UP_OUTSIDE:t(24652),POINTER_WHEEL:t(45132),POINTERLOCK_CHANGE:t(59152),PRE_UPDATE:t(44512),SHUTDOWN:t(15757),START:t(41637),UPDATE:t(93802)}},97421:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),p=new h({initialize:function(n,r){this.pad=n,this.events=n.events,this.index=r,this.value=0,this.threshold=.1},update:function(a){this.value=a},getValue:function(){return Math.abs(this.value)<this.threshold?0:this.value},destroy:function(){this.pad=null,this.events=null}});v.exports=p},28884:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),p=t(92734),a=new h({initialize:function(r,e){this.pad=r,this.events=r.manager,this.index=e,this.value=0,this.threshold=1,this.pressed=!1},update:function(n){this.value=n;var r=this.pad,e=this.index;n>=this.threshold?this.pressed||(this.pressed=!0,this.events.emit(p.BUTTON_DOWN,r,this,n),this.pad.emit(p.GAMEPAD_BUTTON_DOWN,e,n,this)):this.pressed&&(this.pressed=!1,this.events.emit(p.BUTTON_UP,r,this,n),this.pad.emit(p.GAMEPAD_BUTTON_UP,e,n,this))},destroy:function(){this.pad=null,this.events=null}});v.exports=a},99125:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(97421),p=t(28884),a=t(83419),n=t(50792),r=t(26099),e=new a({Extends:n,initialize:function(o,i){n.call(this),this.manager=o,this.pad=i,this.id=i.id,this.index=i.index;for(var l=[],u=0;u<i.buttons.length;u++)l.push(new p(this,u));this.buttons=l;var f=[];for(u=0;u<i.axes.length;u++)f.push(new h(this,u));this.axes=f,this.vibration=i.vibrationActuator;var d={value:0,pressed:!1};this._LCLeft=l[14]?l[14]:d,this._LCRight=l[15]?l[15]:d,this._LCTop=l[12]?l[12]:d,this._LCBottom=l[13]?l[13]:d,this._RCLeft=l[2]?l[2]:d,this._RCRight=l[1]?l[1]:d,this._RCTop=l[3]?l[3]:d,this._RCBottom=l[0]?l[0]:d,this._FBLeftTop=l[4]?l[4]:d,this._FBLeftBottom=l[6]?l[6]:d,this._FBRightTop=l[5]?l[5]:d,this._FBRightBottom=l[7]?l[7]:d;var c={value:0};this._HAxisLeft=f[0]?f[0]:c,this._VAxisLeft=f[1]?f[1]:c,this._HAxisRight=f[2]?f[2]:c,this._VAxisRight=f[3]?f[3]:c,this.leftStick=new r,this.rightStick=new r,this._created=performance.now()},getAxisTotal:function(){return this.axes.length},getAxisValue:function(s){return this.axes[s].getValue()},setAxisThreshold:function(s){for(var o=0;o<this.axes.length;o++)this.axes[o].threshold=s},getButtonTotal:function(){return this.buttons.length},getButtonValue:function(s){return this.buttons[s].value},isButtonDown:function(s){return this.buttons[s].pressed},update:function(s){if(!(s.timestamp<this._created)){var o,i=this.buttons,l=s.buttons,u=i.length;for(o=0;o<u;o++)i[o].update(l[o].value);var f=this.axes,d=s.axes;for(u=f.length,o=0;o<u;o++)f[o].update(d[o]);u>=2&&(this.leftStick.set(f[0].getValue(),f[1].getValue()),u>=4&&this.rightStick.set(f[2].getValue(),f[3].getValue()))}},destroy:function(){this.removeAllListeners(),this.manager=null,this.pad=null;var s;for(s=0;s<this.buttons.length;s++)this.buttons[s].destroy();for(s=0;s<this.axes.length;s++)this.axes[s].destroy();this.buttons=[],this.axes=[]},connected:{get:function(){return this.pad.connected}},timestamp:{get:function(){return this.pad.timestamp}},left:{get:function(){return this._LCLeft.pressed}},right:{get:function(){return this._LCRight.pressed}},up:{get:function(){return this._LCTop.pressed}},down:{get:function(){return this._LCBottom.pressed}},A:{get:function(){return this._RCBottom.pressed}},Y:{get:function(){return this._RCTop.pressed}},X:{get:function(){return this._RCLeft.pressed}},B:{get:function(){return this._RCRight.pressed}},L1:{get:function(){return this._FBLeftTop.value}},L2:{get:function(){return this._FBLeftBottom.value}},R1:{get:function(){return this._FBRightTop.value}},R2:{get:function(){return this._FBRightBottom.value}}});v.exports=e},56654:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),p=t(50792),a=t(92734),n=t(99125),r=t(35154),e=t(89639),s=t(8214),o=new h({Extends:p,initialize:function(l){p.call(this),this.scene=l.scene,this.settings=this.scene.sys.settings,this.sceneInputPlugin=l,this.enabled=!0,this.target,this.gamepads=[],this.queue=[],this.onGamepadHandler,this._pad1,this._pad2,this._pad3,this._pad4,l.pluginEvents.once(s.BOOT,this.boot,this),l.pluginEvents.on(s.START,this.start,this)},boot:function(){var i=this.scene.sys.game,l=this.settings.input,u=i.config;this.enabled=r(l,"gamepad",u.inputGamepad)&&i.device.input.gamepads,this.target=r(l,"gamepad.target",u.inputGamepadEventTarget),this.sceneInputPlugin.pluginEvents.once(s.DESTROY,this.destroy,this)},start:function(){this.enabled&&(this.startListeners(),this.refreshPads()),this.sceneInputPlugin.pluginEvents.once(s.SHUTDOWN,this.shutdown,this)},isActive:function(){return this.enabled&&this.scene.sys.isActive()},startListeners:function(){var i=this,l=this.target,u=function(f){f.defaultPrevented||!i.isActive()||(i.refreshPads(),i.queue.push(f))};this.onGamepadHandler=u,l.addEventListener("gamepadconnected",u,!1),l.addEventListener("gamepaddisconnected",u,!1),this.sceneInputPlugin.pluginEvents.on(s.UPDATE,this.update,this)},stopListeners:function(){this.target.removeEventListener("gamepadconnected",this.onGamepadHandler),this.target.removeEventListener("gamepaddisconnected",this.onGamepadHandler),this.sceneInputPlugin.pluginEvents.off(s.UPDATE,this.update);for(var i=0;i<this.gamepads.length;i++)this.gamepads[i].removeAllListeners()},disconnectAll:function(){for(var i=0;i<this.gamepads.length;i++)this.gamepads[i].pad.connected=!1},refreshPads:function(){var i=navigator.getGamepads();if(!i)this.disconnectAll();else for(var l=this.gamepads,u=0;u<i.length;u++){var f=i[u];if(f){var d=f.id,c=f.index,m=l[c];if(m)m.id!==d?(m.destroy(),l[c]=new n(this,f)):m.update(f);else{var g=new n(this,f);l[c]=g,this._pad1?this._pad2?this._pad3?this._pad4||(this._pad4=g):this._pad3=g:this._pad2=g:this._pad1=g}}}},getAll:function(){for(var i=[],l=this.gamepads,u=0;u<l.length;u++)l[u]&&i.push(l[u]);return i},getPad:function(i){for(var l=this.gamepads,u=0;u<l.length;u++)if(l[u]&&l[u].index===i)return l[u]},update:function(){if(this.enabled){this.refreshPads();var i=this.queue.length;if(i!==0)for(var l=this.queue.splice(0,i),u=0;u<i;u++){var f=l[u],d=this.getPad(f.gamepad.index);f.type==="gamepadconnected"?this.emit(a.CONNECTED,d,f):f.type==="gamepaddisconnected"&&this.emit(a.DISCONNECTED,d,f)}}},shutdown:function(){this.stopListeners(),this.removeAllListeners()},destroy:function(){this.shutdown();for(var i=0;i<this.gamepads.length;i++)this.gamepads[i]&&this.gamepads[i].destroy();this.gamepads=[],this.scene=null,this.settings=null,this.sceneInputPlugin=null,this.target=null},total:{get:function(){return this.gamepads.length}},pad1:{get:function(){return this._pad1}},pad2:{get:function(){return this._pad2}},pad3:{get:function(){return this._pad3}},pad4:{get:function(){return this._pad4}}});e.register("GamepadPlugin",o,"gamepad","gamepad","inputGamepad"),v.exports=o},89651:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={UP:12,DOWN:13,LEFT:14,RIGHT:15,SELECT:8,START:9,B:0,A:1,Y:2,X:3,LEFT_SHOULDER:4,RIGHT_SHOULDER:5}},65294:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={UP:12,DOWN:13,LEFT:14,RIGHT:15,SHARE:8,OPTIONS:9,PS:16,TOUCHBAR:17,X:0,CIRCLE:1,SQUARE:2,TRIANGLE:3,L1:4,R1:5,L2:6,R2:7,L3:10,R3:11,LEFT_STICK_H:0,LEFT_STICK_V:1,RIGHT_STICK_H:2,RIGHT_STICK_V:3}},90089:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={UP:12,DOWN:13,LEFT:14,RIGHT:15,MENU:16,A:0,B:1,X:2,Y:3,LB:4,RB:5,LT:6,RT:7,BACK:8,START:9,LS:10,RS:11,LEFT_STICK_H:0,LEFT_STICK_V:1,RIGHT_STICK_H:2,RIGHT_STICK_V:3}},64894:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={DUALSHOCK_4:t(65294),SNES_USB:t(89651),XBOX_360:t(90089)}},46008:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="down"},7629:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="up"},42206:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="connected"},86544:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="disconnected"},94784:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="down"},14325:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="up"},92734:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={BUTTON_DOWN:t(46008),BUTTON_UP:t(7629),CONNECTED:t(42206),DISCONNECTED:t(86544),GAMEPAD_BUTTON_DOWN:t(94784),GAMEPAD_BUTTON_UP:t(14325)}},48646:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={Axis:t(97421),Button:t(28884),Events:t(92734),Gamepad:t(99125),GamepadPlugin:t(56654),Configs:t(64894)}},14350:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(93301),p=t(79291),a={CreatePixelPerfectHandler:t(84409),CreateInteractiveObject:t(74457),Events:t(8214),Gamepad:t(48646),InputManager:t(7003),InputPlugin:t(48205),InputPluginCache:t(89639),Keyboard:t(51442),Mouse:t(87078),Pointer:t(42515),Touch:t(95618)};a=p(!1,a,h),v.exports=a},78970:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(72905),p=t(83419),a=t(8443),n=t(8214),r=t(46032),e=t(29747),s=new p({initialize:function(i){this.manager=i,this.queue=[],this.preventDefault=!0,this.captures=[],this.enabled=!1,this.target,this.onKeyDown=e,this.onKeyUp=e,i.events.once(n.MANAGER_BOOT,this.boot,this)},boot:function(){var o=this.manager.config;this.enabled=o.inputKeyboard,this.target=o.inputKeyboardEventTarget,this.addCapture(o.inputKeyboardCapture),!this.target&&window&&(this.target=window),this.enabled&&this.target&&this.startListeners(),this.manager.game.events.on(a.POST_STEP,this.postUpdate,this)},startListeners:function(){var o=this;this.onKeyDown=function(l){if(!(l.defaultPrevented||!o.enabled||!o.manager)){o.queue.push(l),o.manager.events.emit(n.MANAGER_PROCESS);var u=l.altKey||l.ctrlKey||l.shiftKey||l.metaKey;o.preventDefault&&!u&&o.captures.indexOf(l.keyCode)>-1&&l.preventDefault()}},this.onKeyUp=function(l){if(!(l.defaultPrevented||!o.enabled||!o.manager)){o.queue.push(l),o.manager.events.emit(n.MANAGER_PROCESS);var u=l.altKey||l.ctrlKey||l.shiftKey||l.metaKey;o.preventDefault&&!u&&o.captures.indexOf(l.keyCode)>-1&&l.preventDefault()}};var i=this.target;i&&(i.addEventListener("keydown",this.onKeyDown,!1),i.addEventListener("keyup",this.onKeyUp,!1),this.enabled=!0)},stopListeners:function(){var o=this.target;o.removeEventListener("keydown",this.onKeyDown,!1),o.removeEventListener("keyup",this.onKeyUp,!1),this.enabled=!1},postUpdate:function(){this.queue=[]},addCapture:function(o){typeof o=="string"&&(o=o.split(",")),Array.isArray(o)||(o=[o]);for(var i=this.captures,l=0;l<o.length;l++){var u=o[l];typeof u=="string"&&(u=r[u.trim().toUpperCase()]),i.indexOf(u)===-1&&i.push(u)}this.preventDefault=i.length>0},removeCapture:function(o){typeof o=="string"&&(o=o.split(",")),Array.isArray(o)||(o=[o]);for(var i=this.captures,l=0;l<o.length;l++){var u=o[l];typeof u=="string"&&(u=r[u.toUpperCase()]),h(i,u)}this.preventDefault=i.length>0},clearCaptures:function(){this.captures=[],this.preventDefault=!1},destroy:function(){this.stopListeners(),this.clearCaptures(),this.queue=[],this.manager.game.events.off(a.POST_RENDER,this.postUpdate,this),this.target=null,this.enabled=!1,this.manager=null}});v.exports=s},28846:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),p=t(50792),a=t(95922),n=t(8443),r=t(35154),e=t(8214),s=t(89639),o=t(30472),i=t(46032),l=t(87960),u=t(74600),f=t(44594),d=t(56583),c=new h({Extends:p,initialize:function(g){p.call(this),this.game=g.systems.game,this.scene=g.scene,this.settings=this.scene.sys.settings,this.sceneInputPlugin=g,this.manager=g.manager.keyboard,this.enabled=!0,this.keys=[],this.combos=[],this.prevCode=null,this.prevTime=0,this.prevType=null,g.pluginEvents.once(e.BOOT,this.boot,this),g.pluginEvents.on(e.START,this.start,this)},boot:function(){var m=this.settings.input;this.enabled=r(m,"keyboard",!0);var g=r(m,"keyboard.capture",null);g&&this.addCaptures(g),this.sceneInputPlugin.pluginEvents.once(e.DESTROY,this.destroy,this)},start:function(){this.sceneInputPlugin.manager.events.on(e.MANAGER_PROCESS,this.update,this),this.sceneInputPlugin.pluginEvents.once(e.SHUTDOWN,this.shutdown,this),this.game.events.on(n.BLUR,this.resetKeys,this),this.scene.sys.events.on(f.PAUSE,this.resetKeys,this),this.scene.sys.events.on(f.SLEEP,this.resetKeys,this)},isActive:function(){return this.enabled&&this.scene.sys.canInput()},addCapture:function(m){return this.manager.addCapture(m),this},removeCapture:function(m){return this.manager.removeCapture(m),this},getCaptures:function(){return this.manager.captures},enableGlobalCapture:function(){return this.manager.preventDefault=!0,this},disableGlobalCapture:function(){return this.manager.preventDefault=!1,this},clearCaptures:function(){return this.manager.clearCaptures(),this},createCursorKeys:function(){return this.addKeys({up:i.UP,down:i.DOWN,left:i.LEFT,right:i.RIGHT,space:i.SPACE,shift:i.SHIFT})},addKeys:function(m,g,x){g===void 0&&(g=!0),x===void 0&&(x=!1);var T={};if(typeof m=="string"){m=m.split(",");for(var S=0;S<m.length;S++){var P=m[S].trim();P&&(T[P]=this.addKey(P,g,x))}}else for(var L in m)T[L]=this.addKey(m[L],g,x);return T},addKey:function(m,g,x){g===void 0&&(g=!0),x===void 0&&(x=!1);var T=this.keys;if(m instanceof o){var S=T.indexOf(m);return S>-1?T[S]=m:T[m.keyCode]=m,g&&this.addCapture(m.keyCode),m.setEmitOnRepeat(x),m}return typeof m=="string"&&(m=i[m.toUpperCase()]),T[m]||(T[m]=new o(this,m),g&&this.addCapture(m),T[m].setEmitOnRepeat(x)),T[m]},removeKey:function(m,g,x){g===void 0&&(g=!1),x===void 0&&(x=!1);var T=this.keys,S;if(m instanceof o){var P=T.indexOf(m);P>-1&&(S=this.keys[P],this.keys[P]=void 0)}else typeof m=="string"&&(m=i[m.toUpperCase()]);return T[m]&&(S=T[m],T[m]=void 0),S&&(S.plugin=null,x&&this.removeCapture(S.keyCode),g&&S.destroy()),this},removeAllKeys:function(m,g){m===void 0&&(m=!1),g===void 0&&(g=!1);for(var x=this.keys,T=0;T<x.length;T++){var S=x[T];S&&(x[T]=void 0,g&&this.removeCapture(S.keyCode),m&&S.destroy())}return this},createCombo:function(m,g){return new l(this,m,g)},checkDown:function(m,g){if(g===void 0&&(g=0),this.enabled&&m.isDown){var x=d(this.time-m.timeDown,g);if(x>m._tick)return m._tick=x,!0}return!1},update:function(){var m=this.manager.queue,g=m.length;if(!(!this.isActive()||g===0))for(var x=this.keys,T=0;T<g;T++){var S=m[T],P=S.keyCode,L=x[P],I=!1;S.cancelled===void 0&&(S.cancelled=0,S.stopImmediatePropagation=function(){S.cancelled=1},S.stopPropagation=function(){S.cancelled=-1}),S.cancelled!==-1&&(P===this.prevCode&&S.timeStamp===this.prevTime&&S.type===this.prevType||(this.prevCode=P,this.prevTime=S.timeStamp,this.prevType=S.type,S.type==="keydown"?(L&&(I=L.isDown,L.onDown(S)),!S.cancelled&&(!L||!I)&&(u[P]&&this.emit(a.KEY_DOWN+u[P],S),S.cancelled||this.emit(a.ANY_KEY_DOWN,S))):(L&&L.onUp(S),S.cancelled||(u[P]&&this.emit(a.KEY_UP+u[P],S),S.cancelled||this.emit(a.ANY_KEY_UP,S))),S.cancelled===1&&(S.cancelled=0)))}},resetKeys:function(){for(var m=this.keys,g=0;g<m.length;g++)m[g]&&m[g].reset();return this},shutdown:function(){this.removeAllKeys(!0),this.removeAllListeners(),this.sceneInputPlugin.manager.events.off(e.MANAGER_PROCESS,this.update,this),this.game.events.off(n.BLUR,this.resetKeys),this.scene.sys.events.off(f.PAUSE,this.resetKeys,this),this.scene.sys.events.off(f.SLEEP,this.resetKeys,this),this.queue=[]},destroy:function(){this.shutdown();for(var m=this.keys,g=0;g<m.length;g++)m[g]&&m[g].destroy();this.keys=[],this.combos=[],this.queue=[],this.scene=null,this.settings=null,this.sceneInputPlugin=null,this.manager=null},time:{get:function(){return this.sceneInputPlugin.manager.time}}});s.register("KeyboardPlugin",c,"keyboard","keyboard","inputKeyboard"),v.exports=c},66970:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,h){return h.timeLastMatched=t.timeStamp,h.index++,h.index===h.size?!0:(h.current=h.keyCodes[h.index],!1)};v.exports=y},87960:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),p=t(95922),a=t(95540),n=t(68769),r=t(92803),e=new h({initialize:function(o,i,l){if(l===void 0&&(l={}),i.length<2)return!1;this.manager=o,this.enabled=!0,this.keyCodes=[];for(var u=0;u<i.length;u++){var f=i[u];typeof f=="string"?this.keyCodes.push(f.toUpperCase().charCodeAt(0)):typeof f=="number"?this.keyCodes.push(f):f.hasOwnProperty("keyCode")&&this.keyCodes.push(f.keyCode)}this.current=this.keyCodes[0],this.index=0,this.size=this.keyCodes.length,this.timeLastMatched=0,this.matched=!1,this.timeMatched=0,this.resetOnWrongKey=a(l,"resetOnWrongKey",!0),this.maxKeyDelay=a(l,"maxKeyDelay",0),this.resetOnMatch=a(l,"resetOnMatch",!1),this.deleteOnMatch=a(l,"deleteOnMatch",!1);var d=this,c=function(m){if(!(d.matched||!d.enabled)){var g=n(m,d);g&&(d.manager.emit(p.COMBO_MATCH,d,m),d.resetOnMatch?r(d):d.deleteOnMatch&&d.destroy())}};this.onKeyDown=c,this.manager.on(p.ANY_KEY_DOWN,this.onKeyDown)},progress:{get:function(){return this.index/this.size}},destroy:function(){this.enabled=!1,this.keyCodes=[],this.manager.off(p.ANY_KEY_DOWN,this.onKeyDown),this.manager=null}});v.exports=e},68769:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(66970),p=function(a,n){if(n.matched)return!0;var r=!1,e=!1;if(a.keyCode===n.current)if(n.index>0&&n.maxKeyDelay>0){var s=n.timeLastMatched+n.maxKeyDelay;a.timeStamp<=s&&(e=!0,r=h(a,n))}else e=!0,r=h(a,n);return!e&&n.resetOnWrongKey&&(n.index=0,n.current=n.keyCodes[0]),r&&(n.timeLastMatched=a.timeStamp,n.matched=!0,n.timeMatched=a.timeStamp),r};v.exports=p},92803:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){return t.current=t.keyCodes[0],t.index=0,t.timeLastMatched=0,t.matched=!1,t.timeMatched=0,t};v.exports=y},92612:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="keydown"},23345:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="keyup"},21957:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="keycombomatch"},44743:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="down"},3771:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="keydown-"},46358:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="keyup-"},75674:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="up"},95922:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={ANY_KEY_DOWN:t(92612),ANY_KEY_UP:t(23345),COMBO_MATCH:t(21957),DOWN:t(44743),KEY_DOWN:t(3771),KEY_UP:t(46358),UP:t(75674)}},51442:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={Events:t(95922),KeyboardManager:t(78970),KeyboardPlugin:t(28846),Key:t(30472),KeyCodes:t(46032),KeyCombo:t(87960),AdvanceKeyCombo:t(66970),ProcessKeyCombo:t(68769),ResetKeyCombo:t(92803),JustDown:t(90229),JustUp:t(38796),DownDuration:t(37015),UpDuration:t(41170)}},37015:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,h){h===void 0&&(h=50);var p=t.plugin.game.loop.time-t.timeDown;return t.isDown&&p<h};v.exports=y},90229:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){return t._justDown?(t._justDown=!1,!0):!1};v.exports=y},38796:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){return t._justUp?(t._justUp=!1,!0):!1};v.exports=y},30472:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),p=t(50792),a=t(95922),n=new h({Extends:p,initialize:function(e,s){p.call(this),this.plugin=e,this.keyCode=s,this.originalEvent=void 0,this.enabled=!0,this.isDown=!1,this.isUp=!0,this.altKey=!1,this.ctrlKey=!1,this.shiftKey=!1,this.metaKey=!1,this.location=0,this.timeDown=0,this.duration=0,this.timeUp=0,this.emitOnRepeat=!1,this.repeats=0,this._justDown=!1,this._justUp=!1,this._tick=-1},setEmitOnRepeat:function(r){return this.emitOnRepeat=r,this},onDown:function(r){this.originalEvent=r,this.enabled&&(this.altKey=r.altKey,this.ctrlKey=r.ctrlKey,this.shiftKey=r.shiftKey,this.metaKey=r.metaKey,this.location=r.location,this.repeats++,this.isDown?this.emitOnRepeat&&this.emit(a.DOWN,this,r):(this.isDown=!0,this.isUp=!1,this.timeDown=r.timeStamp,this.duration=0,this._justDown=!0,this._justUp=!1,this.emit(a.DOWN,this,r)))},onUp:function(r){this.originalEvent=r,this.enabled&&(this.isDown=!1,this.isUp=!0,this.timeUp=r.timeStamp,this.duration=this.timeUp-this.timeDown,this.repeats=0,this._justDown=!1,this._justUp=!0,this._tick=-1,this.emit(a.UP,this,r))},reset:function(){return this.isDown=!1,this.isUp=!0,this.altKey=!1,this.ctrlKey=!1,this.shiftKey=!1,this.metaKey=!1,this.timeDown=0,this.duration=0,this.timeUp=0,this.repeats=0,this._justDown=!1,this._justUp=!1,this._tick=-1,this},getDuration:function(){return this.isDown?this.plugin.game.loop.time-this.timeDown:0},destroy:function(){this.removeAllListeners(),this.originalEvent=null,this.plugin=null}});v.exports=n},46032:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PRINT_SCREEN:42,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,NUMPAD_ZERO:96,NUMPAD_ONE:97,NUMPAD_TWO:98,NUMPAD_THREE:99,NUMPAD_FOUR:100,NUMPAD_FIVE:101,NUMPAD_SIX:102,NUMPAD_SEVEN:103,NUMPAD_EIGHT:104,NUMPAD_NINE:105,NUMPAD_ADD:107,NUMPAD_SUBTRACT:109,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,SEMICOLON:186,PLUS:187,COMMA:188,MINUS:189,PERIOD:190,FORWARD_SLASH:191,BACK_SLASH:220,QUOTES:222,BACKTICK:192,OPEN_BRACKET:219,CLOSED_BRACKET:221,SEMICOLON_FIREFOX:59,COLON:58,COMMA_FIREFOX_WINDOWS:60,COMMA_FIREFOX:62,BRACKET_RIGHT_FIREFOX:174,BRACKET_LEFT_FIREFOX:175};v.exports=y},74600:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(46032),p={};for(var a in h)p[h[a]]=a;v.exports=p},41170:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,h){h===void 0&&(h=50);var p=t.plugin.game.loop.time-t.timeUp;return t.isUp&&p<h};v.exports=y},85098:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),p=t(89357),a=t(8214),n=t(29747),r=new h({initialize:function(s){this.manager=s,this.preventDefaultDown=!0,this.preventDefaultUp=!0,this.preventDefaultMove=!0,this.preventDefaultWheel=!1,this.enabled=!1,this.target,this.locked=!1,this.onMouseMove=n,this.onMouseDown=n,this.onMouseUp=n,this.onMouseDownWindow=n,this.onMouseUpWindow=n,this.onMouseOver=n,this.onMouseOut=n,this.onMouseWheel=n,this.pointerLockChange=n,this.isTop=!0,s.events.once(a.MANAGER_BOOT,this.boot,this)},boot:function(){var e=this.manager.config;this.enabled=e.inputMouse,this.target=e.inputMouseEventTarget,this.passive=e.inputMousePassive,this.preventDefaultDown=e.inputMousePreventDefaultDown,this.preventDefaultUp=e.inputMousePreventDefaultUp,this.preventDefaultMove=e.inputMousePreventDefaultMove,this.preventDefaultWheel=e.inputMousePreventDefaultWheel,this.target?typeof this.target=="string"&&(this.target=document.getElementById(this.target)):this.target=this.manager.game.canvas,e.disableContextMenu&&this.disableContextMenu(),this.enabled&&this.target&&this.startListeners()},disableContextMenu:function(){return this.target.addEventListener("contextmenu",function(e){return e.preventDefault(),!1}),this},requestPointerLock:function(){if(p.pointerLock){var e=this.target;e.requestPointerLock=e.requestPointerLock||e.mozRequestPointerLock||e.webkitRequestPointerLock,e.requestPointerLock()}},releasePointerLock:function(){p.pointerLock&&(document.exitPointerLock=document.exitPointerLock||document.mozExitPointerLock||document.webkitExitPointerLock,document.exitPointerLock())},startListeners:function(){var e=this.target;if(e){var s=this,o=this.manager,i=o.canvas,l=window&&window.focus&&o.game.config.autoFocus;this.onMouseMove=function(f){!f.defaultPrevented&&s.enabled&&o&&o.enabled&&(o.onMouseMove(f),s.preventDefaultMove&&f.preventDefault())},this.onMouseDown=function(f){l&&window.focus(),!f.defaultPrevented&&s.enabled&&o&&o.enabled&&(o.onMouseDown(f),s.preventDefaultDown&&f.target===i&&f.preventDefault())},this.onMouseDownWindow=function(f){f.sourceCapabilities&&f.sourceCapabilities.firesTouchEvents||!f.defaultPrevented&&s.enabled&&o&&o.enabled&&f.target!==i&&o.onMouseDown(f)},this.onMouseUp=function(f){!f.defaultPrevented&&s.enabled&&o&&o.enabled&&(o.onMouseUp(f),s.preventDefaultUp&&f.target===i&&f.preventDefault())},this.onMouseUpWindow=function(f){f.sourceCapabilities&&f.sourceCapabilities.firesTouchEvents||!f.defaultPrevented&&s.enabled&&o&&o.enabled&&f.target!==i&&o.onMouseUp(f)},this.onMouseOver=function(f){!f.defaultPrevented&&s.enabled&&o&&o.enabled&&o.setCanvasOver(f)},this.onMouseOut=function(f){!f.defaultPrevented&&s.enabled&&o&&o.enabled&&o.setCanvasOut(f)},this.onMouseWheel=function(f){!f.defaultPrevented&&s.enabled&&o&&o.enabled&&o.onMouseWheel(f),s.preventDefaultWheel&&f.target===i&&f.preventDefault()};var u={passive:!0};if(e.addEventListener("mousemove",this.onMouseMove),e.addEventListener("mousedown",this.onMouseDown),e.addEventListener("mouseup",this.onMouseUp),e.addEventListener("mouseover",this.onMouseOver,u),e.addEventListener("mouseout",this.onMouseOut,u),this.preventDefaultWheel?e.addEventListener("wheel",this.onMouseWheel,{passive:!1}):e.addEventListener("wheel",this.onMouseWheel,u),window&&o.game.config.inputWindowEvents)try{window.top.addEventListener("mousedown",this.onMouseDownWindow,u),window.top.addEventListener("mouseup",this.onMouseUpWindow,u)}catch{window.addEventListener("mousedown",this.onMouseDownWindow,u),window.addEventListener("mouseup",this.onMouseUpWindow,u),this.isTop=!1}p.pointerLock&&(this.pointerLockChange=function(f){var d=s.target;s.locked=document.pointerLockElement===d||document.mozPointerLockElement===d||document.webkitPointerLockElement===d,o.onPointerLockChange(f)},document.addEventListener("pointerlockchange",this.pointerLockChange,!0),document.addEventListener("mozpointerlockchange",this.pointerLockChange,!0),document.addEventListener("webkitpointerlockchange",this.pointerLockChange,!0)),this.enabled=!0}},stopListeners:function(){var e=this.target;e.removeEventListener("mousemove",this.onMouseMove),e.removeEventListener("mousedown",this.onMouseDown),e.removeEventListener("mouseup",this.onMouseUp),e.removeEventListener("mouseover",this.onMouseOver),e.removeEventListener("mouseout",this.onMouseOut),window&&(e=this.isTop?window.top:window,e.removeEventListener("mousedown",this.onMouseDownWindow),e.removeEventListener("mouseup",this.onMouseUpWindow)),p.pointerLock&&(document.removeEventListener("pointerlockchange",this.pointerLockChange,!0),document.removeEventListener("mozpointerlockchange",this.pointerLockChange,!0),document.removeEventListener("webkitpointerlockchange",this.pointerLockChange,!0))},destroy:function(){this.stopListeners(),this.target=null,this.enabled=!1,this.manager=null}});v.exports=r},87078:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={MouseManager:t(85098)}},36210:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),p=t(8214),a=t(29747),n=new h({initialize:function(e){this.manager=e,this.capture=!0,this.enabled=!1,this.target,this.onTouchStart=a,this.onTouchStartWindow=a,this.onTouchMove=a,this.onTouchEnd=a,this.onTouchEndWindow=a,this.onTouchCancel=a,this.onTouchCancelWindow=a,this.isTop=!0,e.events.once(p.MANAGER_BOOT,this.boot,this)},boot:function(){var r=this.manager.config;this.enabled=r.inputTouch,this.target=r.inputTouchEventTarget,this.capture=r.inputTouchCapture,this.target?typeof this.target=="string"&&(this.target=document.getElementById(this.target)):this.target=this.manager.game.canvas,r.disableContextMenu&&this.disableContextMenu(),this.enabled&&this.target&&this.startListeners()},disableContextMenu:function(){return this.target.addEventListener("contextmenu",function(r){return r.preventDefault(),!1}),this},startListeners:function(){var r=this.target;if(r){var e=this,s=this.manager,o=s.canvas,i=window&&window.focus&&s.game.config.autoFocus;this.onTouchMove=function(d){!d.defaultPrevented&&e.enabled&&s&&s.enabled&&(s.onTouchMove(d),e.capture&&d.cancelable&&d.preventDefault())},this.onTouchStart=function(d){i&&window.focus(),!d.defaultPrevented&&e.enabled&&s&&s.enabled&&(s.onTouchStart(d),e.capture&&d.cancelable&&d.target===o&&d.preventDefault())},this.onTouchStartWindow=function(d){!d.defaultPrevented&&e.enabled&&s&&s.enabled&&d.target!==o&&s.onTouchStart(d)},this.onTouchEnd=function(d){!d.defaultPrevented&&e.enabled&&s&&s.enabled&&(s.onTouchEnd(d),e.capture&&d.cancelable&&d.target===o&&d.preventDefault())},this.onTouchEndWindow=function(d){!d.defaultPrevented&&e.enabled&&s&&s.enabled&&d.target!==o&&s.onTouchEnd(d)},this.onTouchCancel=function(d){!d.defaultPrevented&&e.enabled&&s&&s.enabled&&(s.onTouchCancel(d),e.capture&&d.preventDefault())},this.onTouchCancelWindow=function(d){!d.defaultPrevented&&e.enabled&&s&&s.enabled&&s.onTouchCancel(d)};var l=this.capture,u={passive:!0},f={passive:!1};if(r.addEventListener("touchstart",this.onTouchStart,l?f:u),r.addEventListener("touchmove",this.onTouchMove,l?f:u),r.addEventListener("touchend",this.onTouchEnd,l?f:u),r.addEventListener("touchcancel",this.onTouchCancel,l?f:u),window&&s.game.config.inputWindowEvents)try{window.top.addEventListener("touchstart",this.onTouchStartWindow,f),window.top.addEventListener("touchend",this.onTouchEndWindow,f),window.top.addEventListener("touchcancel",this.onTouchCancelWindow,f)}catch{window.addEventListener("touchstart",this.onTouchStartWindow,f),window.addEventListener("touchend",this.onTouchEndWindow,f),window.addEventListener("touchcancel",this.onTouchCancelWindow,f),this.isTop=!1}this.enabled=!0}},stopListeners:function(){var r=this.target;r.removeEventListener("touchstart",this.onTouchStart),r.removeEventListener("touchmove",this.onTouchMove),r.removeEventListener("touchend",this.onTouchEnd),r.removeEventListener("touchcancel",this.onTouchCancel),window&&(r=this.isTop?window.top:window,r.removeEventListener("touchstart",this.onTouchStartWindow),r.removeEventListener("touchend",this.onTouchEndWindow),r.removeEventListener("touchcancel",this.onTouchCancelWindow))},destroy:function(){this.stopListeners(),this.target=null,this.enabled=!1,this.manager=null}});v.exports=n},95618:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={TouchManager:t(36210)}},41299:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),p=t(23906),a=t(54899),n=t(95540),r=t(98356),e=t(3374),s=t(84376),o=t(92638),i=new h({initialize:function(u,f){if(this.loader=u,this.cache=n(f,"cache",!1),this.type=n(f,"type",!1),!this.type)throw new Error("Invalid File type: "+this.type);this.key=n(f,"key",!1);var d=this.key;if(u.prefix&&u.prefix!==""&&(this.key=u.prefix+d),!this.key)throw new Error("Invalid File key: "+this.key);var c=n(f,"url");c===void 0?c=u.path+d+"."+n(f,"extension",""):typeof c=="string"&&!c.match(/^(?:blob:|data:|capacitor:\/\/|http:\/\/|https:\/\/|\/\/)/)&&(c=u.path+c),this.url=c,this.src="",this.xhrSettings=o(n(f,"responseType",void 0)),n(f,"xhrSettings",!1)&&(this.xhrSettings=e(this.xhrSettings,n(f,"xhrSettings",{}))),this.xhrLoader=null,this.state=typeof this.url=="function"?p.FILE_POPULATED:p.FILE_PENDING,this.bytesTotal=0,this.bytesLoaded=-1,this.percentComplete=-1,this.crossOrigin=void 0,this.data=void 0,this.config=n(f,"config",{}),this.multiFile,this.linkFile,this.base64=typeof c=="string"&&c.indexOf("data:")===0,this.retryAttempts=n(f,"maxRetries",u.maxRetries)},setLink:function(l){this.linkFile=l,l.linkFile=this},resetXHR:function(){this.xhrLoader&&(this.xhrLoader.onload=void 0,this.xhrLoader.onerror=void 0,this.xhrLoader.onprogress=void 0)},load:function(){if(this.state===p.FILE_POPULATED)this.loader.nextFile(this,!0);else{if(this.state=p.FILE_LOADING,this.src=r(this,this.loader.baseURL),!this.src)throw new Error("URL Error in File: "+this.key+" from: "+this.url);this.src.indexOf("data:")===0&&(this.base64=!0),this.xhrLoader=s(this,this.loader.xhr)}},onLoad:function(l,u){var f=l.responseURL&&this.loader.localSchemes.some(function(m){return l.responseURL.indexOf(m)===0}),d=f&&u.target.status===0,c=!(u.target&&u.target.status!==200)||d;l.readyState===4&&l.status>=400&&l.status<=599&&(c=!1),this.state=p.FILE_LOADED,this.resetXHR(),this.loader.nextFile(this,c)},onBase64Load:function(l){this.xhrLoader=l,this.state=p.FILE_LOADED,this.percentComplete=1,this.loader.emit(a.FILE_PROGRESS,this,this.percentComplete),this.loader.nextFile(this,!0)},onError:function(){this.resetXHR(),this.retryAttempts>0?(this.retryAttempts--,this.load()):this.loader.nextFile(this,!1)},onProgress:function(l){l.lengthComputable&&(this.bytesLoaded=l.loaded,this.bytesTotal=l.total,this.percentComplete=Math.min(this.bytesLoaded/this.bytesTotal,1),this.loader.emit(a.FILE_PROGRESS,this,this.percentComplete))},onProcess:function(){this.state=p.FILE_PROCESSING,this.onProcessComplete()},onProcessComplete:function(){this.state=p.FILE_COMPLETE,this.multiFile&&this.multiFile.onFileComplete(this),this.loader.fileProcessComplete(this)},onProcessError:function(){console.error('Failed to process file: %s "%s"',this.type,this.key),this.state=p.FILE_ERRORED,this.multiFile&&this.multiFile.onFileFailed(this),this.loader.fileProcessComplete(this)},hasCacheConflict:function(){return this.cache&&this.cache.exists(this.key)},addToCache:function(){this.cache&&this.data&&this.cache.add(this.key,this.data)},pendingDestroy:function(l){if(this.state!==p.FILE_PENDING_DESTROY){l===void 0&&(l=this.data);var u=this.key,f=this.type;this.loader.emit(a.FILE_COMPLETE,u,f,l),this.loader.emit(a.FILE_KEY_COMPLETE+f+"-"+u,u,f,l),this.loader.flagForRemoval(this),this.state=p.FILE_PENDING_DESTROY}},destroy:function(){this.loader=null,this.cache=null,this.xhrSettings=null,this.multiFile=null,this.linkFile=null,this.data=null}});i.createObjectURL=function(l,u,f){if(typeof URL=="function")l.src=URL.createObjectURL(u);else{var d=new FileReader;d.onload=function(){l.removeAttribute("crossOrigin"),l.src="data:"+(u.type||f)+";base64,"+d.result.split(",")[1]},d.onerror=l.onerror,d.readAsDataURL(u)}},i.revokeObjectURL=function(l){typeof URL=="function"&&URL.revokeObjectURL(l.src)},v.exports=i},74099:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={},t={install:function(h){for(var p in y)h[p]=y[p]},register:function(h,p){y[h]=p},destroy:function(){y={}}};v.exports=t},98356:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,h){return t.url?t.url.match(/^(?:blob:|data:|capacitor:\/\/|http:\/\/|https:\/\/|\/\/)/)?t.url:h+t.url:!1};v.exports=y},74261:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),p=t(23906),a=t(35072),n=t(50792),r=t(54899),e=t(74099),s=t(95540),o=t(35154),i=t(41212),l=t(37277),u=t(44594),f=t(92638),d=new h({Extends:n,initialize:function(m){n.call(this);var g=m.sys.game.config,x=m.sys.settings.loader;this.scene=m,this.systems=m.sys,this.cacheManager=m.sys.cache,this.textureManager=m.sys.textures,this.sceneManager=m.sys.game.scene,e.install(this),this.prefix="",this.path="",this.baseURL="",this.setBaseURL(s(x,"baseURL",g.loaderBaseURL)),this.setPath(s(x,"path",g.loaderPath)),this.setPrefix(s(x,"prefix",g.loaderPrefix)),this.maxParallelDownloads=s(x,"maxParallelDownloads",g.loaderMaxParallelDownloads),this.xhr=f(s(x,"responseType",g.loaderResponseType),s(x,"async",g.loaderAsync),s(x,"user",g.loaderUser),s(x,"password",g.loaderPassword),s(x,"timeout",g.loaderTimeout),s(x,"withCredentials",g.loaderWithCredentials)),this.crossOrigin=s(x,"crossOrigin",g.loaderCrossOrigin),this.imageLoadType=s(x,"imageLoadType",g.loaderImageLoadType),this.localSchemes=s(x,"localScheme",g.loaderLocalScheme),this.totalToLoad=0,this.progress=0,this.list=new a,this.inflight=new a,this.queue=new a,this._deleteQueue=new a,this.totalFailed=0,this.totalComplete=0,this.state=p.LOADER_IDLE,this.multiKeyIndex=0,this.maxRetries=s(x,"maxRetries",g.loaderMaxRetries),m.sys.events.once(u.BOOT,this.boot,this),m.sys.events.on(u.START,this.pluginStart,this)},boot:function(){this.systems.events.once(u.DESTROY,this.destroy,this)},pluginStart:function(){this.systems.events.once(u.SHUTDOWN,this.shutdown,this)},setBaseURL:function(c){return c===void 0&&(c=""),c!==""&&c.substr(-1)!=="/"&&(c=c.concat("/")),this.baseURL=c,this},setPath:function(c){return c===void 0&&(c=""),c!==""&&c.substr(-1)!=="/"&&(c=c.concat("/")),this.path=c,this},setPrefix:function(c){return c===void 0&&(c=""),this.prefix=c,this},setCORS:function(c){return this.crossOrigin=c,this},addFile:function(c){Array.isArray(c)||(c=[c]);for(var m=0;m<c.length;m++){var g=c[m];this.keyExists(g)||(this.list.set(g),this.emit(r.ADD,g.key,g.type,this,g),this.isLoading()&&(this.totalToLoad++,this.updateProgress()))}},keyExists:function(c){var m=c.hasCacheConflict();return m||this.list.iterate(function(g){if(g.type===c.type&&g.key===c.key)return m=!0,!1}),!m&&this.isLoading()&&(this.inflight.iterate(function(g){if(g.type===c.type&&g.key===c.key)return m=!0,!1}),this.queue.iterate(function(g){if(g.type===c.type&&g.key===c.key)return m=!0,!1})),m},addPack:function(c,m){if(typeof m=="string"){var g=o(c,m);g&&(c={packKey:g})}var x=0,T=this.baseURL,S=this.path,P=this.prefix;for(var L in c)if(Object.prototype.hasOwnProperty.call(c,L)){var I=c[L],O=s(I,"baseURL",T),M=s(I,"path",S),w=s(I,"prefix",P),D=s(I,"files",null),U=s(I,"defaultType","void");if(Array.isArray(D)){this.setBaseURL(O),this.setPath(M),this.setPrefix(w);for(var Y=0;Y<D.length;Y++){var H=D[Y],X=H.hasOwnProperty("type")?H.type:U;this[X]&&(this[X](H),x++)}}}return this.setBaseURL(T),this.setPath(S),this.setPrefix(P),x>0},removePack:function(c,m){var g=this.systems.anims,x=this.cacheManager,T=this.textureManager,S={animation:"json",aseprite:"json",audio:"audio",audioSprite:"audio",binary:"binary",bitmapFont:"bitmapFont",css:null,glsl:"shader",html:"html",json:"json",obj:"obj",plugin:null,scenePlugin:null,script:null,spine:"json",text:"text",tilemapCSV:"tilemap",tilemapImpact:"tilemap",tilemapTiledJSON:"tilemap",video:"video",xml:"xml"},P;if(i(c))P=c;else if(P=x.json.get(c),!P){console.warn("Asset Pack not found in JSON cache:",c);return}m&&(P={_:P[m]});for(var L in P){var I=P[L],O=s(I,"prefix",""),M=s(I,"files"),w=s(I,"defaultType");if(Array.isArray(M))for(var D=0;D<M.length;D++){var U=M[D],Y=U.hasOwnProperty("type")?U.type:w;if(!Y){console.warn("No type:",U);continue}var H=O+U.key;if(Y==="animation"&&g.remove(H),!((Y==="aseprite"||Y==="atlas"||Y==="atlasXML"||Y==="htmlTexture"||Y==="image"||Y==="multiatlas"||Y==="spritesheet"||Y==="svg"||Y==="texture"||Y==="unityAtlas")&&(T.remove(H),!S[Y]))){if(Y==="pack"){this.removePack(H,U.dataKey);continue}if(Y==="spine"){var X=x.custom.spine.get(H);if(!X)continue;var G=X.prefix===void 0?"":X.prefix;x.custom.spine.remove(H);var z=x.custom.spineTextures.get(H);if(!z)continue;x.custom.spineTextures.remove(H);for(var b=0;b<z.pages.length;b++){var N=z.pages[b],W=G+N.name,K=H+":"+W;T.exists(K)?T.remove(K):T.remove(W)}}var J=S[Y];if(J!==null){if(!J){console.warn("Unknown type:",Y);continue}var j=x[J];j.remove(H)}}}}},isLoading:function(){return this.state===p.LOADER_LOADING||this.state===p.LOADER_PROCESSING},isReady:function(){return this.state===p.LOADER_IDLE||this.state===p.LOADER_COMPLETE},start:function(){this.isReady()&&(this.progress=0,this.totalFailed=0,this.totalComplete=0,this.totalToLoad=this.list.size,this.emit(r.START,this),this.list.size===0?this.loadComplete():(this.state=p.LOADER_LOADING,this.inflight.clear(),this.queue.clear(),this.updateProgress(),this.checkLoadQueue(),this.systems.events.on(u.UPDATE,this.update,this)))},updateProgress:function(){this.progress=1-(this.list.size+this.inflight.size)/this.totalToLoad,this.emit(r.PROGRESS,this.progress)},update:function(){this.state===p.LOADER_LOADING&&this.list.size>0&&this.inflight.size<this.maxParallelDownloads&&this.checkLoadQueue()},checkLoadQueue:function(){this.list.each(function(c){if((c.state===p.FILE_POPULATED||c.state===p.FILE_PENDING&&this.inflight.size<this.maxParallelDownloads)&&(this.inflight.set(c),this.list.delete(c),c.crossOrigin||(c.crossOrigin=this.crossOrigin),c.load()),this.inflight.size===this.maxParallelDownloads)return!1},this)},nextFile:function(c,m){this.inflight&&(this.inflight.delete(c),this.updateProgress(),m?(this.totalComplete++,this.queue.set(c),this.emit(r.FILE_LOAD,c),c.onProcess()):(this.totalFailed++,this._deleteQueue.set(c),this.emit(r.FILE_LOAD_ERROR,c),this.fileProcessComplete(c)))},fileProcessComplete:function(c){!this.scene||!this.systems||!this.systems.game||this.systems.game.pendingDestroy||(c.state===p.FILE_ERRORED?c.multiFile&&c.multiFile.onFileFailed(c):c.state===p.FILE_COMPLETE&&(c.multiFile?c.multiFile.isReadyToProcess()&&(c.multiFile.addToCache(),c.multiFile.pendingDestroy()):(c.addToCache(),c.pendingDestroy())),this.queue.delete(c),this.list.size===0&&this.inflight.size===0&&this.queue.size===0&&this.loadComplete())},loadComplete:function(){this.emit(r.POST_PROCESS,this),this.list.clear(),this.inflight.clear(),this.queue.clear(),this.progress=1,this.state=p.LOADER_COMPLETE,this.systems.events.off(u.UPDATE,this.update,this),this._deleteQueue.iterateLocal("destroy"),this._deleteQueue.clear(),this.emit(r.COMPLETE,this,this.totalComplete,this.totalFailed)},flagForRemoval:function(c){this._deleteQueue.set(c)},saveJSON:function(c,m){return this.save(JSON.stringify(c),m)},save:function(c,m,g){m===void 0&&(m="file.json"),g===void 0&&(g="application/json");var x=new Blob([c],{type:g}),T=URL.createObjectURL(x),S=document.createElement("a");return S.download=m,S.textContent="Download "+m,S.href=T,S.click(),this},reset:function(){this.list.clear(),this.inflight.clear(),this.queue.clear();var c=this.systems.game.config,m=this.systems.settings.loader;this.setBaseURL(s(m,"baseURL",c.loaderBaseURL)),this.setPath(s(m,"path",c.loaderPath)),this.setPrefix(s(m,"prefix",c.loaderPrefix)),this.state=p.LOADER_IDLE},shutdown:function(){this.reset(),this.state=p.LOADER_SHUTDOWN,this.removeAllListeners(),this.systems.events.off(u.UPDATE,this.update,this),this.systems.events.off(u.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.state=p.LOADER_DESTROYED,this.systems.events.off(u.UPDATE,this.update,this),this.systems.events.off(u.START,this.pluginStart,this),this.list=null,this.inflight=null,this.queue=null,this.scene=null,this.systems=null,this.textureManager=null,this.cacheManager=null,this.sceneManager=null}});l.register("Loader",d,"load"),v.exports=d},3374:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(79291),p=t(92638),a=function(n,r){var e=n===void 0?p():h({},n);if(r)for(var s in r)r[s]!==void 0&&(e[s]=r[s]);return e};v.exports=a},26430:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),p=t(23906),a=t(54899),n=new h({initialize:function(e,s,o,i){var l=[];i.forEach(function(d){d&&l.push(d)}),this.loader=e,this.type=s,this.key=o;var u=this.key;e.prefix&&e.prefix!==""&&(this.key=e.prefix+u),this.multiKeyIndex=e.multiKeyIndex++,this.files=l,this.state=p.FILE_PENDING,this.complete=!1,this.pending=l.length,this.failed=0,this.config={},this.baseURL=e.baseURL,this.path=e.path,this.prefix=e.prefix;for(var f=0;f<l.length;f++)l[f].multiFile=this},isReadyToProcess:function(){return this.pending===0&&this.failed===0&&!this.complete},addToMultiFile:function(r){return this.files.push(r),r.multiFile=this,this.pending++,this.complete=!1,this},onFileComplete:function(r){var e=this.files.indexOf(r);e!==-1&&this.pending--},onFileFailed:function(r){var e=this.files.indexOf(r);e!==-1&&(this.failed++,console.error('File failed: %s "%s" (via %s "%s")',this.type,this.key,r.type,r.key))},pendingDestroy:function(){if(this.state!==p.FILE_PENDING_DESTROY){var r=this.key,e=this.type;this.loader.emit(a.FILE_COMPLETE,r,e),this.loader.emit(a.FILE_KEY_COMPLETE+e+"-"+r,r,e),this.loader.flagForRemoval(this);for(var s=0;s<this.files.length;s++)this.files[s].pendingDestroy();this.state=p.FILE_PENDING_DESTROY}},destroy:function(){this.loader=null,this.files=null,this.config=null}});v.exports=n},84376:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(3374),p=function(a,n){var r=h(n,a.xhrSettings);if(a.base64){var e=a.url.split(";base64,").pop()||a.url.split(",").pop(),s={responseText:atob(e)};a.onBase64Load(s);return}var o=new XMLHttpRequest;if(o.open("GET",a.src,r.async,r.user,r.password),o.responseType=a.xhrSettings.responseType,o.timeout=r.timeout,r.headers)for(var i in r.headers)o.setRequestHeader(i,r.headers[i]);return r.header&&r.headerValue&&o.setRequestHeader(r.header,r.headerValue),r.requestedWith&&o.setRequestHeader("X-Requested-With",r.requestedWith),r.overrideMimeType&&o.overrideMimeType(r.overrideMimeType),r.withCredentials&&(o.withCredentials=!0),o.onload=a.onLoad.bind(a,o),o.onerror=a.onError.bind(a,o),o.onprogress=a.onProgress.bind(a),o.ontimeout=a.onError.bind(a,o),o.send(),o};v.exports=p},92638:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,h,p,a,n,r){return t===void 0&&(t=""),h===void 0&&(h=!0),p===void 0&&(p=""),a===void 0&&(a=""),n===void 0&&(n=0),r===void 0&&(r=!1),{responseType:t,async:h,user:p,password:a,timeout:n,headers:void 0,header:void 0,headerValue:void 0,requestedWith:!1,overrideMimeType:void 0,withCredentials:r}};v.exports=y},23906:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={LOADER_IDLE:0,LOADER_LOADING:1,LOADER_PROCESSING:2,LOADER_COMPLETE:3,LOADER_SHUTDOWN:4,LOADER_DESTROYED:5,FILE_PENDING:10,FILE_LOADING:11,FILE_LOADED:12,FILE_FAILED:13,FILE_PROCESSING:14,FILE_ERRORED:16,FILE_COMPLETE:17,FILE_DESTROYED:18,FILE_POPULATED:19,FILE_PENDING_DESTROY:20};v.exports=y},42155:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="addfile"},38991:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="complete"},27540:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="filecomplete"},87464:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="filecomplete-"},94486:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="loaderror"},13035:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="load"},38144:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="fileprogress"},97520:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="postprocess"},85595:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="progress"},55680:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="start"},54899:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={ADD:t(42155),COMPLETE:t(38991),FILE_COMPLETE:t(27540),FILE_KEY_COMPLETE:t(87464),FILE_LOAD_ERROR:t(94486),FILE_LOAD:t(13035),FILE_PROGRESS:t(38144),POST_PROCESS:t(97520),PROGRESS:t(85595),START:t(55680)}},14135:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),p=t(74099),a=t(518),n=t(54899),r=new h({Extends:a,initialize:function(s,o,i,l,u){a.call(this,s,o,i,l,u),this.type="animationJSON"},onProcess:function(){this.loader.once(n.POST_PROCESS,this.onLoadComplete,this),a.prototype.onProcess.call(this)},onLoadComplete:function(){this.loader.systems.anims.fromJSON(this.data)}});p.register("animation",function(e,s,o,i){if(Array.isArray(e))for(var l=0;l<e.length;l++)this.addFile(new r(this,e[l]));else this.addFile(new r(this,e,s,i,o));return this}),v.exports=r},76272:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),p=t(74099),a=t(95540),n=t(19550),r=t(41212),e=t(518),s=t(26430),o=new h({Extends:s,initialize:function(l,u,f,d,c,m){var g,x;if(r(u)){var T=u;u=a(T,"key"),g=new n(l,{key:u,url:a(T,"textureURL"),extension:a(T,"textureExtension","png"),normalMap:a(T,"normalMap"),xhrSettings:a(T,"textureXhrSettings")}),x=new e(l,{key:u,url:a(T,"atlasURL"),extension:a(T,"atlasExtension","json"),xhrSettings:a(T,"atlasXhrSettings")})}else g=new n(l,u,f,c),x=new e(l,u,d,m);g.linkFile?s.call(this,l,"atlasjson",u,[g,x,g.linkFile]):s.call(this,l,"atlasjson",u,[g,x])},addToCache:function(){if(this.isReadyToProcess()){var i=this.files[0],l=this.files[1],u=this.files[2]?this.files[2].data:null;this.loader.textureManager.addAtlas(i.key,i.data,l.data,u),l.addToCache(),this.complete=!0}}});p.register("aseprite",function(i,l,u,f,d){var c;if(Array.isArray(i))for(var m=0;m<i.length;m++)c=new o(this,i[m]),this.addFile(c.files);else c=new o(this,i,l,u,f,d),this.addFile(c.files);return this}),v.exports=o},38734:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),p=t(74099),a=t(95540),n=t(19550),r=t(41212),e=t(518),s=t(26430),o=new h({Extends:s,initialize:function(l,u,f,d,c,m){var g,x;if(r(u)){var T=u;u=a(T,"key"),g=new n(l,{key:u,url:a(T,"textureURL"),extension:a(T,"textureExtension","png"),normalMap:a(T,"normalMap"),xhrSettings:a(T,"textureXhrSettings")}),x=new e(l,{key:u,url:a(T,"atlasURL"),extension:a(T,"atlasExtension","json"),xhrSettings:a(T,"atlasXhrSettings")})}else g=new n(l,u,f,c),x=new e(l,u,d,m);g.linkFile?s.call(this,l,"atlasjson",u,[g,x,g.linkFile]):s.call(this,l,"atlasjson",u,[g,x])},addToCache:function(){if(this.isReadyToProcess()){var i=this.files[0],l=this.files[1],u=this.files[2]?this.files[2].data:null;this.loader.textureManager.addAtlas(i.key,i.data,l.data,u),this.complete=!0}}});p.register("atlas",function(i,l,u,f,d){var c;if(Array.isArray(i))for(var m=0;m<i.length;m++)c=new o(this,i[m]),this.addFile(c.files);else c=new o(this,i,l,u,f,d),this.addFile(c.files);return this}),v.exports=o},74599:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),p=t(74099),a=t(95540),n=t(19550),r=t(41212),e=t(26430),s=t(57318),o=new h({Extends:e,initialize:function(l,u,f,d,c,m){var g,x;if(r(u)){var T=u;u=a(T,"key"),g=new n(l,{key:u,url:a(T,"textureURL"),extension:a(T,"textureExtension","png"),normalMap:a(T,"normalMap"),xhrSettings:a(T,"textureXhrSettings")}),x=new s(l,{key:u,url:a(T,"atlasURL"),extension:a(T,"atlasExtension","xml"),xhrSettings:a(T,"atlasXhrSettings")})}else g=new n(l,u,f,c),x=new s(l,u,d,m);g.linkFile?e.call(this,l,"atlasxml",u,[g,x,g.linkFile]):e.call(this,l,"atlasxml",u,[g,x])},addToCache:function(){if(this.isReadyToProcess()){var i=this.files[0],l=this.files[1],u=this.files[2]?this.files[2].data:null;this.loader.textureManager.addAtlasXML(i.key,i.data,l.data,u),this.complete=!0}}});p.register("atlasXML",function(i,l,u,f,d){var c;if(Array.isArray(i))for(var m=0;m<i.length;m++)c=new o(this,i[m]),this.addFile(c.files);else c=new o(this,i,l,u,f,d),this.addFile(c.files);return this}),v.exports=o},21097:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),p=t(23906),a=t(41299),n=t(74099),r=t(95540),e=t(89749),s=t(41212),o=new h({Extends:a,initialize:function(l,u,f,d,c){if(s(u)){var m=u;u=r(m,"key"),d=r(m,"xhrSettings"),c=r(m,"context",c)}var g={type:"audio",cache:l.cacheManager.audio,extension:f.type,responseType:"arraybuffer",key:u,url:f.url,xhrSettings:d,config:{context:c}};a.call(this,l,g)},onProcess:function(){this.state=p.FILE_PROCESSING;var i=this;this.config.context.decodeAudioData(this.xhrLoader.response,function(l){i.data=l,i.onProcessComplete()},function(l){console.error("Error decoding audio: "+i.key+" - ",l?l.message:null),i.onProcessError()}),this.config.context=null}});o.create=function(i,l,u,f,d){var c=i.systems.game,m=c.config.audio,g=c.device.audio;s(l)&&(u=r(l,"url",[]),f=r(l,"config",{}));var x=o.getAudioURL(c,u);return x?g.webAudio&&!m.disableWebAudio?new o(i,l,x,d,c.sound.context):new e(i,l,x,f):(console.warn('No audio URLs for "%s" can play on this device',l),null)},o.getAudioURL=function(i,l){Array.isArray(l)||(l=[l]);for(var u=0;u<l.length;u++){var f=r(l[u],"url",l[u]);if(f.indexOf("blob:")===0||f.indexOf("data:")===0)return{url:f,type:""};var d=f.match(/\.([a-zA-Z0-9]+)($|\?)/);if(d=r(l[u],"type",d?d[1]:"").toLowerCase(),i.device.audio[d])return{url:f,type:d}}return null},n.register("audio",function(i,l,u,f){var d=this.systems.game,c=d.config.audio,m=d.device.audio;if(c.noAudio||!m.webAudio&&!m.audioData)return this;var g;if(Array.isArray(i))for(var x=0;x<i.length;x++)g=o.create(this,i[x]),g&&this.addFile(g);else g=o.create(this,i,l,u,f),g&&this.addFile(g);return this}),v.exports=o},89524:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(21097),p=t(83419),a=t(74099),n=t(95540),r=t(41212),e=t(518),s=t(26430),o=new p({Extends:s,initialize:function(l,u,f,d,c,m,g){if(r(u)){var x=u;u=n(x,"key"),f=n(x,"jsonURL"),d=n(x,"audioURL"),c=n(x,"audioConfig"),m=n(x,"audioXhrSettings"),g=n(x,"jsonXhrSettings")}var T;if(!d)T=new e(l,u,f,g),s.call(this,l,"audiosprite",u,[T]),this.config.resourceLoad=!0,this.config.audioConfig=c,this.config.audioXhrSettings=m;else{var S=h.create(l,u,d,c,m);S&&(T=new e(l,u,f,g),s.call(this,l,"audiosprite",u,[S,T]),this.config.resourceLoad=!1)}},onFileComplete:function(i){var l=this.files.indexOf(i);if(l!==-1&&(this.pending--,this.config.resourceLoad&&i.type==="json"&&i.data.hasOwnProperty("resources"))){var u=i.data.resources,f=n(this.config,"audioConfig"),d=n(this.config,"audioXhrSettings"),c=h.create(this.loader,i.key,u,f,d);c&&(this.addToMultiFile(c),this.loader.addFile(c))}},addToCache:function(){if(this.isReadyToProcess()){var i=this.files[0],l=this.files[1];i.addToCache(),l.addToCache(),this.complete=!0}}});a.register("audioSprite",function(i,l,u,f,d,c){var m=this.systems.game,g=m.config.audio,x=m.device.audio;if(g&&g.noAudio||!x.webAudio&&!x.audioData)return this;var T;if(Array.isArray(i))for(var S=0;S<i.length;S++)T=new o(this,i[S]),T.files&&this.addFile(T.files);else T=new o(this,i,l,u,f,d,c),T.files&&this.addFile(T.files);return this})},85722:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),p=t(23906),a=t(41299),n=t(74099),r=t(95540),e=t(41212),s=new h({Extends:a,initialize:function(i,l,u,f,d){var c="bin";if(e(l)){var m=l;l=r(m,"key"),u=r(m,"url"),f=r(m,"xhrSettings"),c=r(m,"extension",c),d=r(m,"dataType",d)}var g={type:"binary",cache:i.cacheManager.binary,extension:c,responseType:"arraybuffer",key:l,url:u,xhrSettings:f,config:{dataType:d}};a.call(this,i,g)},onProcess:function(){this.state=p.FILE_PROCESSING;var o=this.config.dataType;this.data=o?new o(this.xhrLoader.response):this.xhrLoader.response,this.onProcessComplete()}});n.register("binary",function(o,i,l,u){if(Array.isArray(o))for(var f=0;f<o.length;f++)this.addFile(new s(this,o[f]));else this.addFile(new s(this,o,i,u,l));return this}),v.exports=s},97025:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),p=t(74099),a=t(95540),n=t(19550),r=t(41212),e=t(26430),s=t(21859),o=t(57318),i=new h({Extends:e,initialize:function(u,f,d,c,m,g){var x,T;if(r(f)){var S=f;f=a(S,"key"),x=new n(u,{key:f,url:a(S,"textureURL"),extension:a(S,"textureExtension","png"),normalMap:a(S,"normalMap"),xhrSettings:a(S,"textureXhrSettings")}),T=new o(u,{key:f,url:a(S,"fontDataURL"),extension:a(S,"fontDataExtension","xml"),xhrSettings:a(S,"fontDataXhrSettings")})}else x=new n(u,f,d,m),T=new o(u,f,c,g);x.linkFile?e.call(this,u,"bitmapfont",f,[x,T,x.linkFile]):e.call(this,u,"bitmapfont",f,[x,T])},addToCache:function(){if(this.isReadyToProcess()){var l=this.files[0],u=this.files[1];l.addToCache();var f=l.cache.get(l.key),d=s(u.data,l.cache.getFrame(l.key),0,0,f);this.loader.cacheManager.bitmapFont.add(l.key,{data:d,texture:l.key,frame:null}),this.complete=!0}}});p.register("bitmapFont",function(l,u,f,d,c){var m;if(Array.isArray(l))for(var g=0;g<l.length;g++)m=new i(this,l[g]),this.addFile(m.files);else m=new i(this,l,u,f,d,c),this.addFile(m.files);return this}),v.exports=i},16024:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),p=t(23906),a=t(41299),n=t(74099),r=t(95540),e=t(41212),s=new h({Extends:a,initialize:function(i,l,u,f){var d="css";if(e(l)){var c=l;l=r(c,"key"),u=r(c,"url"),f=r(c,"xhrSettings"),d=r(c,"extension",d)}var m={type:"script",cache:!1,extension:d,responseType:"text",key:l,url:u,xhrSettings:f};a.call(this,i,m)},onProcess:function(){this.state=p.FILE_PROCESSING,this.data=document.createElement("style"),this.data.defer=!1,this.data.innerHTML=this.xhrLoader.responseText,document.head.appendChild(this.data),this.onProcessComplete()}});n.register("css",function(o,i,l){if(Array.isArray(o))for(var u=0;u<o.length;u++)this.addFile(new s(this,o[u]));else this.addFile(new s(this,o,i,l));return this}),v.exports=s},69559:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2021 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(38734),p=t(85722),a=t(83419),n=t(74099),r=t(95540),e=t(19550),s=t(41212),o=t(518),i=t(31403),l=t(46975),u=t(59327),f=t(26430),d=t(82038),c=t(55222),m=new a({Extends:f,initialize:function(x,T,S,P){if(S.multiAtlasURL){var L=new o(x,{key:T,url:S.multiAtlasURL,xhrSettings:P,config:S});f.call(this,x,"texture",T,[L])}else{var I=S.textureURL.substr(S.textureURL.length-3);S.type||(S.type=I.toLowerCase()==="ktx"?"KTX":"PVR");var O=new p(x,{key:T,url:S.textureURL,extension:I,xhrSettings:P,config:S});if(S.atlasURL){var M=new o(x,{key:T,url:S.atlasURL,xhrSettings:P,config:S});f.call(this,x,"texture",T,[O,M])}else f.call(this,x,"texture",T,[O])}this.config=S},onFileComplete:function(g){var x=this.files.indexOf(g);if(x!==-1){if(this.pending--,!this.config.multiAtlasURL)return;if(g.type==="json"&&g.data.hasOwnProperty("textures")){var T=g.data.textures,S=this.config,P=this.loader,L=P.baseURL,I=P.path,O=P.prefix,M=r(S,"multiBaseURL",this.baseURL),w=r(S,"multiPath",this.path),D=r(S,"prefix",this.prefix),U=r(S,"textureXhrSettings");M&&P.setBaseURL(M),w&&P.setPath(w),D&&P.setPrefix(D);for(var Y=0;Y<T.length;Y++){var H=T[Y].image,X="CMA"+this.multiKeyIndex+"_"+H,G=new p(P,X,H,U);if(this.addToMultiFile(G),P.addFile(G),T[Y].normalMap){var z=new p(P,X,T[Y].normalMap,U);z.type="normalMap",G.setLink(z),this.addToMultiFile(z),P.addFile(z)}}P.setBaseURL(L),P.setPath(I),P.setPrefix(O)}}},addToCache:function(){function g(M){console.warn('Compressed Texture Invalid: "'+L.key+'". '+M)}if(this.isReadyToProcess()){var x=this.config;if(x.multiAtlasURL)this.addMultiToCache();else{var T=this.loader.systems.renderer,S=this.loader.textureManager,P,L=this.files[0],I=this.files[1];if(x.type==="PVR"?P=d(L.data):x.type==="KTX"&&(P=i(L.data),P||g("KTX file contains unsupported format.")),P&&!c(P)&&(g("Texture dimensions failed verification. Check the texture format specifications for "+x.format+" 0x"+P.internalFormat.toString(16)+"."),P=null),P&&!T.supportsCompressedTexture(x.format,P.internalFormat)&&(g("Texture format "+x.format+" with internal format "+P.internalFormat+" not supported by the GPU. Texture invalid. This is often due to the texture using sRGB instead of linear RGB."),P=null),P){P.format=T.getCompressedTextureName(x.format,P.internalFormat);var O=I&&I.data?I.data:null;S.addCompressedTexture(L.key,P,O)}}this.complete=!0}},addMultiToCache:function(){for(var g=this.config,x=this.files[0],T=[],S=[],P=[],L=this.loader.systems.renderer,I=this.loader.textureManager,O,M=1;M<this.files.length;M++){var w=this.files[M];if(w.type!=="normalMap")for(var D=w.key.indexOf("_"),U=w.key.substr(D+1),Y=w.data,H=0;H<x.data.textures.length;H++){var X=x.data.textures[H];if(X.image===U){g.type==="PVR"?O=d(Y):g.type==="KTX"&&(O=i(Y)),O&&L.supportsCompressedTexture(g.format,O.internalFormat)&&(O.format=L.getCompressedTextureName(g.format,O.internalFormat),S.push(O),T.push(X),w.linkFile&&P.push(w.linkFile.data));break}}}P.length===0&&(P=void 0),I.addAtlasJSONArray(this.key,S,T,P),this.complete=!0}});n.register("texture",function(g,x,T){var S=this.systems.renderer,P=function(I,O,M,w){var D={format:null,type:null,textureURL:void 0,atlasURL:void 0,multiAtlasURL:void 0,multiPath:void 0,multiBaseURL:void 0};if(s(O)){var U=O;O=r(U,"key"),M=r(U,"url"),w=r(U,"xhrSettings")}var Y=!1;for(var H in M)if(S.supportsCompressedTexture(H)){var X=M[H];typeof X=="string"?D.textureURL=X:D=l(X,D),D.format=H.toUpperCase(),Y=!0;break}if(!Y)console.warn("No supported compressed texture format or IMG fallback",O);else if(D.format==="IMG"){var G,z;D.multiAtlasURL?(z=new u(I,O,D.multiAtlasURL,D.multiPath,D.multiBaseURL,w),G=z.files):D.atlasURL?(z=new h(I,O,D.textureURL,D.atlasURL,w),G=z.files):G=new e(I,O,D.textureURL,w),I.addFile(G)}else{var b=new m(I,O,D,w);I.addFile(b.files)}};if(Array.isArray(g))for(var L=0;L<g.length;L++)P(this,g[L]);else P(this,g,x,T);return this}),v.exports=m},47931:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),p=t(23906),a=t(41299),n=t(74099),r=t(95540),e=t(41212),s=t(73894),o=new h({Extends:a,initialize:function(l,u,f,d,c){var m="glsl";if(e(u)){var g=u;u=r(g,"key"),f=r(g,"url"),d=r(g,"shaderType","fragment"),c=r(g,"xhrSettings"),m=r(g,"extension",m)}else d===void 0&&(d="fragment");var x={type:"glsl",cache:l.cacheManager.shader,extension:m,responseType:"text",key:u,url:f,config:{shaderType:d},xhrSettings:c};a.call(this,l,x)},onProcess:function(){this.state=p.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()},addToCache:function(){var i=this.data.split(`
`),l=this.extractBlock(i,0);if(l)for(;l;){var u=this.getShaderName(l.header),f=this.getShaderType(l.header),d=this.getShaderUniforms(l.header),c=l.shader;if(this.cache.has(u)){var m=this.cache.get(u);f==="fragment"?m.fragmentSrc=c:m.vertexSrc=c,m.uniforms||(m.uniforms=d)}else f==="fragment"?this.cache.add(u,new s(u,c,"",d)):this.cache.add(u,new s(u,"",c,d));l=this.extractBlock(i,l.offset)}else this.config.shaderType==="fragment"?this.cache.add(this.key,new s(this.key,this.data)):this.cache.add(this.key,new s(this.key,"",this.data))},getShaderName:function(i){for(var l=0;l<i.length;l++){var u=i[l].trim();if(u.substring(0,5)==="name:")return u.substring(5).trim()}return this.key},getShaderType:function(i){for(var l=0;l<i.length;l++){var u=i[l].trim();if(u.substring(0,5)==="type:")return u.substring(5).trim()}return this.config.shaderType},getShaderUniforms:function(i){for(var l={},u=0;u<i.length;u++){var f=i[u].trim();if(f.substring(0,8)==="uniform."){var d=f.indexOf(":");if(d){var c=f.substring(8,d);try{l[c]=JSON.parse(f.substring(d+1))}catch{console.warn("Invalid uniform JSON: "+c)}}}}return l},extractBlock:function(i,l){for(var u=-1,f=-1,d=-1,c=!1,m=!1,g=[],x=[],T=l;T<i.length;T++){var S=i[T].trim();if(S==="---")if(u===-1)u=T,c=!0;else if(c)f=T,c=!1,m=!0;else{m=!1;break}else c?g.push(S):m&&(x.push(S),d=T)}return!c&&f!==-1?{header:g,shader:x.join(`
`),offset:d}:null}});n.register("glsl",function(i,l,u,f){if(Array.isArray(i))for(var d=0;d<i.length;d++)this.addFile(new o(this,i[d]));else this.addFile(new o(this,i,l,u,f));return this}),v.exports=o},89749:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),p=t(54899),a=t(41299),n=t(95540),r=t(98356),e=t(41212),s=new h({Extends:a,initialize:function(i,l,u,f){if(e(l)){var d=l;l=n(d,"key"),f=n(d,"config",f)}var c={type:"audio",cache:i.cacheManager.audio,extension:u.type,key:l,url:u.url,config:f};a.call(this,i,c),this.locked="ontouchstart"in window,this.loaded=!1,this.filesLoaded=0,this.filesTotal=0},onLoad:function(){this.loaded||(this.loaded=!0,this.loader.nextFile(this,!0))},onError:function(){for(var o=0;o<this.data.length;o++){var i=this.data[o];i.oncanplaythrough=null,i.onerror=null}this.loader.nextFile(this,!1)},onProgress:function(o){var i=o.target;i.oncanplaythrough=null,i.onerror=null,this.filesLoaded++,this.percentComplete=Math.min(this.filesLoaded/this.filesTotal,1),this.loader.emit(p.FILE_PROGRESS,this,this.percentComplete),this.filesLoaded===this.filesTotal&&this.onLoad()},load:function(){this.data=[];var o=this.config&&this.config.instances||1;this.filesTotal=o,this.filesLoaded=0,this.percentComplete=0;for(var i=0;i<o;i++){var l=new Audio;l.dataset||(l.dataset={}),l.dataset.name=this.key+("0"+i).slice(-2),l.dataset.used="false",this.locked?l.dataset.locked="true":(l.dataset.locked="false",l.preload="auto",l.oncanplaythrough=this.onProgress.bind(this),l.onerror=this.onError.bind(this)),this.data.push(l)}for(i=0;i<this.data.length;i++)l=this.data[i],l.src=r(this,this.loader.baseURL),this.locked||l.load();this.locked&&setTimeout(this.onLoad.bind(this))}});v.exports=s},88470:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),p=t(23906),a=t(41299),n=t(74099),r=t(95540),e=t(41212),s=new h({Extends:a,initialize:function(i,l,u,f){var d="html";if(e(l)){var c=l;l=r(c,"key"),u=r(c,"url"),f=r(c,"xhrSettings"),d=r(c,"extension",d)}var m={type:"text",cache:i.cacheManager.html,extension:d,responseType:"text",key:l,url:u,xhrSettings:f};a.call(this,i,m)},onProcess:function(){this.state=p.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()}});n.register("html",function(o,i,l){if(Array.isArray(o))for(var u=0;u<o.length;u++)this.addFile(new s(this,o[u]));else this.addFile(new s(this,o,i,l));return this}),v.exports=s},14643:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),p=t(23906),a=t(41299),n=t(74099),r=t(95540),e=t(41212),s=new h({Extends:a,initialize:function(i,l,u,f,d,c){f===void 0&&(f=512),d===void 0&&(d=512);var m="html";if(e(l)){var g=l;l=r(g,"key"),u=r(g,"url"),c=r(g,"xhrSettings"),m=r(g,"extension",m),f=r(g,"width",f),d=r(g,"height",d)}var x={type:"html",cache:i.textureManager,extension:m,responseType:"text",key:l,url:u,xhrSettings:c,config:{width:f,height:d}};a.call(this,i,x)},onProcess:function(){this.state=p.FILE_PROCESSING;var o=this.config.width,i=this.config.height,l=[];l.push('<svg width="'+o+'px" height="'+i+'px" viewBox="0 0 '+o+" "+i+'" xmlns="http://www.w3.org/2000/svg">'),l.push('<foreignObject width="100%" height="100%">'),l.push('<body xmlns="http://www.w3.org/1999/xhtml">'),l.push(this.xhrLoader.responseText),l.push("</body>"),l.push("</foreignObject>"),l.push("</svg>");var u=[l.join(`
`)],f=this;try{var d=new window.Blob(u,{type:"image/svg+xml;charset=utf-8"})}catch{f.state=p.FILE_ERRORED,f.onProcessComplete();return}this.data=new Image,this.data.crossOrigin=this.crossOrigin,this.data.onload=function(){a.revokeObjectURL(f.data),f.onProcessComplete()},this.data.onerror=function(){a.revokeObjectURL(f.data),f.onProcessError()},a.createObjectURL(this.data,d,"image/svg+xml")},addToCache:function(){this.cache.addImage(this.key,this.data)}});n.register("htmlTexture",function(o,i,l,u,f){if(Array.isArray(o))for(var d=0;d<o.length;d++)this.addFile(new s(this,o[d]));else this.addFile(new s(this,o,i,l,u,f));return this}),v.exports=s},19550:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),p=t(23906),a=t(41299),n=t(74099),r=t(95540),e=t(41212),s=t(98356),o=new h({Extends:a,initialize:function i(l,u,f,d,c){var m="png",g;if(e(u)){var x=u;u=r(x,"key"),f=r(x,"url"),g=r(x,"normalMap"),d=r(x,"xhrSettings"),m=r(x,"extension",m),c=r(x,"frameConfig")}Array.isArray(f)&&(g=f[1],f=f[0]);var T={type:"image",cache:l.textureManager,extension:m,responseType:"blob",key:u,url:f,xhrSettings:d,config:c};if(a.call(this,l,T),g){var S=new i(l,this.key,g,d,c);S.type="normalMap",this.setLink(S),l.addFile(S)}this.useImageElementLoad=l.imageLoadType==="HTMLImageElement"||this.base64,this.useImageElementLoad&&(this.load=this.loadImage,this.onProcess=this.onProcessImage)},onProcess:function(){this.state=p.FILE_PROCESSING,this.data=new Image,this.data.crossOrigin=this.crossOrigin;var i=this;this.data.onload=function(){a.revokeObjectURL(i.data),i.onProcessComplete()},this.data.onerror=function(){a.revokeObjectURL(i.data),i.onProcessError()},a.createObjectURL(this.data,this.xhrLoader.response,"image/png")},onProcessImage:function(){var i=this.state;this.state=p.FILE_PROCESSING,i===p.FILE_LOADED?this.onProcessComplete():this.onProcessError()},loadImage:function(){this.state=p.FILE_LOADING,this.src=s(this,this.loader.baseURL),this.data=new Image,this.data.crossOrigin=this.crossOrigin;var i=this;this.data.onload=function(){i.state=p.FILE_LOADED,i.loader.nextFile(i,!0)},this.data.onerror=function(){i.loader.nextFile(i,!1)},this.data.src=this.src},addToCache:function(){var i=this.linkFile;i?i.state>=p.FILE_COMPLETE&&(i.type==="spritesheet"?i.addToCache():this.type==="normalMap"?this.cache.addImage(this.key,i.data,this.data):this.cache.addImage(this.key,this.data,i.data)):this.cache.addImage(this.key,this.data)}});n.register("image",function(i,l,u){if(Array.isArray(i))for(var f=0;f<i.length;f++)this.addFile(new o(this,i[f]));else this.addFile(new o(this,i,l,u));return this}),v.exports=o},518:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),p=t(23906),a=t(41299),n=t(74099),r=t(95540),e=t(35154),s=t(41212),o=new h({Extends:a,initialize:function(l,u,f,d,c){var m="json";if(s(u)){var g=u;u=r(g,"key"),f=r(g,"url"),d=r(g,"xhrSettings"),m=r(g,"extension",m),c=r(g,"dataKey",c)}var x={type:"json",cache:l.cacheManager.json,extension:m,responseType:"text",key:u,url:f,xhrSettings:d,config:c};a.call(this,l,x),s(f)&&(c?this.data=e(f,c):this.data=f,this.state=p.FILE_POPULATED)},onProcess:function(){if(this.state!==p.FILE_POPULATED){this.state=p.FILE_PROCESSING;try{var i=JSON.parse(this.xhrLoader.responseText)}catch(u){throw this.onProcessError(),u}var l=this.config;typeof l=="string"?this.data=e(i,l,i):this.data=i}this.onProcessComplete()}});n.register("json",function(i,l,u,f){if(Array.isArray(i))for(var d=0;d<i.length;d++)this.addFile(new o(this,i[d]));else this.addFile(new o(this,i,l,f,u));return this}),v.exports=o},59327:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),p=t(74099),a=t(95540),n=t(19550),r=t(41212),e=t(518),s=t(26430),o=new h({Extends:s,initialize:function(l,u,f,d,c,m,g){if(r(u)){var x=u;u=a(x,"key"),a(x,"url",!1)?f=a(x,"url"):f=a(x,"atlasURL"),m=a(x,"xhrSettings"),d=a(x,"path"),c=a(x,"baseURL"),g=a(x,"textureXhrSettings")}var T=new e(l,u,f,m);s.call(this,l,"multiatlas",u,[T]),this.config.path=d,this.config.baseURL=c,this.config.textureXhrSettings=g},onFileComplete:function(i){var l=this.files.indexOf(i);if(l!==-1&&(this.pending--,i.type==="json"&&i.data.hasOwnProperty("textures"))){var u=i.data.textures,f=this.config,d=this.loader,c=d.baseURL,m=d.path,g=d.prefix,x=a(f,"baseURL",this.baseURL),T=a(f,"path",this.path),S=a(f,"prefix",this.prefix),P=a(f,"textureXhrSettings");d.setBaseURL(x),d.setPath(T),d.setPrefix(S);for(var L=0;L<u.length;L++){var I=u[L].image,O="MA"+this.multiKeyIndex+"_"+I,M=new n(d,O,I,P);if(this.addToMultiFile(M),d.addFile(M),u[L].normalMap){var w=new n(d,O,u[L].normalMap,P);w.type="normalMap",M.setLink(w),this.addToMultiFile(w),d.addFile(w)}}d.setBaseURL(c),d.setPath(m),d.setPrefix(g)}},addToCache:function(){if(this.isReadyToProcess()){for(var i=this.files[0],l=[],u=[],f=[],d=1;d<this.files.length;d++){var c=this.files[d];if(c.type!=="normalMap")for(var m=c.key.indexOf("_"),g=c.key.substr(m+1),x=c.data,T=0;T<i.data.textures.length;T++){var S=i.data.textures[T];if(S.image===g){u.push(x),l.push(S),c.linkFile&&f.push(c.linkFile.data);break}}}f.length===0&&(f=void 0),this.loader.textureManager.addAtlasJSONArray(this.key,u,l,f),this.complete=!0}}});p.register("multiatlas",function(i,l,u,f,d){var c;if(Array.isArray(i))for(var m=0;m<i.length;m++)c=new o(this,i[m]),this.addFile(c.files);else c=new o(this,i,l,u,f,d),this.addFile(c.files);return this}),v.exports=o},99297:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),p=t(74099),a=t(95540),n=t(41212),r=t(26430),e=t(34328),s=new h({Extends:r,initialize:function(i,l,u,f){var d="js",c=[];if(n(l)){var m=l;l=a(m,"key"),u=a(m,"url"),f=a(m,"xhrSettings"),d=a(m,"extension",d)}Array.isArray(u)||(u=[u]);for(var g=0;g<u.length;g++){var x=new e(i,{key:l+"_"+g.toString(),url:u[g],extension:d,xhrSettings:f});x.onProcess=function(){this.onProcessComplete()},c.push(x)}r.call(this,i,"scripts",l,c)},addToCache:function(){if(this.isReadyToProcess()){for(var o=0;o<this.files.length;o++){var i=this.files[o];i.data=document.createElement("script"),i.data.language="javascript",i.data.type="text/javascript",i.data.defer=!1,i.data.text=i.xhrLoader.responseText,document.head.appendChild(i.data)}this.complete=!0}}});p.register("scripts",function(o,i,l){var u;if(Array.isArray(o))for(var f=0;f<o.length;f++)u=new s(this,o[f]),this.addFile(u.files);else u=new s(this,o,i,l),this.addFile(u.files);return this}),v.exports=s},41846:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),p=t(74099),a=t(95540),n=t(41212),r=t(26430),e=t(85048),s=t(61485),o=t(78776),i=new h({Extends:r,initialize:function(u,f,d,c,m,g){var x,T,S=u.cacheManager.obj;if(n(f)){var P=f;f=a(P,"key"),x=new o(u,{key:f,type:"obj",cache:S,url:a(P,"url"),extension:a(P,"extension","obj"),xhrSettings:a(P,"xhrSettings"),config:{flipUV:a(P,"flipUV",m)}}),c=a(P,"matURL"),c&&(T=new o(u,{key:f,type:"mat",cache:S,url:c,extension:a(P,"matExtension","mat"),xhrSettings:a(P,"xhrSettings")}))}else x=new o(u,{key:f,url:d,type:"obj",cache:S,extension:"obj",xhrSettings:g,config:{flipUV:m}}),c&&(T=new o(u,{key:f,url:c,type:"mat",cache:S,extension:"mat",xhrSettings:g}));r.call(this,u,"obj",f,[x,T])},addToCache:function(){if(this.isReadyToProcess()){var l=this.files[0],u=this.files[1],f=e(l.data,l.config.flipUV);u&&(f.materials=s(u.data)),l.cache.add(l.key,f),this.complete=!0}}});p.register("obj",function(l,u,f,d,c){var m;if(Array.isArray(l))for(var g=0;g<l.length;g++)m=new i(this,l[g]),this.addFile(m.files);else m=new i(this,l,u,f,d,c),this.addFile(m.files);return this}),v.exports=i},58610:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),p=t(23906),a=t(74099),n=t(518),r=new h({Extends:n,initialize:function(s,o,i,l,u){n.call(this,s,o,i,l,u),this.type="packfile"},onProcess:function(){if(this.state!==p.FILE_POPULATED&&(this.state=p.FILE_PROCESSING,this.data=JSON.parse(this.xhrLoader.responseText)),this.data.hasOwnProperty("files")&&this.config){var e={};e[this.config]=this.data,this.data=e}this.loader.addPack(this.data,this.config),this.onProcessComplete()}});a.register("pack",function(e,s,o,i){if(Array.isArray(e))for(var l=0;l<e.length;l++)this.addFile(new r(this,e[l]));else this.addFile(new r(this,e,s,i,o));return this}),v.exports=r},48988:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),p=t(23906),a=t(41299),n=t(74099),r=t(95540),e=t(41212),s=new h({Extends:a,initialize:function(i,l,u,f,d,c){var m="js";if(e(l)){var g=l;l=r(g,"key"),u=r(g,"url"),c=r(g,"xhrSettings"),m=r(g,"extension",m),f=r(g,"start"),d=r(g,"mapping")}var x={type:"plugin",cache:!1,extension:m,responseType:"text",key:l,url:u,xhrSettings:c,config:{start:f,mapping:d}};a.call(this,i,x),typeof u=="function"&&(this.data=u,this.state=p.FILE_POPULATED)},onProcess:function(){var o=this.loader.systems.plugins,i=this.config,l=r(i,"start",!1),u=r(i,"mapping",null);if(this.state===p.FILE_POPULATED)o.install(this.key,this.data,l,u);else{this.state=p.FILE_PROCESSING,this.data=document.createElement("script"),this.data.language="javascript",this.data.type="text/javascript",this.data.defer=!1,this.data.text=this.xhrLoader.responseText,document.head.appendChild(this.data);var f=o.install(this.key,window[this.key],l,u);(l||u)&&(this.loader.systems[u]=f,this.loader.scene[u]=f)}this.onProcessComplete()}});n.register("plugin",function(o,i,l,u,f){if(Array.isArray(o))for(var d=0;d<o.length;d++)this.addFile(new s(this,o[d]));else this.addFile(new s(this,o,i,l,u,f));return this}),v.exports=s},67397:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),p=t(23906),a=t(41299),n=t(74099),r=t(95540),e=t(41212),s=new h({Extends:a,initialize:function(i,l,u,f,d){var c="svg";if(e(l)){var m=l;l=r(m,"key"),u=r(m,"url"),f=r(m,"svgConfig",{}),d=r(m,"xhrSettings"),c=r(m,"extension",c)}var g={type:"svg",cache:i.textureManager,extension:c,responseType:"text",key:l,url:u,xhrSettings:d,config:{width:r(f,"width"),height:r(f,"height"),scale:r(f,"scale")}};a.call(this,i,g)},onProcess:function(){this.state=p.FILE_PROCESSING;var o=this.xhrLoader.responseText,i=[o],l=this.config.width,u=this.config.height,f=this.config.scale;t:if(l&&u||f){var d=null,c=new DOMParser;d=c.parseFromString(o,"text/xml");var m=d.getElementsByTagName("svg")[0],g=m.hasAttribute("viewBox"),x=parseFloat(m.getAttribute("width")),T=parseFloat(m.getAttribute("height"));if(!g&&x&&T)m.setAttribute("viewBox","0  0 "+x+" "+T);else if(g&&!x&&!T){var S=m.getAttribute("viewBox").split(/\s+|,/);x=S[2],T=S[3]}if(f)if(x&&T)l=x*f,u=T*f;else break t;m.setAttribute("width",l.toString()+"px"),m.setAttribute("height",u.toString()+"px"),i=[new XMLSerializer().serializeToString(m)]}try{var P=new window.Blob(i,{type:"image/svg+xml;charset=utf-8"})}catch{this.onProcessError();return}this.data=new Image,this.data.crossOrigin=this.crossOrigin;var L=this,I=!1;this.data.onload=function(){I||a.revokeObjectURL(L.data),L.onProcessComplete()},this.data.onerror=function(){I?L.onProcessError():(I=!0,a.revokeObjectURL(L.data),L.data.src="data:image/svg+xml,"+encodeURIComponent(i.join("")))},a.createObjectURL(this.data,P,"image/svg+xml")},addToCache:function(){this.cache.addImage(this.key,this.data)}});n.register("svg",function(o,i,l,u){if(Array.isArray(o))for(var f=0;f<o.length;f++)this.addFile(new s(this,o[f]));else this.addFile(new s(this,o,i,l,u));return this}),v.exports=s},88423:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),p=t(23906),a=t(41299),n=t(74099),r=t(95540),e=t(41212),s=new h({Extends:a,initialize:function(i,l,u,f){var d="js";if(e(l)){var c=l;l=r(c,"key"),u=r(c,"url"),f=r(c,"xhrSettings"),d=r(c,"extension",d)}var m={type:"text",extension:d,responseType:"text",key:l,url:u,xhrSettings:f};a.call(this,i,m)},onProcess:function(){this.state=p.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()},addToCache:function(){var o=this.data.concat(`(function(){
return new `+this.key+`();
}).call(this);`),i=eval;this.loader.sceneManager.add(this.key,i(o)),this.complete=!0}});n.register("sceneFile",function(o,i,l){if(Array.isArray(o))for(var u=0;u<o.length;u++)this.addFile(new s(this,o[u]));else this.addFile(new s(this,o,i,l));return this}),v.exports=s},56812:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),p=t(23906),a=t(41299),n=t(74099),r=t(95540),e=t(41212),s=new h({Extends:a,initialize:function(i,l,u,f,d,c){var m="js";if(e(l)){var g=l;l=r(g,"key"),u=r(g,"url"),c=r(g,"xhrSettings"),m=r(g,"extension",m),f=r(g,"systemKey"),d=r(g,"sceneKey")}var x={type:"scenePlugin",cache:!1,extension:m,responseType:"text",key:l,url:u,xhrSettings:c,config:{systemKey:f,sceneKey:d}};a.call(this,i,x),typeof u=="function"&&(this.data=u,this.state=p.FILE_POPULATED)},onProcess:function(){var o=this.loader.systems.plugins,i=this.config,l=this.key,u=r(i,"systemKey",l),f=r(i,"sceneKey",l);this.state===p.FILE_POPULATED?o.installScenePlugin(u,this.data,f,this.loader.scene,!0):(this.state=p.FILE_PROCESSING,this.data=document.createElement("script"),this.data.language="javascript",this.data.type="text/javascript",this.data.defer=!1,this.data.text=this.xhrLoader.responseText,document.head.appendChild(this.data),o.installScenePlugin(u,window[this.key],f,this.loader.scene,!0)),this.onProcessComplete()}});n.register("scenePlugin",function(o,i,l,u,f){if(Array.isArray(o))for(var d=0;d<o.length;d++)this.addFile(new s(this,o[d]));else this.addFile(new s(this,o,i,l,u,f));return this}),v.exports=s},34328:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),p=t(23906),a=t(41299),n=t(74099),r=t(95540),e=t(41212),s=new h({Extends:a,initialize:function(i,l,u,f,d){var c="js";if(e(l)){var m=l;l=r(m,"key"),u=r(m,"url"),f=r(m,"type","script"),d=r(m,"xhrSettings"),c=r(m,"extension",c)}else f===void 0&&(f="script");var g={type:f,cache:!1,extension:c,responseType:"text",key:l,url:u,xhrSettings:d};a.call(this,i,g)},onProcess:function(){this.state=p.FILE_PROCESSING,this.data=document.createElement("script"),this.data.language="javascript",this.data.type="text/javascript",this.data.defer=!1,this.data.text=this.xhrLoader.responseText,document.head.appendChild(this.data),this.onProcessComplete()}});n.register("script",function(o,i,l,u){if(Array.isArray(o))for(var f=0;f<o.length;f++)this.addFile(new s(this,o[f]));else this.addFile(new s(this,o,i,l,u));return this}),v.exports=s},85035:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),p=t(23906),a=t(74099),n=t(19550),r=new h({Extends:n,initialize:function(s,o,i,l,u){n.call(this,s,o,i,u,l),this.type="spritesheet"},addToCache:function(){var e=this.linkFile;e?e.state>=p.FILE_COMPLETE&&(this.type==="normalMap"?this.cache.addSpriteSheet(this.key,e.data,this.config,this.data):this.cache.addSpriteSheet(this.key,this.data,this.config,e.data)):this.cache.addSpriteSheet(this.key,this.data,this.config)}});a.register("spritesheet",function(e,s,o,i){if(Array.isArray(e))for(var l=0;l<e.length;l++)this.addFile(new r(this,e[l]));else this.addFile(new r(this,e,s,o,i));return this}),v.exports=r},78776:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),p=t(23906),a=t(41299),n=t(74099),r=t(95540),e=t(41212),s=new h({Extends:a,initialize:function(i,l,u,f){var d="text",c="txt",m=i.cacheManager.text;if(e(l)){var g=l;l=r(g,"key"),u=r(g,"url"),f=r(g,"xhrSettings"),c=r(g,"extension",c),d=r(g,"type",d),m=r(g,"cache",m)}var x={type:d,cache:m,extension:c,responseType:"text",key:l,url:u,xhrSettings:f};a.call(this,i,x)},onProcess:function(){this.state=p.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()}});n.register("text",function(o,i,l){if(Array.isArray(o))for(var u=0;u<o.length;u++)this.addFile(new s(this,o[u]));else this.addFile(new s(this,o,i,l));return this}),v.exports=s},49477:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),p=t(23906),a=t(41299),n=t(74099),r=t(95540),e=t(41212),s=t(80341),o=new h({Extends:a,initialize:function(l,u,f,d){var c="csv";if(e(u)){var m=u;u=r(m,"key"),f=r(m,"url"),d=r(m,"xhrSettings"),c=r(m,"extension",c)}var g={type:"tilemapCSV",cache:l.cacheManager.tilemap,extension:c,responseType:"text",key:u,url:f,xhrSettings:d};a.call(this,l,g),this.tilemapFormat=s.CSV},onProcess:function(){this.state=p.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()},addToCache:function(){var i={format:this.tilemapFormat,data:this.data};this.cache.add(this.key,i)}});n.register("tilemapCSV",function(i,l,u){if(Array.isArray(i))for(var f=0;f<i.length;f++)this.addFile(new o(this,i[f]));else this.addFile(new o(this,i,l,u));return this}),v.exports=o},40807:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),p=t(74099),a=t(518),n=t(80341),r=new h({Extends:a,initialize:function(s,o,i,l){a.call(this,s,o,i,l),this.type="tilemapJSON",this.cache=s.cacheManager.tilemap},addToCache:function(){var e={format:n.WELTMEISTER,data:this.data};this.cache.add(this.key,e)}});p.register("tilemapImpact",function(e,s,o){if(Array.isArray(e))for(var i=0;i<e.length;i++)this.addFile(new r(this,e[i]));else this.addFile(new r(this,e,s,o));return this}),v.exports=r},56775:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),p=t(74099),a=t(518),n=t(80341),r=new h({Extends:a,initialize:function(s,o,i,l){a.call(this,s,o,i,l),this.type="tilemapJSON",this.cache=s.cacheManager.tilemap},addToCache:function(){var e={format:n.TILED_JSON,data:this.data};this.cache.add(this.key,e)}});p.register("tilemapTiledJSON",function(e,s,o){if(Array.isArray(e))for(var i=0;i<e.length;i++)this.addFile(new r(this,e[i]));else this.addFile(new r(this,e,s,o));return this}),v.exports=r},25771:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),p=t(74099),a=t(95540),n=t(19550),r=t(41212),e=t(26430),s=t(78776),o=new h({Extends:e,initialize:function(l,u,f,d,c,m){var g,x;if(r(u)){var T=u;u=a(T,"key"),g=new n(l,{key:u,url:a(T,"textureURL"),extension:a(T,"textureExtension","png"),normalMap:a(T,"normalMap"),xhrSettings:a(T,"textureXhrSettings")}),x=new s(l,{key:u,url:a(T,"atlasURL"),extension:a(T,"atlasExtension","txt"),xhrSettings:a(T,"atlasXhrSettings")})}else g=new n(l,u,f,c),x=new s(l,u,d,m);g.linkFile?e.call(this,l,"unityatlas",u,[g,x,g.linkFile]):e.call(this,l,"unityatlas",u,[g,x])},addToCache:function(){if(this.isReadyToProcess()){var i=this.files[0],l=this.files[1],u=this.files[2]?this.files[2].data:null;this.loader.textureManager.addUnityAtlas(i.key,i.data,l.data,u),this.complete=!0}}});p.register("unityAtlas",function(i,l,u,f,d){var c;if(Array.isArray(i))for(var m=0;m<i.length;m++)c=new o(this,i[m]),this.addFile(c.files);else c=new o(this,i,l,u,f,d),this.addFile(c.files);return this}),v.exports=o},33720:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),p=t(23906),a=t(41299),n=t(74099),r=t(98356),e=t(95540),s=t(41212),o=new h({Extends:a,initialize:function(l,u,f,d){if(d===void 0&&(d=!1),s(u)){var c=u;u=e(c,"key"),f=e(c,"url",[]),d=e(c,"noAudio",!1)}var m=l.systems.game.device.video.getVideoURL(f);m||console.warn("VideoFile: No supported format for "+u);var g={type:"video",cache:l.cacheManager.video,extension:m.type,key:u,url:m.url,config:{noAudio:d}};a.call(this,l,g)},onProcess:function(){this.data={url:this.src,noAudio:this.config.noAudio,crossOrigin:this.crossOrigin},this.onProcessComplete()},load:function(){this.src=r(this,this.loader.baseURL),this.state=p.FILE_LOADED,this.loader.nextFile(this,!0)}});n.register("video",function(i,l,u){if(Array.isArray(i))for(var f=0;f<i.length;f++)this.addFile(new o(this,i[f]));else this.addFile(new o(this,i,l,u));return this}),v.exports=o},57318:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),p=t(23906),a=t(41299),n=t(74099),r=t(95540),e=t(41212),s=t(56836),o=new h({Extends:a,initialize:function(l,u,f,d){var c="xml";if(e(u)){var m=u;u=r(m,"key"),f=r(m,"url"),d=r(m,"xhrSettings"),c=r(m,"extension",c)}var g={type:"xml",cache:l.cacheManager.xml,extension:c,responseType:"text",key:u,url:f,xhrSettings:d};a.call(this,l,g)},onProcess:function(){this.state=p.FILE_PROCESSING,this.data=s(this.xhrLoader.responseText),this.data?this.onProcessComplete():this.onProcessError()}});n.register("xml",function(i,l,u){if(Array.isArray(i))for(var f=0;f<i.length;f++)this.addFile(new o(this,i[f]));else this.addFile(new o(this,i,l,u));return this}),v.exports=o},64589:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={AnimationJSONFile:t(14135),AsepriteFile:t(76272),AtlasJSONFile:t(38734),AtlasXMLFile:t(74599),AudioFile:t(21097),AudioSpriteFile:t(89524),BinaryFile:t(85722),BitmapFontFile:t(97025),CompressedTextureFile:t(69559),CSSFile:t(16024),GLSLFile:t(47931),HTML5AudioFile:t(89749),HTMLFile:t(88470),HTMLTextureFile:t(14643),ImageFile:t(19550),JSONFile:t(518),MultiAtlasFile:t(59327),MultiScriptFile:t(99297),OBJFile:t(41846),PackFile:t(58610),PluginFile:t(48988),SceneFile:t(88423),ScenePluginFile:t(56812),ScriptFile:t(34328),SpriteSheetFile:t(85035),SVGFile:t(67397),TextFile:t(78776),TilemapCSVFile:t(49477),TilemapImpactFile:t(40807),TilemapJSONFile:t(56775),UnityAtlasFile:t(25771),VideoFile:t(33720),XMLFile:t(57318)}},57777:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(23906),p=t(79291),a={Events:t(54899),FileTypes:t(64589),File:t(41299),FileTypesManager:t(74099),GetURL:t(98356),LoaderPlugin:t(74261),MergeXHRSettings:t(3374),MultiFile:t(26430),XHRLoader:t(84376),XHRSettings:t(92638)};a=p(!1,a,h),v.exports=a},53307:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){for(var h=0,p=0;p<t.length;p++)h+=+t[p];return h/t.length};v.exports=y},85710:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(6411),p=function(a,n){return h(a)/h(n)/h(a-n)};v.exports=p},30976:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,h){return Math.floor(Math.random()*(h-t+1)+t)};v.exports=y},87842:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,h,p,a,n){var r=(a-h)*.5,e=(n-p)*.5,s=t*t,o=t*s;return(2*p-2*a+r+e)*o+(-3*p+3*a-2*r-e)*s+r*t+p};v.exports=y},26302:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,h,p){h===void 0&&(h=0),p===void 0&&(p=10);var a=Math.pow(p,-h);return Math.ceil(t*a)/a};v.exports=y},45319:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,h,p){return Math.max(h,Math.min(p,t))};v.exports=y},39506:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(36383),p=function(a){return a*h.DEG_TO_RAD};v.exports=p},61241:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,h){return Math.abs(t-h)};v.exports=y},38857:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(45319),p=t(83419),a=t(37867),n=t(29747),r=new a,e=new p({initialize:function s(o,i,l,u){o===void 0&&(o=0),i===void 0&&(i=0),l===void 0&&(l=0),u===void 0&&(u=s.DefaultOrder),this._x=o,this._y=i,this._z=l,this._order=u,this.onChangeCallback=n},x:{get:function(){return this._x},set:function(s){this._x=s,this.onChangeCallback(this)}},y:{get:function(){return this._y},set:function(s){this._y=s,this.onChangeCallback(this)}},z:{get:function(){return this._z},set:function(s){this._z=s,this.onChangeCallback(this)}},order:{get:function(){return this._order},set:function(s){this._order=s,this.onChangeCallback(this)}},set:function(s,o,i,l){return l===void 0&&(l=this._order),this._x=s,this._y=o,this._z=i,this._order=l,this.onChangeCallback(this),this},copy:function(s){return this.set(s.x,s.y,s.z,s.order)},setFromQuaternion:function(s,o,i){return o===void 0&&(o=this._order),i===void 0&&(i=!1),r.fromQuat(s),this.setFromRotationMatrix(r,o,i)},setFromRotationMatrix:function(s,o,i){o===void 0&&(o=this._order),i===void 0&&(i=!1);var l=s.val,u=l[0],f=l[4],d=l[8],c=l[1],m=l[5],g=l[9],x=l[2],T=l[6],S=l[10],P=0,L=0,I=0,O=.99999;switch(o){case"XYZ":{L=Math.asin(h(d,-1,1)),Math.abs(d)<O?(P=Math.atan2(-g,S),I=Math.atan2(-f,u)):P=Math.atan2(T,m);break}case"YXZ":{P=Math.asin(-h(g,-1,1)),Math.abs(g)<O?(L=Math.atan2(d,S),I=Math.atan2(c,m)):L=Math.atan2(-x,u);break}case"ZXY":{P=Math.asin(h(T,-1,1)),Math.abs(T)<O?(L=Math.atan2(-x,S),I=Math.atan2(-f,m)):I=Math.atan2(c,u);break}case"ZYX":{L=Math.asin(-h(x,-1,1)),Math.abs(x)<O?(P=Math.atan2(T,S),I=Math.atan2(c,u)):I=Math.atan2(-f,m);break}case"YZX":{I=Math.asin(h(c,-1,1)),Math.abs(c)<O?(P=Math.atan2(-g,m),L=Math.atan2(-x,u)):L=Math.atan2(d,S);break}case"XZY":{I=Math.asin(-h(f,-1,1)),Math.abs(f)<O?(P=Math.atan2(T,m),L=Math.atan2(d,u)):P=Math.atan2(-g,S);break}}return this._x=P,this._y=L,this._z=I,this._order=o,i&&this.onChangeCallback(this),this}});e.RotationOrders=["XYZ","YXZ","ZXY","ZYX","YZX","XZY"],e.DefaultOrder="XYZ",v.exports=e},6411:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){if(t===0)return 1;for(var h=t;--t;)h*=t;return h};v.exports=y},99472:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,h){return Math.random()*(h-t)+t};v.exports=y},77623:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,h,p){h===void 0&&(h=0),p===void 0&&(p=10);var a=Math.pow(p,-h);return Math.floor(t*a)/a};v.exports=y},62945:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(45319),p=function(a,n,r){return a=h(a,0,1),(r-n)*a+n};v.exports=p},38265:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,h){return t/h/1e3};v.exports=y},78702:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){return t==parseFloat(t)?!(t%2):void 0};v.exports=y},94883:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){return t===parseFloat(t)?!(t%2):void 0};v.exports=y},28915:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,h,p){return(h-t)*p+t};v.exports=y},94908:v=>{/**
 * @author       Greg McLean <GregDevProjects>
 * @copyright    2021 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,h,p){return p===void 0&&(p=0),t.clone().lerp(h,p)};v.exports=y},94434:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),p=new h({initialize:function(n){this.val=new Float32Array(9),n?this.copy(n):this.identity()},clone:function(){return new p(this)},set:function(a){return this.copy(a)},copy:function(a){var n=this.val,r=a.val;return n[0]=r[0],n[1]=r[1],n[2]=r[2],n[3]=r[3],n[4]=r[4],n[5]=r[5],n[6]=r[6],n[7]=r[7],n[8]=r[8],this},fromMat4:function(a){var n=a.val,r=this.val;return r[0]=n[0],r[1]=n[1],r[2]=n[2],r[3]=n[4],r[4]=n[5],r[5]=n[6],r[6]=n[8],r[7]=n[9],r[8]=n[10],this},fromArray:function(a){var n=this.val;return n[0]=a[0],n[1]=a[1],n[2]=a[2],n[3]=a[3],n[4]=a[4],n[5]=a[5],n[6]=a[6],n[7]=a[7],n[8]=a[8],this},identity:function(){var a=this.val;return a[0]=1,a[1]=0,a[2]=0,a[3]=0,a[4]=1,a[5]=0,a[6]=0,a[7]=0,a[8]=1,this},transpose:function(){var a=this.val,n=a[1],r=a[2],e=a[5];return a[1]=a[3],a[2]=a[6],a[3]=n,a[5]=a[7],a[6]=r,a[7]=e,this},invert:function(){var a=this.val,n=a[0],r=a[1],e=a[2],s=a[3],o=a[4],i=a[5],l=a[6],u=a[7],f=a[8],d=f*o-i*u,c=-f*s+i*l,m=u*s-o*l,g=n*d+r*c+e*m;return g?(g=1/g,a[0]=d*g,a[1]=(-f*r+e*u)*g,a[2]=(i*r-e*o)*g,a[3]=c*g,a[4]=(f*n-e*l)*g,a[5]=(-i*n+e*s)*g,a[6]=m*g,a[7]=(-u*n+r*l)*g,a[8]=(o*n-r*s)*g,this):null},adjoint:function(){var a=this.val,n=a[0],r=a[1],e=a[2],s=a[3],o=a[4],i=a[5],l=a[6],u=a[7],f=a[8];return a[0]=o*f-i*u,a[1]=e*u-r*f,a[2]=r*i-e*o,a[3]=i*l-s*f,a[4]=n*f-e*l,a[5]=e*s-n*i,a[6]=s*u-o*l,a[7]=r*l-n*u,a[8]=n*o-r*s,this},determinant:function(){var a=this.val,n=a[0],r=a[1],e=a[2],s=a[3],o=a[4],i=a[5],l=a[6],u=a[7],f=a[8];return n*(f*o-i*u)+r*(-f*s+i*l)+e*(u*s-o*l)},multiply:function(a){var n=this.val,r=n[0],e=n[1],s=n[2],o=n[3],i=n[4],l=n[5],u=n[6],f=n[7],d=n[8],c=a.val,m=c[0],g=c[1],x=c[2],T=c[3],S=c[4],P=c[5],L=c[6],I=c[7],O=c[8];return n[0]=m*r+g*o+x*u,n[1]=m*e+g*i+x*f,n[2]=m*s+g*l+x*d,n[3]=T*r+S*o+P*u,n[4]=T*e+S*i+P*f,n[5]=T*s+S*l+P*d,n[6]=L*r+I*o+O*u,n[7]=L*e+I*i+O*f,n[8]=L*s+I*l+O*d,this},translate:function(a){var n=this.val,r=a.x,e=a.y;return n[6]=r*n[0]+e*n[3]+n[6],n[7]=r*n[1]+e*n[4]+n[7],n[8]=r*n[2]+e*n[5]+n[8],this},rotate:function(a){var n=this.val,r=n[0],e=n[1],s=n[2],o=n[3],i=n[4],l=n[5],u=Math.sin(a),f=Math.cos(a);return n[0]=f*r+u*o,n[1]=f*e+u*i,n[2]=f*s+u*l,n[3]=f*o-u*r,n[4]=f*i-u*e,n[5]=f*l-u*s,this},scale:function(a){var n=this.val,r=a.x,e=a.y;return n[0]=r*n[0],n[1]=r*n[1],n[2]=r*n[2],n[3]=e*n[3],n[4]=e*n[4],n[5]=e*n[5],this},fromQuat:function(a){var n=a.x,r=a.y,e=a.z,s=a.w,o=n+n,i=r+r,l=e+e,u=n*o,f=n*i,d=n*l,c=r*i,m=r*l,g=e*l,x=s*o,T=s*i,S=s*l,P=this.val;return P[0]=1-(c+g),P[3]=f+S,P[6]=d-T,P[1]=f-S,P[4]=1-(u+g),P[7]=m+x,P[2]=d+T,P[5]=m-x,P[8]=1-(u+c),this},normalFromMat4:function(a){var n=a.val,r=this.val,e=n[0],s=n[1],o=n[2],i=n[3],l=n[4],u=n[5],f=n[6],d=n[7],c=n[8],m=n[9],g=n[10],x=n[11],T=n[12],S=n[13],P=n[14],L=n[15],I=e*u-s*l,O=e*f-o*l,M=e*d-i*l,w=s*f-o*u,D=s*d-i*u,U=o*d-i*f,Y=c*S-m*T,H=c*P-g*T,X=c*L-x*T,G=m*P-g*S,z=m*L-x*S,b=g*L-x*P,N=I*b-O*z+M*G+w*X-D*H+U*Y;return N?(N=1/N,r[0]=(u*b-f*z+d*G)*N,r[1]=(f*X-l*b-d*H)*N,r[2]=(l*z-u*X+d*Y)*N,r[3]=(o*z-s*b-i*G)*N,r[4]=(e*b-o*X+i*H)*N,r[5]=(s*X-e*z-i*Y)*N,r[6]=(S*U-P*D+L*w)*N,r[7]=(P*M-T*U-L*O)*N,r[8]=(T*D-S*M+L*I)*N,this):null}});v.exports=p},37867:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),p=t(25836),a=1e-6,n=new h({initialize:function(u){this.val=new Float32Array(16),u?this.copy(u):this.identity()},clone:function(){return new n(this)},set:function(l){return this.copy(l)},setValues:function(l,u,f,d,c,m,g,x,T,S,P,L,I,O,M,w){var D=this.val;return D[0]=l,D[1]=u,D[2]=f,D[3]=d,D[4]=c,D[5]=m,D[6]=g,D[7]=x,D[8]=T,D[9]=S,D[10]=P,D[11]=L,D[12]=I,D[13]=O,D[14]=M,D[15]=w,this},copy:function(l){var u=l.val;return this.setValues(u[0],u[1],u[2],u[3],u[4],u[5],u[6],u[7],u[8],u[9],u[10],u[11],u[12],u[13],u[14],u[15])},fromArray:function(l){return this.setValues(l[0],l[1],l[2],l[3],l[4],l[5],l[6],l[7],l[8],l[9],l[10],l[11],l[12],l[13],l[14],l[15])},zero:function(){return this.setValues(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)},transform:function(l,u,f){var d=r.fromQuat(f),c=d.val,m=u.x,g=u.y,x=u.z;return this.setValues(c[0]*m,c[1]*m,c[2]*m,0,c[4]*g,c[5]*g,c[6]*g,0,c[8]*x,c[9]*x,c[10]*x,0,l.x,l.y,l.z,1)},xyz:function(l,u,f){this.identity();var d=this.val;return d[12]=l,d[13]=u,d[14]=f,this},scaling:function(l,u,f){this.zero();var d=this.val;return d[0]=l,d[5]=u,d[10]=f,d[15]=1,this},identity:function(){return this.setValues(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)},transpose:function(){var l=this.val,u=l[1],f=l[2],d=l[3],c=l[6],m=l[7],g=l[11];return l[1]=l[4],l[2]=l[8],l[3]=l[12],l[4]=u,l[6]=l[9],l[7]=l[13],l[8]=f,l[9]=c,l[11]=l[14],l[12]=d,l[13]=m,l[14]=g,this},getInverse:function(l){return this.copy(l),this.invert()},invert:function(){var l=this.val,u=l[0],f=l[1],d=l[2],c=l[3],m=l[4],g=l[5],x=l[6],T=l[7],S=l[8],P=l[9],L=l[10],I=l[11],O=l[12],M=l[13],w=l[14],D=l[15],U=u*g-f*m,Y=u*x-d*m,H=u*T-c*m,X=f*x-d*g,G=f*T-c*g,z=d*T-c*x,b=S*M-P*O,N=S*w-L*O,W=S*D-I*O,K=P*w-L*M,J=P*D-I*M,j=L*D-I*w,Z=U*j-Y*J+H*K+X*W-G*N+z*b;return Z?(Z=1/Z,this.setValues((g*j-x*J+T*K)*Z,(d*J-f*j-c*K)*Z,(M*z-w*G+D*X)*Z,(L*G-P*z-I*X)*Z,(x*W-m*j-T*N)*Z,(u*j-d*W+c*N)*Z,(w*H-O*z-D*Y)*Z,(S*z-L*H+I*Y)*Z,(m*J-g*W+T*b)*Z,(f*W-u*J-c*b)*Z,(O*G-M*H+D*U)*Z,(P*H-S*G-I*U)*Z,(g*N-m*K-x*b)*Z,(u*K-f*N+d*b)*Z,(M*Y-O*X-w*U)*Z,(S*X-P*Y+L*U)*Z)):this},adjoint:function(){var l=this.val,u=l[0],f=l[1],d=l[2],c=l[3],m=l[4],g=l[5],x=l[6],T=l[7],S=l[8],P=l[9],L=l[10],I=l[11],O=l[12],M=l[13],w=l[14],D=l[15];return this.setValues(g*(L*D-I*w)-P*(x*D-T*w)+M*(x*I-T*L),-(f*(L*D-I*w)-P*(d*D-c*w)+M*(d*I-c*L)),f*(x*D-T*w)-g*(d*D-c*w)+M*(d*T-c*x),-(f*(x*I-T*L)-g*(d*I-c*L)+P*(d*T-c*x)),-(m*(L*D-I*w)-S*(x*D-T*w)+O*(x*I-T*L)),u*(L*D-I*w)-S*(d*D-c*w)+O*(d*I-c*L),-(u*(x*D-T*w)-m*(d*D-c*w)+O*(d*T-c*x)),u*(x*I-T*L)-m*(d*I-c*L)+S*(d*T-c*x),m*(P*D-I*M)-S*(g*D-T*M)+O*(g*I-T*P),-(u*(P*D-I*M)-S*(f*D-c*M)+O*(f*I-c*P)),u*(g*D-T*M)-m*(f*D-c*M)+O*(f*T-c*g),-(u*(g*I-T*P)-m*(f*I-c*P)+S*(f*T-c*g)),-(m*(P*w-L*M)-S*(g*w-x*M)+O*(g*L-x*P)),u*(P*w-L*M)-S*(f*w-d*M)+O*(f*L-d*P),-(u*(g*w-x*M)-m*(f*w-d*M)+O*(f*x-d*g)),u*(g*L-x*P)-m*(f*L-d*P)+S*(f*x-d*g))},determinant:function(){var l=this.val,u=l[0],f=l[1],d=l[2],c=l[3],m=l[4],g=l[5],x=l[6],T=l[7],S=l[8],P=l[9],L=l[10],I=l[11],O=l[12],M=l[13],w=l[14],D=l[15],U=u*g-f*m,Y=u*x-d*m,H=u*T-c*m,X=f*x-d*g,G=f*T-c*g,z=d*T-c*x,b=S*M-P*O,N=S*w-L*O,W=S*D-I*O,K=P*w-L*M,J=P*D-I*M,j=L*D-I*w;return U*j-Y*J+H*K+X*W-G*N+z*b},multiply:function(l){var u=this.val,f=u[0],d=u[1],c=u[2],m=u[3],g=u[4],x=u[5],T=u[6],S=u[7],P=u[8],L=u[9],I=u[10],O=u[11],M=u[12],w=u[13],D=u[14],U=u[15],Y=l.val,H=Y[0],X=Y[1],G=Y[2],z=Y[3];return u[0]=H*f+X*g+G*P+z*M,u[1]=H*d+X*x+G*L+z*w,u[2]=H*c+X*T+G*I+z*D,u[3]=H*m+X*S+G*O+z*U,H=Y[4],X=Y[5],G=Y[6],z=Y[7],u[4]=H*f+X*g+G*P+z*M,u[5]=H*d+X*x+G*L+z*w,u[6]=H*c+X*T+G*I+z*D,u[7]=H*m+X*S+G*O+z*U,H=Y[8],X=Y[9],G=Y[10],z=Y[11],u[8]=H*f+X*g+G*P+z*M,u[9]=H*d+X*x+G*L+z*w,u[10]=H*c+X*T+G*I+z*D,u[11]=H*m+X*S+G*O+z*U,H=Y[12],X=Y[13],G=Y[14],z=Y[15],u[12]=H*f+X*g+G*P+z*M,u[13]=H*d+X*x+G*L+z*w,u[14]=H*c+X*T+G*I+z*D,u[15]=H*m+X*S+G*O+z*U,this},multiplyLocal:function(l){var u=this.val,f=l.val;return this.setValues(u[0]*f[0]+u[1]*f[4]+u[2]*f[8]+u[3]*f[12],u[0]*f[1]+u[1]*f[5]+u[2]*f[9]+u[3]*f[13],u[0]*f[2]+u[1]*f[6]+u[2]*f[10]+u[3]*f[14],u[0]*f[3]+u[1]*f[7]+u[2]*f[11]+u[3]*f[15],u[4]*f[0]+u[5]*f[4]+u[6]*f[8]+u[7]*f[12],u[4]*f[1]+u[5]*f[5]+u[6]*f[9]+u[7]*f[13],u[4]*f[2]+u[5]*f[6]+u[6]*f[10]+u[7]*f[14],u[4]*f[3]+u[5]*f[7]+u[6]*f[11]+u[7]*f[15],u[8]*f[0]+u[9]*f[4]+u[10]*f[8]+u[11]*f[12],u[8]*f[1]+u[9]*f[5]+u[10]*f[9]+u[11]*f[13],u[8]*f[2]+u[9]*f[6]+u[10]*f[10]+u[11]*f[14],u[8]*f[3]+u[9]*f[7]+u[10]*f[11]+u[11]*f[15],u[12]*f[0]+u[13]*f[4]+u[14]*f[8]+u[15]*f[12],u[12]*f[1]+u[13]*f[5]+u[14]*f[9]+u[15]*f[13],u[12]*f[2]+u[13]*f[6]+u[14]*f[10]+u[15]*f[14],u[12]*f[3]+u[13]*f[7]+u[14]*f[11]+u[15]*f[15])},premultiply:function(l){return this.multiplyMatrices(l,this)},multiplyMatrices:function(l,u){var f=l.val,d=u.val,c=f[0],m=f[4],g=f[8],x=f[12],T=f[1],S=f[5],P=f[9],L=f[13],I=f[2],O=f[6],M=f[10],w=f[14],D=f[3],U=f[7],Y=f[11],H=f[15],X=d[0],G=d[4],z=d[8],b=d[12],N=d[1],W=d[5],K=d[9],J=d[13],j=d[2],Z=d[6],q=d[10],_=d[14],tt=d[3],et=d[7],ot=d[11],it=d[15];return this.setValues(c*X+m*N+g*j+x*tt,T*X+S*N+P*j+L*tt,I*X+O*N+M*j+w*tt,D*X+U*N+Y*j+H*tt,c*G+m*W+g*Z+x*et,T*G+S*W+P*Z+L*et,I*G+O*W+M*Z+w*et,D*G+U*W+Y*Z+H*et,c*z+m*K+g*q+x*ot,T*z+S*K+P*q+L*ot,I*z+O*K+M*q+w*ot,D*z+U*K+Y*q+H*ot,c*b+m*J+g*_+x*it,T*b+S*J+P*_+L*it,I*b+O*J+M*_+w*it,D*b+U*J+Y*_+H*it)},translate:function(l){return this.translateXYZ(l.x,l.y,l.z)},translateXYZ:function(l,u,f){var d=this.val;return d[12]=d[0]*l+d[4]*u+d[8]*f+d[12],d[13]=d[1]*l+d[5]*u+d[9]*f+d[13],d[14]=d[2]*l+d[6]*u+d[10]*f+d[14],d[15]=d[3]*l+d[7]*u+d[11]*f+d[15],this},scale:function(l){return this.scaleXYZ(l.x,l.y,l.z)},scaleXYZ:function(l,u,f){var d=this.val;return d[0]=d[0]*l,d[1]=d[1]*l,d[2]=d[2]*l,d[3]=d[3]*l,d[4]=d[4]*u,d[5]=d[5]*u,d[6]=d[6]*u,d[7]=d[7]*u,d[8]=d[8]*f,d[9]=d[9]*f,d[10]=d[10]*f,d[11]=d[11]*f,this},makeRotationAxis:function(l,u){var f=Math.cos(u),d=Math.sin(u),c=1-f,m=l.x,g=l.y,x=l.z,T=c*m,S=c*g;return this.setValues(T*m+f,T*g-d*x,T*x+d*g,0,T*g+d*x,S*g+f,S*x-d*m,0,T*x-d*g,S*x+d*m,c*x*x+f,0,0,0,0,1)},rotate:function(l,u){var f=this.val,d=u.x,c=u.y,m=u.z,g=Math.sqrt(d*d+c*c+m*m);if(Math.abs(g)<a)return this;g=1/g,d*=g,c*=g,m*=g;var x=Math.sin(l),T=Math.cos(l),S=1-T,P=f[0],L=f[1],I=f[2],O=f[3],M=f[4],w=f[5],D=f[6],U=f[7],Y=f[8],H=f[9],X=f[10],G=f[11],z=f[12],b=f[13],N=f[14],W=f[15],K=d*d*S+T,J=c*d*S+m*x,j=m*d*S-c*x,Z=d*c*S-m*x,q=c*c*S+T,_=m*c*S+d*x,tt=d*m*S+c*x,et=c*m*S-d*x,ot=m*m*S+T;return this.setValues(P*K+M*J+Y*j,L*K+w*J+H*j,I*K+D*J+X*j,O*K+U*J+G*j,P*Z+M*q+Y*_,L*Z+w*q+H*_,I*Z+D*q+X*_,O*Z+U*q+G*_,P*tt+M*et+Y*ot,L*tt+w*et+H*ot,I*tt+D*et+X*ot,O*tt+U*et+G*ot,z,b,N,W)},rotateX:function(l){var u=this.val,f=Math.sin(l),d=Math.cos(l),c=u[4],m=u[5],g=u[6],x=u[7],T=u[8],S=u[9],P=u[10],L=u[11];return u[4]=c*d+T*f,u[5]=m*d+S*f,u[6]=g*d+P*f,u[7]=x*d+L*f,u[8]=T*d-c*f,u[9]=S*d-m*f,u[10]=P*d-g*f,u[11]=L*d-x*f,this},rotateY:function(l){var u=this.val,f=Math.sin(l),d=Math.cos(l),c=u[0],m=u[1],g=u[2],x=u[3],T=u[8],S=u[9],P=u[10],L=u[11];return u[0]=c*d-T*f,u[1]=m*d-S*f,u[2]=g*d-P*f,u[3]=x*d-L*f,u[8]=c*f+T*d,u[9]=m*f+S*d,u[10]=g*f+P*d,u[11]=x*f+L*d,this},rotateZ:function(l){var u=this.val,f=Math.sin(l),d=Math.cos(l),c=u[0],m=u[1],g=u[2],x=u[3],T=u[4],S=u[5],P=u[6],L=u[7];return u[0]=c*d+T*f,u[1]=m*d+S*f,u[2]=g*d+P*f,u[3]=x*d+L*f,u[4]=T*d-c*f,u[5]=S*d-m*f,u[6]=P*d-g*f,u[7]=L*d-x*f,this},fromRotationTranslation:function(l,u){var f=l.x,d=l.y,c=l.z,m=l.w,g=f+f,x=d+d,T=c+c,S=f*g,P=f*x,L=f*T,I=d*x,O=d*T,M=c*T,w=m*g,D=m*x,U=m*T;return this.setValues(1-(I+M),P+U,L-D,0,P-U,1-(S+M),O+w,0,L+D,O-w,1-(S+I),0,u.x,u.y,u.z,1)},fromQuat:function(l){var u=l.x,f=l.y,d=l.z,c=l.w,m=u+u,g=f+f,x=d+d,T=u*m,S=u*g,P=u*x,L=f*g,I=f*x,O=d*x,M=c*m,w=c*g,D=c*x;return this.setValues(1-(L+O),S+D,P-w,0,S-D,1-(T+O),I+M,0,P+w,I-M,1-(T+L),0,0,0,0,1)},frustum:function(l,u,f,d,c,m){var g=1/(u-l),x=1/(d-f),T=1/(c-m);return this.setValues(c*2*g,0,0,0,0,c*2*x,0,0,(u+l)*g,(d+f)*x,(m+c)*T,-1,0,0,m*c*2*T,0)},perspective:function(l,u,f,d){var c=1/Math.tan(l/2),m=1/(f-d);return this.setValues(c/u,0,0,0,0,c,0,0,0,0,(d+f)*m,-1,0,0,2*d*f*m,0)},perspectiveLH:function(l,u,f,d){return this.setValues(2*f/l,0,0,0,0,2*f/u,0,0,0,0,-d/(f-d),1,0,0,f*d/(f-d),0)},ortho:function(l,u,f,d,c,m){var g=l-u,x=f-d,T=c-m;return g=g===0?g:1/g,x=x===0?x:1/x,T=T===0?T:1/T,this.setValues(-2*g,0,0,0,0,-2*x,0,0,0,0,2*T,0,(l+u)*g,(d+f)*x,(m+c)*T,1)},lookAtRH:function(l,u,f){var d=this.val;return i.subVectors(l,u),i.lengthSq()===0&&(i.z=1),i.normalize(),s.crossVectors(f,i),s.lengthSq()===0&&(Math.abs(f.z)===1?i.x+=1e-4:i.z+=1e-4,i.normalize(),s.crossVectors(f,i)),s.normalize(),o.crossVectors(i,s),d[0]=s.x,d[1]=s.y,d[2]=s.z,d[4]=o.x,d[5]=o.y,d[6]=o.z,d[8]=i.x,d[9]=i.y,d[10]=i.z,this},lookAt:function(l,u,f){var d=l.x,c=l.y,m=l.z,g=f.x,x=f.y,T=f.z,S=u.x,P=u.y,L=u.z;if(Math.abs(d-S)<a&&Math.abs(c-P)<a&&Math.abs(m-L)<a)return this.identity();var I=d-S,O=c-P,M=m-L,w=1/Math.sqrt(I*I+O*O+M*M);I*=w,O*=w,M*=w;var D=x*M-T*O,U=T*I-g*M,Y=g*O-x*I;w=Math.sqrt(D*D+U*U+Y*Y),w?(w=1/w,D*=w,U*=w,Y*=w):(D=0,U=0,Y=0);var H=O*Y-M*U,X=M*D-I*Y,G=I*U-O*D;return w=Math.sqrt(H*H+X*X+G*G),w?(w=1/w,H*=w,X*=w,G*=w):(H=0,X=0,G=0),this.setValues(D,H,I,0,U,X,O,0,Y,G,M,0,-(D*d+U*c+Y*m),-(H*d+X*c+G*m),-(I*d+O*c+M*m),1)},yawPitchRoll:function(l,u,f){this.zero(),r.zero(),e.zero();var d=this.val,c=r.val,m=e.val,g=Math.sin(f),x=Math.cos(f);return d[10]=1,d[15]=1,d[0]=x,d[1]=g,d[4]=-g,d[5]=x,g=Math.sin(u),x=Math.cos(u),c[0]=1,c[15]=1,c[5]=x,c[10]=x,c[9]=-g,c[6]=g,g=Math.sin(l),x=Math.cos(l),m[5]=1,m[15]=1,m[0]=x,m[2]=-g,m[8]=g,m[10]=x,this.multiplyLocal(r),this.multiplyLocal(e),this},setWorldMatrix:function(l,u,f,d,c){return this.yawPitchRoll(l.y,l.x,l.z),r.scaling(f.x,f.y,f.z),e.xyz(u.x,u.y,u.z),this.multiplyLocal(r),this.multiplyLocal(e),d&&this.multiplyLocal(d),c&&this.multiplyLocal(c),this},multiplyToMat4:function(l,u){var f=this.val,d=l.val,c=f[0],m=f[1],g=f[2],x=f[3],T=f[4],S=f[5],P=f[6],L=f[7],I=f[8],O=f[9],M=f[10],w=f[11],D=f[12],U=f[13],Y=f[14],H=f[15],X=d[0],G=d[1],z=d[2],b=d[3],N=d[4],W=d[5],K=d[6],J=d[7],j=d[8],Z=d[9],q=d[10],_=d[11],tt=d[12],et=d[13],ot=d[14],it=d[15];return u.setValues(X*c+G*T+z*I+b*D,G*m+G*S+z*O+b*U,z*g+G*P+z*M+b*Y,b*x+G*L+z*w+b*H,N*c+W*T+K*I+J*D,N*m+W*S+K*O+J*U,N*g+W*P+K*M+J*Y,N*x+W*L+K*w+J*H,j*c+Z*T+q*I+_*D,j*m+Z*S+q*O+_*U,j*g+Z*P+q*M+_*Y,j*x+Z*L+q*w+_*H,tt*c+et*T+ot*I+it*D,tt*m+et*S+ot*O+it*U,tt*g+et*P+ot*M+it*Y,tt*x+et*L+ot*w+it*H)},fromRotationXYTranslation:function(l,u,f){var d=u.x,c=u.y,m=u.z,g=Math.sin(l.x),x=Math.cos(l.x),T=Math.sin(l.y),S=Math.cos(l.y),P=d,L=c,I=m,O=-g,M=0-O*T,w=0-x*T,D=O*S,U=x*S;return f||(P=S*d+T*m,L=M*d+x*c+D*m,I=w*d+g*c+U*m),this.setValues(S,M,w,0,0,x,g,0,T,D,U,0,P,L,I,1)},getMaxScaleOnAxis:function(){var l=this.val,u=l[0]*l[0]+l[1]*l[1]+l[2]*l[2],f=l[4]*l[4]+l[5]*l[5]+l[6]*l[6],d=l[8]*l[8]+l[9]*l[9]+l[10]*l[10];return Math.sqrt(Math.max(u,f,d))}}),r=new n,e=new n,s=new p,o=new p,i=new p;v.exports=n},86883:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,h,p){return Math.min(t+h,p)};v.exports=y},50040:v=>{/**
 * @author       Vladislav Forsh <vlad@robowhale.com>
 * @copyright    2021 RoboWhale
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){var h=t.length;if(h===0)return 0;t.sort(function(a,n){return a-n});var p=Math.floor(h/2);return h%2===0?(t[p]+t[p-1])/2:t[p]};v.exports=y},37204:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,h,p){return Math.max(t-h,p)};v.exports=y},65201:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,h,p,a){p===void 0&&(p=h+1);var n=(t-h)/(p-h);return n>1?a!==void 0?(n=(a-t)/(a-p),n<0&&(n=0)):n=1:n<0&&(n=0),n};v.exports=y},15746:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),p=t(94434),a=t(29747),n=t(25836),r=1e-6,e=new Int8Array([1,2,0]),s=new Float32Array([0,0,0]),o=new n(1,0,0),i=new n(0,1,0),l=new n,u=new p,f=new h({initialize:function(c,m,g,x){this.onChangeCallback=a,this.set(c,m,g,x)},x:{get:function(){return this._x},set:function(d){this._x=d,this.onChangeCallback(this)}},y:{get:function(){return this._y},set:function(d){this._y=d,this.onChangeCallback(this)}},z:{get:function(){return this._z},set:function(d){this._z=d,this.onChangeCallback(this)}},w:{get:function(){return this._w},set:function(d){this._w=d,this.onChangeCallback(this)}},copy:function(d){return this.set(d)},set:function(d,c,m,g,x){return x===void 0&&(x=!0),typeof d=="object"?(this._x=d.x||0,this._y=d.y||0,this._z=d.z||0,this._w=d.w||0):(this._x=d||0,this._y=c||0,this._z=m||0,this._w=g||0),x&&this.onChangeCallback(this),this},add:function(d){return this._x+=d.x,this._y+=d.y,this._z+=d.z,this._w+=d.w,this.onChangeCallback(this),this},subtract:function(d){return this._x-=d.x,this._y-=d.y,this._z-=d.z,this._w-=d.w,this.onChangeCallback(this),this},scale:function(d){return this._x*=d,this._y*=d,this._z*=d,this._w*=d,this.onChangeCallback(this),this},length:function(){var d=this.x,c=this.y,m=this.z,g=this.w;return Math.sqrt(d*d+c*c+m*m+g*g)},lengthSq:function(){var d=this.x,c=this.y,m=this.z,g=this.w;return d*d+c*c+m*m+g*g},normalize:function(){var d=this.x,c=this.y,m=this.z,g=this.w,x=d*d+c*c+m*m+g*g;return x>0&&(x=1/Math.sqrt(x),this._x=d*x,this._y=c*x,this._z=m*x,this._w=g*x),this.onChangeCallback(this),this},dot:function(d){return this.x*d.x+this.y*d.y+this.z*d.z+this.w*d.w},lerp:function(d,c){c===void 0&&(c=0);var m=this.x,g=this.y,x=this.z,T=this.w;return this.set(m+c*(d.x-m),g+c*(d.y-g),x+c*(d.z-x),T+c*(d.w-T))},rotationTo:function(d,c){var m=d.x*c.x+d.y*c.y+d.z*c.z;return m<-.999999?(l.copy(o).cross(d).length()<r&&l.copy(i).cross(d),l.normalize(),this.setAxisAngle(l,Math.PI)):m>.999999?this.set(0,0,0,1):(l.copy(d).cross(c),this._x=l.x,this._y=l.y,this._z=l.z,this._w=1+m,this.normalize())},setAxes:function(d,c,m){var g=u.val;return g[0]=c.x,g[3]=c.y,g[6]=c.z,g[1]=m.x,g[4]=m.y,g[7]=m.z,g[2]=-d.x,g[5]=-d.y,g[8]=-d.z,this.fromMat3(u).normalize()},identity:function(){return this.set(0,0,0,1)},setAxisAngle:function(d,c){c=c*.5;var m=Math.sin(c);return this.set(m*d.x,m*d.y,m*d.z,Math.cos(c))},multiply:function(d){var c=this.x,m=this.y,g=this.z,x=this.w,T=d.x,S=d.y,P=d.z,L=d.w;return this.set(c*L+x*T+m*P-g*S,m*L+x*S+g*T-c*P,g*L+x*P+c*S-m*T,x*L-c*T-m*S-g*P)},slerp:function(d,c){var m=this.x,g=this.y,x=this.z,T=this.w,S=d.x,P=d.y,L=d.z,I=d.w,O=m*S+g*P+x*L+T*I;O<0&&(O=-O,S=-S,P=-P,L=-L,I=-I);var M=1-c,w=c;if(1-O>r){var D=Math.acos(O),U=Math.sin(D);M=Math.sin((1-c)*D)/U,w=Math.sin(c*D)/U}return this.set(M*m+w*S,M*g+w*P,M*x+w*L,M*T+w*I)},invert:function(){var d=this.x,c=this.y,m=this.z,g=this.w,x=d*d+c*c+m*m+g*g,T=x?1/x:0;return this.set(-d*T,-c*T,-m*T,g*T)},conjugate:function(){return this._x=-this.x,this._y=-this.y,this._z=-this.z,this.onChangeCallback(this),this},rotateX:function(d){d*=.5;var c=this.x,m=this.y,g=this.z,x=this.w,T=Math.sin(d),S=Math.cos(d);return this.set(c*S+x*T,m*S+g*T,g*S-m*T,x*S-c*T)},rotateY:function(d){d*=.5;var c=this.x,m=this.y,g=this.z,x=this.w,T=Math.sin(d),S=Math.cos(d);return this.set(c*S-g*T,m*S+x*T,g*S+c*T,x*S-m*T)},rotateZ:function(d){d*=.5;var c=this.x,m=this.y,g=this.z,x=this.w,T=Math.sin(d),S=Math.cos(d);return this.set(c*S+m*T,m*S-c*T,g*S+x*T,x*S-g*T)},calculateW:function(){var d=this.x,c=this.y,m=this.z;return this.w=-Math.sqrt(1-d*d-c*c-m*m),this},setFromEuler:function(d,c){var m=d.x/2,g=d.y/2,x=d.z/2,T=Math.cos(m),S=Math.cos(g),P=Math.cos(x),L=Math.sin(m),I=Math.sin(g),O=Math.sin(x);switch(d.order){case"XYZ":{this.set(L*S*P+T*I*O,T*I*P-L*S*O,T*S*O+L*I*P,T*S*P-L*I*O,c);break}case"YXZ":{this.set(L*S*P+T*I*O,T*I*P-L*S*O,T*S*O-L*I*P,T*S*P+L*I*O,c);break}case"ZXY":{this.set(L*S*P-T*I*O,T*I*P+L*S*O,T*S*O+L*I*P,T*S*P-L*I*O,c);break}case"ZYX":{this.set(L*S*P-T*I*O,T*I*P+L*S*O,T*S*O-L*I*P,T*S*P+L*I*O,c);break}case"YZX":{this.set(L*S*P+T*I*O,T*I*P+L*S*O,T*S*O-L*I*P,T*S*P-L*I*O,c);break}case"XZY":{this.set(L*S*P-T*I*O,T*I*P-L*S*O,T*S*O+L*I*P,T*S*P+L*I*O,c);break}}return this},setFromRotationMatrix:function(d){var c=d.val,m=c[0],g=c[4],x=c[8],T=c[1],S=c[5],P=c[9],L=c[2],I=c[6],O=c[10],M=m+S+O,w;return M>0?(w=.5/Math.sqrt(M+1),this.set((I-P)*w,(x-L)*w,(T-g)*w,.25/w)):m>S&&m>O?(w=2*Math.sqrt(1+m-S-O),this.set(.25*w,(g+T)/w,(x+L)/w,(I-P)/w)):S>O?(w=2*Math.sqrt(1+S-m-O),this.set((g+T)/w,.25*w,(P+I)/w,(x-L)/w)):(w=2*Math.sqrt(1+O-m-S),this.set((x+L)/w,(P+I)/w,.25*w,(T-g)/w)),this},fromMat3:function(d){var c=d.val,m=c[0]+c[4]+c[8],g;if(m>0)g=Math.sqrt(m+1),this.w=.5*g,g=.5/g,this._x=(c[7]-c[5])*g,this._y=(c[2]-c[6])*g,this._z=(c[3]-c[1])*g;else{var x=0;c[4]>c[0]&&(x=1),c[8]>c[x*3+x]&&(x=2);var T=e[x],S=e[T];g=Math.sqrt(c[x*3+x]-c[T*3+T]-c[S*3+S]+1),s[x]=.5*g,g=.5/g,s[T]=(c[T*3+x]+c[x*3+T])*g,s[S]=(c[S*3+x]+c[x*3+S])*g,this._x=s[0],this._y=s[1],this._z=s[2],this._w=(c[S*3+T]-c[T*3+S])*g}return this.onChangeCallback(this),this}});v.exports=f},43396:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(36383),p=function(a){return a*h.RAD_TO_DEG};v.exports=p},74362:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,h){h===void 0&&(h=1);var p=Math.random()*2*Math.PI;return t.x=Math.cos(p)*h,t.y=Math.sin(p)*h,t};v.exports=y},60706:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,h){h===void 0&&(h=1);var p=Math.random()*2*Math.PI,a=Math.random()*2-1,n=Math.sqrt(1-a*a)*h;return t.x=Math.cos(p)*n,t.y=Math.sin(p)*n,t.z=a*h,t};v.exports=y},67421:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,h){return h===void 0&&(h=1),t.x=(Math.random()*2-1)*h,t.y=(Math.random()*2-1)*h,t.z=(Math.random()*2-1)*h,t.w=(Math.random()*2-1)*h,t};v.exports=y},36305:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,h){var p=t.x,a=t.y;return t.x=p*Math.cos(h)-a*Math.sin(h),t.y=p*Math.sin(h)+a*Math.cos(h),t};v.exports=y},11520:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,h,p,a){var n=Math.cos(a),r=Math.sin(a),e=t.x-h,s=t.y-p;return t.x=e*n-s*r+h,t.y=e*r+s*n+p,t};v.exports=y},1163:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,h,p,a,n){var r=a+Math.atan2(t.y-p,t.x-h);return t.x=h+n*Math.cos(r),t.y=p+n*Math.sin(r),t};v.exports=y},70336:v=>{/**
 * @author       samme
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,h,p,a,n){return t.x=h+n*Math.cos(a),t.y=p+n*Math.sin(a),t};v.exports=y},72678:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(25836),p=t(37867),a=t(15746),n=new p,r=new a,e=new h,s=function(o,i,l){return r.setAxisAngle(i,l),n.fromRotationTranslation(r,e.set(0,0,0)),o.transformMat4(n)};v.exports=s},2284:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){return t>0?Math.ceil(t):Math.floor(t)};v.exports=y},41013:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,h,p){h===void 0&&(h=0),p===void 0&&(p=10);var a=Math.pow(p,-h);return Math.round(t*a)/a};v.exports=y},16922:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,h,p,a){h===void 0&&(h=1),p===void 0&&(p=1),a===void 0&&(a=1),a*=Math.PI/t;for(var n=[],r=[],e=0;e<t;e++)p-=h*a,h+=p*a,n[e]=p,r[e]=h;return{sin:r,cos:n,length:t}};v.exports=y},7602:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,h,p){return t<=h?0:t>=p?1:(t=(t-h)/(p-h),t*t*(3-2*t))};v.exports=y},54261:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,h,p){return t=Math.max(0,Math.min(1,(t-h)/(p-h))),t*t*t*(t*(t*6-15)+10)};v.exports=y},44408:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(26099),p=function(a,n,r,e){e===void 0&&(e=new h);var s=0,o=0,i=n*r;return a>0&&a<=i&&(a>n-1?(o=Math.floor(a/n),s=a-o*n):s=a),e.set(s,o)};v.exports=p},85955:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(26099),p=function(a,n,r,e,s,o,i,l){l===void 0&&(l=new h);var u=Math.sin(s),f=Math.cos(s),d=f*o,c=u*o,m=-u*i,g=f*i,x=1/(d*g+m*-c);return l.x=g*x*a+-m*x*n+(e*m-r*g)*x,l.y=d*x*n+-c*x*a+(-e*d+r*c)*x,l};v.exports=p},26099:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),p=t(43855),a=new h({initialize:function(r,e){this.x=0,this.y=0,typeof r=="object"?(this.x=r.x||0,this.y=r.y||0):(e===void 0&&(e=r),this.x=r||0,this.y=e||0)},clone:function(){return new a(this.x,this.y)},copy:function(n){return this.x=n.x||0,this.y=n.y||0,this},setFromObject:function(n){return this.x=n.x||0,this.y=n.y||0,this},set:function(n,r){return r===void 0&&(r=n),this.x=n,this.y=r,this},setTo:function(n,r){return this.set(n,r)},setToPolar:function(n,r){return r==null&&(r=1),this.x=Math.cos(n)*r,this.y=Math.sin(n)*r,this},equals:function(n){return this.x===n.x&&this.y===n.y},fuzzyEquals:function(n,r){return p(this.x,n.x,r)&&p(this.y,n.y,r)},angle:function(){var n=Math.atan2(this.y,this.x);return n<0&&(n+=2*Math.PI),n},setAngle:function(n){return this.setToPolar(n,this.length())},add:function(n){return this.x+=n.x,this.y+=n.y,this},subtract:function(n){return this.x-=n.x,this.y-=n.y,this},multiply:function(n){return this.x*=n.x,this.y*=n.y,this},scale:function(n){return isFinite(n)?(this.x*=n,this.y*=n):(this.x=0,this.y=0),this},divide:function(n){return this.x/=n.x,this.y/=n.y,this},negate:function(){return this.x=-this.x,this.y=-this.y,this},distance:function(n){var r=n.x-this.x,e=n.y-this.y;return Math.sqrt(r*r+e*e)},distanceSq:function(n){var r=n.x-this.x,e=n.y-this.y;return r*r+e*e},length:function(){var n=this.x,r=this.y;return Math.sqrt(n*n+r*r)},setLength:function(n){return this.normalize().scale(n)},lengthSq:function(){var n=this.x,r=this.y;return n*n+r*r},normalize:function(){var n=this.x,r=this.y,e=n*n+r*r;return e>0&&(e=1/Math.sqrt(e),this.x=n*e,this.y=r*e),this},normalizeRightHand:function(){var n=this.x;return this.x=this.y*-1,this.y=n,this},normalizeLeftHand:function(){var n=this.x;return this.x=this.y,this.y=n*-1,this},dot:function(n){return this.x*n.x+this.y*n.y},cross:function(n){return this.x*n.y-this.y*n.x},lerp:function(n,r){r===void 0&&(r=0);var e=this.x,s=this.y;return this.x=e+r*(n.x-e),this.y=s+r*(n.y-s),this},transformMat3:function(n){var r=this.x,e=this.y,s=n.val;return this.x=s[0]*r+s[3]*e+s[6],this.y=s[1]*r+s[4]*e+s[7],this},transformMat4:function(n){var r=this.x,e=this.y,s=n.val;return this.x=s[0]*r+s[4]*e+s[12],this.y=s[1]*r+s[5]*e+s[13],this},reset:function(){return this.x=0,this.y=0,this},limit:function(n){var r=this.length();return r&&r>n&&this.scale(n/r),this},reflect:function(n){return n=n.clone().normalize(),this.subtract(n.scale(2*this.dot(n)))},mirror:function(n){return this.reflect(n).negate()},rotate:function(n){var r=Math.cos(n),e=Math.sin(n);return this.set(r*this.x-e*this.y,e*this.x+r*this.y)},project:function(n){var r=this.dot(n)/n.dot(n);return this.copy(n).scale(r)}});a.ZERO=new a,a.RIGHT=new a(1,0),a.LEFT=new a(-1,0),a.UP=new a(0,-1),a.DOWN=new a(0,1),a.ONE=new a(1,1),v.exports=a},25836:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),p=new h({initialize:function(n,r,e){this.x=0,this.y=0,this.z=0,typeof n=="object"?(this.x=n.x||0,this.y=n.y||0,this.z=n.z||0):(this.x=n||0,this.y=r||0,this.z=e||0)},up:function(){return this.x=0,this.y=1,this.z=0,this},min:function(a){return this.x=Math.min(this.x,a.x),this.y=Math.min(this.y,a.y),this.z=Math.min(this.z,a.z),this},max:function(a){return this.x=Math.max(this.x,a.x),this.y=Math.max(this.y,a.y),this.z=Math.max(this.z,a.z),this},clone:function(){return new p(this.x,this.y,this.z)},addVectors:function(a,n){return this.x=a.x+n.x,this.y=a.y+n.y,this.z=a.z+n.z,this},subVectors:function(a,n){return this.x=a.x-n.x,this.y=a.y-n.y,this.z=a.z-n.z,this},crossVectors:function(a,n){var r=a.x,e=a.y,s=a.z,o=n.x,i=n.y,l=n.z;return this.x=e*l-s*i,this.y=s*o-r*l,this.z=r*i-e*o,this},equals:function(a){return this.x===a.x&&this.y===a.y&&this.z===a.z},copy:function(a){return this.x=a.x,this.y=a.y,this.z=a.z||0,this},set:function(a,n,r){return typeof a=="object"?(this.x=a.x||0,this.y=a.y||0,this.z=a.z||0):(this.x=a||0,this.y=n||0,this.z=r||0),this},setFromMatrixPosition:function(a){return this.fromArray(a.val,12)},setFromMatrixColumn:function(a,n){return this.fromArray(a.val,n*4)},fromArray:function(a,n){return n===void 0&&(n=0),this.x=a[n],this.y=a[n+1],this.z=a[n+2],this},add:function(a){return this.x+=a.x,this.y+=a.y,this.z+=a.z||0,this},addScalar:function(a){return this.x+=a,this.y+=a,this.z+=a,this},addScale:function(a,n){return this.x+=a.x*n,this.y+=a.y*n,this.z+=a.z*n||0,this},subtract:function(a){return this.x-=a.x,this.y-=a.y,this.z-=a.z||0,this},multiply:function(a){return this.x*=a.x,this.y*=a.y,this.z*=a.z||1,this},scale:function(a){return isFinite(a)?(this.x*=a,this.y*=a,this.z*=a):(this.x=0,this.y=0,this.z=0),this},divide:function(a){return this.x/=a.x,this.y/=a.y,this.z/=a.z||1,this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this},distance:function(a){var n=a.x-this.x,r=a.y-this.y,e=a.z-this.z||0;return Math.sqrt(n*n+r*r+e*e)},distanceSq:function(a){var n=a.x-this.x,r=a.y-this.y,e=a.z-this.z||0;return n*n+r*r+e*e},length:function(){var a=this.x,n=this.y,r=this.z;return Math.sqrt(a*a+n*n+r*r)},lengthSq:function(){var a=this.x,n=this.y,r=this.z;return a*a+n*n+r*r},normalize:function(){var a=this.x,n=this.y,r=this.z,e=a*a+n*n+r*r;return e>0&&(e=1/Math.sqrt(e),this.x=a*e,this.y=n*e,this.z=r*e),this},dot:function(a){return this.x*a.x+this.y*a.y+this.z*a.z},cross:function(a){var n=this.x,r=this.y,e=this.z,s=a.x,o=a.y,i=a.z;return this.x=r*i-e*o,this.y=e*s-n*i,this.z=n*o-r*s,this},lerp:function(a,n){n===void 0&&(n=0);var r=this.x,e=this.y,s=this.z;return this.x=r+n*(a.x-r),this.y=e+n*(a.y-e),this.z=s+n*(a.z-s),this},applyMatrix3:function(a){var n=this.x,r=this.y,e=this.z,s=a.val;return this.x=s[0]*n+s[3]*r+s[6]*e,this.y=s[1]*n+s[4]*r+s[7]*e,this.z=s[2]*n+s[5]*r+s[8]*e,this},applyMatrix4:function(a){var n=this.x,r=this.y,e=this.z,s=a.val,o=1/(s[3]*n+s[7]*r+s[11]*e+s[15]);return this.x=(s[0]*n+s[4]*r+s[8]*e+s[12])*o,this.y=(s[1]*n+s[5]*r+s[9]*e+s[13])*o,this.z=(s[2]*n+s[6]*r+s[10]*e+s[14])*o,this},transformMat3:function(a){var n=this.x,r=this.y,e=this.z,s=a.val;return this.x=n*s[0]+r*s[3]+e*s[6],this.y=n*s[1]+r*s[4]+e*s[7],this.z=n*s[2]+r*s[5]+e*s[8],this},transformMat4:function(a){var n=this.x,r=this.y,e=this.z,s=a.val;return this.x=s[0]*n+s[4]*r+s[8]*e+s[12],this.y=s[1]*n+s[5]*r+s[9]*e+s[13],this.z=s[2]*n+s[6]*r+s[10]*e+s[14],this},transformCoordinates:function(a){var n=this.x,r=this.y,e=this.z,s=a.val,o=n*s[0]+r*s[4]+e*s[8]+s[12],i=n*s[1]+r*s[5]+e*s[9]+s[13],l=n*s[2]+r*s[6]+e*s[10]+s[14],u=n*s[3]+r*s[7]+e*s[11]+s[15];return this.x=o/u,this.y=i/u,this.z=l/u,this},transformQuat:function(a){var n=this.x,r=this.y,e=this.z,s=a.x,o=a.y,i=a.z,l=a.w,u=l*n+o*e-i*r,f=l*r+i*n-s*e,d=l*e+s*r-o*n,c=-s*n-o*r-i*e;return this.x=u*l+c*-s+f*-i-d*-o,this.y=f*l+c*-o+d*-s-u*-i,this.z=d*l+c*-i+u*-o-f*-s,this},project:function(a){var n=this.x,r=this.y,e=this.z,s=a.val,o=s[0],i=s[1],l=s[2],u=s[3],f=s[4],d=s[5],c=s[6],m=s[7],g=s[8],x=s[9],T=s[10],S=s[11],P=s[12],L=s[13],I=s[14],O=s[15],M=1/(n*u+r*m+e*S+O);return this.x=(n*o+r*f+e*g+P)*M,this.y=(n*i+r*d+e*x+L)*M,this.z=(n*l+r*c+e*T+I)*M,this},projectViewMatrix:function(a,n){return this.applyMatrix4(a).applyMatrix4(n)},unprojectViewMatrix:function(a,n){return this.applyMatrix4(a).applyMatrix4(n)},unproject:function(a,n){var r=a.x,e=a.y,s=a.z,o=a.w,i=this.x-r,l=o-this.y-1-e,u=this.z;return this.x=2*i/s-1,this.y=2*l/o-1,this.z=2*u-1,this.project(n)},reset:function(){return this.x=0,this.y=0,this.z=0,this}});p.ZERO=new p,p.RIGHT=new p(1,0,0),p.LEFT=new p(-1,0,0),p.UP=new p(0,-1,0),p.DOWN=new p(0,1,0),p.FORWARD=new p(0,0,1),p.BACK=new p(0,0,-1),p.ONE=new p(1,1,1),v.exports=p},61369:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),p=new h({initialize:function(n,r,e,s){this.x=0,this.y=0,this.z=0,this.w=0,typeof n=="object"?(this.x=n.x||0,this.y=n.y||0,this.z=n.z||0,this.w=n.w||0):(this.x=n||0,this.y=r||0,this.z=e||0,this.w=s||0)},clone:function(){return new p(this.x,this.y,this.z,this.w)},copy:function(a){return this.x=a.x,this.y=a.y,this.z=a.z||0,this.w=a.w||0,this},equals:function(a){return this.x===a.x&&this.y===a.y&&this.z===a.z&&this.w===a.w},set:function(a,n,r,e){return typeof a=="object"?(this.x=a.x||0,this.y=a.y||0,this.z=a.z||0,this.w=a.w||0):(this.x=a||0,this.y=n||0,this.z=r||0,this.w=e||0),this},add:function(a){return this.x+=a.x,this.y+=a.y,this.z+=a.z||0,this.w+=a.w||0,this},subtract:function(a){return this.x-=a.x,this.y-=a.y,this.z-=a.z||0,this.w-=a.w||0,this},scale:function(a){return this.x*=a,this.y*=a,this.z*=a,this.w*=a,this},length:function(){var a=this.x,n=this.y,r=this.z,e=this.w;return Math.sqrt(a*a+n*n+r*r+e*e)},lengthSq:function(){var a=this.x,n=this.y,r=this.z,e=this.w;return a*a+n*n+r*r+e*e},normalize:function(){var a=this.x,n=this.y,r=this.z,e=this.w,s=a*a+n*n+r*r+e*e;return s>0&&(s=1/Math.sqrt(s),this.x=a*s,this.y=n*s,this.z=r*s,this.w=e*s),this},dot:function(a){return this.x*a.x+this.y*a.y+this.z*a.z+this.w*a.w},lerp:function(a,n){n===void 0&&(n=0);var r=this.x,e=this.y,s=this.z,o=this.w;return this.x=r+n*(a.x-r),this.y=e+n*(a.y-e),this.z=s+n*(a.z-s),this.w=o+n*(a.w-o),this},multiply:function(a){return this.x*=a.x,this.y*=a.y,this.z*=a.z||1,this.w*=a.w||1,this},divide:function(a){return this.x/=a.x,this.y/=a.y,this.z/=a.z||1,this.w/=a.w||1,this},distance:function(a){var n=a.x-this.x,r=a.y-this.y,e=a.z-this.z||0,s=a.w-this.w||0;return Math.sqrt(n*n+r*r+e*e+s*s)},distanceSq:function(a){var n=a.x-this.x,r=a.y-this.y,e=a.z-this.z||0,s=a.w-this.w||0;return n*n+r*r+e*e+s*s},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this},transformMat4:function(a){var n=this.x,r=this.y,e=this.z,s=this.w,o=a.val;return this.x=o[0]*n+o[4]*r+o[8]*e+o[12]*s,this.y=o[1]*n+o[5]*r+o[9]*e+o[13]*s,this.z=o[2]*n+o[6]*r+o[10]*e+o[14]*s,this.w=o[3]*n+o[7]*r+o[11]*e+o[15]*s,this},transformQuat:function(a){var n=this.x,r=this.y,e=this.z,s=a.x,o=a.y,i=a.z,l=a.w,u=l*n+o*e-i*r,f=l*r+i*n-s*e,d=l*e+s*r-o*n,c=-s*n-o*r-i*e;return this.x=u*l+c*-s+f*-i-d*-o,this.y=f*l+c*-o+d*-s-u*-i,this.z=d*l+c*-i+u*-o-f*-s,this},reset:function(){return this.x=0,this.y=0,this.z=0,this.w=0,this}});p.prototype.sub=p.prototype.subtract,p.prototype.mul=p.prototype.multiply,p.prototype.div=p.prototype.divide,p.prototype.dist=p.prototype.distance,p.prototype.distSq=p.prototype.distanceSq,p.prototype.len=p.prototype.length,p.prototype.lenSq=p.prototype.lengthSq,v.exports=p},60417:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,h,p){return Math.abs(t-h)<=p};v.exports=y},15994:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,h,p){var a=p-h;return h+((t-h)%a+a)%a};v.exports=y},31040:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,h,p,a){return Math.atan2(a-h,p-t)};v.exports=y},55495:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,h){return Math.atan2(h.y-t.y,h.x-t.x)};v.exports=y},128:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,h){return Math.atan2(h.x-t.x,h.y-t.y)};v.exports=y},41273:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,h,p,a){return Math.atan2(p-t,a-h)};v.exports=y},1432:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(36383),p=function(a){return a>Math.PI&&(a-=h.PI2),Math.abs(((a+h.TAU)%h.PI2-h.PI2)%h.PI2)};v.exports=p},12407:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){return t=t%(2*Math.PI),t>=0?t:t+2*Math.PI};v.exports=y},53993:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       @samme
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(99472),p=function(){return h(-Math.PI,Math.PI)};v.exports=p},86564:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       @samme
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(99472),p=function(){return h(-180,180)};v.exports=p},90154:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(12407),p=function(a){return h(a+Math.PI)};v.exports=p},48736:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(36383),p=function(a,n,r){return r===void 0&&(r=.05),a===n||(Math.abs(n-a)<=r||Math.abs(n-a)>=h.PI2-r?a=n:(Math.abs(n-a)>Math.PI&&(n<a?n+=h.PI2:n-=h.PI2),n>a?a+=r:n<a&&(a-=r))),a};v.exports=p},61430:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,h){var p=h-t;if(p===0)return 0;var a=Math.floor((p- -180)/360);return p-a*360};v.exports=y},86554:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(15994),p=function(a){return h(a,-Math.PI,Math.PI)};v.exports=p},30954:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(15994),p=function(a){return h(a,-180,180)};v.exports=p},25588:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={Between:t(31040),BetweenPoints:t(55495),BetweenPointsY:t(128),BetweenY:t(41273),CounterClockwise:t(1432),Normalize:t(12407),Random:t(53993),RandomDegrees:t(86564),Reverse:t(90154),RotateTo:t(48736),ShortestBetween:t(61430),Wrap:t(86554),WrapDegrees:t(30954)}},36383:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={PI2:Math.PI*2,TAU:Math.PI*.5,EPSILON:1e-6,DEG_TO_RAD:Math.PI/180,RAD_TO_DEG:180/Math.PI,RND:null,MIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER||-9007199254740991,MAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER||9007199254740991};v.exports=y},20339:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,h,p,a){var n=t-p,r=h-a;return Math.sqrt(n*n+r*r)};v.exports=y},52816:v=>{/**
 * @author       samme
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,h){var p=t.x-h.x,a=t.y-h.y;return Math.sqrt(p*p+a*a)};v.exports=y},64559:v=>{/**
 * @author       samme
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,h){var p=t.x-h.x,a=t.y-h.y;return p*p+a*a};v.exports=y},82340:v=>{/**
 * @author       samme
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,h,p,a){return Math.max(Math.abs(t-p),Math.abs(h-a))};v.exports=y},14390:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,h,p,a,n){return n===void 0&&(n=2),Math.sqrt(Math.pow(p-t,n)+Math.pow(a-h,n))};v.exports=y},2243:v=>{/**
 * @author       samme
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,h,p,a){return Math.abs(t-p)+Math.abs(h-a)};v.exports=y},89774:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,h,p,a){var n=t-p,r=h-a;return n*n+r*r};v.exports=y},50994:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={Between:t(20339),BetweenPoints:t(52816),BetweenPointsSquared:t(64559),Chebyshev:t(82340),Power:t(14390),Snake:t(2243),Squared:t(89774)}},62640:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(54178),p=t(41521),a=t(79980),n=t(85433),r=t(99140),e=t(48857),s=t(81596),o=t(59133),i=t(98516),l=t(35248),u=t(82500),f=t(49752);v.exports={Power0:s,Power1:o.Out,Power2:n.Out,Power3:i.Out,Power4:l.Out,Linear:s,Quad:o.Out,Cubic:n.Out,Quart:i.Out,Quint:l.Out,Sine:u.Out,Expo:e.Out,Circ:a.Out,Elastic:r.Out,Back:h.Out,Bounce:p.Out,Stepped:f,"Quad.easeIn":o.In,"Cubic.easeIn":n.In,"Quart.easeIn":i.In,"Quint.easeIn":l.In,"Sine.easeIn":u.In,"Expo.easeIn":e.In,"Circ.easeIn":a.In,"Elastic.easeIn":r.In,"Back.easeIn":h.In,"Bounce.easeIn":p.In,"Quad.easeOut":o.Out,"Cubic.easeOut":n.Out,"Quart.easeOut":i.Out,"Quint.easeOut":l.Out,"Sine.easeOut":u.Out,"Expo.easeOut":e.Out,"Circ.easeOut":a.Out,"Elastic.easeOut":r.Out,"Back.easeOut":h.Out,"Bounce.easeOut":p.Out,"Quad.easeInOut":o.InOut,"Cubic.easeInOut":n.InOut,"Quart.easeInOut":i.InOut,"Quint.easeInOut":l.InOut,"Sine.easeInOut":u.InOut,"Expo.easeInOut":e.InOut,"Circ.easeInOut":a.InOut,"Elastic.easeInOut":r.InOut,"Back.easeInOut":h.InOut,"Bounce.easeInOut":p.InOut}},1639:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,h){return h===void 0&&(h=1.70158),t*t*((h+1)*t-h)};v.exports=y},50099:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,h){h===void 0&&(h=1.70158);var p=h*1.525;return(t*=2)<1?.5*(t*t*((p+1)*t-p)):.5*((t-=2)*t*((p+1)*t+p)+2)};v.exports=y},41286:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,h){return h===void 0&&(h=1.70158),--t*t*((h+1)*t+h)+1};v.exports=y},54178:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={In:t(1639),Out:t(41286),InOut:t(50099)}},59590:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){return t=1-t,t<.36363636363636365?1-7.5625*t*t:t<.7272727272727273?1-(7.5625*(t-=.5454545454545454)*t+.75):t<.9090909090909091?1-(7.5625*(t-=.8181818181818182)*t+.9375):1-(7.5625*(t-=.9545454545454546)*t+.984375)};v.exports=y},41788:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){var h=!1;return t<.5?(t=1-t*2,h=!0):t=t*2-1,t<.36363636363636365?t=7.5625*t*t:t<.7272727272727273?t=7.5625*(t-=.5454545454545454)*t+.75:t<.9090909090909091?t=7.5625*(t-=.8181818181818182)*t+.9375:t=7.5625*(t-=.9545454545454546)*t+.984375,h?(1-t)*.5:t*.5+.5};v.exports=y},69905:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){return t<.36363636363636365?7.5625*t*t:t<.7272727272727273?7.5625*(t-=.5454545454545454)*t+.75:t<.9090909090909091?7.5625*(t-=.8181818181818182)*t+.9375:7.5625*(t-=.9545454545454546)*t+.984375};v.exports=y},41521:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={In:t(59590),Out:t(69905),InOut:t(41788)}},91861:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){return 1-Math.sqrt(1-t*t)};v.exports=y},4177:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){return(t*=2)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)};v.exports=y},57512:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){return Math.sqrt(1- --t*t)};v.exports=y},79980:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={In:t(91861),Out:t(57512),InOut:t(4177)}},51150:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){return t*t*t};v.exports=y},82820:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){return(t*=2)<1?.5*t*t*t:.5*((t-=2)*t*t+2)};v.exports=y},35033:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){return--t*t*t+1};v.exports=y},85433:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={In:t(51150),Out:t(35033),InOut:t(82820)}},69965:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,h,p){if(h===void 0&&(h=.1),p===void 0&&(p=.1),t===0)return 0;if(t===1)return 1;var a=p/4;return h<1?h=1:a=p*Math.asin(1/h)/(2*Math.PI),-(h*Math.pow(2,10*(t-=1))*Math.sin((t-a)*(2*Math.PI)/p))};v.exports=y},50665:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,h,p){if(h===void 0&&(h=.1),p===void 0&&(p=.1),t===0)return 0;if(t===1)return 1;var a=p/4;return h<1?h=1:a=p*Math.asin(1/h)/(2*Math.PI),(t*=2)<1?-.5*(h*Math.pow(2,10*(t-=1))*Math.sin((t-a)*(2*Math.PI)/p)):h*Math.pow(2,-10*(t-=1))*Math.sin((t-a)*(2*Math.PI)/p)*.5+1};v.exports=y},7744:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,h,p){if(h===void 0&&(h=.1),p===void 0&&(p=.1),t===0)return 0;if(t===1)return 1;var a=p/4;return h<1?h=1:a=p*Math.asin(1/h)/(2*Math.PI),h*Math.pow(2,-10*t)*Math.sin((t-a)*(2*Math.PI)/p)+1};v.exports=y},99140:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={In:t(69965),Out:t(7744),InOut:t(50665)}},24590:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){return Math.pow(2,10*(t-1))-.001};v.exports=y},87844:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){return(t*=2)<1?.5*Math.pow(2,10*(t-1)):.5*(2-Math.pow(2,-10*(t-1)))};v.exports=y},89433:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){return 1-Math.pow(2,-10*t)};v.exports=y},48857:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={In:t(24590),Out:t(89433),InOut:t(87844)}},48820:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={Back:t(54178),Bounce:t(41521),Circular:t(79980),Cubic:t(85433),Elastic:t(99140),Expo:t(48857),Linear:t(81596),Quadratic:t(59133),Quartic:t(98516),Quintic:t(35248),Sine:t(82500),Stepped:t(49752)}},7147:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){return t};v.exports=y},81596:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports=t(7147)},34826:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){return t*t};v.exports=y},20544:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){return(t*=2)<1?.5*t*t:-.5*(--t*(t-2)-1)};v.exports=y},92029:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){return t*(2-t)};v.exports=y},59133:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={In:t(34826),Out:t(92029),InOut:t(20544)}},64413:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){return t*t*t*t};v.exports=y},78137:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){return(t*=2)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2)};v.exports=y},45840:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){return 1- --t*t*t*t};v.exports=y},98516:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={In:t(64413),Out:t(45840),InOut:t(78137)}},87745:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){return t*t*t*t*t};v.exports=y},16509:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){return(t*=2)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)};v.exports=y},17868:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){return--t*t*t*t*t+1};v.exports=y},35248:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={In:t(87745),Out:t(17868),InOut:t(16509)}},80461:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){return t===0?0:t===1?1:1-Math.cos(t*Math.PI/2)};v.exports=y},34025:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){return t===0?0:t===1?1:.5*(1-Math.cos(Math.PI*t))};v.exports=y},52768:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){return t===0?0:t===1?1:Math.sin(t*Math.PI/2)};v.exports=y},82500:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={In:t(80461),Out:t(52768),InOut:t(34025)}},72251:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,h){return h===void 0&&(h=1),t<=0?0:t>=1?1:((h*t|0)+1)*(1/h)};v.exports=y},49752:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports=t(72251)},75698:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,h){return h===void 0&&(h=1e-4),Math.ceil(t-h)};v.exports=y},43855:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,h,p){return p===void 0&&(p=1e-4),Math.abs(t-h)<p};v.exports=y},25777:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,h){return h===void 0&&(h=1e-4),Math.floor(t+h)};v.exports=y},5470:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,h,p){return p===void 0&&(p=1e-4),t>h-p};v.exports=y},94977:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,h,p){return p===void 0&&(p=1e-4),t<h+p};v.exports=y},48379:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={Ceil:t(75698),Equal:t(43855),Floor:t(25777),GreaterThan:t(5470),LessThan:t(94977)}},75508:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(36383),p=t(79291),a={Angle:t(25588),Distance:t(50994),Easing:t(48820),Fuzzy:t(48379),Interpolation:t(38289),Pow2:t(49001),Snap:t(73697),RandomDataGenerator:t(28453),Average:t(53307),Bernstein:t(85710),Between:t(30976),CatmullRom:t(87842),CeilTo:t(26302),Clamp:t(45319),DegToRad:t(39506),Difference:t(61241),Euler:t(38857),Factorial:t(6411),FloatBetween:t(99472),FloorTo:t(77623),FromPercent:t(62945),GetSpeed:t(38265),IsEven:t(78702),IsEvenStrict:t(94883),Linear:t(28915),LinearXY:t(94908),MaxAdd:t(86883),Median:t(50040),MinSub:t(37204),Percent:t(65201),RadToDeg:t(43396),RandomXY:t(74362),RandomXYZ:t(60706),RandomXYZW:t(67421),Rotate:t(36305),RotateAround:t(11520),RotateAroundDistance:t(1163),RotateTo:t(70336),RoundAwayFromZero:t(2284),RoundTo:t(41013),SinCosTableGenerator:t(16922),SmootherStep:t(54261),SmoothStep:t(7602),ToXY:t(44408),TransformXY:t(85955),Within:t(60417),Wrap:t(15994),Vector2:t(26099),Vector3:t(25836),Vector4:t(61369),Matrix3:t(94434),Matrix4:t(37867),Quaternion:t(15746),RotateVec3:t(72678)};a=p(!1,a,h),v.exports=a},89318:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(85710),p=function(a,n){for(var r=0,e=a.length-1,s=0;s<=e;s++)r+=Math.pow(1-n,e-s)*Math.pow(n,s)*a[s]*h(e,s);return r};v.exports=p},77259:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(87842),p=function(a,n){var r=a.length-1,e=r*n,s=Math.floor(e);return a[0]===a[r]?(n<0&&(s=Math.floor(e=r*(1+n))),h(e-s,a[(s-1+r)%r],a[s],a[(s+1)%r],a[(s+2)%r])):n<0?a[0]-(h(-e,a[0],a[0],a[1],a[1])-a[0]):n>1?a[r]-(h(e-r,a[r],a[r],a[r-1],a[r-1])-a[r]):h(e-s,a[s?s-1:0],a[s],a[r<s+1?r:s+1],a[r<s+2?r:s+2])};v.exports=p},36316:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function y(n,r){var e=1-n;return e*e*e*r}function t(n,r){var e=1-n;return 3*e*e*n*r}function h(n,r){return 3*(1-n)*n*n*r}function p(n,r){return n*n*n*r}var a=function(n,r,e,s,o){return y(n,r)+t(n,e)+h(n,s)+p(n,o)};v.exports=a},28392:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(28915),p=function(a,n){var r=a.length-1,e=r*n,s=Math.floor(e);return n<0?h(a[0],a[1],e):n>1?h(a[r],a[r-1],r-e):h(a[s],a[s+1>r?r:s+1],e-s)};v.exports=p},32112:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function y(a,n){var r=1-a;return r*r*n}function t(a,n){return 2*(1-a)*a*n}function h(a,n){return a*a*n}var p=function(a,n,r,e){return y(a,n)+t(a,r)+h(a,e)};v.exports=p},47235:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(7602),p=function(a,n,r){return n+(r-n)*h(a,0,1)};v.exports=p},50178:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(54261),p=function(a,n,r){return n+(r-n)*h(a,0,1)};v.exports=p},38289:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={Bezier:t(89318),CatmullRom:t(77259),CubicBezier:t(36316),Linear:t(28392),QuadraticBezier:t(32112),SmoothStep:t(47235),SmootherStep:t(50178)}},98439:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){var h=Math.log(t)/.6931471805599453;return 1<<Math.ceil(h)};v.exports=y},50030:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,h){return t>0&&(t&t-1)===0&&h>0&&(h&h-1)===0};v.exports=y},81230:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){return t>0&&(t&t-1)===0};v.exports=y},49001:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={GetNext:t(98439),IsSize:t(50030),IsValue:t(81230)}},28453:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),p=new h({initialize:function(n){n===void 0&&(n=[(Date.now()*Math.random()).toString()]),this.c=1,this.s0=0,this.s1=0,this.s2=0,this.n=0,this.signs=[-1,1],n&&this.init(n)},rnd:function(){var a=2091639*this.s0+this.c*23283064365386963e-26;return this.c=a|0,this.s0=this.s1,this.s1=this.s2,this.s2=a-this.c,this.s2},hash:function(a){var n,r=this.n;a=a.toString();for(var e=0;e<a.length;e++)r+=a.charCodeAt(e),n=.02519603282416938*r,r=n>>>0,n-=r,n*=r,r=n>>>0,n-=r,r+=n*4294967296;return this.n=r,(r>>>0)*23283064365386963e-26},init:function(a){typeof a=="string"?this.state(a):this.sow(a)},sow:function(a){if(this.n=4022871197,this.s0=this.hash(" "),this.s1=this.hash(" "),this.s2=this.hash(" "),this.c=1,!!a)for(var n=0;n<a.length&&a[n]!=null;n++){var r=a[n];this.s0-=this.hash(r),this.s0+=~~(this.s0<0),this.s1-=this.hash(r),this.s1+=~~(this.s1<0),this.s2-=this.hash(r),this.s2+=~~(this.s2<0)}},integer:function(){return this.rnd()*4294967296},frac:function(){return this.rnd()+(this.rnd()*2097152|0)*11102230246251565e-32},real:function(){return this.integer()+this.frac()},integerInRange:function(a,n){return Math.floor(this.realInRange(0,n-a+1)+a)},between:function(a,n){return Math.floor(this.realInRange(0,n-a+1)+a)},realInRange:function(a,n){return this.frac()*(n-a)+a},normal:function(){return 1-2*this.frac()},uuid:function(){var a="",n="";for(n=a="";a++<36;n+=~a%5|a*3&4?(a^15?8^this.frac()*(a^20?16:4):4).toString(16):"-");return n},pick:function(a){return a[this.integerInRange(0,a.length-1)]},sign:function(){return this.pick(this.signs)},weightedPick:function(a){return a[~~(Math.pow(this.frac(),2)*(a.length-.5)+.5)]},timestamp:function(a,n){return this.realInRange(a||9466848e5,n||1577862e6)},angle:function(){return this.integerInRange(-180,180)},rotation:function(){return this.realInRange(-3.1415926,3.1415926)},state:function(a){return typeof a=="string"&&a.match(/^!rnd/)&&(a=a.split(","),this.c=parseFloat(a[1]),this.s0=parseFloat(a[2]),this.s1=parseFloat(a[3]),this.s2=parseFloat(a[4])),["!rnd",this.c,this.s0,this.s1,this.s2].join(",")},shuffle:function(a){for(var n=a.length-1,r=n;r>0;r--){var e=Math.floor(this.frac()*(r+1)),s=a[e];a[e]=a[r],a[r]=s}return a}});v.exports=p},63448:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,h,p,a){return p===void 0&&(p=0),h===0?t:(t-=p,t=h*Math.ceil(t/h),a?(p+t)/h:p+t)};v.exports=y},56583:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,h,p,a){return p===void 0&&(p=0),h===0?t:(t-=p,t=h*Math.floor(t/h),a?(p+t)/h:p+t)};v.exports=y},77720:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,h,p,a){return p===void 0&&(p=0),h===0?t:(t-=p,t=h*Math.round(t/h),a?(p+t)/h:p+t)};v.exports=y},73697:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={Ceil:t(63448),Floor:t(56583),To:t(77720)}},85454:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */t(63595);var h=t(8054),p=t(79291),a={Actions:t(61061),Animations:t(60421),BlendModes:t(10312),Cache:t(83388),Cameras:t(26638),Core:t(42857),Class:t(83419),Create:t(15822),Curves:t(25410),Data:t(44965),Display:t(27460),DOM:t(84902),Events:t(93055),FX:t(66064),Game:t(50127),GameObjects:t(77856),Geom:t(55738),Input:t(14350),Loader:t(57777),Math:t(75508),Physics:t(44563),Plugins:t(18922),Renderer:t(36909),Scale:t(93364),ScaleModes:t(29795),Scene:t(97482),Scenes:t(62194),Structs:t(41392),Textures:t(27458),Tilemaps:t(62501),Time:t(90291),Tweens:t(43066),Utils:t(91799)};a.Sound=t(23717),a=p(!1,a,h),v.exports=a,t.g.Phaser=a},71289:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),p=t(92209),a=t(88571),n=new h({Extends:a,Mixins:[p.Acceleration,p.Angular,p.Bounce,p.Collision,p.Debug,p.Drag,p.Enable,p.Friction,p.Gravity,p.Immovable,p.Mass,p.Pushable,p.Size,p.Velocity],initialize:function(e,s,o,i,l){a.call(this,e,s,o,i,l),this.body=null}});v.exports=n},86689:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),p=t(39506),a=t(20339),n=t(89774),r=t(66022),e=t(95540),s=t(46975),o=t(72441),i=t(47956),l=t(37277),u=t(44594),f=t(26099),d=t(82248),c=new h({initialize:function(g){this.scene=g,this.systems=g.sys,this.config=this.getConfig(),this.world,this.add,this._category=1,g.sys.events.once(u.BOOT,this.boot,this),g.sys.events.on(u.START,this.start,this)},boot:function(){this.world=new d(this.scene,this.config),this.add=new r(this.world),this.systems.events.once(u.DESTROY,this.destroy,this)},start:function(){this.world||(this.world=new d(this.scene,this.config),this.add=new r(this.world));var m=this.systems.events;e(this.config,"customUpdate",!1)||m.on(u.UPDATE,this.world.update,this.world),m.on(u.POST_UPDATE,this.world.postUpdate,this.world),m.once(u.SHUTDOWN,this.shutdown,this)},enableUpdate:function(){this.systems.events.on(u.UPDATE,this.world.update,this.world)},disableUpdate:function(){this.systems.events.off(u.UPDATE,this.world.update,this.world)},getConfig:function(){var m=this.systems.game.config.physics,g=this.systems.settings.physics,x=s(e(g,"arcade",{}),e(m,"arcade",{}));return x},nextCategory:function(){return this._category=this._category<<1,this._category},overlap:function(m,g,x,T,S){return x===void 0&&(x=null),T===void 0&&(T=null),S===void 0&&(S=x),this.world.collideObjects(m,g,x,T,S,!0)},collide:function(m,g,x,T,S){return x===void 0&&(x=null),T===void 0&&(T=null),S===void 0&&(S=x),this.world.collideObjects(m,g,x,T,S,!1)},collideTiles:function(m,g,x,T,S){return this.world.collideTiles(m,g,x,T,S)},overlapTiles:function(m,g,x,T,S){return this.world.overlapTiles(m,g,x,T,S)},pause:function(){return this.world.pause()},resume:function(){return this.world.resume()},accelerateTo:function(m,g,x,T,S,P){T===void 0&&(T=60);var L=Math.atan2(x-m.y,g-m.x);return m.body.acceleration.setToPolar(L,T),S!==void 0&&P!==void 0&&m.body.maxVelocity.set(S,P),L},accelerateToObject:function(m,g,x,T,S){return this.accelerateTo(m,g.x,g.y,x,T,S)},closest:function(m,g){g||(g=this.world.bodies.entries);for(var x=Number.MAX_VALUE,T=null,S=m.x,P=m.y,L=g.length,I=0;I<L;I++){var O=g[I],M=O.body||O;if(!(m===O||m===M||m===M.gameObject||m===M.center)){var w=n(S,P,M.center.x,M.center.y);w<x&&(T=O,x=w)}}return T},furthest:function(m,g){g||(g=this.world.bodies.entries);for(var x=-1,T=null,S=m.x,P=m.y,L=g.length,I=0;I<L;I++){var O=g[I],M=O.body||O;if(!(m===O||m===M||m===M.gameObject||m===M.center)){var w=n(S,P,M.center.x,M.center.y);w>x&&(T=O,x=w)}}return T},moveTo:function(m,g,x,T,S){T===void 0&&(T=60),S===void 0&&(S=0);var P=Math.atan2(x-m.y,g-m.x);return S>0&&(T=a(m.x,m.y,g,x)/(S/1e3)),m.body.velocity.setToPolar(P,T),P},moveToObject:function(m,g,x,T){return this.moveTo(m,g.x,g.y,x,T)},velocityFromAngle:function(m,g,x){return g===void 0&&(g=60),x===void 0&&(x=new f),x.setToPolar(p(m),g)},velocityFromRotation:function(m,g,x){return g===void 0&&(g=60),x===void 0&&(x=new f),x.setToPolar(m,g)},overlapRect:function(m,g,x,T,S,P){return i(this.world,m,g,x,T,S,P)},overlapCirc:function(m,g,x,T,S){return o(this.world,m,g,x,T,S)},shutdown:function(){if(this.world){var m=this.systems.events;m.off(u.UPDATE,this.world.update,this.world),m.off(u.POST_UPDATE,this.world.postUpdate,this.world),m.off(u.SHUTDOWN,this.shutdown,this),this.add.destroy(),this.world.destroy(),this.add=null,this.world=null,this._category=1}},destroy:function(){this.shutdown(),this.scene.sys.events.off(u.START,this.start,this),this.scene=null,this.systems=null}});l.register("ArcadePhysics",c,"arcadePhysics"),v.exports=c},13759:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),p=t(92209),a=t(68287),n=new h({Extends:a,Mixins:[p.Acceleration,p.Angular,p.Bounce,p.Collision,p.Debug,p.Drag,p.Enable,p.Friction,p.Gravity,p.Immovable,p.Mass,p.Pushable,p.Size,p.Velocity],initialize:function(e,s,o,i,l){a.call(this,e,s,o,i,l),this.body=null}});v.exports=n},37742:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),p=t(78389),a=t(37747),n=t(63012),r=t(43396),e=t(87841),s=t(37303),o=t(95829),i=t(26099),l=new h({Mixins:[p],initialize:function(f,d){var c=64,m=64,g={x:0,y:0,angle:0,rotation:0,scaleX:1,scaleY:1,displayOriginX:0,displayOriginY:0},x=d!==void 0;x&&d.displayWidth&&(c=d.displayWidth,m=d.displayHeight),x||(d=g),this.world=f,this.gameObject=x?d:void 0,this.isBody=!0,this.transform={x:d.x,y:d.y,rotation:d.angle,scaleX:d.scaleX,scaleY:d.scaleY,displayOriginX:d.displayOriginX,displayOriginY:d.displayOriginY},this.debugShowBody=f.defaults.debugShowBody,this.debugShowVelocity=f.defaults.debugShowVelocity,this.debugBodyColor=f.defaults.bodyDebugColor,this.enable=!0,this.isCircle=!1,this.radius=0,this.offset=new i,this.position=new i(d.x-d.scaleX*d.displayOriginX,d.y-d.scaleY*d.displayOriginY),this.prev=this.position.clone(),this.prevFrame=this.position.clone(),this.allowRotation=!0,this.rotation=d.angle,this.preRotation=d.angle,this.width=c,this.height=m,this.sourceWidth=c,this.sourceHeight=m,d.frame&&(this.sourceWidth=d.frame.realWidth,this.sourceHeight=d.frame.realHeight),this.halfWidth=Math.abs(c/2),this.halfHeight=Math.abs(m/2),this.center=new i(this.position.x+this.halfWidth,this.position.y+this.halfHeight),this.velocity=new i,this.newVelocity=new i,this.deltaMax=new i,this.acceleration=new i,this.allowDrag=!0,this.drag=new i,this.allowGravity=!0,this.gravity=new i,this.bounce=new i,this.worldBounce=null,this.customBoundsRectangle=f.bounds,this.onWorldBounds=!1,this.onCollide=!1,this.onOverlap=!1,this.maxVelocity=new i(1e4,1e4),this.maxSpeed=-1,this.friction=new i(1,0),this.useDamping=!1,this.angularVelocity=0,this.angularAcceleration=0,this.angularDrag=0,this.maxAngular=1e3,this.mass=1,this.angle=0,this.speed=0,this.facing=a.FACING_NONE,this.immovable=!1,this.pushable=!0,this.slideFactor=new i(1,1),this.moves=!0,this.customSeparateX=!1,this.customSeparateY=!1,this.overlapX=0,this.overlapY=0,this.overlapR=0,this.embedded=!1,this.collideWorldBounds=!1,this.checkCollision=o(!1),this.touching=o(!0),this.wasTouching=o(!0),this.blocked=o(!0),this.syncBounds=!1,this.physicsType=a.DYNAMIC_BODY,this.collisionCategory=1,this.collisionMask=1,this._sx=d.scaleX,this._sy=d.scaleY,this._dx=0,this._dy=0,this._tx=0,this._ty=0,this._bounds=new e,this.directControl=!1,this.autoFrame=this.position.clone()},updateBounds:function(){var u=this.gameObject,f=this.transform;if(u.parentContainer){var d=u.getWorldTransformMatrix(this.world._tempMatrix,this.world._tempMatrix2);f.x=d.tx,f.y=d.ty,f.rotation=r(d.rotation),f.scaleX=d.scaleX,f.scaleY=d.scaleY,f.displayOriginX=u.displayOriginX,f.displayOriginY=u.displayOriginY}else f.x=u.x,f.y=u.y,f.rotation=u.angle,f.scaleX=u.scaleX,f.scaleY=u.scaleY,f.displayOriginX=u.displayOriginX,f.displayOriginY=u.displayOriginY;var c=!1;if(this.syncBounds){var m=u.getBounds(this._bounds);this.width=m.width,this.height=m.height,c=!0}else{var g=Math.abs(f.scaleX),x=Math.abs(f.scaleY);(this._sx!==g||this._sy!==x)&&(this.width=this.sourceWidth*g,this.height=this.sourceHeight*x,this._sx=g,this._sy=x,c=!0)}c&&(this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.updateCenter())},updateCenter:function(){this.center.set(this.position.x+this.halfWidth,this.position.y+this.halfHeight)},updateFromGameObject:function(){this.updateBounds();var u=this.transform;this.position.x=u.x+u.scaleX*(this.offset.x-u.displayOriginX),this.position.y=u.y+u.scaleY*(this.offset.y-u.displayOriginY),this.updateCenter()},resetFlags:function(u){u===void 0&&(u=!1);var f=this.wasTouching,d=this.touching,c=this.blocked;u?o(!0,f):(f.none=d.none,f.up=d.up,f.down=d.down,f.left=d.left,f.right=d.right),o(!0,d),o(!0,c),this.overlapR=0,this.overlapX=0,this.overlapY=0,this.embedded=!1},preUpdate:function(u,f){if(u&&this.resetFlags(),this.gameObject&&this.updateFromGameObject(),this.rotation=this.transform.rotation,this.preRotation=this.rotation,this.moves){var d=this.position;this.prev.x=d.x,this.prev.y=d.y,this.prevFrame.x=d.x,this.prevFrame.y=d.y}u&&this.update(f)},update:function(u){var f=this.prev,d=this.position,c=this.velocity;if(f.set(d.x,d.y),!this.moves){this._dx=d.x-f.x,this._dy=d.y-f.y;return}if(this.directControl){var m=this.autoFrame;c.set((d.x-m.x)/u,(d.y-m.y)/u),this.world.updateMotion(this,u),this._dx=d.x-m.x,this._dy=d.y-m.y}else this.world.updateMotion(this,u),this.newVelocity.set(c.x*u,c.y*u),d.add(this.newVelocity),this._dx=d.x-f.x,this._dy=d.y-f.y;var g=c.x,x=c.y;if(this.updateCenter(),this.angle=Math.atan2(x,g),this.speed=Math.sqrt(g*g+x*x),this.collideWorldBounds&&this.checkWorldBounds()&&this.onWorldBounds){var T=this.blocked;this.world.emit(n.WORLD_BOUNDS,this,T.up,T.down,T.left,T.right)}},postUpdate:function(){var u=this.position,f=u.x-this.prevFrame.x,d=u.y-this.prevFrame.y,c=this.gameObject;if(this.moves){var m=this.deltaMax.x,g=this.deltaMax.y;m!==0&&f!==0&&(f<0&&f<-m?f=-m:f>0&&f>m&&(f=m)),g!==0&&d!==0&&(d<0&&d<-g?d=-g:d>0&&d>g&&(d=g)),c&&(c.x+=f,c.y+=d)}f<0?this.facing=a.FACING_LEFT:f>0&&(this.facing=a.FACING_RIGHT),d<0?this.facing=a.FACING_UP:d>0&&(this.facing=a.FACING_DOWN),this.allowRotation&&c&&(c.angle+=this.deltaZ()),this._tx=f,this._ty=d,this.autoFrame.set(u.x,u.y)},setBoundsRectangle:function(u){return this.customBoundsRectangle=u||this.world.bounds,this},checkWorldBounds:function(){var u=this.position,f=this.velocity,d=this.blocked,c=this.customBoundsRectangle,m=this.world.checkCollision,g=this.worldBounce?-this.worldBounce.x:-this.bounce.x,x=this.worldBounce?-this.worldBounce.y:-this.bounce.y,T=!1;return u.x<c.x&&m.left?(u.x=c.x,f.x*=g,d.left=!0,T=!0):this.right>c.right&&m.right&&(u.x=c.right-this.width,f.x*=g,d.right=!0,T=!0),u.y<c.y&&m.up?(u.y=c.y,f.y*=x,d.up=!0,T=!0):this.bottom>c.bottom&&m.down&&(u.y=c.bottom-this.height,f.y*=x,d.down=!0,T=!0),T&&(this.blocked.none=!1,this.updateCenter()),T},setOffset:function(u,f){return f===void 0&&(f=u),this.offset.set(u,f),this},setGameObject:function(u,f){return f===void 0&&(f=!0),this.world.remove(this),this.gameObject&&this.gameObject.body&&(this.gameObject.body=null),this.gameObject=u,u.body&&(u.body=this),this.setSize(),this.world.add(this),this.enable=f,this},setSize:function(u,f,d){d===void 0&&(d=!0);var c=this.gameObject;if(c&&(!u&&c.frame&&(u=c.frame.realWidth),!f&&c.frame&&(f=c.frame.realHeight)),this.sourceWidth=u,this.sourceHeight=f,this.width=this.sourceWidth*this._sx,this.height=this.sourceHeight*this._sy,this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.updateCenter(),d&&c&&c.getCenter){var m=(c.width-u)/2,g=(c.height-f)/2;this.offset.set(m,g)}return this.isCircle=!1,this.radius=0,this},setCircle:function(u,f,d){return f===void 0&&(f=this.offset.x),d===void 0&&(d=this.offset.y),u>0?(this.isCircle=!0,this.radius=u,this.sourceWidth=u*2,this.sourceHeight=u*2,this.width=this.sourceWidth*this._sx,this.height=this.sourceHeight*this._sy,this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.offset.set(f,d),this.updateCenter()):this.isCircle=!1,this},reset:function(u,f){this.stop();var d=this.gameObject;d&&(d.setPosition(u,f),this.rotation=d.angle,this.preRotation=d.angle);var c=this.position;d&&d.getTopLeft?d.getTopLeft(c):c.set(u,f),this.prev.copy(c),this.prevFrame.copy(c),this.autoFrame.copy(c),d&&this.updateBounds(),this.updateCenter(),this.collideWorldBounds&&this.checkWorldBounds(),this.resetFlags(!0)},stop:function(){return this.velocity.set(0),this.acceleration.set(0),this.speed=0,this.angularVelocity=0,this.angularAcceleration=0,this},getBounds:function(u){return u.x=this.x,u.y=this.y,u.right=this.right,u.bottom=this.bottom,u},hitTest:function(u,f){if(!this.isCircle)return s(this,u,f);if(this.radius>0&&u>=this.left&&u<=this.right&&f>=this.top&&f<=this.bottom){var d=(this.center.x-u)*(this.center.x-u),c=(this.center.y-f)*(this.center.y-f);return d+c<=this.radius*this.radius}return!1},onFloor:function(){return this.blocked.down},onCeiling:function(){return this.blocked.up},onWall:function(){return this.blocked.left||this.blocked.right},deltaAbsX:function(){return this._dx>0?this._dx:-this._dx},deltaAbsY:function(){return this._dy>0?this._dy:-this._dy},deltaX:function(){return this._dx},deltaY:function(){return this._dy},deltaXFinal:function(){return this._tx},deltaYFinal:function(){return this._ty},deltaZ:function(){return this.rotation-this.preRotation},destroy:function(){this.enable=!1,this.world&&this.world.pendingDestroy.set(this)},drawDebug:function(u){var f=this.position,d=f.x+this.halfWidth,c=f.y+this.halfHeight;this.debugShowBody&&(u.lineStyle(u.defaultStrokeWidth,this.debugBodyColor),this.isCircle?u.strokeCircle(d,c,this.width/2):(this.checkCollision.up&&u.lineBetween(f.x,f.y,f.x+this.width,f.y),this.checkCollision.right&&u.lineBetween(f.x+this.width,f.y,f.x+this.width,f.y+this.height),this.checkCollision.down&&u.lineBetween(f.x,f.y+this.height,f.x+this.width,f.y+this.height),this.checkCollision.left&&u.lineBetween(f.x,f.y,f.x,f.y+this.height))),this.debugShowVelocity&&(u.lineStyle(u.defaultStrokeWidth,this.world.defaults.velocityDebugColor,1),u.lineBetween(d,c,d+this.velocity.x/2,c+this.velocity.y/2))},willDrawDebug:function(){return this.debugShowBody||this.debugShowVelocity},setDirectControl:function(u){return u===void 0&&(u=!0),this.directControl=u,this},setCollideWorldBounds:function(u,f,d,c){u===void 0&&(u=!0),this.collideWorldBounds=u;var m=f!==void 0,g=d!==void 0;return(m||g)&&(this.worldBounce||(this.worldBounce=new i),m&&(this.worldBounce.x=f),g&&(this.worldBounce.y=d)),c!==void 0&&(this.onWorldBounds=c),this},setVelocity:function(u,f){return this.velocity.set(u,f),u=this.velocity.x,f=this.velocity.y,this.speed=Math.sqrt(u*u+f*f),this},setVelocityX:function(u){return this.setVelocity(u,this.velocity.y)},setVelocityY:function(u){return this.setVelocity(this.velocity.x,u)},setMaxVelocity:function(u,f){return this.maxVelocity.set(u,f),this},setMaxVelocityX:function(u){return this.maxVelocity.x=u,this},setMaxVelocityY:function(u){return this.maxVelocity.y=u,this},setMaxSpeed:function(u){return this.maxSpeed=u,this},setSlideFactor:function(u,f){return this.slideFactor.set(u,f),this},setBounce:function(u,f){return this.bounce.set(u,f),this},setBounceX:function(u){return this.bounce.x=u,this},setBounceY:function(u){return this.bounce.y=u,this},setAcceleration:function(u,f){return this.acceleration.set(u,f),this},setAccelerationX:function(u){return this.acceleration.x=u,this},setAccelerationY:function(u){return this.acceleration.y=u,this},setAllowDrag:function(u){return u===void 0&&(u=!0),this.allowDrag=u,this},setAllowGravity:function(u){return u===void 0&&(u=!0),this.allowGravity=u,this},setAllowRotation:function(u){return u===void 0&&(u=!0),this.allowRotation=u,this},setDrag:function(u,f){return this.drag.set(u,f),this},setDamping:function(u){return this.useDamping=u,this},setDragX:function(u){return this.drag.x=u,this},setDragY:function(u){return this.drag.y=u,this},setGravity:function(u,f){return this.gravity.set(u,f),this},setGravityX:function(u){return this.gravity.x=u,this},setGravityY:function(u){return this.gravity.y=u,this},setFriction:function(u,f){return this.friction.set(u,f),this},setFrictionX:function(u){return this.friction.x=u,this},setFrictionY:function(u){return this.friction.y=u,this},setAngularVelocity:function(u){return this.angularVelocity=u,this},setAngularAcceleration:function(u){return this.angularAcceleration=u,this},setAngularDrag:function(u){return this.angularDrag=u,this},setMass:function(u){return this.mass=u,this},setImmovable:function(u){return u===void 0&&(u=!0),this.immovable=u,this},setEnable:function(u){return u===void 0&&(u=!0),this.enable=u,this},processX:function(u,f,d,c){this.x+=u,this.updateCenter(),f!==null&&(this.velocity.x=f*this.slideFactor.x);var m=this.blocked;d&&(m.left=!0,m.none=!1),c&&(m.right=!0,m.none=!1)},processY:function(u,f,d,c){this.y+=u,this.updateCenter(),f!==null&&(this.velocity.y=f*this.slideFactor.y);var m=this.blocked;d&&(m.up=!0,m.none=!1),c&&(m.down=!0,m.none=!1)},x:{get:function(){return this.position.x},set:function(u){this.position.x=u}},y:{get:function(){return this.position.y},set:function(u){this.position.y=u}},left:{get:function(){return this.position.x}},right:{get:function(){return this.position.x+this.width}},top:{get:function(){return this.position.y}},bottom:{get:function(){return this.position.y+this.height}}});v.exports=l},79342:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),p=new h({initialize:function(n,r,e,s,o,i,l){this.world=n,this.name="",this.active=!0,this.overlapOnly=r,this.object1=e,this.object2=s,this.collideCallback=o,this.processCallback=i,this.callbackContext=l},setName:function(a){return this.name=a,this},update:function(){this.world.collideObjects(this.object1,this.object2,this.collideCallback,this.processCallback,this.callbackContext,this.overlapOnly)},destroy:function(){this.world.removeCollider(this),this.active=!1,this.world=null,this.object1=null,this.object2=null,this.collideCallback=null,this.processCallback=null,this.callbackContext=null}});v.exports=p},66022:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(71289),p=t(13759),a=t(37742),n=t(83419),r=t(37747),e=t(60758),s=t(72624),o=t(71464),i=new n({initialize:function(u){this.world=u,this.scene=u.scene,this.sys=u.scene.sys},collider:function(l,u,f,d,c){return this.world.addCollider(l,u,f,d,c)},overlap:function(l,u,f,d,c){return this.world.addOverlap(l,u,f,d,c)},existing:function(l,u){var f=u?r.STATIC_BODY:r.DYNAMIC_BODY;return this.world.enableBody(l,f),l},staticImage:function(l,u,f,d){var c=new h(this.scene,l,u,f,d);return this.sys.displayList.add(c),this.world.enableBody(c,r.STATIC_BODY),c},image:function(l,u,f,d){var c=new h(this.scene,l,u,f,d);return this.sys.displayList.add(c),this.world.enableBody(c,r.DYNAMIC_BODY),c},staticSprite:function(l,u,f,d){var c=new p(this.scene,l,u,f,d);return this.sys.displayList.add(c),this.sys.updateList.add(c),this.world.enableBody(c,r.STATIC_BODY),c},sprite:function(l,u,f,d){var c=new p(this.scene,l,u,f,d);return this.sys.displayList.add(c),this.sys.updateList.add(c),this.world.enableBody(c,r.DYNAMIC_BODY),c},staticGroup:function(l,u){return this.sys.updateList.add(new o(this.world,this.world.scene,l,u))},group:function(l,u){return this.sys.updateList.add(new e(this.world,this.world.scene,l,u))},body:function(l,u,f,d){var c=new a(this.world);return c.position.set(l,u),f&&d&&c.setSize(f,d),this.world.add(c,r.DYNAMIC_BODY),c},staticBody:function(l,u,f,d){var c=new s(this.world);return c.position.set(l,u),f&&d&&c.setSize(f,d),this.world.add(c,r.STATIC_BODY),c},destroy:function(){this.world=null,this.scene=null,this.sys=null}});v.exports=i},79599:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){var h=0;if(!Array.isArray(t))h=t;else for(var p=0;p<t.length;p++)h|=t[p];return h};v.exports=y},64897:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(37747),p=function(a,n,r,e){var s=0,o=a.deltaAbsX()+n.deltaAbsX()+e;return a._dx===0&&n._dx===0?(a.embedded=!0,n.embedded=!0):a._dx>n._dx?(s=a.right-n.x,s>o&&!r||a.checkCollision.right===!1||n.checkCollision.left===!1?s=0:(a.touching.none=!1,a.touching.right=!0,n.touching.none=!1,n.touching.left=!0,n.physicsType===h.STATIC_BODY&&!r&&(a.blocked.none=!1,a.blocked.right=!0),a.physicsType===h.STATIC_BODY&&!r&&(n.blocked.none=!1,n.blocked.left=!0))):a._dx<n._dx&&(s=a.x-n.width-n.x,-s>o&&!r||a.checkCollision.left===!1||n.checkCollision.right===!1?s=0:(a.touching.none=!1,a.touching.left=!0,n.touching.none=!1,n.touching.right=!0,n.physicsType===h.STATIC_BODY&&!r&&(a.blocked.none=!1,a.blocked.left=!0),a.physicsType===h.STATIC_BODY&&!r&&(n.blocked.none=!1,n.blocked.right=!0))),a.overlapX=s,n.overlapX=s,s};v.exports=p},45170:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(37747),p=function(a,n,r,e){var s=0,o=a.deltaAbsY()+n.deltaAbsY()+e;return a._dy===0&&n._dy===0?(a.embedded=!0,n.embedded=!0):a._dy>n._dy?(s=a.bottom-n.y,s>o&&!r||a.checkCollision.down===!1||n.checkCollision.up===!1?s=0:(a.touching.none=!1,a.touching.down=!0,n.touching.none=!1,n.touching.up=!0,n.physicsType===h.STATIC_BODY&&!r&&(a.blocked.none=!1,a.blocked.down=!0),a.physicsType===h.STATIC_BODY&&!r&&(n.blocked.none=!1,n.blocked.up=!0))):a._dy<n._dy&&(s=a.y-n.bottom,-s>o&&!r||a.checkCollision.up===!1||n.checkCollision.down===!1?s=0:(a.touching.none=!1,a.touching.up=!0,n.touching.none=!1,n.touching.down=!0,n.physicsType===h.STATIC_BODY&&!r&&(a.blocked.none=!1,a.blocked.up=!0),a.physicsType===h.STATIC_BODY&&!r&&(n.blocked.none=!1,n.blocked.down=!0))),a.overlapY=s,n.overlapY=s,s};v.exports=p},60758:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(13759),p=t(83419),a=t(78389),n=t(37747),r=t(95540),e=t(26479),s=t(41212),o=new p({Extends:e,Mixins:[a],initialize:function(l,u,f,d){if(!f&&!d)d={internalCreateCallback:this.createCallbackHandler,internalRemoveCallback:this.removeCallbackHandler};else if(s(f))d=f,f=null,d.internalCreateCallback=this.createCallbackHandler,d.internalRemoveCallback=this.removeCallbackHandler;else if(Array.isArray(f)&&s(f[0])){var c=this;f.forEach(function(m){m.internalCreateCallback=c.createCallbackHandler,m.internalRemoveCallback=c.removeCallbackHandler,m.classType=r(m,"classType",h)}),d=null}else d={internalCreateCallback:this.createCallbackHandler,internalRemoveCallback:this.removeCallbackHandler};this.world=l,d&&(d.classType=r(d,"classType",h)),this.physicsType=n.DYNAMIC_BODY,this.collisionCategory=1,this.collisionMask=2147483647,this.defaults={setCollideWorldBounds:r(d,"collideWorldBounds",!1),setBoundsRectangle:r(d,"customBoundsRectangle",null),setAccelerationX:r(d,"accelerationX",0),setAccelerationY:r(d,"accelerationY",0),setAllowDrag:r(d,"allowDrag",!0),setAllowGravity:r(d,"allowGravity",!0),setAllowRotation:r(d,"allowRotation",!0),setDamping:r(d,"useDamping",!1),setBounceX:r(d,"bounceX",0),setBounceY:r(d,"bounceY",0),setDragX:r(d,"dragX",0),setDragY:r(d,"dragY",0),setEnable:r(d,"enable",!0),setGravityX:r(d,"gravityX",0),setGravityY:r(d,"gravityY",0),setFrictionX:r(d,"frictionX",0),setFrictionY:r(d,"frictionY",0),setMaxSpeed:r(d,"maxSpeed",-1),setMaxVelocityX:r(d,"maxVelocityX",1e4),setMaxVelocityY:r(d,"maxVelocityY",1e4),setVelocityX:r(d,"velocityX",0),setVelocityY:r(d,"velocityY",0),setAngularVelocity:r(d,"angularVelocity",0),setAngularAcceleration:r(d,"angularAcceleration",0),setAngularDrag:r(d,"angularDrag",0),setMass:r(d,"mass",1),setImmovable:r(d,"immovable",!1)},e.call(this,u,f,d),this.type="PhysicsGroup"},createCallbackHandler:function(i){i.body||this.world.enableBody(i,n.DYNAMIC_BODY);var l=i.body;for(var u in this.defaults)l[u](this.defaults[u])},removeCallbackHandler:function(i){i.body&&this.world.disableBody(i)},setVelocity:function(i,l,u){u===void 0&&(u=0);for(var f=this.getChildren(),d=0;d<f.length;d++)f[d].body.velocity.set(i+d*u,l+d*u);return this},setVelocityX:function(i,l){l===void 0&&(l=0);for(var u=this.getChildren(),f=0;f<u.length;f++)u[f].body.velocity.x=i+f*l;return this},setVelocityY:function(i,l){l===void 0&&(l=0);for(var u=this.getChildren(),f=0;f<u.length;f++)u[f].body.velocity.y=i+f*l;return this}});v.exports=o},3017:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y,t,h,p,a,n,r,e,s,o,i,l,u,f,d,c,m,g=function(I,O,M){y=I,t=O;var w=y.velocity.x,D=t.velocity.x;return h=y.pushable,s=y._dx<0,o=y._dx>0,i=y._dx===0,d=Math.abs(y.right-t.x)<=Math.abs(t.right-y.x),r=D-w*y.bounce.x,p=t.pushable,l=t._dx<0,u=t._dx>0,f=t._dx===0,c=!d,e=w-D*t.bounce.x,m=Math.abs(M),x()},x=function(){return o&&d&&t.blocked.right?(y.processX(-m,r,!1,!0),1):s&&c&&t.blocked.left?(y.processX(m,r,!0),1):u&&c&&y.blocked.right?(t.processX(-m,e,!1,!0),2):l&&d&&y.blocked.left?(t.processX(m,e,!0),2):0},T=function(){var I=y.velocity.x,O=t.velocity.x,M=Math.sqrt(O*O*t.mass/y.mass)*(O>0?1:-1),w=Math.sqrt(I*I*y.mass/t.mass)*(I>0?1:-1),D=(M+w)*.5;return M-=D,w-=D,a=D+M*y.bounce.x,n=D+w*t.bounce.x,s&&c?S(0):l&&d?S(1):o&&d?S(2):u&&c?S(3):!1},S=function(I){if(h&&p)m*=.5,I===0||I===3?(y.processX(m,a),t.processX(-m,n)):(y.processX(-m,a),t.processX(m,n));else if(h&&!p)I===0||I===3?y.processX(m,r,!0):y.processX(-m,r,!1,!0);else if(!h&&p)I===0||I===3?t.processX(-m,e,!1,!0):t.processX(m,e,!0);else{var O=m*.5;I===0?f?(y.processX(m,0,!0),t.processX(0,null,!1,!0)):u?(y.processX(O,0,!0),t.processX(-O,0,!1,!0)):(y.processX(O,t.velocity.x,!0),t.processX(-O,null,!1,!0)):I===1?i?(y.processX(0,null,!1,!0),t.processX(m,0,!0)):o?(y.processX(-O,0,!1,!0),t.processX(O,0,!0)):(y.processX(-O,null,!1,!0),t.processX(O,y.velocity.x,!0)):I===2?f?(y.processX(-m,0,!1,!0),t.processX(0,null,!0)):l?(y.processX(-O,0,!1,!0),t.processX(O,0,!0)):(y.processX(-O,t.velocity.x,!1,!0),t.processX(O,null,!0)):I===3&&(i?(y.processX(0,null,!0),t.processX(-m,0,!1,!0)):s?(y.processX(O,0,!0),t.processX(-O,0,!1,!0)):(y.processX(O,t.velocity.y,!0),t.processX(-O,null,!1,!0)))}return!0},P=function(I){if(I===1?t.velocity.x=0:d?t.processX(m,e,!0):t.processX(-m,e,!1,!0),y.moves){var O=y.directControl?y.y-y.autoFrame.y:y.y-y.prev.y;t.y+=O*y.friction.y,t._dy=t.y-t.prev.y}},L=function(I){if(I===2?y.velocity.x=0:c?y.processX(m,r,!0):y.processX(-m,r,!1,!0),t.moves){var O=t.directControl?t.y-t.autoFrame.y:t.y-t.prev.y;y.y+=O*t.friction.y,y._dy=y.y-y.prev.y}};v.exports={BlockCheck:x,Check:T,Set:g,Run:S,RunImmovableBody1:P,RunImmovableBody2:L}},47962:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y,t,h,p,a,n,r,e,s,o,i,l,u,f,d,c,m,g=function(I,O,M){y=I,t=O;var w=y.velocity.y,D=t.velocity.y;return h=y.pushable,s=y._dy<0,o=y._dy>0,i=y._dy===0,d=Math.abs(y.bottom-t.y)<=Math.abs(t.bottom-y.y),r=D-w*y.bounce.y,p=t.pushable,l=t._dy<0,u=t._dy>0,f=t._dy===0,c=!d,e=w-D*t.bounce.y,m=Math.abs(M),x()},x=function(){return o&&d&&t.blocked.down?(y.processY(-m,r,!1,!0),1):s&&c&&t.blocked.up?(y.processY(m,r,!0),1):u&&c&&y.blocked.down?(t.processY(-m,e,!1,!0),2):l&&d&&y.blocked.up?(t.processY(m,e,!0),2):0},T=function(){var I=y.velocity.y,O=t.velocity.y,M=Math.sqrt(O*O*t.mass/y.mass)*(O>0?1:-1),w=Math.sqrt(I*I*y.mass/t.mass)*(I>0?1:-1),D=(M+w)*.5;return M-=D,w-=D,a=D+M*y.bounce.y,n=D+w*t.bounce.y,s&&c?S(0):l&&d?S(1):o&&d?S(2):u&&c?S(3):!1},S=function(I){if(h&&p)m*=.5,I===0||I===3?(y.processY(m,a),t.processY(-m,n)):(y.processY(-m,a),t.processY(m,n));else if(h&&!p)I===0||I===3?y.processY(m,r,!0):y.processY(-m,r,!1,!0);else if(!h&&p)I===0||I===3?t.processY(-m,e,!1,!0):t.processY(m,e,!0);else{var O=m*.5;I===0?f?(y.processY(m,0,!0),t.processY(0,null,!1,!0)):u?(y.processY(O,0,!0),t.processY(-O,0,!1,!0)):(y.processY(O,t.velocity.y,!0),t.processY(-O,null,!1,!0)):I===1?i?(y.processY(0,null,!1,!0),t.processY(m,0,!0)):o?(y.processY(-O,0,!1,!0),t.processY(O,0,!0)):(y.processY(-O,null,!1,!0),t.processY(O,y.velocity.y,!0)):I===2?f?(y.processY(-m,0,!1,!0),t.processY(0,null,!0)):l?(y.processY(-O,0,!1,!0),t.processY(O,0,!0)):(y.processY(-O,t.velocity.y,!1,!0),t.processY(O,null,!0)):I===3&&(i?(y.processY(0,null,!0),t.processY(-m,0,!1,!0)):s?(y.processY(O,0,!0),t.processY(-O,0,!1,!0)):(y.processY(O,t.velocity.y,!0),t.processY(-O,null,!1,!0)))}return!0},P=function(I){if(I===1?t.velocity.y=0:d?t.processY(m,e,!0):t.processY(-m,e,!1,!0),y.moves){var O=y.directControl?y.x-y.autoFrame.x:y.x-y.prev.x;t.x+=O*y.friction.x,t._dx=t.x-t.prev.x}},L=function(I){if(I===2?y.velocity.y=0:c?y.processY(m,r,!0):y.processY(-m,r,!1,!0),t.moves){var O=t.directControl?t.x-t.autoFrame.x:t.x-t.prev.x;y.x+=O*t.friction.x,y._dx=y.x-y.prev.x}};v.exports={BlockCheck:x,Check:T,Set:g,Run:S,RunImmovableBody1:P,RunImmovableBody2:L}},14087:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(64897),p=t(3017),a=function(n,r,e,s,o){o===void 0&&(o=h(n,r,e,s));var i=n.immovable,l=r.immovable;if(e||o===0||i&&l||n.customSeparateX||r.customSeparateX)return o!==0||n.embedded&&r.embedded;var u=p.Set(n,r,o);return!i&&!l?u>0?!0:p.Check():(i?p.RunImmovableBody1(u):l&&p.RunImmovableBody2(u),!0)};v.exports=a},89936:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(45170),p=t(47962),a=function(n,r,e,s,o){o===void 0&&(o=h(n,r,e,s));var i=n.immovable,l=r.immovable;if(e||o===0||i&&l||n.customSeparateY||r.customSeparateY)return o!==0||n.embedded&&r.embedded;var u=p.Set(n,r,o);return!i&&!l?u>0?!0:p.Check():(i?p.RunImmovableBody1(u):l&&p.RunImmovableBody2(u),!0)};v.exports=a},95829:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,h){return h===void 0&&(h={}),h.none=t,h.up=!1,h.down=!1,h.left=!1,h.right=!1,t||(h.up=!0,h.down=!0,h.left=!0,h.right=!0),h};v.exports=y},72624:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(87902),p=t(83419),a=t(78389),n=t(37747),r=t(37303),e=t(95829),s=t(26099),o=new p({Mixins:[a],initialize:function(l,u){var f=64,d=64,c={x:0,y:0,angle:0,rotation:0,scaleX:1,scaleY:1,displayOriginX:0,displayOriginY:0},m=u!==void 0;m&&u.displayWidth&&(f=u.displayWidth,d=u.displayHeight),m||(u=c),this.world=l,this.gameObject=m?u:void 0,this.isBody=!0,this.debugShowBody=l.defaults.debugShowStaticBody,this.debugBodyColor=l.defaults.staticBodyDebugColor,this.enable=!0,this.isCircle=!1,this.radius=0,this.offset=new s,this.position=new s(u.x-f*u.originX,u.y-d*u.originY),this.width=f,this.height=d,this.halfWidth=Math.abs(this.width/2),this.halfHeight=Math.abs(this.height/2),this.center=new s(this.position.x+this.halfWidth,this.position.y+this.halfHeight),this.velocity=s.ZERO,this.allowGravity=!1,this.gravity=s.ZERO,this.bounce=s.ZERO,this.onWorldBounds=!1,this.onCollide=!1,this.onOverlap=!1,this.mass=1,this.immovable=!0,this.pushable=!1,this.customSeparateX=!1,this.customSeparateY=!1,this.overlapX=0,this.overlapY=0,this.overlapR=0,this.embedded=!1,this.collideWorldBounds=!1,this.checkCollision=e(!1),this.touching=e(!0),this.wasTouching=e(!0),this.blocked=e(!0),this.physicsType=n.STATIC_BODY,this.collisionCategory=1,this.collisionMask=1,this._dx=0,this._dy=0},setGameObject:function(i,l){return i&&i!==this.gameObject&&(this.gameObject.body=null,i.body=this,this.gameObject=i),l&&this.updateFromGameObject(),this},updateFromGameObject:function(){this.world.staticTree.remove(this);var i=this.gameObject;return i.getTopLeft(this.position),this.width=i.displayWidth,this.height=i.displayHeight,this.halfWidth=Math.abs(this.width/2),this.halfHeight=Math.abs(this.height/2),this.center.set(this.position.x+this.halfWidth,this.position.y+this.halfHeight),this.world.staticTree.insert(this),this},setOffset:function(i,l){return l===void 0&&(l=i),this.world.staticTree.remove(this),this.position.x-=this.offset.x,this.position.y-=this.offset.y,this.offset.set(i,l),this.position.x+=this.offset.x,this.position.y+=this.offset.y,this.updateCenter(),this.world.staticTree.insert(this),this},setSize:function(i,l,u){u===void 0&&(u=!0);var f=this.gameObject;if(f&&f.frame&&(i||(i=f.frame.realWidth),l||(l=f.frame.realHeight)),this.world.staticTree.remove(this),this.width=i,this.height=l,this.halfWidth=Math.floor(i/2),this.halfHeight=Math.floor(l/2),u&&f&&f.getCenter){var d=f.displayWidth/2,c=f.displayHeight/2;this.position.x-=this.offset.x,this.position.y-=this.offset.y,this.offset.set(d-this.halfWidth,c-this.halfHeight),this.position.x+=this.offset.x,this.position.y+=this.offset.y}return this.updateCenter(),this.isCircle=!1,this.radius=0,this.world.staticTree.insert(this),this},setCircle:function(i,l,u){return l===void 0&&(l=this.offset.x),u===void 0&&(u=this.offset.y),i>0?(this.world.staticTree.remove(this),this.isCircle=!0,this.radius=i,this.width=i*2,this.height=i*2,this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.offset.set(l,u),this.updateCenter(),this.world.staticTree.insert(this)):this.isCircle=!1,this},updateCenter:function(){this.center.set(this.position.x+this.halfWidth,this.position.y+this.halfHeight)},reset:function(i,l){var u=this.gameObject;i===void 0&&(i=u.x),l===void 0&&(l=u.y),this.world.staticTree.remove(this),u.setPosition(i,l),u.getTopLeft(this.position),this.position.x+=this.offset.x,this.position.y+=this.offset.y,this.updateCenter(),this.world.staticTree.insert(this)},stop:function(){return this},getBounds:function(i){return i.x=this.x,i.y=this.y,i.right=this.right,i.bottom=this.bottom,i},hitTest:function(i,l){return this.isCircle?h(this,i,l):r(this,i,l)},postUpdate:function(){},deltaAbsX:function(){return 0},deltaAbsY:function(){return 0},deltaX:function(){return 0},deltaY:function(){return 0},deltaZ:function(){return 0},destroy:function(){this.enable=!1,this.world.pendingDestroy.set(this)},drawDebug:function(i){var l=this.position,u=l.x+this.halfWidth,f=l.y+this.halfHeight;this.debugShowBody&&(i.lineStyle(i.defaultStrokeWidth,this.debugBodyColor,1),this.isCircle?i.strokeCircle(u,f,this.width/2):i.strokeRect(l.x,l.y,this.width,this.height))},willDrawDebug:function(){return this.debugShowBody},setMass:function(i){return i<=0&&(i=.1),this.mass=i,this},x:{get:function(){return this.position.x},set:function(i){this.world.staticTree.remove(this),this.position.x=i,this.world.staticTree.insert(this)}},y:{get:function(){return this.position.y},set:function(i){this.world.staticTree.remove(this),this.position.y=i,this.world.staticTree.insert(this)}},left:{get:function(){return this.position.x}},right:{get:function(){return this.position.x+this.width}},top:{get:function(){return this.position.y}},bottom:{get:function(){return this.position.y+this.height}}});v.exports=o},71464:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(13759),p=t(83419),a=t(78389),n=t(37747),r=t(95540),e=t(26479),s=t(41212),o=new p({Extends:e,Mixins:[a],initialize:function(l,u,f,d){!f&&!d?d={internalCreateCallback:this.createCallbackHandler,internalRemoveCallback:this.removeCallbackHandler,createMultipleCallback:this.createMultipleCallbackHandler,classType:h}:s(f)?(d=f,f=null,d.internalCreateCallback=this.createCallbackHandler,d.internalRemoveCallback=this.removeCallbackHandler,d.createMultipleCallback=this.createMultipleCallbackHandler,d.classType=r(d,"classType",h)):Array.isArray(f)&&s(f[0])?(d=f,f=null,d.forEach(function(c){c.internalCreateCallback=this.createCallbackHandler,c.internalRemoveCallback=this.removeCallbackHandler,c.createMultipleCallback=this.createMultipleCallbackHandler,c.classType=r(c,"classType",h)})):d={internalCreateCallback:this.createCallbackHandler,internalRemoveCallback:this.removeCallbackHandler},this.world=l,this.physicsType=n.STATIC_BODY,this.collisionCategory=1,this.collisionMask=1,e.call(this,u,f,d),this.type="StaticPhysicsGroup"},createCallbackHandler:function(i){i.body||this.world.enableBody(i,n.STATIC_BODY)},removeCallbackHandler:function(i){i.body&&this.world.disableBody(i)},createMultipleCallbackHandler:function(){this.refresh()},refresh:function(){for(var i=this.children.entries,l=0;l<i.length;l++)i[l].body.reset();return this}});v.exports=o},82248:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(55495),p=t(37742),a=t(45319),n=t(83419),r=t(79342),e=t(37747),s=t(20339),o=t(52816),i=t(50792),l=t(63012),u=t(43855),f=t(5470),d=t(94977),c=t(64897),m=t(45170),g=t(96523),x=t(35154),T=t(36383),S=t(25774),P=t(96602),L=t(87841),I=t(59542),O=t(40012),M=t(14087),w=t(89936),D=t(35072),U=t(72624),Y=t(2483),H=t(61340),X=t(26099),G=t(15994),z=new n({Extends:i,initialize:function(N,W){i.call(this),this.scene=N,this.bodies=new D,this.staticBodies=new D,this.pendingDestroy=new D,this.colliders=new S,this.gravity=new X(x(W,"gravity.x",0),x(W,"gravity.y",0)),this.bounds=new L(x(W,"x",0),x(W,"y",0),x(W,"width",N.sys.scale.width),x(W,"height",N.sys.scale.height)),this.checkCollision={up:x(W,"checkCollision.up",!0),down:x(W,"checkCollision.down",!0),left:x(W,"checkCollision.left",!0),right:x(W,"checkCollision.right",!0)},this.fps=x(W,"fps",60),this.fixedStep=x(W,"fixedStep",!0),this._elapsed=0,this._frameTime=1/this.fps,this._frameTimeMS=1e3*this._frameTime,this.stepsLastFrame=0,this.timeScale=x(W,"timeScale",1),this.OVERLAP_BIAS=x(W,"overlapBias",4),this.TILE_BIAS=x(W,"tileBias",16),this.forceX=x(W,"forceX",!1),this.isPaused=x(W,"isPaused",!1),this._total=0,this.drawDebug=x(W,"debug",!1),this.debugGraphic,this.defaults={debugShowBody:x(W,"debugShowBody",!0),debugShowStaticBody:x(W,"debugShowStaticBody",!0),debugShowVelocity:x(W,"debugShowVelocity",!0),bodyDebugColor:x(W,"debugBodyColor",16711935),staticBodyDebugColor:x(W,"debugStaticBodyColor",255),velocityDebugColor:x(W,"debugVelocityColor",65280)},this.maxEntries=x(W,"maxEntries",16),this.useTree=x(W,"useTree",!0),this.tree=new I(this.maxEntries),this.staticTree=new I(this.maxEntries),this.treeMinMax={minX:0,minY:0,maxX:0,maxY:0},this._tempMatrix=new H,this._tempMatrix2=new H,this.tileFilterOptions={isColliding:!0,isNotEmpty:!0,hasInterestingFace:!0},this.drawDebug&&this.createDebugGraphic()},enable:function(b,N){N===void 0&&(N=e.DYNAMIC_BODY),Array.isArray(b)||(b=[b]);for(var W=0;W<b.length;W++){var K=b[W];if(K.isParent)for(var J=K.getChildren(),j=0;j<J.length;j++){var Z=J[j];Z.isParent?this.enable(Z,N):this.enableBody(Z,N)}else this.enableBody(K,N)}},enableBody:function(b,N){return N===void 0&&(N=e.DYNAMIC_BODY),b.hasTransformComponent&&(b.body||(N===e.DYNAMIC_BODY?b.body=new p(this,b):N===e.STATIC_BODY&&(b.body=new U(this,b))),this.add(b.body)),b},add:function(b){return b.physicsType===e.DYNAMIC_BODY?this.bodies.set(b):b.physicsType===e.STATIC_BODY&&(this.staticBodies.set(b),this.staticTree.insert(b)),b.enable=!0,b},disable:function(b){Array.isArray(b)||(b=[b]);for(var N=0;N<b.length;N++){var W=b[N];if(W.isParent)for(var K=W.getChildren(),J=0;J<K.length;J++){var j=K[J];j.isParent?this.disable(j):this.disableBody(j.body)}else this.disableBody(W.body)}},disableBody:function(b){this.remove(b),b.enable=!1},remove:function(b){b.physicsType===e.DYNAMIC_BODY?(this.tree.remove(b),this.bodies.delete(b)):b.physicsType===e.STATIC_BODY&&(this.staticBodies.delete(b),this.staticTree.remove(b))},createDebugGraphic:function(){var b=this.scene.sys.add.graphics({x:0,y:0});return b.setDepth(Number.MAX_VALUE),this.debugGraphic=b,this.drawDebug=!0,b},setBounds:function(b,N,W,K,J,j,Z,q){return this.bounds.setTo(b,N,W,K),J!==void 0&&this.setBoundsCollision(J,j,Z,q),this},setBoundsCollision:function(b,N,W,K){return b===void 0&&(b=!0),N===void 0&&(N=!0),W===void 0&&(W=!0),K===void 0&&(K=!0),this.checkCollision.left=b,this.checkCollision.right=N,this.checkCollision.up=W,this.checkCollision.down=K,this},pause:function(){return this.isPaused=!0,this.emit(l.PAUSE),this},resume:function(){return this.isPaused=!1,this.emit(l.RESUME),this},addCollider:function(b,N,W,K,J){W===void 0&&(W=null),K===void 0&&(K=null),J===void 0&&(J=W);var j=new r(this,!1,b,N,W,K,J);return this.colliders.add(j),j},addOverlap:function(b,N,W,K,J){W===void 0&&(W=null),K===void 0&&(K=null),J===void 0&&(J=W);var j=new r(this,!0,b,N,W,K,J);return this.colliders.add(j),j},removeCollider:function(b){return this.colliders.remove(b),this},setFPS:function(b){return this.fps=b,this._frameTime=1/this.fps,this._frameTimeMS=1e3*this._frameTime,this},update:function(b,N){if(!(this.isPaused||this.bodies.size===0)){var W,K=this._frameTime,J=this._frameTimeMS*this.timeScale;this._elapsed+=N;var j,Z=this.bodies.entries,q=this._elapsed>=J;for(this.fixedStep||(K=N*.001,q=!0,this._elapsed=0),W=0;W<Z.length;W++)j=Z[W],j.enable&&j.preUpdate(q,K);if(q){this._elapsed-=J,this.stepsLastFrame=1,this.useTree&&(this.tree.clear(),this.tree.load(Z));var _=this.colliders.update();for(W=0;W<_.length;W++){var tt=_[W];tt.active&&tt.update()}this.emit(l.WORLD_STEP,K)}for(;this._elapsed>=J;)this._elapsed-=J,this.step(K)}},step:function(b){var N,W,K=this.bodies.entries,J=K.length;for(N=0;N<J;N++)W=K[N],W.enable&&W.update(b);this.useTree&&(this.tree.clear(),this.tree.load(K));var j=this.colliders.update();for(N=0;N<j.length;N++){var Z=j[N];Z.active&&Z.update()}this.emit(l.WORLD_STEP,b),this.stepsLastFrame++},singleStep:function(){this.update(0,this._frameTimeMS),this.postUpdate()},postUpdate:function(){var b,N,W=this.bodies.entries,K=W.length,J=this.bodies,j=this.staticBodies;if(this.stepsLastFrame)for(this.stepsLastFrame=0,b=0;b<K;b++)N=W[b],N.enable&&N.postUpdate();if(this.drawDebug){var Z=this.debugGraphic;for(Z.clear(),b=0;b<K;b++)N=W[b],N.willDrawDebug()&&N.drawDebug(Z);for(W=j.entries,K=W.length,b=0;b<K;b++)N=W[b],N.willDrawDebug()&&N.drawDebug(Z)}var q=this.pendingDestroy;if(q.size>0){var _=this.tree,tt=this.staticTree;for(W=q.entries,K=W.length,b=0;b<K;b++)N=W[b],N.physicsType===e.DYNAMIC_BODY?(_.remove(N),J.delete(N)):N.physicsType===e.STATIC_BODY&&(tt.remove(N),j.delete(N)),N.world=void 0,N.gameObject=void 0;q.clear()}},updateMotion:function(b,N){b.allowRotation&&this.computeAngularVelocity(b,N),this.computeVelocity(b,N)},computeAngularVelocity:function(b,N){var W=b.angularVelocity,K=b.angularAcceleration,J=b.angularDrag,j=b.maxAngular;K?W+=K*N:b.allowDrag&&J&&(J*=N,f(W-J,0,.1)?W-=J:d(W+J,0,.1)?W+=J:W=0),W=a(W,-j,j);var Z=W-b.angularVelocity;b.angularVelocity+=Z,b.rotation+=b.angularVelocity*N},computeVelocity:function(b,N){var W=b.velocity.x,K=b.acceleration.x,J=b.drag.x,j=b.maxVelocity.x,Z=b.velocity.y,q=b.acceleration.y,_=b.drag.y,tt=b.maxVelocity.y,et=b.speed,ot=b.maxSpeed,it=b.allowDrag,lt=b.useDamping;b.allowGravity&&(W+=(this.gravity.x+b.gravity.x)*N,Z+=(this.gravity.y+b.gravity.y)*N),K?W+=K*N:it&&J&&(lt?(J=Math.pow(J,N),W*=J,et=Math.sqrt(W*W+Z*Z),u(et,0,.001)&&(W=0)):(J*=N,f(W-J,0,.01)?W-=J:d(W+J,0,.01)?W+=J:W=0)),q?Z+=q*N:it&&_&&(lt?(_=Math.pow(_,N),Z*=_,et=Math.sqrt(W*W+Z*Z),u(et,0,.001)&&(Z=0)):(_*=N,f(Z-_,0,.01)?Z-=_:d(Z+_,0,.01)?Z+=_:Z=0)),W=a(W,-j,j),Z=a(Z,-tt,tt),b.velocity.set(W,Z),ot>-1&&b.velocity.length()>ot&&(b.velocity.normalize().scale(ot),et=ot),b.speed=et},separate:function(b,N,W,K,J){var j,Z,q=!1,_=!0;if(!b.enable||!N.enable||b.checkCollision.none||N.checkCollision.none||!this.intersects(b,N)||W&&W.call(K,b.gameObject||b,N.gameObject||N)===!1)return q;if(b.isCircle||N.isCircle){var tt=this.separateCircle(b,N,J);tt.result?(q=!0,_=!1):(j=tt.x,Z=tt.y,_=!0)}if(_){var et=!1,ot=!1,it=this.OVERLAP_BIAS;J?(et=M(b,N,J,it,j),ot=w(b,N,J,it,Z)):this.forceX||Math.abs(this.gravity.y+b.gravity.y)<Math.abs(this.gravity.x+b.gravity.x)?(et=M(b,N,J,it,j),this.intersects(b,N)&&(ot=w(b,N,J,it,Z))):(ot=w(b,N,J,it,Z),this.intersects(b,N)&&(et=M(b,N,J,it,j))),q=et||ot}return q&&(J?(b.onOverlap||N.onOverlap)&&this.emit(l.OVERLAP,b.gameObject,N.gameObject,b,N):(b.onCollide||N.onCollide)&&this.emit(l.COLLIDE,b.gameObject,N.gameObject,b,N)),q},separateCircle:function(b,N,W){c(b,N,!1,0),m(b,N,!1,0);var K=b.isCircle,J=N.isCircle,j=b.center,Z=N.center,q=b.immovable,_=N.immovable,tt=b.velocity,et=N.velocity,ot=0,it=!0;if(K!==J){it=!1;var lt=j.x,vt=j.y,xt=b.halfWidth,yt=N.position.x,nt=N.position.y,dt=N.right,ct=N.bottom;J&&(lt=Z.x,vt=Z.y,xt=N.halfWidth,yt=b.position.x,nt=b.position.y,dt=b.right,ct=b.bottom),vt<nt?lt<yt?ot=s(lt,vt,yt,nt)-xt:lt>dt&&(ot=s(lt,vt,dt,nt)-xt):vt>ct&&(lt<yt?ot=s(lt,vt,yt,ct)-xt:lt>dt&&(ot=s(lt,vt,dt,ct)-xt)),ot*=-1}else ot=b.halfWidth+N.halfWidth-o(j,Z);b.overlapR=ot,N.overlapR=ot;var Rt=h(j,Z),It=(ot+T.EPSILON)*Math.cos(Rt),ne=(ot+T.EPSILON)*Math.sin(Rt),ee={overlap:ot,result:!1,x:It,y:ne};if(W&&(!it||it&&ot!==0))return ee.result=!0,ee;if(!it&&ot===0||q&&_||b.customSeparateX||N.customSeparateX)return ee.x=void 0,ee.y=void 0,ee;var le=!b.pushable&&!N.pushable;if(it){var Zt=j.x-Z.x,fe=j.y-Z.y,Gt=Math.sqrt(Math.pow(Zt,2)+Math.pow(fe,2)),de=(Z.x-j.x)/Gt||0,ae=(Z.y-j.y)/Gt||0,me=2*(tt.x*de+tt.y*ae-et.x*de-et.y*ae)/(b.mass+N.mass);(q||_||!b.pushable||!N.pushable)&&(me*=2),!q&&b.pushable&&(tt.x=tt.x-me/b.mass*de,tt.y=tt.y-me/b.mass*ae,tt.multiply(b.bounce)),!_&&N.pushable&&(et.x=et.x+me/N.mass*de,et.y=et.y+me/N.mass*ae,et.multiply(N.bounce)),!q&&!_&&(It*=.5,ne*=.5),!q||b.pushable||le?(b.x-=It,b.y-=ne,b.updateCenter()):(!_||N.pushable||le)&&(N.x+=It,N.y+=ne,N.updateCenter()),ee.result=!0}else!q||b.pushable||le?(b.x-=It,b.y-=ne,b.updateCenter()):(!_||N.pushable||le)&&(N.x+=It,N.y+=ne,N.updateCenter()),ee.x=void 0,ee.y=void 0;return ee},intersects:function(b,N){return b===N?!1:!b.isCircle&&!N.isCircle?!(b.right<=N.left||b.bottom<=N.top||b.left>=N.right||b.top>=N.bottom):b.isCircle?N.isCircle?o(b.center,N.center)<=b.halfWidth+N.halfWidth:this.circleBodyIntersects(b,N):this.circleBodyIntersects(N,b)},circleBodyIntersects:function(b,N){var W=a(b.center.x,N.left,N.right),K=a(b.center.y,N.top,N.bottom),J=(b.center.x-W)*(b.center.x-W),j=(b.center.y-K)*(b.center.y-K);return J+j<=b.halfWidth*b.halfWidth},overlap:function(b,N,W,K,J){return W===void 0&&(W=null),K===void 0&&(K=null),J===void 0&&(J=W),this.collideObjects(b,N,W,K,J,!0)},collide:function(b,N,W,K,J){return W===void 0&&(W=null),K===void 0&&(K=null),J===void 0&&(J=W),this.collideObjects(b,N,W,K,J,!1)},collideObjects:function(b,N,W,K,J,j){var Z,q;b.isParent&&(b.physicsType===void 0||N===void 0||b===N)&&(b=b.children.entries),N&&N.isParent&&N.physicsType===void 0&&(N=N.children.entries);var _=Array.isArray(b),tt=Array.isArray(N);if(this._total=0,!_&&!tt)this.collideHandler(b,N,W,K,J,j);else if(!_&&tt)for(Z=0;Z<N.length;Z++)this.collideHandler(b,N[Z],W,K,J,j);else if(_&&!tt)if(N)for(Z=0;Z<b.length;Z++)this.collideHandler(b[Z],N,W,K,J,j);else for(Z=0;Z<b.length;Z++){var et=b[Z];for(q=Z+1;q<b.length;q++)Z!==q&&this.collideHandler(et,b[q],W,K,J,j)}else for(Z=0;Z<b.length;Z++)for(q=0;q<N.length;q++)this.collideHandler(b[Z],N[q],W,K,J,j);return this._total>0},collideHandler:function(b,N,W,K,J,j){if(N===void 0&&b.isParent)return this.collideGroupVsGroup(b,b,W,K,J,j);if(!b||!N)return!1;if(b.body||b.isBody){if(N.body||N.isBody)return this.collideSpriteVsSprite(b,N,W,K,J,j);if(N.isParent)return this.collideSpriteVsGroup(b,N,W,K,J,j);if(N.isTilemap)return this.collideSpriteVsTilemapLayer(b,N,W,K,J,j)}else if(b.isParent){if(N.body||N.isBody)return this.collideSpriteVsGroup(N,b,W,K,J,j);if(N.isParent)return this.collideGroupVsGroup(b,N,W,K,J,j);if(N.isTilemap)return this.collideGroupVsTilemapLayer(b,N,W,K,J,j)}else if(b.isTilemap){if(N.body||N.isBody)return this.collideSpriteVsTilemapLayer(N,b,W,K,J,j);if(N.isParent)return this.collideGroupVsTilemapLayer(N,b,W,K,J,j)}},canCollide:function(b,N){return b&&N&&(b.collisionMask&N.collisionCategory)!==0&&(N.collisionMask&b.collisionCategory)!==0},collideSpriteVsSprite:function(b,N,W,K,J,j){var Z=b.isBody?b:b.body,q=N.isBody?N:N.body;return this.canCollide(Z,q)?(this.separate(Z,q,K,J,j)&&(W&&W.call(J,b,N),this._total++),!0):!1},collideSpriteVsGroup:function(b,N,W,K,J,j){var Z=b.isBody?b:b.body;if(!(N.getLength()===0||!Z||!Z.enable||Z.checkCollision.none||!this.canCollide(Z,N))){var q,_,tt;if(this.useTree||N.physicsType===e.STATIC_BODY){var et=this.treeMinMax;et.minX=Z.left,et.minY=Z.top,et.maxX=Z.right,et.maxY=Z.bottom;var ot=N.physicsType===e.DYNAMIC_BODY?this.tree.search(et):this.staticTree.search(et);for(_=ot.length,q=0;q<_;q++)tt=ot[q],!(Z===tt||!tt.enable||tt.checkCollision.none||!N.contains(tt.gameObject))&&this.separate(Z,tt,K,J,j)&&(W&&W.call(J,Z.gameObject,tt.gameObject),this._total++)}else{var it=N.getChildren(),lt=N.children.entries.indexOf(b);for(_=it.length,q=0;q<_;q++)tt=it[q].body,!(!tt||q===lt||!tt.enable)&&this.separate(Z,tt,K,J,j)&&(W&&W.call(J,Z.gameObject,tt.gameObject),this._total++)}}},collideGroupVsTilemapLayer:function(b,N,W,K,J,j){if(!this.canCollide(b,N))return!1;var Z=b.getChildren();if(Z.length===0)return!1;for(var q=!1,_=0;_<Z.length;_++)(Z[_].body||Z[_].isBody)&&this.collideSpriteVsTilemapLayer(Z[_],N,W,K,J,j)&&(q=!0);return q},collideTiles:function(b,N,W,K,J){return N.length===0||b.body&&!b.body.enable||b.isBody&&!b.enable?!1:this.collideSpriteVsTilesHandler(b,N,W,K,J,!1,!1)},overlapTiles:function(b,N,W,K,J){return N.length===0||b.body&&!b.body.enable||b.isBody&&!b.enable?!1:this.collideSpriteVsTilesHandler(b,N,W,K,J,!0,!1)},collideSpriteVsTilemapLayer:function(b,N,W,K,J,j){var Z=b.isBody?b:b.body;if(!Z.enable||Z.checkCollision.none||!this.canCollide(Z,N))return!1;var q=N.layer,_=Z.x-q.tileWidth*N.scaleX,tt=Z.y-q.tileHeight*N.scaleY,et=Z.width+q.tileWidth*N.scaleX,ot=Z.height+q.tileHeight*N.scaleY,it=j?null:this.tileFilterOptions,lt=g(_,tt,et,ot,it,N.scene.cameras.main,N.layer);return lt.length===0?!1:this.collideSpriteVsTilesHandler(b,lt,W,K,J,j,!0)},collideSpriteVsTilesHandler:function(b,N,W,K,J,j,Z){for(var q=b.isBody?b:b.body,_,tt={left:0,right:0,top:0,bottom:0},et,ot=!1,it=0;it<N.length;it++){_=N[it],et=_.tilemapLayer;var lt=et.tileToWorldXY(_.x,_.y);tt.left=lt.x,tt.top=lt.y,tt.right=tt.left+_.width*et.scaleX,tt.bottom=tt.top+_.height*et.scaleY,Y(tt,q)&&(!K||K.call(J,b,_))&&P(_,b)&&(j||O(it,q,_,tt,et,this.TILE_BIAS,Z))&&(this._total++,ot=!0,W&&W.call(J,b,_),j&&q.onOverlap?this.emit(l.TILE_OVERLAP,b,_,q):q.onCollide&&this.emit(l.TILE_COLLIDE,b,_,q))}return ot},collideGroupVsGroup:function(b,N,W,K,J,j){if(!(b.getLength()===0||N.getLength()===0||!this.canCollide(b,N)))for(var Z=b.getChildren(),q=0;q<Z.length;q++)this.collideSpriteVsGroup(Z[q],N,W,K,J,j)},wrap:function(b,N){b.body?this.wrapObject(b,N):b.getChildren?this.wrapArray(b.getChildren(),N):Array.isArray(b)?this.wrapArray(b,N):this.wrapObject(b,N)},wrapArray:function(b,N){for(var W=0;W<b.length;W++)this.wrapObject(b[W],N)},wrapObject:function(b,N){N===void 0&&(N=0),b.x=G(b.x,this.bounds.left-N,this.bounds.right+N),b.y=G(b.y,this.bounds.top-N,this.bounds.bottom+N)},shutdown:function(){this.tree.clear(),this.staticTree.clear(),this.bodies.clear(),this.staticBodies.clear(),this.colliders.destroy(),this.removeAllListeners()},destroy:function(){this.shutdown(),this.scene=null,this.debugGraphic&&(this.debugGraphic.destroy(),this.debugGraphic=null)}});v.exports=z},1093:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={setAcceleration:function(t,h){return this.body.acceleration.set(t,h),this},setAccelerationX:function(t){return this.body.acceleration.x=t,this},setAccelerationY:function(t){return this.body.acceleration.y=t,this}};v.exports=y},59023:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={setAngularVelocity:function(t){return this.body.angularVelocity=t,this},setAngularAcceleration:function(t){return this.body.angularAcceleration=t,this},setAngularDrag:function(t){return this.body.angularDrag=t,this}};v.exports=y},62069:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={setBounce:function(t,h){return this.body.bounce.set(t,h),this},setBounceX:function(t){return this.body.bounce.x=t,this},setBounceY:function(t){return this.body.bounce.y=t,this},setCollideWorldBounds:function(t,h,p,a){return this.body.setCollideWorldBounds(t,h,p,a),this}};v.exports=y},78389:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(79599),p={setCollisionCategory:function(a){var n=this.body?this.body:this;return n.collisionCategory=a,this},willCollideWith:function(a){var n=this.body?this.body:this;return(n.collisionMask&a)!==0},addCollidesWith:function(a){var n=this.body?this.body:this;return n.collisionMask=n.collisionMask|a,this},removeCollidesWith:function(a){var n=this.body?this.body:this;return n.collisionMask=n.collisionMask&~a,this},setCollidesWith:function(a){var n=this.body?this.body:this;return n.collisionMask=h(a),this},resetCollisionCategory:function(){var a=this.body?this.body:this;return a.collisionCategory=1,a.collisionMask=2147483647,this}};v.exports=p},87118:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={setDebug:function(t,h,p){return this.debugShowBody=t,this.debugShowVelocity=h,this.debugBodyColor=p,this},setDebugBodyColor:function(t){return this.body.debugBodyColor=t,this},debugShowBody:{get:function(){return this.body.debugShowBody},set:function(t){this.body.debugShowBody=t}},debugShowVelocity:{get:function(){return this.body.debugShowVelocity},set:function(t){this.body.debugShowVelocity=t}},debugBodyColor:{get:function(){return this.body.debugBodyColor},set:function(t){this.body.debugBodyColor=t}}};v.exports=y},52819:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={setDrag:function(t,h){return this.body.drag.set(t,h),this},setDragX:function(t){return this.body.drag.x=t,this},setDragY:function(t){return this.body.drag.y=t,this},setDamping:function(t){return this.body.useDamping=t,this}};v.exports=y},4074:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={setDirectControl:function(t){return this.body.setDirectControl(t),this},enableBody:function(t,h,p,a,n){return t&&this.body.reset(h,p),a&&(this.body.gameObject.active=!0),n&&(this.body.gameObject.visible=!0),this.body.enable=!0,this},disableBody:function(t,h){return t===void 0&&(t=!1),h===void 0&&(h=!1),this.body.stop(),this.body.enable=!1,t&&(this.body.gameObject.active=!1),h&&(this.body.gameObject.visible=!1),this},refreshBody:function(){return this.body.updateFromGameObject(),this}};v.exports=y},40831:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={setFriction:function(t,h){return this.body.friction.set(t,h),this},setFrictionX:function(t){return this.body.friction.x=t,this},setFrictionY:function(t){return this.body.friction.y=t,this}};v.exports=y},26775:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={setGravity:function(t,h){return this.body.gravity.set(t,h),this},setGravityX:function(t){return this.body.gravity.x=t,this},setGravityY:function(t){return this.body.gravity.y=t,this}};v.exports=y},9437:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={setImmovable:function(t){return t===void 0&&(t=!0),this.body.immovable=t,this}};v.exports=y},30621:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={setMass:function(t){return this.body.mass=t,this}};v.exports=y},72441:(v,y,t)=>{var h=t(47956),p=t(96503),a=t(2044),n=t(81491),r=function(e,s,o,i,l,u){var f=h(e,s-i,o-i,2*i,2*i,l,u);if(f.length===0)return f;for(var d=new p(s,o,i),c=new p,m=[],g=0;g<f.length;g++){var x=f[g];x.isCircle?(c.setTo(x.center.x,x.center.y,x.halfWidth),a(d,c)&&m.push(x)):n(d,x)&&m.push(x)}return m};v.exports=r},47956:v=>{var y=function(t,h,p,a,n,r,e){r===void 0&&(r=!0),e===void 0&&(e=!1);var s=[],o=[],i=t.treeMinMax;if(i.minX=h,i.minY=p,i.maxX=h+a,i.maxY=p+n,e&&(o=t.staticTree.search(i)),r&&t.useTree)s=t.tree.search(i);else if(r){var l=t.bodies,u={position:{x:h,y:p},left:h,top:p,right:h+a,bottom:p+n,isCircle:!1},f=t.intersects;l.iterate(function(d){f(d,u)&&s.push(d)})}return o.concat(s)};v.exports=y},62121:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={setPushable:function(t){return t===void 0&&(t=!0),this.body.pushable=t,this}};v.exports=y},29384:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={setOffset:function(t,h){return this.body.setOffset(t,h),this},setSize:function(t,h,p){return this.body.setSize(t,h,p),this},setBodySize:function(t,h,p){return this.body.setSize(t,h,p),this},setCircle:function(t,h,p){return this.body.setCircle(t,h,p),this}};v.exports=y},15098:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={setVelocity:function(t,h){return this.body.setVelocity(t,h),this},setVelocityX:function(t){return this.body.setVelocityX(t),this},setVelocityY:function(t){return this.body.setVelocityY(t),this},setMaxVelocity:function(t,h){return this.body.maxVelocity.set(t,h),this}};v.exports=y},92209:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={Acceleration:t(1093),Angular:t(59023),Bounce:t(62069),Collision:t(78389),Debug:t(87118),Drag:t(52819),Enable:t(4074),Friction:t(40831),Gravity:t(26775),Immovable:t(9437),Mass:t(30621),OverlapCirc:t(72441),OverlapRect:t(47956),Pushable:t(62121),Size:t(29384),Velocity:t(15098)}},37747:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={DYNAMIC_BODY:0,STATIC_BODY:1,GROUP:2,TILEMAPLAYER:3,FACING_NONE:10,FACING_UP:11,FACING_DOWN:12,FACING_LEFT:13,FACING_RIGHT:14};v.exports=y},20009:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="collide"},36768:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="overlap"},60473:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="pause"},89954:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="resume"},61804:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="tilecollide"},7161:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="tileoverlap"},34689:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="worldbounds"},16006:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="worldstep"},63012:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={COLLIDE:t(20009),OVERLAP:t(36768),PAUSE:t(60473),RESUME:t(89954),TILE_COLLIDE:t(61804),TILE_OVERLAP:t(7161),WORLD_BOUNDS:t(34689),WORLD_STEP:t(16006)}},27064:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(37747),p=t(79291),a={ArcadePhysics:t(86689),Body:t(37742),Collider:t(79342),Components:t(92209),Events:t(63012),Factory:t(66022),GetCollidesWith:t(79599),GetOverlapX:t(64897),GetOverlapY:t(45170),SeparateX:t(14087),SeparateY:t(89936),Group:t(60758),Image:t(71289),Sprite:t(13759),StaticBody:t(72624),StaticGroup:t(71464),Tilemap:t(55173),World:t(82248)};a=p(!1,a,h),v.exports=a},96602:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,h){return t.collisionCallback?!t.collisionCallback.call(t.collisionCallbackContext,h,t):t.layer.callbacks[t.index]?!t.layer.callbacks[t.index].callback.call(t.layer.callbacks[t.index].callbackContext,h,t):!0};v.exports=y},36294:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,h){h<0?(t.blocked.none=!1,t.blocked.left=!0):h>0&&(t.blocked.none=!1,t.blocked.right=!0),t.position.x-=h,t.updateCenter(),t.bounce.x===0?t.velocity.x=0:t.velocity.x=-t.velocity.x*t.bounce.x};v.exports=y},67013:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,h){h<0?(t.blocked.none=!1,t.blocked.up=!0):h>0&&(t.blocked.none=!1,t.blocked.down=!0),t.position.y-=h,t.updateCenter(),t.bounce.y===0?t.velocity.y=0:t.velocity.y=-t.velocity.y*t.bounce.y};v.exports=y},40012:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(21329),p=t(53442),a=t(2483),n=function(r,e,s,o,i,l,u){var f=o.left,d=o.top,c=o.right,m=o.bottom,g=s.faceLeft||s.faceRight,x=s.faceTop||s.faceBottom;if(u||(g=!0,x=!0),!g&&!x)return!1;var T=0,S=0,P=0,L=1;if(e.deltaAbsX()>e.deltaAbsY()?P=-1:e.deltaAbsX()<e.deltaAbsY()&&(L=-1),e.deltaX()!==0&&e.deltaY()!==0&&g&&x&&(P=Math.min(Math.abs(e.position.x-c),Math.abs(e.right-f)),L=Math.min(Math.abs(e.position.y-m),Math.abs(e.bottom-d))),P<L){if(g&&(T=h(e,s,f,c,l,u),T!==0&&!a(o,e)))return!0;x&&(S=p(e,s,d,m,l,u))}else{if(x&&(S=p(e,s,d,m,l,u),S!==0&&!a(o,e)))return!0;g&&(T=h(e,s,f,c,l,u))}return T!==0||S!==0};v.exports=n},21329:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(36294),p=function(a,n,r,e,s,o){var i=0,l=n.faceLeft,u=n.faceRight,f=n.collideLeft,d=n.collideRight;return o||(l=!0,u=!0,f=!0,d=!0),a.deltaX()<0&&d&&a.checkCollision.left?u&&a.x<e&&(i=a.x-e,i<-s&&(i=0)):a.deltaX()>0&&f&&a.checkCollision.right&&l&&a.right>r&&(i=a.right-r,i>s&&(i=0)),i!==0&&(a.customSeparateX?a.overlapX=i:h(a,i)),i};v.exports=p},53442:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(67013),p=function(a,n,r,e,s,o){var i=0,l=n.faceTop,u=n.faceBottom,f=n.collideUp,d=n.collideDown;return o||(l=!0,u=!0,f=!0,d=!0),a.deltaY()<0&&d&&a.checkCollision.up?u&&a.y<e&&(i=a.y-e,i<-s&&(i=0)):a.deltaY()>0&&f&&a.checkCollision.down&&l&&a.bottom>r&&(i=a.bottom-r,i>s&&(i=0)),i!==0&&(a.customSeparateY?a.overlapY=i:h(a,i)),i};v.exports=p},2483:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,h){return!(h.right<=t.left||h.bottom<=t.top||h.position.x>=t.right||h.position.y>=t.bottom)};v.exports=y},55173:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h={ProcessTileCallbacks:t(96602),ProcessTileSeparationX:t(36294),ProcessTileSeparationY:t(67013),SeparateTile:t(40012),TileCheckX:t(21329),TileCheckY:t(53442),TileIntersectsBody:t(2483)};v.exports=h},44563:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={Arcade:t(27064),Matter:t(3875)}},68174:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),p=t(26099),a=new h({initialize:function(){this.boundsCenter=new p,this.centerDiff=new p},parseBody:function(n){if(n=n.hasOwnProperty("body")?n.body:n,!n.hasOwnProperty("bounds")||!n.hasOwnProperty("centerOfMass"))return!1;var r=this.boundsCenter,e=this.centerDiff,s=n.bounds.max.x-n.bounds.min.x,o=n.bounds.max.y-n.bounds.min.y,i=s*n.centerOfMass.x,l=o*n.centerOfMass.y;return r.set(s/2,o/2),e.set(i-r.x,l-r.y),!0},getTopLeft:function(n,r,e){if(r===void 0&&(r=0),e===void 0&&(e=0),this.parseBody(n)){var s=this.boundsCenter,o=this.centerDiff;return new p(r+s.x+o.x,e+s.y+o.y)}return!1},getTopCenter:function(n,r,e){if(r===void 0&&(r=0),e===void 0&&(e=0),this.parseBody(n)){var s=this.boundsCenter,o=this.centerDiff;return new p(r+o.x,e+s.y+o.y)}return!1},getTopRight:function(n,r,e){if(r===void 0&&(r=0),e===void 0&&(e=0),this.parseBody(n)){var s=this.boundsCenter,o=this.centerDiff;return new p(r-(s.x-o.x),e+s.y+o.y)}return!1},getLeftCenter:function(n,r,e){if(r===void 0&&(r=0),e===void 0&&(e=0),this.parseBody(n)){var s=this.boundsCenter,o=this.centerDiff;return new p(r+s.x+o.x,e+o.y)}return!1},getCenter:function(n,r,e){if(r===void 0&&(r=0),e===void 0&&(e=0),this.parseBody(n)){var s=this.centerDiff;return new p(r+s.x,e+s.y)}return!1},getRightCenter:function(n,r,e){if(r===void 0&&(r=0),e===void 0&&(e=0),this.parseBody(n)){var s=this.boundsCenter,o=this.centerDiff;return new p(r-(s.x-o.x),e+o.y)}return!1},getBottomLeft:function(n,r,e){if(r===void 0&&(r=0),e===void 0&&(e=0),this.parseBody(n)){var s=this.boundsCenter,o=this.centerDiff;return new p(r+s.x+o.x,e-(s.y-o.y))}return!1},getBottomCenter:function(n,r,e){if(r===void 0&&(r=0),e===void 0&&(e=0),this.parseBody(n)){var s=this.boundsCenter,o=this.centerDiff;return new p(r+o.x,e-(s.y-o.y))}return!1},getBottomRight:function(n,r,e){if(r===void 0&&(r=0),e===void 0&&(e=0),this.parseBody(n)){var s=this.boundsCenter,o=this.centerDiff;return new p(r-(s.x-o.x),e-(s.y-o.y))}return!1}});v.exports=a},19933:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(6790);h.Body=t(22562),h.Composite=t(69351),h.World=t(4372),h.Collision=t(52284),h.Detector=t(81388),h.Pairs=t(99561),h.Pair=t(4506),h.Query=t(73296),h.Resolver=t(66272),h.Constraint=t(48140),h.Common=t(53402),h.Engine=t(48413),h.Events=t(35810),h.Sleeping=t(53614),h.Plugin=t(73832),h.Bodies=t(66280),h.Composites=t(74116),h.Axes=t(66615),h.Bounds=t(15647),h.Svg=t(74058),h.Vector=t(31725),h.Vertices=t(41598),h.World.add=h.Composite.add,h.World.remove=h.Composite.remove,h.World.addComposite=h.Composite.addComposite,h.World.addBody=h.Composite.addBody,h.World.addConstraint=h.Composite.addConstraint,h.World.clear=h.Composite.clear,v.exports=h},28137:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(66280),p=t(83419),a=t(74116),n=t(48140),r=t(74058),e=t(75803),s=t(23181),o=t(34803),i=t(73834),l=t(19496),u=t(85791),f=t(98713),d=t(41598),c=new p({initialize:function(g){this.world=g,this.scene=g.scene,this.sys=g.scene.sys},rectangle:function(m,g,x,T,S){var P=h.rectangle(m,g,x,T,S);return this.world.add(P),P},trapezoid:function(m,g,x,T,S,P){var L=h.trapezoid(m,g,x,T,S,P);return this.world.add(L),L},circle:function(m,g,x,T,S){var P=h.circle(m,g,x,T,S);return this.world.add(P),P},polygon:function(m,g,x,T,S){var P=h.polygon(m,g,x,T,S);return this.world.add(P),P},fromVertices:function(m,g,x,T,S,P,L){typeof x=="string"&&(x=d.fromPath(x));var I=h.fromVertices(m,g,x,T,S,P,L);return this.world.add(I),I},fromPhysicsEditor:function(m,g,x,T,S){S===void 0&&(S=!0);var P=l.parseBody(m,g,x,T);return S&&!this.world.has(P)&&this.world.add(P),P},fromSVG:function(m,g,x,T,S,P){T===void 0&&(T=1),S===void 0&&(S={}),P===void 0&&(P=!0);for(var L=x.getElementsByTagName("path"),I=[],O=0;O<L.length;O++){var M=r.pathToVertices(L[O],30);T!==1&&d.scale(M,T,T),I.push(M)}var w=h.fromVertices(m,g,I,S);return P&&this.world.add(w),w},fromJSON:function(m,g,x,T,S){T===void 0&&(T={}),S===void 0&&(S=!0);var P=u.parseBody(m,g,x,T);return P&&S&&this.world.add(P),P},imageStack:function(m,g,x,T,S,P,L,I,O){L===void 0&&(L=0),I===void 0&&(I=0),O===void 0&&(O={});var M=this.world,w=this.sys.displayList;O.addToWorld=!1;var D=a.stack(x,T,S,P,L,I,function(U,Y){var H=new s(M,U,Y,m,g,O);return w.add(H),H.body});return M.add(D),D},stack:function(m,g,x,T,S,P,L){var I=a.stack(m,g,x,T,S,P,L);return this.world.add(I),I},pyramid:function(m,g,x,T,S,P,L){var I=a.pyramid(m,g,x,T,S,P,L);return this.world.add(I),I},chain:function(m,g,x,T,S,P){return a.chain(m,g,x,T,S,P)},mesh:function(m,g,x,T,S){return a.mesh(m,g,x,T,S)},newtonsCradle:function(m,g,x,T,S){var P=a.newtonsCradle(m,g,x,T,S);return this.world.add(P),P},car:function(m,g,x,T,S){var P=a.car(m,g,x,T,S);return this.world.add(P),P},softBody:function(m,g,x,T,S,P,L,I,O,M){var w=a.softBody(m,g,x,T,S,P,L,I,O,M);return this.world.add(w),w},joint:function(m,g,x,T,S){return this.constraint(m,g,x,T,S)},spring:function(m,g,x,T,S){return this.constraint(m,g,x,T,S)},constraint:function(m,g,x,T,S){T===void 0&&(T=1),S===void 0&&(S={}),S.bodyA=m.type==="body"?m:m.body,S.bodyB=g.type==="body"?g:g.body,isNaN(x)||(S.length=x),S.stiffness=T;var P=n.create(S);return this.world.add(P),P},worldConstraint:function(m,g,x,T){x===void 0&&(x=1),T===void 0&&(T={}),T.bodyB=m.type==="body"?m:m.body,isNaN(g)||(T.length=g),T.stiffness=x;var S=n.create(T);return this.world.add(S),S},mouseSpring:function(m){return this.pointerConstraint(m)},pointerConstraint:function(m){m===void 0&&(m={}),m.hasOwnProperty("render")||(m.render={visible:!1});var g=new f(this.scene,this.world,m);return this.world.add(g.constraint),g},image:function(m,g,x,T,S){var P=new s(this.world,m,g,x,T,S);return this.sys.displayList.add(P),P},tileBody:function(m,g){return new i(this.world,m,g)},sprite:function(m,g,x,T,S){var P=new o(this.world,m,g,x,T,S);return this.sys.displayList.add(P),this.sys.updateList.add(P),P},gameObject:function(m,g,x){return e(this.world,m,g,x)},destroy:function(){this.world=null,this.scene=null,this.sys=null}});v.exports=c},75803:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(31884),p=t(95540),a=t(26099);function n(e){return!!e.get&&typeof e.get=="function"||!!e.set&&typeof e.set=="function"}var r=function(e,s,o,i){o===void 0&&(o={}),i===void 0&&(i=!0);var l=s.x,u=s.y;s.body={temp:!0,position:{x:l,y:u}};var f=[h.Bounce,h.Collision,h.Force,h.Friction,h.Gravity,h.Mass,h.Sensor,h.SetBody,h.Sleep,h.Static,h.Transform,h.Velocity];if(f.forEach(function(c){for(var m in c)n(c[m])?Object.defineProperty(s,m,{get:c[m].get,set:c[m].set}):Object.defineProperty(s,m,{value:c[m]})}),s.world=e,s._tempVec2=new a(l,u),o.hasOwnProperty("type")&&o.type==="body")s.setExistingBody(o,i);else{var d=p(o,"shape",null);d||(d="rectangle"),o.addToWorld=i,s.setBody(d,o)}return s};v.exports=r},23181:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),p=t(31884),a=t(95643),n=t(95540),r=t(88571),e=t(72699),s=t(26099),o=new h({Extends:r,Mixins:[p.Bounce,p.Collision,p.Force,p.Friction,p.Gravity,p.Mass,p.Sensor,p.SetBody,p.Sleep,p.Static,p.Transform,p.Velocity,e],initialize:function(l,u,f,d,c,m){a.call(this,l.scene,"Image"),this._crop=this.resetCropObject(),this.setTexture(d,c),this.setSizeToFrame(),this.setOrigin(),this.world=l,this._tempVec2=new s(u,f);var g=n(m,"shape",null);g?this.setBody(g,m):this.setRectangle(this.width,this.height,m),this.setPosition(u,f),this.initPipeline(),this.initPostPipeline(!0)}});v.exports=o},42045:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(60461),p=t(66615),a=t(66280),n=t(22562),r=t(68174),e=t(15647),s=t(83419),o=t(52284),i=t(53402),l=t(69351),u=t(74116),f=t(48140),d=t(81388),c=t(20339),m=t(28137),g=t(95540),x=t(35154),T=t(46975),S=t(4506),P=t(99561),L=t(37277),I=t(73296),O=t(66272),M=t(44594),w=t(74058),D=t(31725),U=t(41598),Y=t(68243);i.setDecomp(t(55973));var H=new s({initialize:function(G){this.scene=G,this.systems=G.sys,this.config=this.getConfig(),this.world,this.add,this.bodyBounds,this.body=n,this.composite=l,this.collision=o,this.detector=d,this.pair=S,this.pairs=P,this.query=I,this.resolver=O,this.constraint=f,this.bodies=a,this.composites=u,this.axes=p,this.bounds=e,this.svg=w,this.vector=D,this.vertices=U,this.verts=U,this._tempVec2=D.create(),O._restingThresh=x(this.config,"restingThresh",4),O._restingThreshTangent=x(this.config,"restingThreshTangent",6),O._positionDampen=x(this.config,"positionDampen",.9),O._positionWarming=x(this.config,"positionWarming",.8),O._frictionNormalMultiplier=x(this.config,"frictionNormalMultiplier",5),G.sys.events.once(M.BOOT,this.boot,this),G.sys.events.on(M.START,this.start,this)},boot:function(){this.world=new Y(this.scene,this.config),this.add=new m(this.world),this.bodyBounds=new r,this.systems.events.once(M.DESTROY,this.destroy,this)},start:function(){this.world||(this.world=new Y(this.scene,this.config),this.add=new m(this.world));var X=this.systems.events;X.on(M.UPDATE,this.world.update,this.world),X.on(M.POST_UPDATE,this.world.postUpdate,this.world),X.once(M.SHUTDOWN,this.shutdown,this)},getConfig:function(){var X=this.systems.game.config.physics,G=this.systems.settings.physics,z=T(g(G,"matter",{}),g(X,"matter",{}));return z},pause:function(){return this.world.pause()},resume:function(){return this.world.resume()},set60Hz:function(){return this.world.getDelta=this.world.update60Hz,this.world.autoUpdate=!0,this},set30Hz:function(){return this.world.getDelta=this.world.update30Hz,this.world.autoUpdate=!0,this},step:function(X,G){this.world.step(X,G)},containsPoint:function(X,G,z){X=this.getMatterBodies(X);var b=D.create(G,z),N=I.point(X,b);return N.length>0},intersectPoint:function(X,G,z){z=this.getMatterBodies(z);var b=D.create(X,G),N=[],W=I.point(z,b);return W.forEach(function(K){N.indexOf(K)===-1&&N.push(K)}),N},intersectRect:function(X,G,z,b,N,W){N===void 0&&(N=!1),W=this.getMatterBodies(W);var K={min:{x:X,y:G},max:{x:X+z,y:G+b}},J=[],j=I.region(W,K,N);return j.forEach(function(Z){J.indexOf(Z)===-1&&J.push(Z)}),J},intersectRay:function(X,G,z,b,N,W){N===void 0&&(N=1),W=this.getMatterBodies(W);for(var K=[],J=I.ray(W,D.create(X,G),D.create(z,b),N),j=0;j<J.length;j++)K.push(J[j].body);return K},intersectBody:function(X,G){G=this.getMatterBodies(G);for(var z=[],b=I.collides(X,G),N=0;N<b.length;N++){var W=b[N];W.bodyA===X?z.push(W.bodyB):z.push(W.bodyA)}return z},overlap:function(X,G,z,b,N){z===void 0&&(z=null),b===void 0&&(b=null),N===void 0&&(N=z),Array.isArray(X)||(X=[X]),X=this.getMatterBodies(X),G=this.getMatterBodies(G);for(var W=!1,K=0;K<X.length;K++)for(var J=X[K],j=I.collides(J,G),Z=0;Z<j.length;Z++){var q=j[Z],_=q.bodyA.id===J.id?q.bodyB:q.bodyA;if(!b||b.call(N,J,_,q)){if(W=!0,z)z.call(N,J,_,q);else if(!b)return!0}}return W},setCollisionCategory:function(X,G){return X=this.getMatterBodies(X),X.forEach(function(z){z.collisionFilter.category=G}),this},setCollisionGroup:function(X,G){return X=this.getMatterBodies(X),X.forEach(function(z){z.collisionFilter.group=G}),this},setCollidesWith:function(X,G){X=this.getMatterBodies(X);var z=0;if(!Array.isArray(G))z=G;else for(var b=0;b<G.length;b++)z|=G[b];return X.forEach(function(N){N.collisionFilter.mask=z}),this},getMatterBodies:function(X){if(!X)return this.world.getAllBodies();Array.isArray(X)||(X=[X]);for(var G=[],z=0;z<X.length;z++){var b=X[z].hasOwnProperty("body")?X[z].body:X[z];G.push(b)}return G},setVelocity:function(X,G,z){X=this.getMatterBodies(X);var b=this._tempVec2;return b.x=G,b.y=z,X.forEach(function(N){n.setVelocity(N,b)}),this},setVelocityX:function(X,G){X=this.getMatterBodies(X);var z=this._tempVec2;return z.x=G,X.forEach(function(b){z.y=b.velocity.y,n.setVelocity(b,z)}),this},setVelocityY:function(X,G){X=this.getMatterBodies(X);var z=this._tempVec2;return z.y=G,X.forEach(function(b){z.x=b.velocity.x,n.setVelocity(b,z)}),this},setAngularVelocity:function(X,G){return X=this.getMatterBodies(X),X.forEach(function(z){n.setAngularVelocity(z,G)}),this},applyForce:function(X,G){X=this.getMatterBodies(X);var z=this._tempVec2;return X.forEach(function(b){z.x=b.position.x,z.y=b.position.y,n.applyForce(b,z,G)}),this},applyForceFromPosition:function(X,G,z,b){X=this.getMatterBodies(X);var N=this._tempVec2;return X.forEach(function(W){b===void 0&&(b=W.angle),N.x=z*Math.cos(b),N.y=z*Math.sin(b),n.applyForce(W,G,N)}),this},applyForceFromAngle:function(X,G,z){X=this.getMatterBodies(X);var b=this._tempVec2;return X.forEach(function(N){z===void 0&&(z=N.angle),b.x=G*Math.cos(z),b.y=G*Math.sin(z),n.applyForce(N,{x:N.position.x,y:N.position.y},b)}),this},getConstraintLength:function(X){var G=X.pointA.x,z=X.pointA.y,b=X.pointB.x,N=X.pointB.y;return X.bodyA&&(G+=X.bodyA.position.x,z+=X.bodyA.position.y),X.bodyB&&(b+=X.bodyB.position.x,N+=X.bodyB.position.y),c(G,z,b,N)},alignBody:function(X,G,z,b){X=X.hasOwnProperty("body")?X.body:X;var N;switch(b){case h.TOP_LEFT:case h.LEFT_TOP:N=this.bodyBounds.getTopLeft(X,G,z);break;case h.TOP_CENTER:N=this.bodyBounds.getTopCenter(X,G,z);break;case h.TOP_RIGHT:case h.RIGHT_TOP:N=this.bodyBounds.getTopRight(X,G,z);break;case h.LEFT_CENTER:N=this.bodyBounds.getLeftCenter(X,G,z);break;case h.CENTER:N=this.bodyBounds.getCenter(X,G,z);break;case h.RIGHT_CENTER:N=this.bodyBounds.getRightCenter(X,G,z);break;case h.LEFT_BOTTOM:case h.BOTTOM_LEFT:N=this.bodyBounds.getBottomLeft(X,G,z);break;case h.BOTTOM_CENTER:N=this.bodyBounds.getBottomCenter(X,G,z);break;case h.BOTTOM_RIGHT:case h.RIGHT_BOTTOM:N=this.bodyBounds.getBottomRight(X,G,z);break}return N&&n.setPosition(X,N),this},shutdown:function(){var X=this.systems.events;this.world&&(X.off(M.UPDATE,this.world.update,this.world),X.off(M.POST_UPDATE,this.world.postUpdate,this.world)),X.off(M.SHUTDOWN,this.shutdown,this),this.add&&this.add.destroy(),this.world&&this.world.destroy(),this.add=null,this.world=null},destroy:function(){this.shutdown(),this.scene.sys.events.off(M.START,this.start,this),this.scene=null,this.systems=null}});L.register("MatterPhysics",H,"matterPhysics"),v.exports=H},34803:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(9674),p=t(83419),a=t(31884),n=t(95643),r=t(95540),e=t(72699),s=t(68287),o=t(26099),i=new p({Extends:s,Mixins:[a.Bounce,a.Collision,a.Force,a.Friction,a.Gravity,a.Mass,a.Sensor,a.SetBody,a.Sleep,a.Static,a.Transform,a.Velocity,e],initialize:function(u,f,d,c,m,g){n.call(this,u.scene,"Sprite"),this._crop=this.resetCropObject(),this.anims=new h(this),this.setTexture(c,m),this.setSizeToFrame(),this.setOrigin(),this.world=u,this._tempVec2=new o(f,d);var x=r(g,"shape",null);x?this.setBody(x,g):this.setRectangle(this.width,this.height,g),this.setPosition(f,d),this.initPipeline(),this.initPostPipeline(!0)}});v.exports=i},73834:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(66280),p=t(22562),a=t(83419),n=t(31884),r=t(62644),e=t(50792),s=t(95540),o=t(97022),i=t(41598),l=new a({Extends:e,Mixins:[n.Bounce,n.Collision,n.Friction,n.Gravity,n.Mass,n.Sensor,n.Sleep,n.Static],initialize:function(f,d,c){e.call(this),this.tile=d,this.world=f,d.physics.matterBody&&d.physics.matterBody.destroy(),d.physics.matterBody=this;var m=s(c,"body",null),g=s(c,"addToWorld",!0);if(m)this.setBody(m,g);else{var x=d.getCollisionGroup(),T=s(x,"objects",[]);T.length>0?this.setFromTileCollision(c):this.setFromTileRectangle(c)}if(d.flipX||d.flipY){var S={x:d.getCenterX(),y:d.getCenterY()},P=d.flipX?-1:1,L=d.flipY?-1:1;p.scale(m,P,L,S)}},setFromTileRectangle:function(u){u===void 0&&(u={}),o(u,"isStatic")||(u.isStatic=!0),o(u,"addToWorld")||(u.addToWorld=!0);var f=this.tile.getBounds(),d=f.x+f.width/2,c=f.y+f.height/2,m=h.rectangle(d,c,f.width,f.height,u);return this.setBody(m,u.addToWorld),this},setFromTileCollision:function(u){u===void 0&&(u={}),o(u,"isStatic")||(u.isStatic=!0),o(u,"addToWorld")||(u.addToWorld=!0);for(var f=this.tile.tilemapLayer.scaleX,d=this.tile.tilemapLayer.scaleY,c=this.tile.getLeft(),m=this.tile.getTop(),g=this.tile.getCollisionGroup(),x=s(g,"objects",[]),T=[],S=0;S<x.length;S++){var P=x[S],L=c+P.x*f,I=m+P.y*d,O=P.width*f,M=P.height*d,w=null;if(P.rectangle)w=h.rectangle(L+O/2,I+M/2,O,M,u);else if(P.ellipse)w=h.circle(L+O/2,I+M/2,O/2,u);else if(P.polygon||P.polyline){var D=P.polygon?P.polygon:P.polyline,U=D.map(function(G){return{x:G.x*f,y:G.y*d}}),Y=i.create(U),H=i.centre(Y);L+=H.x,I+=H.y,w=h.fromVertices(L,I,Y,u)}w&&T.push(w)}if(T.length===1)this.setBody(T[0],u.addToWorld);else if(T.length>1){var X=r(u);X.parts=T,this.setBody(p.create(X),X.addToWorld)}return this},setBody:function(u,f){return f===void 0&&(f=!0),this.body&&this.removeBody(),this.body=u,this.body.gameObject=this,f&&this.world.add(this.body),this},removeBody:function(){return this.body&&(this.world.remove(this.body),this.body.gameObject=void 0,this.body=void 0),this},destroy:function(){this.removeBody(),this.tile.physics.matterBody=void 0,this.removeAllListeners()}});v.exports=l},19496:(v,y,t)=>{/**
 * @author       Joachim Grill <joachim@codeandweb.com>
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2018 CodeAndWeb GmbH
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(66280),p=t(22562),a=t(53402),n=t(95540),r=t(41598),e={parseBody:function(s,o,i,l){l===void 0&&(l={});for(var u=n(i,"fixtures",[]),f=[],d=0;d<u.length;d++)for(var c=this.parseFixture(u[d]),m=0;m<c.length;m++)f.push(c[m]);var g=a.clone(i,!0);a.extend(g,l,!0),delete g.fixtures,delete g.type;var x=p.create(g);return p.setParts(x,f),p.setPosition(x,{x:s,y:o}),x},parseFixture:function(s){var o=a.extend({},!1,s);delete o.circle,delete o.vertices;var i;if(s.circle){var l=n(s.circle,"x"),u=n(s.circle,"y"),f=n(s.circle,"radius");i=[h.circle(l,u,f,o)]}else s.vertices&&(i=this.parseVertices(s.vertices,o));return i},parseVertices:function(s,o){o===void 0&&(o={});for(var i=[],l=0;l<s.length;l++)r.clockwiseSort(s[l]),i.push(p.create(a.extend({position:r.centre(s[l]),vertices:s[l]},o)));return h.flagCoincidentParts(i)}};v.exports=e},85791:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(66280),p=t(22562),a={parseBody:function(n,r,e,s){s===void 0&&(s={});var o,i=e.vertices;if(i.length===1)s.vertices=i[0],o=p.create(s),h.flagCoincidentParts(o.parts);else{for(var l=[],u=0;u<i.length;u++){var f=p.create({vertices:i[u]});l.push(f)}h.flagCoincidentParts(l),s.parts=l,o=p.create(s)}return o.label=e.label,p.setPosition(o,{x:n,y:r}),o}};v.exports=a},98713:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(15647),p=t(83419),a=t(69351),n=t(48140),r=t(81388),e=t(1121),s=t(8214),o=t(46975),i=t(53614),l=t(26099),u=t(41598),f=new p({initialize:function(c,m,g){g===void 0&&(g={});var x={label:"Pointer Constraint",pointA:{x:0,y:0},pointB:{x:0,y:0},length:.01,stiffness:.1,angularStiffness:1,collisionFilter:{category:1,mask:4294967295,group:0}};this.scene=c,this.world=m,this.camera=null,this.pointer=null,this.active=!0,this.position=new l,this.body=null,this.part=null,this.constraint=n.create(o(g,x)),this.world.on(e.BEFORE_UPDATE,this.update,this),c.sys.input.on(s.POINTER_DOWN,this.onDown,this),c.sys.input.on(s.POINTER_UP,this.onUp,this)},onDown:function(d){this.pointer||(this.pointer=d,this.camera=d.camera)},onUp:function(d){d===this.pointer&&(this.pointer=null)},getBody:function(d){var c=this.position,m=this.constraint;this.camera.getWorldPoint(d.x,d.y,c);for(var g=a.allBodies(this.world.localWorld),x=0;x<g.length;x++){var T=g[x];if(!T.ignorePointer&&h.contains(T.bounds,c)&&r.canCollide(T.collisionFilter,m.collisionFilter)&&this.hitTestBody(T,c))return this.world.emit(e.DRAG_START,T,this.part,this),!0}return!1},hitTestBody:function(d,c){for(var m=this.constraint,g=d.parts.length,x=g>1?1:0,T=x;T<g;T++){var S=d.parts[T];if(u.contains(S.vertices,c))return m.pointA=c,m.pointB={x:c.x-d.position.x,y:c.y-d.position.y},m.bodyB=d,m.angleB=d.angle,i.set(d,!1),this.part=S,this.body=d,!0}return!1},update:function(){var d=this.pointer,c=this.body;if(!this.active||!d){c&&this.stopDrag();return}if(!d.isDown&&c){this.stopDrag();return}else if(d.isDown){if(!this.camera||!c&&!this.getBody(d))return;c=this.body;var m=this.position,g=this.constraint;this.camera.getWorldPoint(d.x,d.y,m),g.pointA.x=m.x,g.pointA.y=m.y,i.set(c,!1),this.world.emit(e.DRAG,c,this)}},stopDrag:function(){var d=this.body,c=this.constraint;c.bodyB=null,c.pointB=null,this.pointer=null,this.body=null,this.part=null,d&&this.world.emit(e.DRAG_END,d,this)},destroy:function(){this.world.removeConstraint(this.constraint),this.pointer=null,this.constraint=null,this.body=null,this.part=null,this.world.off(e.BEFORE_UPDATE,this.update),this.scene.sys.input.off(s.POINTER_DOWN,this.onDown,this),this.scene.sys.input.off(s.POINTER_UP,this.onUp,this)}});v.exports=f},68243:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(66280),p=t(22562),a=t(83419),n=t(53402),r=t(69351),e=t(48413),s=t(50792),o=t(1121),i=t(95540),l=t(35154),u=t(22562),f=t(35810),d=t(73834),c=t(4372),m=t(13037),g=t(31725),x=new a({Extends:s,initialize:function(S,P){s.call(this),this.scene=S,this.engine=e.create(P),this.localWorld=this.engine.world;var L=l(P,"gravity",null);L?this.setGravity(L.x,L.y,L.scale):L===!1&&this.setGravity(0,0,0),this.walls={left:null,right:null,top:null,bottom:null},this.enabled=l(P,"enabled",!0),this.getDelta=l(P,"getDelta",this.update60Hz);var I=i(P,"runner",{}),O=i(I,"fps",!1),M=i(I,"fps",60),w=i(I,"delta",1e3/M),D=i(I,"deltaMin",1e3/M),U=i(I,"deltaMax",1e3/(M*.5));O||(M=1e3/w),this.runner={fps:M,deltaSampleSize:i(I,"deltaSampleSize",60),counterTimestamp:0,frameCounter:0,deltaHistory:[],timePrev:null,timeScalePrev:1,frameRequestId:null,timeBuffer:0,isFixed:i(I,"isFixed",!1),delta:w,deltaMin:D,deltaMax:U},this.autoUpdate=l(P,"autoUpdate",!0);var Y=l(P,"debug",!1);if(this.drawDebug=typeof Y=="object"?!0:Y,this.debugGraphic,this.debugConfig={showAxes:i(Y,"showAxes",!1),showAngleIndicator:i(Y,"showAngleIndicator",!1),angleColor:i(Y,"angleColor",15208787),showBroadphase:i(Y,"showBroadphase",!1),broadphaseColor:i(Y,"broadphaseColor",16757760),showBounds:i(Y,"showBounds",!1),boundsColor:i(Y,"boundsColor",16777215),showVelocity:i(Y,"showVelocity",!1),velocityColor:i(Y,"velocityColor",44783),showCollisions:i(Y,"showCollisions",!1),collisionColor:i(Y,"collisionColor",16094476),showSeparations:i(Y,"showSeparations",!1),separationColor:i(Y,"separationColor",16753920),showBody:i(Y,"showBody",!0),showStaticBody:i(Y,"showStaticBody",!0),showInternalEdges:i(Y,"showInternalEdges",!1),renderFill:i(Y,"renderFill",!1),renderLine:i(Y,"renderLine",!0),fillColor:i(Y,"fillColor",1075465),fillOpacity:i(Y,"fillOpacity",1),lineColor:i(Y,"lineColor",2678297),lineOpacity:i(Y,"lineOpacity",1),lineThickness:i(Y,"lineThickness",1),staticFillColor:i(Y,"staticFillColor",857979),staticLineColor:i(Y,"staticLineColor",1255396),showSleeping:i(Y,"showSleeping",!1),staticBodySleepOpacity:i(Y,"staticBodySleepOpacity",.7),sleepFillColor:i(Y,"sleepFillColor",4605510),sleepLineColor:i(Y,"sleepLineColor",10066585),showSensors:i(Y,"showSensors",!0),sensorFillColor:i(Y,"sensorFillColor",857979),sensorLineColor:i(Y,"sensorLineColor",1255396),showPositions:i(Y,"showPositions",!0),positionSize:i(Y,"positionSize",4),positionColor:i(Y,"positionColor",14697178),showJoint:i(Y,"showJoint",!0),jointColor:i(Y,"jointColor",14737474),jointLineOpacity:i(Y,"jointLineOpacity",1),jointLineThickness:i(Y,"jointLineThickness",2),pinSize:i(Y,"pinSize",4),pinColor:i(Y,"pinColor",4382944),springColor:i(Y,"springColor",14697184),anchorColor:i(Y,"anchorColor",15724527),anchorSize:i(Y,"anchorSize",4),showConvexHulls:i(Y,"showConvexHulls",!1),hullColor:i(Y,"hullColor",14091216)},this.drawDebug&&this.createDebugGraphic(),this.setEventsProxy(),i(P,"setBounds",!1)){var H=P.setBounds;if(typeof H=="boolean")this.setBounds();else{var X=i(H,"x",0),G=i(H,"y",0),z=i(H,"width",S.sys.scale.width),b=i(H,"height",S.sys.scale.height),N=i(H,"thickness",64),W=i(H,"left",!0),K=i(H,"right",!0),J=i(H,"top",!0),j=i(H,"bottom",!0);this.setBounds(X,G,z,b,N,W,K,J,j)}}},setCompositeRenderStyle:function(T){var S=T.bodies,P=T.constraints,L=T.composites,I,O,M;for(I=0;I<S.length;I++)O=S[I],M=O.render,this.setBodyRenderStyle(O,M.lineColor,M.lineOpacity,M.lineThickness,M.fillColor,M.fillOpacity);for(I=0;I<P.length;I++)O=P[I],M=O.render,this.setConstraintRenderStyle(O,M.lineColor,M.lineOpacity,M.lineThickness,M.pinSize,M.anchorColor,M.anchorSize);for(I=0;I<L.length;I++)O=L[I],this.setCompositeRenderStyle(O);return this},setBodyRenderStyle:function(T,S,P,L,I,O){var M=T.render,w=this.debugConfig;return M?(S==null&&(S=T.isStatic?w.staticLineColor:w.lineColor),P==null&&(P=w.lineOpacity),L==null&&(L=w.lineThickness),I==null&&(I=T.isStatic?w.staticFillColor:w.fillColor),O==null&&(O=w.fillOpacity),S!==!1&&(M.lineColor=S),P!==!1&&(M.lineOpacity=P),L!==!1&&(M.lineThickness=L),I!==!1&&(M.fillColor=I),O!==!1&&(M.fillOpacity=O),this):this},setConstraintRenderStyle:function(T,S,P,L,I,O,M){var w=T.render,D=this.debugConfig;if(!w)return this;if(S==null){var U=w.type;U==="line"?S=D.jointColor:U==="pin"?S=D.pinColor:U==="spring"&&(S=D.springColor)}return P==null&&(P=D.jointLineOpacity),L==null&&(L=D.jointLineThickness),I==null&&(I=D.pinSize),O==null&&(O=D.anchorColor),M==null&&(M=D.anchorSize),S!==!1&&(w.lineColor=S),P!==!1&&(w.lineOpacity=P),L!==!1&&(w.lineThickness=L),I!==!1&&(w.pinSize=I),O!==!1&&(w.anchorColor=O),M!==!1&&(w.anchorSize=M),this},setEventsProxy:function(){var T=this,S=this.engine,P=this.localWorld;this.drawDebug&&(f.on(P,"compositeModified",function(L){T.setCompositeRenderStyle(L)}),f.on(P,"beforeAdd",function(L){for(var I=[].concat(L.object),O=0;O<I.length;O++){var M=I[O],w=M.render;M.type==="body"?T.setBodyRenderStyle(M,w.lineColor,w.lineOpacity,w.lineThickness,w.fillColor,w.fillOpacity):M.type==="composite"?T.setCompositeRenderStyle(M):M.type==="constraint"&&T.setConstraintRenderStyle(M,w.lineColor,w.lineOpacity,w.lineThickness,w.pinSize,w.anchorColor,w.anchorSize)}})),f.on(P,"beforeAdd",function(L){T.emit(o.BEFORE_ADD,L)}),f.on(P,"afterAdd",function(L){T.emit(o.AFTER_ADD,L)}),f.on(P,"beforeRemove",function(L){T.emit(o.BEFORE_REMOVE,L)}),f.on(P,"afterRemove",function(L){T.emit(o.AFTER_REMOVE,L)}),f.on(S,"beforeUpdate",function(L){T.emit(o.BEFORE_UPDATE,L)}),f.on(S,"afterUpdate",function(L){T.emit(o.AFTER_UPDATE,L)}),f.on(S,"collisionStart",function(L){var I=L.pairs,O,M;I.length>0&&I.map(function(w){O=w.bodyA,M=w.bodyB,O.gameObject&&O.gameObject.emit("collide",O,M,w),M.gameObject&&M.gameObject.emit("collide",M,O,w),f.trigger(O,"onCollide",{pair:w}),f.trigger(M,"onCollide",{pair:w}),O.onCollideCallback&&O.onCollideCallback(w),M.onCollideCallback&&M.onCollideCallback(w),O.onCollideWith[M.id]&&O.onCollideWith[M.id](M,w),M.onCollideWith[O.id]&&M.onCollideWith[O.id](O,w)}),T.emit(o.COLLISION_START,L,O,M)}),f.on(S,"collisionActive",function(L){var I=L.pairs,O,M;I.length>0&&I.map(function(w){O=w.bodyA,M=w.bodyB,O.gameObject&&O.gameObject.emit("collideActive",O,M,w),M.gameObject&&M.gameObject.emit("collideActive",M,O,w),f.trigger(O,"onCollideActive",{pair:w}),f.trigger(M,"onCollideActive",{pair:w}),O.onCollideActiveCallback&&O.onCollideActiveCallback(w),M.onCollideActiveCallback&&M.onCollideActiveCallback(w)}),T.emit(o.COLLISION_ACTIVE,L,O,M)}),f.on(S,"collisionEnd",function(L){var I=L.pairs,O,M;I.length>0&&I.map(function(w){O=w.bodyA,M=w.bodyB,O.gameObject&&O.gameObject.emit("collideEnd",O,M,w),M.gameObject&&M.gameObject.emit("collideEnd",M,O,w),f.trigger(O,"onCollideEnd",{pair:w}),f.trigger(M,"onCollideEnd",{pair:w}),O.onCollideEndCallback&&O.onCollideEndCallback(w),M.onCollideEndCallback&&M.onCollideEndCallback(w)}),T.emit(o.COLLISION_END,L,O,M)})},setBounds:function(T,S,P,L,I,O,M,w,D){return T===void 0&&(T=0),S===void 0&&(S=0),P===void 0&&(P=this.scene.sys.scale.width),L===void 0&&(L=this.scene.sys.scale.height),I===void 0&&(I=64),O===void 0&&(O=!0),M===void 0&&(M=!0),w===void 0&&(w=!0),D===void 0&&(D=!0),this.updateWall(O,"left",T-I,S-I,I,L+I*2),this.updateWall(M,"right",T+P,S-I,I,L+I*2),this.updateWall(w,"top",T,S-I,P,I),this.updateWall(D,"bottom",T,S+L,P,I),this},updateWall:function(T,S,P,L,I,O){var M=this.walls[S];T?(M&&c.remove(this.localWorld,M),P+=I/2,L+=O/2,this.walls[S]=this.create(P,L,I,O,{isStatic:!0,friction:0,frictionStatic:0})):(M&&c.remove(this.localWorld,M),this.walls[S]=null)},createDebugGraphic:function(){var T=this.scene.sys.add.graphics({x:0,y:0});return T.setDepth(Number.MAX_VALUE),this.debugGraphic=T,this.drawDebug=!0,T},disableGravity:function(){return this.localWorld.gravity.x=0,this.localWorld.gravity.y=0,this.localWorld.gravity.scale=0,this},setGravity:function(T,S,P){return T===void 0&&(T=0),S===void 0&&(S=1),P===void 0&&(P=.001),this.localWorld.gravity.x=T,this.localWorld.gravity.y=S,this.localWorld.gravity.scale=P,this},create:function(T,S,P,L,I){var O=h.rectangle(T,S,P,L,I);return c.add(this.localWorld,O),O},add:function(T){return c.add(this.localWorld,T),this},remove:function(T,S){Array.isArray(T)||(T=[T]);for(var P=0;P<T.length;P++){var L=T[P],I=L.body?L.body:L;r.remove(this.localWorld,I,S)}return this},removeConstraint:function(T,S){return r.remove(this.localWorld,T,S),this},convertTilemapLayer:function(T,S){var P=T.layer,L=T.getTilesWithin(0,0,P.width,P.height,{isColliding:!0});return this.convertTiles(L,S),this},convertTiles:function(T,S){if(T.length===0)return this;for(var P=0;P<T.length;P++)new d(this,T[P],S);return this},nextGroup:function(T){return u.nextGroup(T)},nextCategory:function(){return u.nextCategory()},pause:function(){return this.enabled=!1,this.emit(o.PAUSE),this},resume:function(){return this.enabled=!0,this.runner.timeLastTick=n.now(),this.emit(o.RESUME),this},update:function(T){if(!(!this.enabled||!this.autoUpdate)){var S=this.engine,P=this.runner,L=n.now(),I=P.delta,O=0,M=T-P.timeLastTick;if((!M||!P.timeLastTick||M>Math.max(m._maxFrameDelta,P.maxFrameTime))&&(M=P.frameDelta||m._frameDeltaFallback),P.frameDeltaSmoothing){P.frameDeltaHistory.push(M),P.frameDeltaHistory=P.frameDeltaHistory.slice(-P.frameDeltaHistorySize);var w=P.frameDeltaHistory.slice(0).sort(),D=P.frameDeltaHistory.slice(w.length*m._smoothingLowerBound,w.length*m._smoothingUpperBound),U=m._mean(D);M=U||M}P.frameDeltaSnapping&&(M=1e3/Math.round(1e3/M)),P.frameDelta=M,P.timeLastTick=T,P.timeBuffer+=P.frameDelta,P.timeBuffer=n.clamp(P.timeBuffer,0,P.frameDelta+I*m._timeBufferMargin),P.lastUpdatesDeferred=0;for(var Y=P.maxUpdates||Math.ceil(P.maxFrameTime/I),H=n.now();I>0&&P.timeBuffer>=I*m._timeBufferMargin;){e.update(S,I),P.timeBuffer-=I,O+=1;var X=n.now()-L,G=n.now()-H,z=X+m._elapsedNextEstimate*G/O;if(O>=Y||z>P.maxFrameTime){P.lastUpdatesDeferred=Math.round(Math.max(0,P.timeBuffer/I-m._timeBufferMargin));break}}}},step:function(T){e.update(this.engine,T)},update60Hz:function(){return 1e3/60},update30Hz:function(){return 1e3/30},has:function(T){var S=T.hasOwnProperty("body")?T.body:T;return r.get(this.localWorld,S.id,S.type)!==null},getAllBodies:function(){return r.allBodies(this.localWorld)},getAllConstraints:function(){return r.allConstraints(this.localWorld)},getAllComposites:function(){return r.allComposites(this.localWorld)},postUpdate:function(){if(this.drawDebug){var T=this.debugConfig,S=this.engine,P=this.debugGraphic,L=r.allBodies(this.localWorld);this.debugGraphic.clear(),T.showBroadphase&&S.broadphase.controller&&this.renderGrid(S.broadphase,P,T.broadphaseColor,.5),T.showBounds&&this.renderBodyBounds(L,P,T.boundsColor,.5),(T.showBody||T.showStaticBody)&&this.renderBodies(L),T.showJoint&&this.renderJoints(),(T.showAxes||T.showAngleIndicator)&&this.renderBodyAxes(L,P,T.showAxes,T.angleColor,.5),T.showVelocity&&this.renderBodyVelocity(L,P,T.velocityColor,1,2),T.showSeparations&&this.renderSeparations(S.pairs.list,P,T.separationColor),T.showCollisions&&this.renderCollisions(S.pairs.list,P,T.collisionColor)}},renderGrid:function(T,S,P,L){S.lineStyle(1,P,L);for(var I=n.keys(T.buckets),O=0;O<I.length;O++){var M=I[O];if(!(T.buckets[M].length<2)){var w=M.split(/C|R/);S.strokeRect(parseInt(w[1],10)*T.bucketWidth,parseInt(w[2],10)*T.bucketHeight,T.bucketWidth,T.bucketHeight)}}return this},renderSeparations:function(T,S,P){S.lineStyle(1,P,1);for(var L=0;L<T.length;L++){var I=T[L];if(I.isActive){var O=I.collision,M=O.bodyA,w=O.bodyB,D=M.position,U=w.position,Y=O.penetration,H=!M.isStatic&&!w.isStatic?4:1;w.isStatic&&(H=0),S.lineBetween(U.x,U.y,U.x-Y.x*H,U.y-Y.y*H),H=!M.isStatic&&!w.isStatic?4:1,M.isStatic&&(H=0),S.lineBetween(D.x,D.y,D.x-Y.x*H,D.y-Y.y*H)}}return this},renderCollisions:function(T,S,P){S.lineStyle(1,P,.5),S.fillStyle(P,1);var L,I;for(L=0;L<T.length;L++)if(I=T[L],!!I.isActive)for(var O=0;O<I.contactCount;O++){var M=I.contacts[O],w=M.vertex;w&&S.fillRect(w.x-2,w.y-2,5,5)}for(L=0;L<T.length;L++)if(I=T[L],!!I.isActive){var D=I.collision,U=I.contacts;if(I.contactCount>0){var Y=U[0].vertex.x,H=U[0].vertex.y;I.contactCount===2&&(Y=(U[0].vertex.x+U[1].vertex.x)/2,H=(U[0].vertex.y+U[1].vertex.y)/2),D.bodyB===D.supports[0].body||D.bodyA.isStatic?S.lineBetween(Y-D.normal.x*8,H-D.normal.y*8,Y,H):S.lineBetween(Y+D.normal.x*8,H+D.normal.y*8,Y,H)}}return this},renderBodyBounds:function(T,S,P,L){S.lineStyle(1,P,L);for(var I=0;I<T.length;I++){var O=T[I];if(O.render.visible){var M=O.bounds;if(M)S.strokeRect(M.min.x,M.min.y,M.max.x-M.min.x,M.max.y-M.min.y);else for(var w=O.parts,D=w.length>1?1:0;D<w.length;D++){var U=w[D];S.strokeRect(U.bounds.min.x,U.bounds.min.y,U.bounds.max.x-U.bounds.min.x,U.bounds.max.y-U.bounds.min.y)}}}return this},renderBodyAxes:function(T,S,P,L,I){S.lineStyle(1,L,I);for(var O=0;O<T.length;O++){var M=T[O],w=M.parts;if(M.render.visible){var D,U,Y;if(P)for(U=w.length>1?1:0;U<w.length;U++)for(D=w[U],Y=0;Y<D.axes.length;Y++){var H=D.axes[Y];S.lineBetween(D.position.x,D.position.y,D.position.x+H.x*20,D.position.y+H.y*20)}else for(U=w.length>1?1:0;U<w.length;U++)for(D=w[U],Y=0;Y<D.axes.length;Y++)S.lineBetween(D.position.x,D.position.y,(D.vertices[0].x+D.vertices[D.vertices.length-1].x)/2,(D.vertices[0].y+D.vertices[D.vertices.length-1].y)/2)}}return this},renderBodyVelocity:function(T,S,P,L,I){S.lineStyle(I,P,L);for(var O=0;O<T.length;O++){var M=T[O];M.render.visible&&S.lineBetween(M.position.x,M.position.y,M.position.x+(M.position.x-M.positionPrev.x)*2,M.position.y+(M.position.y-M.positionPrev.y)*2)}return this},renderBodies:function(T){for(var S=this.debugGraphic,P=this.debugConfig,L=P.showBody,I=P.showStaticBody,O=P.showSleeping,M=P.showInternalEdges,w=P.showConvexHulls,D=P.renderFill,U=P.renderLine,Y=P.staticBodySleepOpacity,H=P.sleepFillColor,X=P.sleepLineColor,G=P.hullColor,z=0;z<T.length;z++){var b=T[z];if(b.render.visible&&!(!I&&b.isStatic||!L&&!b.isStatic)){var N=b.render.lineColor,W=b.render.lineOpacity,K=b.render.lineThickness,J=b.render.fillColor,j=b.render.fillOpacity;O&&b.isSleeping&&(b.isStatic?(W*=Y,j*=Y):(N=X,J=H)),D||(J=null),U||(N=null),this.renderBody(b,S,M,N,W,K,J,j);var Z=b.parts.length;w&&Z>1&&this.renderConvexHull(b,S,G,K)}}},renderBody:function(T,S,P,L,I,O,M,w){L===void 0&&(L=null),I===void 0&&(I=null),O===void 0&&(O=1),M===void 0&&(M=null),w===void 0&&(w=null);for(var D=this.debugConfig,U=D.sensorFillColor,Y=D.sensorLineColor,H=T.parts,X=H.length,G=X>1?1:0;G<X;G++){var z=H[G],b=z.render,N=b.opacity;if(!(!b.visible||N===0||z.isSensor&&!D.showSensors)){var W=z.circleRadius;if(S.beginPath(),z.isSensor?(M!==null&&S.fillStyle(U,w*N),L!==null&&S.lineStyle(O,Y,I*N)):(M!==null&&S.fillStyle(M,w*N),L!==null&&S.lineStyle(O,L,I*N)),W)S.arc(z.position.x,z.position.y,W,0,2*Math.PI);else{var K=z.vertices,J=K.length;S.moveTo(K[0].x,K[0].y);for(var j=1;j<J;j++){var Z=K[j];if(!K[j-1].isInternal||P?S.lineTo(Z.x,Z.y):S.moveTo(Z.x,Z.y),j<J&&Z.isInternal&&!P){var q=(j+1)%J;S.moveTo(K[q].x,K[q].y)}}S.closePath()}M!==null&&S.fillPath(),L!==null&&S.strokePath()}}if(D.showPositions&&!T.isStatic){var _=T.position.x,tt=T.position.y,et=Math.ceil(D.positionSize/2);S.fillStyle(D.positionColor,1),S.fillRect(_-et,tt-et,D.positionSize,D.positionSize)}return this},renderConvexHull:function(T,S,P,L){L===void 0&&(L=1);var I=T.parts,O=I.length;if(O>1){var M=T.vertices;S.lineStyle(L,P),S.beginPath(),S.moveTo(M[0].x,M[0].y);for(var w=1;w<M.length;w++)S.lineTo(M[w].x,M[w].y);S.lineTo(M[0].x,M[0].y),S.strokePath()}return this},renderJoints:function(){for(var T=this.debugGraphic,S=r.allConstraints(this.localWorld),P=0;P<S.length;P++){var L=S[P].render,I=L.lineColor,O=L.lineOpacity,M=L.lineThickness,w=L.pinSize,D=L.anchorColor,U=L.anchorSize;this.renderConstraint(S[P],T,I,O,M,w,D,U)}},renderConstraint:function(T,S,P,L,I,O,M,w){var D=T.render;if(!D.visible||!T.pointA||!T.pointB)return this;S.lineStyle(I,P,L);var U=T.bodyA,Y=T.bodyB,H,X;if(U?H=g.add(U.position,T.pointA):H=T.pointA,D.type==="pin")S.strokeCircle(H.x,H.y,O);else{if(Y?X=g.add(Y.position,T.pointB):X=T.pointB,S.beginPath(),S.moveTo(H.x,H.y),D.type==="spring")for(var G=g.sub(X,H),z=g.perp(g.normalise(G)),b=Math.ceil(n.clamp(T.length/5,12,20)),N,W=1;W<b;W+=1)N=W%2===0?1:-1,S.lineTo(H.x+G.x*(W/b)+z.x*N*4,H.y+G.y*(W/b)+z.y*N*4);S.lineTo(X.x,X.y)}return S.strokePath(),D.anchors&&w>0&&(S.fillStyle(M),S.fillCircle(H.x,H.y,w),S.fillCircle(X.x,X.y,w)),this},resetCollisionIDs:function(){return p._nextCollidingGroupId=1,p._nextNonCollidingGroupId=-1,p._nextCategory=1,this},shutdown:function(){f.off(this.engine),this.removeAllListeners(),c.clear(this.localWorld,!1),e.clear(this.engine),this.drawDebug&&this.debugGraphic.destroy()},destroy:function(){this.shutdown()}});v.exports=x},70410:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={setBounce:function(t){return this.body.restitution=t,this}};v.exports=y},66968:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={setCollisionCategory:function(t){return this.body.collisionFilter.category=t,this},setCollisionGroup:function(t){return this.body.collisionFilter.group=t,this},setCollidesWith:function(t){var h=0;if(!Array.isArray(t))h=t;else for(var p=0;p<t.length;p++)h|=t[p];return this.body.collisionFilter.mask=h,this},setOnCollide:function(t){return this.body.onCollideCallback=t,this},setOnCollideEnd:function(t){return this.body.onCollideEndCallback=t,this},setOnCollideActive:function(t){return this.body.onCollideActiveCallback=t,this},setOnCollideWith:function(t,h){Array.isArray(t)||(t=[t]);for(var p=0;p<t.length;p++){var a=t[p].hasOwnProperty("body")?t[p].body:t[p];this.body.setOnCollideWith(a,h)}return this}};v.exports=y},51607:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(22562),p={applyForce:function(a){return this._tempVec2.set(this.body.position.x,this.body.position.y),h.applyForce(this.body,this._tempVec2,a),this},applyForceFrom:function(a,n){return h.applyForce(this.body,a,n),this},thrust:function(a){var n=this.body.angle;return this._tempVec2.set(a*Math.cos(n),a*Math.sin(n)),h.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this},thrustLeft:function(a){var n=this.body.angle-Math.PI/2;return this._tempVec2.set(a*Math.cos(n),a*Math.sin(n)),h.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this},thrustRight:function(a){var n=this.body.angle+Math.PI/2;return this._tempVec2.set(a*Math.cos(n),a*Math.sin(n)),h.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this},thrustBack:function(a){var n=this.body.angle-Math.PI;return this._tempVec2.set(a*Math.cos(n),a*Math.sin(n)),h.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this}};v.exports=p},5436:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={setFriction:function(t,h,p){return this.body.friction=t,h!==void 0&&(this.body.frictionAir=h),p!==void 0&&(this.body.frictionStatic=p),this},setFrictionAir:function(t){return this.body.frictionAir=t,this},setFrictionStatic:function(t){return this.body.frictionStatic=t,this}};v.exports=y},39858:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={setIgnoreGravity:function(t){return this.body.ignoreGravity=t,this}};v.exports=y},37302:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(22562),p=t(26099),a={setMass:function(n){return h.setMass(this.body,n),this},setDensity:function(n){return h.setDensity(this.body,n),this},centerOfMass:{get:function(){return new p(this.body.centerOfMass.x,this.body.centerOfMass.y)}}};v.exports=a},39132:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={setSensor:function(t){return this.body.isSensor=t,this},isSensor:function(){return this.body.isSensor}};v.exports=y},57772:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(66280),p=t(22562),a=t(43855),n=t(95540),r=t(19496),e=t(85791),s=t(41598),o={setRectangle:function(i,l,u){return this.setBody({type:"rectangle",width:i,height:l},u)},setCircle:function(i,l){return this.setBody({type:"circle",radius:i},l)},setPolygon:function(i,l,u){return this.setBody({type:"polygon",sides:l,radius:i},u)},setTrapezoid:function(i,l,u,f){return this.setBody({type:"trapezoid",width:i,height:l,slope:u},f)},setExistingBody:function(i,l){l===void 0&&(l=!0),this.body&&this.world.remove(this.body,!0),this.body=i;for(var u=0;u<i.parts.length;u++)i.parts[u].gameObject=this;var f=this;if(i.destroy=function(){f.world.remove(f.body,!0),f.body.gameObject=null},l&&(this.world.has(i)&&this.world.remove(i,!0),this.world.add(i)),this._originComponent){var d=i.render.sprite.xOffset,c=i.render.sprite.yOffset,m=i.centerOfMass.x,g=i.centerOfMass.y;if(a(m,.5)&&a(g,.5))this.setOrigin(d+.5,c+.5);else{var x=i.centerOffset.x,T=i.centerOffset.y;this.setOrigin(d+x/this.displayWidth,c+T/this.displayHeight)}}return this},setBody:function(i,l){if(!i)return this;var u;typeof i=="string"&&(i={type:i});var f=n(i,"type","rectangle"),d=n(i,"x",this._tempVec2.x),c=n(i,"y",this._tempVec2.y),m=n(i,"width",this.width),g=n(i,"height",this.height);switch(f){case"rectangle":u=h.rectangle(d,c,m,g,l);break;case"circle":var x=n(i,"radius",Math.max(m,g)/2),T=n(i,"maxSides",25);u=h.circle(d,c,x,l,T);break;case"trapezoid":var S=n(i,"slope",.5);u=h.trapezoid(d,c,m,g,S,l);break;case"polygon":var P=n(i,"sides",5),L=n(i,"radius",Math.max(m,g)/2);u=h.polygon(d,c,P,L,l);break;case"fromVertices":case"fromVerts":var I=n(i,"verts",null);if(I)if(typeof I=="string"&&(I=s.fromPath(I)),this.body&&!this.body.hasOwnProperty("temp"))p.setVertices(this.body,I),u=this.body;else{var O=n(i,"flagInternal",!1),M=n(i,"removeCollinear",.01),w=n(i,"minimumArea",10);u=h.fromVertices(d,c,I,l,O,M,w)}break;case"fromPhysicsEditor":u=r.parseBody(d,c,i,l);break;case"fromPhysicsTracer":u=e.parseBody(d,c,i,l);break}return u&&this.setExistingBody(u,i.addToWorld),this}};v.exports=o},38083:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(1121),p=t(53614),a=t(35810),n={setToSleep:function(){return p.set(this.body,!0),this},setAwake:function(){return p.set(this.body,!1),this},setSleepThreshold:function(r){return r===void 0&&(r=60),this.body.sleepThreshold=r,this},setSleepEvents:function(r,e){return this.setSleepStartEvent(r),this.setSleepEndEvent(e),this},setSleepStartEvent:function(r){if(r){var e=this.world;a.on(this.body,"sleepStart",function(s){e.emit(h.SLEEP_START,s,this)})}else a.off(this.body,"sleepStart");return this},setSleepEndEvent:function(r){if(r){var e=this.world;a.on(this.body,"sleepEnd",function(s){e.emit(h.SLEEP_END,s,this)})}else a.off(this.body,"sleepEnd");return this}};v.exports=n},90556:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(22562),p={setStatic:function(a){return h.setStatic(this.body,a),this},isStatic:function(){return this.body.isStatic}};v.exports=p},85436:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(22562),p=t(36383),a=t(86554),n=t(30954),r=4,e={x:{get:function(){return this.body.position.x},set:function(s){this._tempVec2.set(s,this.y),h.setPosition(this.body,this._tempVec2)}},y:{get:function(){return this.body.position.y},set:function(s){this._tempVec2.set(this.x,s),h.setPosition(this.body,this._tempVec2)}},scaleX:{get:function(){return this._scaleX},set:function(s){var o=1/this._scaleX,i=1/this._scaleY;this._scaleX=s,this._scaleX===0?this.renderFlags&=~r:this.renderFlags|=r,h.scale(this.body,o,i),h.scale(this.body,s,this._scaleY)}},scaleY:{get:function(){return this._scaleY},set:function(s){var o=1/this._scaleX,i=1/this._scaleY;this._scaleY=s,this._scaleY===0?this.renderFlags&=~r:this.renderFlags|=r,h.scale(this.body,o,i),h.scale(this.body,this._scaleX,s)}},angle:{get:function(){return n(this.body.angle*p.RAD_TO_DEG)},set:function(s){this.rotation=n(s)*p.DEG_TO_RAD}},rotation:{get:function(){return this.body.angle},set:function(s){this._rotation=a(s),h.setAngle(this.body,this._rotation)}},setPosition:function(s,o){return s===void 0&&(s=0),o===void 0&&(o=s),this._tempVec2.set(s,o),h.setPosition(this.body,this._tempVec2),this},setRotation:function(s){return s===void 0&&(s=0),this._rotation=a(s),h.setAngle(this.body,s),this},setFixedRotation:function(){return h.setInertia(this.body,1/0),this},setAngle:function(s){return s===void 0&&(s=0),this.angle=s,h.setAngle(this.body,this.rotation),this},setScale:function(s,o,i){s===void 0&&(s=1),o===void 0&&(o=s);var l=1/this._scaleX,u=1/this._scaleY;return this._scaleX=s,this._scaleY=o,h.scale(this.body,l,u,i),h.scale(this.body,s,o,i),this}};v.exports=e},42081:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(22562),p={setVelocityX:function(a){return this._tempVec2.set(a,this.body.velocity.y),h.setVelocity(this.body,this._tempVec2),this},setVelocityY:function(a){return this._tempVec2.set(this.body.velocity.x,a),h.setVelocity(this.body,this._tempVec2),this},setVelocity:function(a,n){return this._tempVec2.set(a,n),h.setVelocity(this.body,this._tempVec2),this},getVelocity:function(){return h.getVelocity(this.body)},setAngularVelocity:function(a){return h.setAngularVelocity(this.body,a),this},getAngularVelocity:function(){return h.getAngularVelocity(this.body)},setAngularSpeed:function(a){return h.setAngularSpeed(this.body,a),this},getAngularSpeed:function(){return h.getAngularSpeed(this.body)}};v.exports=p},31884:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={Bounce:t(70410),Collision:t(66968),Force:t(51607),Friction:t(5436),Gravity:t(39858),Mass:t(37302),Sensor:t(39132),SetBody:t(57772),Sleep:t(38083),Static:t(90556),Transform:t(85436),Velocity:t(42081)}},85608:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="afteradd"},1213:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="afterremove"},25968:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="afterupdate"},67205:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="beforeadd"},39438:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="beforeremove"},44823:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="beforeupdate"},92593:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="collisionactive"},60128:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="collisionend"},76861:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="collisionstart"},92362:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="dragend"},76408:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="drag"},93971:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="dragstart"},5656:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="pause"},47861:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="resume"},79099:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="sleepend"},35906:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="sleepstart"},1121:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={AFTER_ADD:t(85608),AFTER_REMOVE:t(1213),AFTER_UPDATE:t(25968),BEFORE_ADD:t(67205),BEFORE_REMOVE:t(39438),BEFORE_UPDATE:t(44823),COLLISION_ACTIVE:t(92593),COLLISION_END:t(60128),COLLISION_START:t(76861),DRAG_END:t(92362),DRAG:t(76408),DRAG_START:t(93971),PAUSE:t(5656),RESUME:t(47861),SLEEP_END:t(79099),SLEEP_START:t(35906)}},3875:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={BodyBounds:t(68174),Components:t(31884),Events:t(1121),Factory:t(28137),MatterGameObject:t(75803),Image:t(23181),Matter:t(19933),MatterPhysics:t(42045),PolyDecomp:t(55973),Sprite:t(34803),TileBody:t(73834),PhysicsEditorParser:t(19496),PhysicsJSONParser:t(85791),PointerConstraint:t(98713),World:t(68243)}},22562:(v,y,t)=>{var h={};v.exports=h;var p=t(41598),a=t(31725),n=t(53614),r=t(53402),e=t(15647),s=t(66615);(function(){h._timeCorrection=!0,h._inertiaScale=4,h._nextCollidingGroupId=1,h._nextNonCollidingGroupId=-1,h._nextCategory=1,h._baseDelta=16.666666666666668,h.create=function(i){var l={id:r.nextId(),type:"body",label:"Body",parts:[],plugin:{},attractors:i.attractors||[],wrapBounds:null,angle:0,vertices:null,position:{x:0,y:0},force:{x:0,y:0},torque:0,positionImpulse:{x:0,y:0},constraintImpulse:{x:0,y:0,angle:0},totalContacts:0,speed:0,angularSpeed:0,velocity:{x:0,y:0},angularVelocity:0,isSensor:!1,isStatic:!1,isSleeping:!1,motion:0,sleepThreshold:60,density:.001,restitution:0,friction:.1,frictionStatic:.5,frictionAir:.01,collisionFilter:{category:1,mask:4294967295,group:0},slop:.05,timeScale:1,events:null,bounds:null,chamfer:null,circleRadius:0,positionPrev:null,anglePrev:0,parent:null,axes:null,area:0,mass:0,inverseMass:0,inertia:0,deltaTime:16.666666666666668,inverseInertia:0,_original:null,render:{visible:!0,opacity:1,sprite:{xOffset:0,yOffset:0},fillColor:null,fillOpacity:null,lineColor:null,lineOpacity:null,lineThickness:null},gameObject:null,scale:{x:1,y:1},centerOfMass:{x:0,y:0},centerOffset:{x:0,y:0},gravityScale:{x:1,y:1},ignoreGravity:!1,ignorePointer:!1,onCollideCallback:null,onCollideEndCallback:null,onCollideActiveCallback:null,onCollideWith:{}};!i.hasOwnProperty("position")&&i.hasOwnProperty("vertices")?i.position=p.centre(i.vertices):i.hasOwnProperty("vertices")||(l.vertices=p.fromPath("L 0 0 L 40 0 L 40 40 L 0 40"));var u=r.extend(l,i);return o(u,i),u.setOnCollideWith=function(f,d){return d?this.onCollideWith[f.id]=d:delete this.onCollideWith[f.id],this},u},h.nextGroup=function(i){return i?h._nextNonCollidingGroupId--:h._nextCollidingGroupId++},h.nextCategory=function(){return h._nextCategory=h._nextCategory<<1,h._nextCategory};var o=function(i,l){if(l=l||{},h.set(i,{bounds:i.bounds||e.create(i.vertices),positionPrev:i.positionPrev||a.clone(i.position),anglePrev:i.anglePrev||i.angle,vertices:i.vertices,parts:i.parts||[i],isStatic:i.isStatic,isSleeping:i.isSleeping,parent:i.parent||i}),p.rotate(i.vertices,i.angle,i.position),s.rotate(i.axes,i.angle),e.update(i.bounds,i.vertices,i.velocity),h.set(i,{axes:l.axes||i.axes,area:l.area||i.area,mass:l.mass||i.mass,inertia:l.inertia||i.inertia}),i.parts.length===1){var u=i.bounds,f=i.centerOfMass,d=i.centerOffset,c=u.max.x-u.min.x,m=u.max.y-u.min.y;f.x=-(u.min.x-i.position.x)/c,f.y=-(u.min.y-i.position.y)/m,d.x=c*f.x,d.y=m*f.y}};h.set=function(i,l,u){var f;typeof l=="string"&&(f=l,l={},l[f]=u);for(f in l)if(Object.prototype.hasOwnProperty.call(l,f))switch(u=l[f],f){case"isStatic":h.setStatic(i,u);break;case"isSleeping":n.set(i,u);break;case"mass":h.setMass(i,u);break;case"density":h.setDensity(i,u);break;case"inertia":h.setInertia(i,u);break;case"vertices":h.setVertices(i,u);break;case"position":h.setPosition(i,u);break;case"angle":h.setAngle(i,u);break;case"velocity":h.setVelocity(i,u);break;case"angularVelocity":h.setAngularVelocity(i,u);break;case"speed":h.setSpeed(i,u);break;case"angularSpeed":h.setAngularSpeed(i,u);break;case"parts":h.setParts(i,u);break;case"centre":h.setCentre(i,u);break;default:i[f]=u}},h.setStatic=function(i,l){for(var u=0;u<i.parts.length;u++){var f=i.parts[u];l?(f.isStatic||(f._original={restitution:f.restitution,friction:f.friction,mass:f.mass,inertia:f.inertia,density:f.density,inverseMass:f.inverseMass,inverseInertia:f.inverseInertia}),f.restitution=0,f.friction=1,f.mass=f.inertia=f.density=1/0,f.inverseMass=f.inverseInertia=0,f.positionPrev.x=f.position.x,f.positionPrev.y=f.position.y,f.anglePrev=f.angle,f.angularVelocity=0,f.speed=0,f.angularSpeed=0,f.motion=0):f._original&&(f.restitution=f._original.restitution,f.friction=f._original.friction,f.mass=f._original.mass,f.inertia=f._original.inertia,f.density=f._original.density,f.inverseMass=f._original.inverseMass,f.inverseInertia=f._original.inverseInertia,f._original=null),f.isStatic=l}},h.setMass=function(i,l){var u=i.inertia/(i.mass/6);i.inertia=u*(l/6),i.inverseInertia=1/i.inertia,i.mass=l,i.inverseMass=1/i.mass,i.density=i.mass/i.area},h.setDensity=function(i,l){h.setMass(i,l*i.area),i.density=l},h.setInertia=function(i,l){i.inertia=l,i.inverseInertia=1/i.inertia},h.setVertices=function(i,l){l[0].body===i?i.vertices=l:i.vertices=p.create(l,i),i.axes=s.fromVertices(i.vertices),i.area=p.area(i.vertices),h.setMass(i,i.density*i.area);var u=p.centre(i.vertices);p.translate(i.vertices,u,-1),h.setInertia(i,h._inertiaScale*p.inertia(i.vertices,i.mass)),p.translate(i.vertices,i.position),e.update(i.bounds,i.vertices,i.velocity)},h.setParts=function(i,l,u){var f;for(l=l.slice(0),i.parts.length=0,i.parts.push(i),i.parent=i,f=0;f<l.length;f++){var d=l[f];d!==i&&(d.parent=i,i.parts.push(d))}if(i.parts.length!==1){if(u=typeof u<"u"?u:!0,u){var c=[];for(f=0;f<l.length;f++)c=c.concat(l[f].vertices);p.clockwiseSort(c);var m=p.hull(c),g=p.centre(m);h.setVertices(i,m),p.translate(i.vertices,g)}var x=h._totalProperties(i),T=x.centre.x,S=x.centre.y,P=i.bounds,L=i.centerOfMass,I=i.centerOffset;e.update(P,i.vertices,i.velocity),L.x=-(P.min.x-T)/(P.max.x-P.min.x),L.y=-(P.min.y-S)/(P.max.y-P.min.y),I.x=T,I.y=S,i.area=x.area,i.parent=i,i.position.x=T,i.position.y=S,i.positionPrev.x=T,i.positionPrev.y=S,h.setMass(i,x.mass),h.setInertia(i,x.inertia),h.setPosition(i,x.centre)}},h.setCentre=function(i,l,u){u?(i.positionPrev.x+=l.x,i.positionPrev.y+=l.y,i.position.x+=l.x,i.position.y+=l.y):(i.positionPrev.x=l.x-(i.position.x-i.positionPrev.x),i.positionPrev.y=l.y-(i.position.y-i.positionPrev.y),i.position.x=l.x,i.position.y=l.y)},h.setPosition=function(i,l,u){var f=a.sub(l,i.position);u?(i.positionPrev.x=i.position.x,i.positionPrev.y=i.position.y,i.velocity.x=f.x,i.velocity.y=f.y,i.speed=a.magnitude(f)):(i.positionPrev.x+=f.x,i.positionPrev.y+=f.y);for(var d=0;d<i.parts.length;d++){var c=i.parts[d];c.position.x+=f.x,c.position.y+=f.y,p.translate(c.vertices,f),e.update(c.bounds,c.vertices,i.velocity)}},h.setAngle=function(i,l,u){var f=l-i.angle;u?(i.anglePrev=i.angle,i.angularVelocity=f,i.angularSpeed=Math.abs(f)):i.anglePrev+=f;for(var d=0;d<i.parts.length;d++){var c=i.parts[d];c.angle+=f,p.rotate(c.vertices,f,i.position),s.rotate(c.axes,f),e.update(c.bounds,c.vertices,i.velocity),d>0&&a.rotateAbout(c.position,f,i.position,c.position)}},h.setVelocity=function(i,l){var u=i.deltaTime/h._baseDelta;i.positionPrev.x=i.position.x-l.x*u,i.positionPrev.y=i.position.y-l.y*u,i.velocity.x=(i.position.x-i.positionPrev.x)/u,i.velocity.y=(i.position.y-i.positionPrev.y)/u,i.speed=a.magnitude(i.velocity)},h.getVelocity=function(i){var l=h._baseDelta/i.deltaTime;return{x:(i.position.x-i.positionPrev.x)*l,y:(i.position.y-i.positionPrev.y)*l}},h.getSpeed=function(i){return a.magnitude(h.getVelocity(i))},h.setSpeed=function(i,l){h.setVelocity(i,a.mult(a.normalise(h.getVelocity(i)),l))},h.setAngularVelocity=function(i,l){var u=i.deltaTime/h._baseDelta;i.anglePrev=i.angle-l*u,i.angularVelocity=(i.angle-i.anglePrev)/u,i.angularSpeed=Math.abs(i.angularVelocity)},h.getAngularVelocity=function(i){return(i.angle-i.anglePrev)*h._baseDelta/i.deltaTime},h.getAngularSpeed=function(i){return Math.abs(h.getAngularVelocity(i))},h.setAngularSpeed=function(i,l){h.setAngularVelocity(i,r.sign(h.getAngularVelocity(i))*l)},h.translate=function(i,l,u){h.setPosition(i,a.add(i.position,l),u)},h.rotate=function(i,l,u,f){if(!u)h.setAngle(i,i.angle+l,f);else{var d=Math.cos(l),c=Math.sin(l),m=i.position.x-u.x,g=i.position.y-u.y;h.setPosition(i,{x:u.x+(m*d-g*c),y:u.y+(m*c+g*d)},f),h.setAngle(i,i.angle+l,f)}},h.scale=function(i,l,u,f){var d=0,c=0;f=f||i.position;for(var m=i.inertia===1/0,g=0;g<i.parts.length;g++){var x=i.parts[g];x.scale.x=l,x.scale.y=u,p.scale(x.vertices,l,u,f),x.axes=s.fromVertices(x.vertices),x.area=p.area(x.vertices),h.setMass(x,i.density*x.area),p.translate(x.vertices,{x:-x.position.x,y:-x.position.y}),h.setInertia(x,h._inertiaScale*p.inertia(x.vertices,x.mass)),p.translate(x.vertices,{x:x.position.x,y:x.position.y}),g>0&&(d+=x.area,c+=x.inertia),x.position.x=f.x+(x.position.x-f.x)*l,x.position.y=f.y+(x.position.y-f.y)*u,e.update(x.bounds,x.vertices,i.velocity)}i.parts.length>1&&(i.area=d,i.isStatic||(h.setMass(i,i.density*d),h.setInertia(i,c))),i.circleRadius&&(l===u?i.circleRadius*=l:i.circleRadius=null),m&&h.setInertia(i,1/0)},h.update=function(i,l){l=(typeof l<"u"?l:16.666666666666668)*i.timeScale;var u=l*l,f=h._timeCorrection?l/(i.deltaTime||l):1,d=1-i.frictionAir*(l/r._baseDelta),c=(i.position.x-i.positionPrev.x)*f,m=(i.position.y-i.positionPrev.y)*f;i.velocity.x=c*d+i.force.x/i.mass*u,i.velocity.y=m*d+i.force.y/i.mass*u,i.positionPrev.x=i.position.x,i.positionPrev.y=i.position.y,i.position.x+=i.velocity.x,i.position.y+=i.velocity.y,i.deltaTime=l,i.angularVelocity=(i.angle-i.anglePrev)*d*f+i.torque/i.inertia*u,i.anglePrev=i.angle,i.angle+=i.angularVelocity,i.speed=a.magnitude(i.velocity),i.angularSpeed=Math.abs(i.angularVelocity);for(var g=0;g<i.parts.length;g++){var x=i.parts[g];p.translate(x.vertices,i.velocity),g>0&&(x.position.x+=i.velocity.x,x.position.y+=i.velocity.y),i.angularVelocity!==0&&(p.rotate(x.vertices,i.angularVelocity,i.position),s.rotate(x.axes,i.angularVelocity),g>0&&a.rotateAbout(x.position,i.angularVelocity,i.position,x.position)),e.update(x.bounds,x.vertices,i.velocity)}},h.updateVelocities=function(i){var l=h._baseDelta/i.deltaTime,u=i.velocity;u.x=(i.position.x-i.positionPrev.x)*l,u.y=(i.position.y-i.positionPrev.y)*l,i.speed=Math.sqrt(u.x*u.x+u.y*u.y),i.angularVelocity=(i.angle-i.anglePrev)*l,i.angularSpeed=Math.abs(i.angularVelocity)},h.applyForce=function(i,l,u){var f={x:l.x-i.position.x,y:l.y-i.position.y};i.force.x+=u.x,i.force.y+=u.y,i.torque+=f.x*u.y-f.y*u.x},h._totalProperties=function(i){for(var l={mass:0,area:0,inertia:0,centre:{x:0,y:0}},u=i.parts.length===1?0:1;u<i.parts.length;u++){var f=i.parts[u],d=f.mass!==1/0?f.mass:1;l.mass+=d,l.area+=f.area,l.inertia+=f.inertia,l.centre=a.add(l.centre,a.mult(f.position,d))}return l.centre=a.div(l.centre,l.mass),l},h.wrap=function(i,l){var u=e.wrap(i.bounds,l);return u&&h.translate(i,u),u}})()},69351:(v,y,t)=>{var h={};v.exports=h;var p=t(35810),a=t(53402),n=t(15647),r=t(22562);(function(){h.create=function(e){return a.extend({id:a.nextId(),type:"composite",parent:null,isModified:!1,bodies:[],constraints:[],composites:[],label:"Composite",plugin:{},wrapBounds:null,cache:{allBodies:null,allConstraints:null,allComposites:null}},e)},h.setModified=function(e,s,o,i){if(p.trigger(e,"compositeModified",e),e.isModified=s,s&&e.cache&&(e.cache.allBodies=null,e.cache.allConstraints=null,e.cache.allComposites=null),o&&e.parent&&h.setModified(e.parent,s,o,i),i)for(var l=0;l<e.composites.length;l++){var u=e.composites[l];h.setModified(u,s,o,i)}},h.add=function(e,s){var o=[].concat(s);p.trigger(e,"beforeAdd",{object:s});for(var i=0;i<o.length;i++){var l=o[i];switch(l.type){case"body":if(l.parent!==l){a.warn("Composite.add: skipped adding a compound body part (you must add its parent instead)");break}h.addBody(e,l);break;case"constraint":h.addConstraint(e,l);break;case"composite":h.addComposite(e,l);break;case"mouseConstraint":h.addConstraint(e,l.constraint);break}}return p.trigger(e,"afterAdd",{object:s}),e},h.remove=function(e,s,o){var i=[].concat(s);p.trigger(e,"beforeRemove",{object:s});for(var l=0;l<i.length;l++){var u=i[l];switch(u.type){case"body":h.removeBody(e,u,o);break;case"constraint":h.removeConstraint(e,u,o);break;case"composite":h.removeComposite(e,u,o);break;case"mouseConstraint":h.removeConstraint(e,u.constraint);break}}return p.trigger(e,"afterRemove",{object:s}),e},h.addComposite=function(e,s){return e.composites.push(s),s.parent=e,h.setModified(e,!0,!0,!1),e},h.removeComposite=function(e,s,o){var i=a.indexOf(e.composites,s);if(i!==-1){var l=h.allBodies(s);h.removeCompositeAt(e,i);for(var u=0;u<l.length;u++)l[u].sleepCounter=0}if(o)for(var u=0;u<e.composites.length;u++)h.removeComposite(e.composites[u],s,!0);return e},h.removeCompositeAt=function(e,s){return e.composites.splice(s,1),h.setModified(e,!0,!0,!1),e},h.addBody=function(e,s){return e.bodies.push(s),h.setModified(e,!0,!0,!1),e},h.removeBody=function(e,s,o){var i=a.indexOf(e.bodies,s);if(i!==-1&&(h.removeBodyAt(e,i),s.sleepCounter=0),o)for(var l=0;l<e.composites.length;l++)h.removeBody(e.composites[l],s,!0);return e},h.removeBodyAt=function(e,s){return e.bodies.splice(s,1),h.setModified(e,!0,!0,!1),e},h.addConstraint=function(e,s){return e.constraints.push(s),h.setModified(e,!0,!0,!1),e},h.removeConstraint=function(e,s,o){var i=a.indexOf(e.constraints,s);if(i!==-1&&h.removeConstraintAt(e,i),o)for(var l=0;l<e.composites.length;l++)h.removeConstraint(e.composites[l],s,!0);return e},h.removeConstraintAt=function(e,s){return e.constraints.splice(s,1),h.setModified(e,!0,!0,!1),e},h.clear=function(e,s,o){if(o)for(var i=0;i<e.composites.length;i++)h.clear(e.composites[i],s,!0);return s?e.bodies=e.bodies.filter(function(l){return l.isStatic}):e.bodies.length=0,e.constraints.length=0,e.composites.length=0,h.setModified(e,!0,!0,!1),e},h.allBodies=function(e){if(e.cache&&e.cache.allBodies)return e.cache.allBodies;for(var s=[].concat(e.bodies),o=0;o<e.composites.length;o++)s=s.concat(h.allBodies(e.composites[o]));return e.cache&&(e.cache.allBodies=s),s},h.allConstraints=function(e){if(e.cache&&e.cache.allConstraints)return e.cache.allConstraints;for(var s=[].concat(e.constraints),o=0;o<e.composites.length;o++)s=s.concat(h.allConstraints(e.composites[o]));return e.cache&&(e.cache.allConstraints=s),s},h.allComposites=function(e){if(e.cache&&e.cache.allComposites)return e.cache.allComposites;for(var s=[].concat(e.composites),o=0;o<e.composites.length;o++)s=s.concat(h.allComposites(e.composites[o]));return e.cache&&(e.cache.allComposites=s),s},h.get=function(e,s,o){var i,l;switch(o){case"body":i=h.allBodies(e);break;case"constraint":i=h.allConstraints(e);break;case"composite":i=h.allComposites(e).concat(e);break}return i?(l=i.filter(function(u){return u.id.toString()===s.toString()}),l.length===0?null:l[0]):null},h.move=function(e,s,o){return h.remove(e,s),h.add(o,s),e},h.rebase=function(e){for(var s=h.allBodies(e).concat(h.allConstraints(e)).concat(h.allComposites(e)),o=0;o<s.length;o++)s[o].id=a.nextId();return e},h.translate=function(e,s,o){for(var i=o?h.allBodies(e):e.bodies,l=0;l<i.length;l++)r.translate(i[l],s);return e},h.rotate=function(e,s,o,i){for(var l=Math.cos(s),u=Math.sin(s),f=i?h.allBodies(e):e.bodies,d=0;d<f.length;d++){var c=f[d],m=c.position.x-o.x,g=c.position.y-o.y;r.setPosition(c,{x:o.x+(m*l-g*u),y:o.y+(m*u+g*l)}),r.rotate(c,s)}return e},h.scale=function(e,s,o,i,l){for(var u=l?h.allBodies(e):e.bodies,f=0;f<u.length;f++){var d=u[f],c=d.position.x-i.x,m=d.position.y-i.y;r.setPosition(d,{x:i.x+c*s,y:i.y+m*o}),r.scale(d,s,o)}return e},h.bounds=function(e){for(var s=h.allBodies(e),o=[],i=0;i<s.length;i+=1){var l=s[i];o.push(l.bounds.min,l.bounds.max)}return n.create(o)},h.wrap=function(e,s){var o=n.wrap(h.bounds(e),s);return o&&h.translate(e,o),o}})()},4372:(v,y,t)=>{var h={};v.exports=h;var p=t(69351);(function(){h.create=p.create,h.add=p.add,h.remove=p.remove,h.clear=p.clear,h.addComposite=p.addComposite,h.addBody=p.addBody,h.addConstraint=p.addConstraint})()},52284:(v,y,t)=>{var h={};v.exports=h;var p=t(41598),a=t(4506);(function(){var n=[],r={overlap:0,axis:null},e={overlap:0,axis:null};h.create=function(s,o){return{pair:null,collided:!1,bodyA:s,bodyB:o,parentA:s.parent,parentB:o.parent,depth:0,normal:{x:0,y:0},tangent:{x:0,y:0},penetration:{x:0,y:0},supports:[null,null],supportCount:0}},h.collides=function(s,o,i){if(h._overlapAxes(r,s.vertices,o.vertices,s.axes),r.overlap<=0||(h._overlapAxes(e,o.vertices,s.vertices,o.axes),e.overlap<=0))return null;var l=i&&i.table[a.id(s,o)],u;l?u=l.collision:(u=h.create(s,o),u.collided=!0,u.bodyA=s.id<o.id?s:o,u.bodyB=s.id<o.id?o:s,u.parentA=u.bodyA.parent,u.parentB=u.bodyB.parent),s=u.bodyA,o=u.bodyB;var f;r.overlap<e.overlap?f=r:f=e;var d=u.normal,c=u.tangent,m=u.penetration,g=u.supports,x=f.overlap,T=f.axis,S=T.x,P=T.y,L=o.position.x-s.position.x,I=o.position.y-s.position.y;S*L+P*I>=0&&(S=-S,P=-P),d.x=S,d.y=P,c.x=-P,c.y=S,m.x=S*x,m.y=P*x,u.depth=x;var O=h._findSupports(s,o,d,1),M=0;if(p.contains(s.vertices,O[0])&&(g[M++]=O[0]),p.contains(s.vertices,O[1])&&(g[M++]=O[1]),M<2){var w=h._findSupports(o,s,d,-1);p.contains(o.vertices,w[0])&&(g[M++]=w[0]),M<2&&p.contains(o.vertices,w[1])&&(g[M++]=w[1])}return M===0&&(g[M++]=O[0]),u.supportCount=M,u},h._overlapAxes=function(s,o,i,l){var u=o.length,f=i.length,d=o[0].x,c=o[0].y,m=i[0].x,g=i[0].y,x=l.length,T=Number.MAX_VALUE,S=0,P,L,I,O,M,w;for(M=0;M<x;M++){var D=l[M],U=D.x,Y=D.y,H=d*U+c*Y,X=m*U+g*Y,G=H,z=X;for(w=1;w<u;w+=1)O=o[w].x*U+o[w].y*Y,O>G?G=O:O<H&&(H=O);for(w=1;w<f;w+=1)O=i[w].x*U+i[w].y*Y,O>z?z=O:O<X&&(X=O);if(L=G-X,I=z-H,P=L<I?L:I,P<T&&(T=P,S=M,P<=0))break}s.axis=l[S],s.overlap=T},h._findSupports=function(s,o,i,l){var u=o.vertices,f=u.length,d=s.position.x,c=s.position.y,m=i.x*l,g=i.y*l,x=u[0],T=x,S=m*(d-T.x)+g*(c-T.y),P,L,I;for(I=1;I<f;I+=1)T=u[I],L=m*(d-T.x)+g*(c-T.y),L<S&&(S=L,x=T);return P=u[(f+x.index-1)%f],S=m*(d-P.x)+g*(c-P.y),T=u[(x.index+1)%f],m*(d-T.x)+g*(c-T.y)<S?(n[0]=x,n[1]=T,n):(n[0]=x,n[1]=P,n)}})()},43424:v=>{var y={};v.exports=y,function(){y.create=function(t){return{vertex:t,normalImpulse:0,tangentImpulse:0}}}()},81388:(v,y,t)=>{var h={};v.exports=h;var p=t(53402),a=t(52284);(function(){h.create=function(n){var r={bodies:[],collisions:[],pairs:null};return p.extend(r,n)},h.setBodies=function(n,r){n.bodies=r.slice(0)},h.clear=function(n){n.bodies=[],n.collisions=[]},h.collisions=function(n){var r=n.pairs,e=n.bodies,s=e.length,o=h.canCollide,i=a.collides,l=n.collisions,u=0,f,d;for(e.sort(h._compareBoundsX),f=0;f<s;f++){var c=e[f],m=c.bounds,g=c.bounds.max.x,x=c.bounds.max.y,T=c.bounds.min.y,S=c.isStatic||c.isSleeping,P=c.parts.length,L=P===1;for(d=f+1;d<s;d++){var I=e[d],O=I.bounds;if(O.min.x>g)break;if(!(x<O.min.y||T>O.max.y)&&!(S&&(I.isStatic||I.isSleeping))&&o(c.collisionFilter,I.collisionFilter)){var M=I.parts.length;if(L&&M===1){var w=i(c,I,r);w&&(l[u++]=w)}else for(var D=P>1?1:0,U=M>1?1:0,Y=D;Y<P;Y++)for(var H=c.parts[Y],m=H.bounds,X=U;X<M;X++){var G=I.parts[X],O=G.bounds;if(!(m.min.x>O.max.x||m.max.x<O.min.x||m.max.y<O.min.y||m.min.y>O.max.y)){var w=i(H,G,r);w&&(l[u++]=w)}}}}}return l.length!==u&&(l.length=u),l},h.canCollide=function(n,r){return n.group===r.group&&n.group!==0?n.group>0:(n.mask&r.category)!==0&&(r.mask&n.category)!==0},h._compareBoundsX=function(n,r){return n.bounds.min.x-r.bounds.min.x}})()},4506:(v,y,t)=>{var h={};v.exports=h;var p=t(43424);(function(){h.create=function(a,n){var r=a.bodyA,e=a.bodyB,s={id:h.id(r,e),bodyA:r,bodyB:e,collision:a,contacts:[p.create(),p.create()],contactCount:0,separation:0,isActive:!0,isSensor:r.isSensor||e.isSensor,timeCreated:n,timeUpdated:n,inverseMass:0,friction:0,frictionStatic:0,restitution:0,slop:0};return h.update(s,a,n),s},h.update=function(a,n,r){var e=n.supports,s=n.supportCount,o=a.contacts,i=n.parentA,l=n.parentB;a.isActive=!0,a.timeUpdated=r,a.collision=n,a.separation=n.depth,a.inverseMass=i.inverseMass+l.inverseMass,a.friction=i.friction<l.friction?i.friction:l.friction,a.frictionStatic=i.frictionStatic>l.frictionStatic?i.frictionStatic:l.frictionStatic,a.restitution=i.restitution>l.restitution?i.restitution:l.restitution,a.slop=i.slop>l.slop?i.slop:l.slop,a.contactCount=s,n.pair=a;var u=e[0],f=o[0],d=e[1],c=o[1];(c.vertex===u||f.vertex===d)&&(o[1]=f,o[0]=f=c,c=o[1]),f.vertex=u,c.vertex=d},h.setActive=function(a,n,r){n?(a.isActive=!0,a.timeUpdated=r):(a.isActive=!1,a.contactCount=0)},h.id=function(a,n){return a.id<n.id?a.id.toString(36)+":"+n.id.toString(36):n.id.toString(36)+":"+a.id.toString(36)}})()},99561:(v,y,t)=>{var h={};v.exports=h;var p=t(4506),a=t(53402);(function(){h.create=function(n){return a.extend({table:{},list:[],collisionStart:[],collisionActive:[],collisionEnd:[]},n)},h.update=function(n,r,e){var s=p.update,o=p.create,i=p.setActive,l=n.table,u=n.list,f=u.length,d=f,c=n.collisionStart,m=n.collisionEnd,g=n.collisionActive,x=r.length,T=0,S=0,P=0,L,I,O;for(O=0;O<x;O++)L=r[O],I=L.pair,I?(I.isActive&&(g[P++]=I),s(I,L,e)):(I=o(L,e),l[I.id]=I,c[T++]=I,u[d++]=I);for(d=0,f=u.length,O=0;O<f;O++)I=u[O],I.timeUpdated>=e?u[d++]=I:(i(I,!1,e),I.collision.bodyA.sleepCounter>0&&I.collision.bodyB.sleepCounter>0?u[d++]=I:(m[S++]=I,delete l[I.id]));u.length!==d&&(u.length=d),c.length!==T&&(c.length=T),m.length!==S&&(m.length=S),g.length!==P&&(g.length=P)},h.clear=function(n){return n.table={},n.list.length=0,n.collisionStart.length=0,n.collisionActive.length=0,n.collisionEnd.length=0,n}})()},73296:(v,y,t)=>{var h={};v.exports=h;var p=t(31725),a=t(52284),n=t(15647),r=t(66280),e=t(41598);(function(){h.collides=function(s,o){for(var i=[],l=o.length,u=s.bounds,f=a.collides,d=n.overlaps,c=0;c<l;c++){var m=o[c],g=m.parts.length,x=g===1?0:1;if(s!==m&&d(m.bounds,u))for(var T=x;T<g;T++){var S=m.parts[T];if(d(S.bounds,u)){var P=f(S,s);if(P){i.push(P);break}}}}return i},h.ray=function(s,o,i,l){l=l||1e-100;for(var u=p.angle(o,i),f=p.magnitude(p.sub(o,i)),d=(i.x+o.x)*.5,c=(i.y+o.y)*.5,m=r.rectangle(d,c,f,l,{angle:u}),g=h.collides(m,s),x=0;x<g.length;x+=1){var T=g[x];T.body=T.bodyB=T.bodyA}return g},h.region=function(s,o,i){for(var l=[],u=0;u<s.length;u++){var f=s[u],d=n.overlaps(f.bounds,o);(d&&!i||!d&&i)&&l.push(f)}return l},h.point=function(s,o){for(var i=[],l=0;l<s.length;l++){var u=s[l];if(n.contains(u.bounds,o))for(var f=u.parts.length===1?0:1;f<u.parts.length;f++){var d=u.parts[f];if(n.contains(d.bounds,o)&&e.contains(d.vertices,o)){i.push(u);break}}}return i}})()},66272:(v,y,t)=>{var h={};v.exports=h;var p=t(41598),a=t(53402),n=t(15647);(function(){h._restingThresh=2,h._restingThreshTangent=Math.sqrt(6),h._positionDampen=.9,h._positionWarming=.8,h._frictionNormalMultiplier=5,h._frictionMaxStatic=Number.MAX_VALUE,h.preSolvePosition=function(r){var e,s,o,i=r.length;for(e=0;e<i;e++)s=r[e],s.isActive&&(o=s.contactCount,s.collision.parentA.totalContacts+=o,s.collision.parentB.totalContacts+=o)},h.solvePosition=function(r,e,s){var o,i,l,u,f,d,c,m,g=h._positionDampen*(s||1),x=a.clamp(e/a._baseDelta,0,1),T=r.length;for(o=0;o<T;o++)i=r[o],!(!i.isActive||i.isSensor)&&(l=i.collision,u=l.parentA,f=l.parentB,d=l.normal,i.separation=l.depth+d.x*(f.positionImpulse.x-u.positionImpulse.x)+d.y*(f.positionImpulse.y-u.positionImpulse.y));for(o=0;o<T;o++)i=r[o],!(!i.isActive||i.isSensor)&&(l=i.collision,u=l.parentA,f=l.parentB,d=l.normal,m=i.separation-i.slop*x,(u.isStatic||f.isStatic)&&(m*=2),u.isStatic||u.isSleeping||(c=g/u.totalContacts,u.positionImpulse.x+=d.x*m*c,u.positionImpulse.y+=d.y*m*c),f.isStatic||f.isSleeping||(c=g/f.totalContacts,f.positionImpulse.x-=d.x*m*c,f.positionImpulse.y-=d.y*m*c))},h.postSolvePosition=function(r){for(var e=h._positionWarming,s=r.length,o=p.translate,i=n.update,l=0;l<s;l++){var u=r[l],f=u.positionImpulse,d=f.x,c=f.y,m=u.velocity;if(u.totalContacts=0,d!==0||c!==0){for(var g=0;g<u.parts.length;g++){var x=u.parts[g];o(x.vertices,f),i(x.bounds,x.vertices,m),x.position.x+=d,x.position.y+=c}u.positionPrev.x+=d,u.positionPrev.y+=c,d*m.x+c*m.y<0?(f.x=0,f.y=0):(f.x*=e,f.y*=e)}}},h.preSolveVelocity=function(r){var e=r.length,s,o;for(s=0;s<e;s++){var i=r[s];if(!(!i.isActive||i.isSensor)){var l=i.contacts,u=i.contactCount,f=i.collision,d=f.parentA,c=f.parentB,m=f.normal,g=f.tangent;for(o=0;o<u;o++){var x=l[o],T=x.vertex,S=x.normalImpulse,P=x.tangentImpulse;if(S!==0||P!==0){var L=m.x*S+g.x*P,I=m.y*S+g.y*P;d.isStatic||d.isSleeping||(d.positionPrev.x+=L*d.inverseMass,d.positionPrev.y+=I*d.inverseMass,d.anglePrev+=d.inverseInertia*((T.x-d.position.x)*I-(T.y-d.position.y)*L)),c.isStatic||c.isSleeping||(c.positionPrev.x-=L*c.inverseMass,c.positionPrev.y-=I*c.inverseMass,c.anglePrev-=c.inverseInertia*((T.x-c.position.x)*I-(T.y-c.position.y)*L))}}}}},h.solveVelocity=function(r,e){var s=e/a._baseDelta,o=s*s,i=o*s,l=-h._restingThresh*s,u=h._restingThreshTangent,f=h._frictionNormalMultiplier*s,d=h._frictionMaxStatic,c=r.length,m,g,x,T;for(x=0;x<c;x++){var S=r[x];if(!(!S.isActive||S.isSensor)){var P=S.collision,L=P.parentA,I=P.parentB,O=P.normal.x,M=P.normal.y,w=P.tangent.x,D=P.tangent.y,U=S.inverseMass,Y=S.friction*S.frictionStatic*f,H=S.contacts,X=S.contactCount,G=1/X,z=L.position.x-L.positionPrev.x,b=L.position.y-L.positionPrev.y,N=L.angle-L.anglePrev,W=I.position.x-I.positionPrev.x,K=I.position.y-I.positionPrev.y,J=I.angle-I.anglePrev;for(T=0;T<X;T++){var j=H[T],Z=j.vertex,q=Z.x-L.position.x,_=Z.y-L.position.y,tt=Z.x-I.position.x,et=Z.y-I.position.y,ot=z-_*N,it=b+q*N,lt=W-et*J,vt=K+tt*J,xt=ot-lt,yt=it-vt,nt=O*xt+M*yt,dt=w*xt+D*yt,ct=S.separation+nt,Rt=Math.min(ct,1);Rt=ct<0?0:Rt;var It=Rt*Y;dt<-It||dt>It?(g=dt>0?dt:-dt,m=S.friction*(dt>0?1:-1)*i,m<-g?m=-g:m>g&&(m=g)):(m=dt,g=d);var ne=q*M-_*O,ee=tt*M-et*O,le=G/(U+L.inverseInertia*ne*ne+I.inverseInertia*ee*ee),Zt=(1+S.restitution)*nt*le;if(m*=le,nt<l)j.normalImpulse=0;else{var fe=j.normalImpulse;j.normalImpulse+=Zt,j.normalImpulse>0&&(j.normalImpulse=0),Zt=j.normalImpulse-fe}if(dt<-u||dt>u)j.tangentImpulse=0;else{var Gt=j.tangentImpulse;j.tangentImpulse+=m,j.tangentImpulse<-g&&(j.tangentImpulse=-g),j.tangentImpulse>g&&(j.tangentImpulse=g),m=j.tangentImpulse-Gt}var de=O*Zt+w*m,ae=M*Zt+D*m;L.isStatic||L.isSleeping||(L.positionPrev.x+=de*L.inverseMass,L.positionPrev.y+=ae*L.inverseMass,L.anglePrev+=(q*ae-_*de)*L.inverseInertia),I.isStatic||I.isSleeping||(I.positionPrev.x-=de*I.inverseMass,I.positionPrev.y-=ae*I.inverseMass,I.anglePrev-=(tt*ae-et*de)*I.inverseInertia)}}}}})()},48140:(v,y,t)=>{var h={};v.exports=h;var p=t(41598),a=t(31725),n=t(53614),r=t(15647),e=t(66615),s=t(53402);(function(){h._warming=.4,h._torqueDampen=1,h._minLength=1e-6,h.create=function(o){var i=o;i.bodyA&&!i.pointA&&(i.pointA={x:0,y:0}),i.bodyB&&!i.pointB&&(i.pointB={x:0,y:0});var l=i.bodyA?a.add(i.bodyA.position,i.pointA):i.pointA,u=i.bodyB?a.add(i.bodyB.position,i.pointB):i.pointB,f=a.magnitude(a.sub(l,u));i.length=typeof i.length<"u"?i.length:f,i.id=i.id||s.nextId(),i.label=i.label||"Constraint",i.type="constraint",i.stiffness=i.stiffness||(i.length>0?1:.7),i.damping=i.damping||0,i.angularStiffness=i.angularStiffness||0,i.angleA=i.bodyA?i.bodyA.angle:i.angleA,i.angleB=i.bodyB?i.bodyB.angle:i.angleB,i.plugin={};var d={visible:!0,type:"line",anchors:!0,lineColor:null,lineOpacity:null,lineThickness:null,pinSize:null,anchorColor:null,anchorSize:null};return i.length===0&&i.stiffness>.1?(d.type="pin",d.anchors=!1):i.stiffness<.9&&(d.type="spring"),i.render=s.extend(d,i.render),i},h.preSolveAll=function(o){for(var i=0;i<o.length;i+=1){var l=o[i],u=l.constraintImpulse;l.isStatic||u.x===0&&u.y===0&&u.angle===0||(l.position.x+=u.x,l.position.y+=u.y,l.angle+=u.angle)}},h.solveAll=function(o,i){for(var l=s.clamp(i/s._baseDelta,0,1),u=0;u<o.length;u+=1){var f=o[u],d=!f.bodyA||f.bodyA&&f.bodyA.isStatic,c=!f.bodyB||f.bodyB&&f.bodyB.isStatic;(d||c)&&h.solve(o[u],l)}for(u=0;u<o.length;u+=1)f=o[u],d=!f.bodyA||f.bodyA&&f.bodyA.isStatic,c=!f.bodyB||f.bodyB&&f.bodyB.isStatic,!d&&!c&&h.solve(o[u],l)},h.solve=function(o,i){var l=o.bodyA,u=o.bodyB,f=o.pointA,d=o.pointB;if(!(!l&&!u)){l&&!l.isStatic&&(a.rotate(f,l.angle-o.angleA,f),o.angleA=l.angle),u&&!u.isStatic&&(a.rotate(d,u.angle-o.angleB,d),o.angleB=u.angle);var c=f,m=d;if(l&&(c=a.add(l.position,f)),u&&(m=a.add(u.position,d)),!(!c||!m)){var g=a.sub(c,m),x=a.magnitude(g);x<h._minLength&&(x=h._minLength);var T=(x-o.length)/x,S=o.stiffness>=1||o.length===0,P=S?o.stiffness*i:o.stiffness*i*i,L=o.damping*i,I=a.mult(g,T*P),O=(l?l.inverseMass:0)+(u?u.inverseMass:0),M=(l?l.inverseInertia:0)+(u?u.inverseInertia:0),w=O+M,D,U,Y,H,X;if(L>0){var G=a.create();Y=a.div(g,x),X=a.sub(u&&a.sub(u.position,u.positionPrev)||G,l&&a.sub(l.position,l.positionPrev)||G),H=a.dot(Y,X)}l&&!l.isStatic&&(U=l.inverseMass/O,l.constraintImpulse.x-=I.x*U,l.constraintImpulse.y-=I.y*U,l.position.x-=I.x*U,l.position.y-=I.y*U,L>0&&(l.positionPrev.x-=L*Y.x*H*U,l.positionPrev.y-=L*Y.y*H*U),D=a.cross(f,I)/w*h._torqueDampen*l.inverseInertia*(1-o.angularStiffness),l.constraintImpulse.angle-=D,l.angle-=D),u&&!u.isStatic&&(U=u.inverseMass/O,u.constraintImpulse.x+=I.x*U,u.constraintImpulse.y+=I.y*U,u.position.x+=I.x*U,u.position.y+=I.y*U,L>0&&(u.positionPrev.x+=L*Y.x*H*U,u.positionPrev.y+=L*Y.y*H*U),D=a.cross(d,I)/w*h._torqueDampen*u.inverseInertia*(1-o.angularStiffness),u.constraintImpulse.angle+=D,u.angle+=D)}}},h.postSolveAll=function(o){for(var i=0;i<o.length;i++){var l=o[i],u=l.constraintImpulse;if(!(l.isStatic||u.x===0&&u.y===0&&u.angle===0)){n.set(l,!1);for(var f=0;f<l.parts.length;f++){var d=l.parts[f];p.translate(d.vertices,u),f>0&&(d.position.x+=u.x,d.position.y+=u.y),u.angle!==0&&(p.rotate(d.vertices,u.angle,l.position),e.rotate(d.axes,u.angle),f>0&&a.rotateAbout(d.position,u.angle,l.position,d.position)),r.update(d.bounds,d.vertices,l.velocity)}u.angle*=h._warming,u.x*=h._warming,u.y*=h._warming}}},h.pointAWorld=function(o){return{x:(o.bodyA?o.bodyA.position.x:0)+(o.pointA?o.pointA.x:0),y:(o.bodyA?o.bodyA.position.y:0)+(o.pointA?o.pointA.y:0)}},h.pointBWorld=function(o){return{x:(o.bodyB?o.bodyB.position.x:0)+(o.pointB?o.pointB.x:0),y:(o.bodyB?o.bodyB.position.y:0)+(o.pointB?o.pointB.y:0)}},h.currentLength=function(o){var i=(o.bodyA?o.bodyA.position.x:0)+(o.pointA?o.pointA.x:0),l=(o.bodyA?o.bodyA.position.y:0)+(o.pointA?o.pointA.y:0),u=(o.bodyB?o.bodyB.position.x:0)+(o.pointB?o.pointB.x:0),f=(o.bodyB?o.bodyB.position.y:0)+(o.pointB?o.pointB.y:0),d=i-u,c=l-f;return Math.sqrt(d*d+c*c)}})()},53402:(v,y,t)=>{var h={};v.exports=h,function(){h._baseDelta=16.666666666666668,h._nextId=0,h._seed=0,h._nowStartTime=+new Date,h._warnedOnce={},h._decomp=null,h.extend=function(a,n){var r,e;typeof n=="boolean"?(r=2,e=n):(r=1,e=!0);for(var s=r;s<arguments.length;s++){var o=arguments[s];if(o)for(var i in o)e&&o[i]&&o[i].constructor===Object&&(!a[i]||a[i].constructor===Object)?(a[i]=a[i]||{},h.extend(a[i],e,o[i])):a[i]=o[i]}return a},h.clone=function(a,n){return h.extend({},n,a)},h.keys=function(a){if(Object.keys)return Object.keys(a);var n=[];for(var r in a)n.push(r);return n},h.values=function(a){var n=[];if(Object.keys){for(var r=Object.keys(a),e=0;e<r.length;e++)n.push(a[r[e]]);return n}for(var s in a)n.push(a[s]);return n},h.get=function(a,n,r,e){n=n.split(".").slice(r,e);for(var s=0;s<n.length;s+=1)a=a[n[s]];return a},h.set=function(a,n,r,e,s){var o=n.split(".").slice(e,s);return h.get(a,n,0,-1)[o[o.length-1]]=r,r},h.shuffle=function(a){for(var n=a.length-1;n>0;n--){var r=Math.floor(h.random()*(n+1)),e=a[n];a[n]=a[r],a[r]=e}return a},h.choose=function(a){return a[Math.floor(h.random()*a.length)]},h.isElement=function(a){return typeof HTMLElement<"u"?a instanceof HTMLElement:!!(a&&a.nodeType&&a.nodeName)},h.isArray=function(a){return Object.prototype.toString.call(a)==="[object Array]"},h.isFunction=function(a){return typeof a=="function"},h.isPlainObject=function(a){return typeof a=="object"&&a.constructor===Object},h.isString=function(a){return toString.call(a)==="[object String]"},h.clamp=function(a,n,r){return a<n?n:a>r?r:a},h.sign=function(a){return a<0?-1:1},h.now=function(){if(typeof window<"u"&&window.performance){if(window.performance.now)return window.performance.now();if(window.performance.webkitNow)return window.performance.webkitNow()}return Date.now?Date.now():new Date-h._nowStartTime},h.random=function(a,n){return a=typeof a<"u"?a:0,n=typeof n<"u"?n:1,a+p()*(n-a)};var p=function(){return h._seed=(h._seed*9301+49297)%233280,h._seed/233280};h.colorToNumber=function(a){return a=a.replace("#",""),a.length==3&&(a=a.charAt(0)+a.charAt(0)+a.charAt(1)+a.charAt(1)+a.charAt(2)+a.charAt(2)),parseInt(a,16)},h.logLevel=1,h.log=function(){console&&h.logLevel>0&&h.logLevel<=3&&console.log.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},h.info=function(){console&&h.logLevel>0&&h.logLevel<=2&&console.info.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},h.warn=function(){console&&h.logLevel>0&&h.logLevel<=3&&console.warn.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},h.warnOnce=function(){var a=Array.prototype.slice.call(arguments).join(" ");h._warnedOnce[a]||(h.warn(a),h._warnedOnce[a]=!0)},h.deprecated=function(a,n,r){a[n]=h.chain(function(){h.warnOnce(" deprecated ",r)},a[n])},h.nextId=function(){return h._nextId++},h.indexOf=function(a,n){if(a.indexOf)return a.indexOf(n);for(var r=0;r<a.length;r++)if(a[r]===n)return r;return-1},h.map=function(a,n){if(a.map)return a.map(n);for(var r=[],e=0;e<a.length;e+=1)r.push(n(a[e]));return r},h.topologicalSort=function(a){var n=[],r=[],e=[];for(var s in a)!r[s]&&!e[s]&&h._topologicalSort(s,r,e,a,n);return n},h._topologicalSort=function(a,n,r,e,s){var o=e[a]||[];r[a]=!0;for(var i=0;i<o.length;i+=1){var l=o[i];r[l]||n[l]||h._topologicalSort(l,n,r,e,s)}r[a]=!1,n[a]=!0,s.push(a)},h.chain=function(){for(var a=[],n=0;n<arguments.length;n+=1){var r=arguments[n];r._chained?a.push.apply(a,r._chained):a.push(r)}var e=function(){for(var s,o=new Array(arguments.length),i=0,l=arguments.length;i<l;i++)o[i]=arguments[i];for(i=0;i<a.length;i+=1){var u=a[i].apply(s,o);typeof u<"u"&&(s=u)}return s};return e._chained=a,e},h.chainPathBefore=function(a,n,r){return h.set(a,n,h.chain(r,h.get(a,n)))},h.chainPathAfter=function(a,n,r){return h.set(a,n,h.chain(h.get(a,n),r))},h.setDecomp=function(a){h._decomp=a},h.getDecomp=function(){var a=h._decomp;try{!a&&typeof window<"u"&&(a=window.decomp),!a&&typeof t.g<"u"&&(a=t.g.decomp)}catch{a=null}return a}}()},48413:(v,y,t)=>{var h={};v.exports=h;var p=t(53614),a=t(66272),n=t(81388),r=t(99561),e=t(35810),s=t(69351),o=t(48140),i=t(53402),l=t(22562);(function(){h._deltaMax=16.666666666666668,h.create=function(u){u=u||{};var f={positionIterations:6,velocityIterations:4,constraintIterations:2,enableSleeping:!1,events:[],plugin:{},gravity:{x:0,y:1,scale:.001},timing:{timestamp:0,timeScale:1,lastDelta:0,lastElapsed:0,lastUpdatesPerFrame:0}},d=i.extend(f,u);return d.world=u.world||s.create({label:"World"}),d.pairs=u.pairs||r.create(),d.detector=u.detector||n.create(),d.detector.pairs=d.pairs,d.grid={buckets:[]},d.world.gravity=d.gravity,d.broadphase=d.grid,d.metrics={},d},h.update=function(u,f){var d=i.now(),c=u.world,m=u.detector,g=u.pairs,x=u.timing,T=x.timestamp,S;f>h._deltaMax&&i.warnOnce("Matter.Engine.update: delta argument is recommended to be less than or equal to",h._deltaMax.toFixed(3),"ms."),f=typeof f<"u"?f:i._baseDelta,f*=x.timeScale,x.timestamp+=f,x.lastDelta=f;var P={timestamp:x.timestamp,delta:f};e.trigger(u,"beforeUpdate",P);var L=s.allBodies(c),I=s.allConstraints(c),O=s.allComposites(c);for(c.isModified&&(n.setBodies(m,L),s.setModified(c,!1,!1,!0)),u.enableSleeping&&p.update(L,f),h._bodiesApplyGravity(L,u.gravity),h.wrap(L,O),h.attractors(L),f>0&&h._bodiesUpdate(L,f),e.trigger(u,"beforeSolve",P),o.preSolveAll(L),S=0;S<u.constraintIterations;S++)o.solveAll(I,f);o.postSolveAll(L);var M=n.collisions(m);r.update(g,M,T),u.enableSleeping&&p.afterCollisions(g.list),g.collisionStart.length>0&&e.trigger(u,"collisionStart",{pairs:g.collisionStart,timestamp:x.timestamp,delta:f});var w=i.clamp(20/u.positionIterations,0,1);for(a.preSolvePosition(g.list),S=0;S<u.positionIterations;S++)a.solvePosition(g.list,f,w);for(a.postSolvePosition(L),o.preSolveAll(L),S=0;S<u.constraintIterations;S++)o.solveAll(I,f);for(o.postSolveAll(L),a.preSolveVelocity(g.list),S=0;S<u.velocityIterations;S++)a.solveVelocity(g.list,f);return h._bodiesUpdateVelocities(L),g.collisionActive.length>0&&e.trigger(u,"collisionActive",{pairs:g.collisionActive,timestamp:x.timestamp,delta:f}),g.collisionEnd.length>0&&e.trigger(u,"collisionEnd",{pairs:g.collisionEnd,timestamp:x.timestamp,delta:f}),h._bodiesClearForces(L),e.trigger(u,"afterUpdate",P),u.timing.lastElapsed=i.now()-d,u},h.merge=function(u,f){if(i.extend(u,f),f.world){u.world=f.world,h.clear(u);for(var d=s.allBodies(u.world),c=0;c<d.length;c++){var m=d[c];p.set(m,!1),m.id=i.nextId()}}},h.clear=function(u){r.clear(u.pairs),n.clear(u.detector)},h._bodiesClearForces=function(u){for(var f=u.length,d=0;d<f;d++){var c=u[d];c.force.x=0,c.force.y=0,c.torque=0}},h._bodiesApplyGravity=function(u,f){var d=typeof f.scale<"u"?f.scale:.001,c=u.length;if(!(f.x===0&&f.y===0||d===0))for(var m=0;m<c;m++){var g=u[m];g.ignoreGravity||g.isStatic||g.isSleeping||(g.force.y+=g.mass*f.y*d,g.force.x+=g.mass*f.x*d)}},h._bodiesUpdate=function(u,f){for(var d=u.length,c=0;c<d;c++){var m=u[c];m.isStatic||m.isSleeping||l.update(m,f)}},h._bodiesUpdateVelocities=function(u){for(var f=u.length,d=0;d<f;d++)l.updateVelocities(u[d])},h.wrap=function(u,f){for(var d=0;d<u.length;d+=1){var c=u[d];c.wrapBounds!==null&&l.wrap(c,c.wrapBounds)}for(d=0;d<f.length;d+=1){var m=f[d];m.wrapBounds!==null&&s.wrap(m,m.wrapBounds)}},h.attractors=function(u){for(var f=0;f<u.length;f++){var d=u[f],c=d.attractors;if(c&&c.length>0)for(var m=0;m<u.length;m++){var g=u[m];if(f!==m)for(var x=0;x<c.length;x++){var T=c[x],S=T;i.isFunction(T)&&(S=T(d,g)),S&&l.applyForce(g,g.position,S)}}}}})()},35810:(v,y,t)=>{var h={};v.exports=h;var p=t(53402);(function(){h.on=function(a,n,r){for(var e=n.split(" "),s,o=0;o<e.length;o++)s=e[o],a.events=a.events||{},a.events[s]=a.events[s]||[],a.events[s].push(r);return r},h.off=function(a,n,r){if(!n){a.events={};return}typeof n=="function"&&(r=n,n=p.keys(a.events).join(" "));for(var e=n.split(" "),s=0;s<e.length;s++){var o=a.events[e[s]],i=[];if(r&&o)for(var l=0;l<o.length;l++)o[l]!==r&&i.push(o[l]);a.events[e[s]]=i}},h.trigger=function(a,n,r){var e,s,o,i,l=a.events;if(l&&p.keys(l).length>0){r||(r={}),e=n.split(" ");for(var u=0;u<e.length;u++)if(s=e[u],o=l[s],o){i=p.clone(r,!1),i.name=s,i.source=a;for(var f=0;f<o.length;f++)o[f].apply(a,[i])}}}})()},6790:(v,y,t)=>{var h={};v.exports=h;var p=t(73832),a=t(53402);(function(){h.name="matter-js",h.version="0.20.0",h.uses=[],h.used=[],h.use=function(){p.use(h,Array.prototype.slice.call(arguments))},h.before=function(n,r){return n=n.replace(/^Matter./,""),a.chainPathBefore(h,n,r)},h.after=function(n,r){return n=n.replace(/^Matter./,""),a.chainPathAfter(h,n,r)}})()},73832:(v,y,t)=>{var h={};v.exports=h;var p=t(53402);(function(){h._registry={},h.register=function(a){if(h.isPlugin(a)||p.warn("Plugin.register:",h.toString(a),"does not implement all required fields."),a.name in h._registry){var n=h._registry[a.name],r=h.versionParse(a.version).number,e=h.versionParse(n.version).number;r>e?(p.warn("Plugin.register:",h.toString(n),"was upgraded to",h.toString(a)),h._registry[a.name]=a):r<e?p.warn("Plugin.register:",h.toString(n),"can not be downgraded to",h.toString(a)):a!==n&&p.warn("Plugin.register:",h.toString(a),"is already registered to different plugin object")}else h._registry[a.name]=a;return a},h.resolve=function(a){return h._registry[h.dependencyParse(a).name]},h.toString=function(a){return typeof a=="string"?a:(a.name||"anonymous")+"@"+(a.version||a.range||"0.0.0")},h.isPlugin=function(a){return a&&a.name&&a.version&&a.install},h.isUsed=function(a,n){return a.used.indexOf(n)>-1},h.isFor=function(a,n){var r=a.for&&h.dependencyParse(a.for);return!a.for||n.name===r.name&&h.versionSatisfies(n.version,r.range)},h.use=function(a,n){if(a.uses=(a.uses||[]).concat(n||[]),a.uses.length===0){p.warn("Plugin.use:",h.toString(a),"does not specify any dependencies to install.");return}for(var r=h.dependencies(a),e=p.topologicalSort(r),s=[],o=0;o<e.length;o+=1)if(e[o]!==a.name){var i=h.resolve(e[o]);if(!i){s.push(" "+e[o]);continue}h.isUsed(a,i.name)||(h.isFor(i,a)||(p.warn("Plugin.use:",h.toString(i),"is for",i.for,"but installed on",h.toString(a)+"."),i._warned=!0),i.install?i.install(a):(p.warn("Plugin.use:",h.toString(i),"does not specify an install function."),i._warned=!0),i._warned?(s.push(" "+h.toString(i)),delete i._warned):s.push(" "+h.toString(i)),a.used.push(i.name))}s.length>0&&!i.silent&&p.info(s.join("  "))},h.dependencies=function(a,n){var r=h.dependencyParse(a),e=r.name;if(n=n||{},!(e in n)){a=h.resolve(a)||a,n[e]=p.map(a.uses||[],function(o){h.isPlugin(o)&&h.register(o);var i=h.dependencyParse(o),l=h.resolve(o);return l&&!h.versionSatisfies(l.version,i.range)?(p.warn("Plugin.dependencies:",h.toString(l),"does not satisfy",h.toString(i),"used by",h.toString(r)+"."),l._warned=!0,a._warned=!0):l||(p.warn("Plugin.dependencies:",h.toString(o),"used by",h.toString(r),"could not be resolved."),a._warned=!0),i.name});for(var s=0;s<n[e].length;s+=1)h.dependencies(n[e][s],n);return n}},h.dependencyParse=function(a){if(p.isString(a)){var n=/^[\w-]+(@(\*|[\^~]?\d+\.\d+\.\d+(-[0-9A-Za-z-+]+)?))?$/;return n.test(a)||p.warn("Plugin.dependencyParse:",a,"is not a valid dependency string."),{name:a.split("@")[0],range:a.split("@")[1]||"*"}}return{name:a.name,range:a.range||a.version}},h.versionParse=function(a){var n=/^(\*)|(\^|~|>=|>)?\s*((\d+)\.(\d+)\.(\d+))(-[0-9A-Za-z-+]+)?$/;n.test(a)||p.warn("Plugin.versionParse:",a,"is not a valid version or range.");var r=n.exec(a),e=Number(r[4]),s=Number(r[5]),o=Number(r[6]);return{isRange:!!(r[1]||r[2]),version:r[3],range:a,operator:r[1]||r[2]||"",major:e,minor:s,patch:o,parts:[e,s,o],prerelease:r[7],number:e*1e8+s*1e4+o}},h.versionSatisfies=function(a,n){n=n||"*";var r=h.versionParse(n),e=h.versionParse(a);if(r.isRange){if(r.operator==="*"||a==="*")return!0;if(r.operator===">")return e.number>r.number;if(r.operator===">=")return e.number>=r.number;if(r.operator==="~")return e.major===r.major&&e.minor===r.minor&&e.patch>=r.patch;if(r.operator==="^")return r.major>0?e.major===r.major&&e.number>=r.number:r.minor>0?e.minor===r.minor&&e.patch>=r.patch:e.patch===r.patch}return a===n||a==="*"}})()},13037:(v,y,t)=>{var h={};v.exports=h;var p=t(35810),a=t(48413),n=t(53402);(function(){h._maxFrameDelta=66.66666666666667,h._frameDeltaFallback=16.666666666666668,h._timeBufferMargin=1.5,h._elapsedNextEstimate=1,h._smoothingLowerBound=.1,h._smoothingUpperBound=.9,h.create=function(e){var s={delta:16.666666666666668,frameDelta:null,frameDeltaSmoothing:!0,frameDeltaSnapping:!0,frameDeltaHistory:[],frameDeltaHistorySize:100,frameRequestId:null,timeBuffer:0,timeLastTick:null,maxUpdates:null,maxFrameTime:33.333333333333336,lastUpdatesDeferred:0,enabled:!0},o=n.extend(s,e);return o.fps=0,o},h.run=function(e,s){return e.timeBuffer=h._frameDeltaFallback,function o(i){e.frameRequestId=h._onNextFrame(e,o),i&&e.enabled&&h.tick(e,s,i)}(),e},h.tick=function(e,s,o){var i=n.now(),l=e.delta,u=0,f=o-e.timeLastTick;if((!f||!e.timeLastTick||f>Math.max(h._maxFrameDelta,e.maxFrameTime))&&(f=e.frameDelta||h._frameDeltaFallback),e.frameDeltaSmoothing){e.frameDeltaHistory.push(f),e.frameDeltaHistory=e.frameDeltaHistory.slice(-e.frameDeltaHistorySize);var d=e.frameDeltaHistory.slice(0).sort(),c=e.frameDeltaHistory.slice(d.length*h._smoothingLowerBound,d.length*h._smoothingUpperBound),m=r(c);f=m||f}e.frameDeltaSnapping&&(f=1e3/Math.round(1e3/f)),e.frameDelta=f,e.timeLastTick=o,e.timeBuffer+=e.frameDelta,e.timeBuffer=n.clamp(e.timeBuffer,0,e.frameDelta+l*h._timeBufferMargin),e.lastUpdatesDeferred=0;var g=e.maxUpdates||Math.ceil(e.maxFrameTime/l),x={timestamp:s.timing.timestamp};p.trigger(e,"beforeTick",x),p.trigger(e,"tick",x);for(var T=n.now();l>0&&e.timeBuffer>=l*h._timeBufferMargin;){p.trigger(e,"beforeUpdate",x),a.update(s,l),p.trigger(e,"afterUpdate",x),e.timeBuffer-=l,u+=1;var S=n.now()-i,P=n.now()-T,L=S+h._elapsedNextEstimate*P/u;if(u>=g||L>e.maxFrameTime){e.lastUpdatesDeferred=Math.round(Math.max(0,e.timeBuffer/l-h._timeBufferMargin));break}}s.timing.lastUpdatesPerFrame=u,p.trigger(e,"afterTick",x),e.frameDeltaHistory.length>=100&&(e.lastUpdatesDeferred&&Math.round(e.frameDelta/l)>g?n.warnOnce("Matter.Runner: runner reached runner.maxUpdates, see docs."):e.lastUpdatesDeferred&&n.warnOnce("Matter.Runner: runner reached runner.maxFrameTime, see docs."),typeof e.isFixed<"u"&&n.warnOnce("Matter.Runner: runner.isFixed is now redundant, see docs."),(e.deltaMin||e.deltaMax)&&n.warnOnce("Matter.Runner: runner.deltaMin and runner.deltaMax were removed, see docs."),e.fps!==0&&n.warnOnce("Matter.Runner: runner.fps was replaced by runner.delta, see docs."))},h.stop=function(e){h._cancelNextFrame(e)},h._onNextFrame=function(e,s){if(typeof window<"u"&&window.requestAnimationFrame)e.frameRequestId=window.requestAnimationFrame(s);else throw new Error("Matter.Runner: missing required global window.requestAnimationFrame.");return e.frameRequestId},h._cancelNextFrame=function(e){if(typeof window<"u"&&window.cancelAnimationFrame)window.cancelAnimationFrame(e.frameRequestId);else throw new Error("Matter.Runner: missing required global window.cancelAnimationFrame.")};var r=function(e){for(var s=0,o=e.length,i=0;i<o;i+=1)s+=e[i];return s/o||0}})()},53614:(v,y,t)=>{var h={};v.exports=h;var p=t(22562),a=t(35810),n=t(53402);(function(){h._motionWakeThreshold=.18,h._motionSleepThreshold=.08,h._minBias=.9,h.update=function(r,e){for(var s=e/n._baseDelta,o=h._motionSleepThreshold,i=0;i<r.length;i++){var l=r[i],u=p.getSpeed(l),f=p.getAngularSpeed(l),d=u*u+f*f;if(l.force.x!==0||l.force.y!==0){h.set(l,!1);continue}var c=Math.min(l.motion,d),m=Math.max(l.motion,d);l.motion=h._minBias*c+(1-h._minBias)*m,l.sleepThreshold>0&&l.motion<o?(l.sleepCounter+=1,l.sleepCounter>=l.sleepThreshold/s&&h.set(l,!0)):l.sleepCounter>0&&(l.sleepCounter-=1)}},h.afterCollisions=function(r){for(var e=h._motionSleepThreshold,s=0;s<r.length;s++){var o=r[s];if(o.isActive){var i=o.collision,l=i.bodyA.parent,u=i.bodyB.parent;if(!(l.isSleeping&&u.isSleeping||l.isStatic||u.isStatic)&&(l.isSleeping||u.isSleeping)){var f=l.isSleeping&&!l.isStatic?l:u,d=f===l?u:l;!f.isStatic&&d.motion>e&&h.set(f,!1)}}}},h.set=function(r,e){var s=r.isSleeping;e?(r.isSleeping=!0,r.sleepCounter=r.sleepThreshold,r.positionImpulse.x=0,r.positionImpulse.y=0,r.positionPrev.x=r.position.x,r.positionPrev.y=r.position.y,r.anglePrev=r.angle,r.speed=0,r.angularSpeed=0,r.motion=0,s||a.trigger(r,"sleepStart")):(r.isSleeping=!1,r.sleepCounter=0,s&&a.trigger(r,"sleepEnd"))}})()},66280:(v,y,t)=>{var h={};v.exports=h;var p=t(41598),a=t(53402),n=t(22562),r=t(15647),e=t(31725);(function(){h.rectangle=function(s,o,i,l,u){u=u||{};var f={label:"Rectangle Body",position:{x:s,y:o},vertices:p.fromPath("L 0 0 L "+i+" 0 L "+i+" "+l+" L 0 "+l)};if(u.chamfer){var d=u.chamfer;f.vertices=p.chamfer(f.vertices,d.radius,d.quality,d.qualityMin,d.qualityMax),delete u.chamfer}return n.create(a.extend({},f,u))},h.trapezoid=function(s,o,i,l,u,f){f=f||{},u>=1&&a.warn("Bodies.trapezoid: slope parameter must be < 1."),u*=.5;var d=(1-u*2)*i,c=i*u,m=c+d,g=m+c,x;u<.5?x="L 0 0 L "+c+" "+-l+" L "+m+" "+-l+" L "+g+" 0":x="L 0 0 L "+m+" "+-l+" L "+g+" 0";var T={label:"Trapezoid Body",position:{x:s,y:o},vertices:p.fromPath(x)};if(f.chamfer){var S=f.chamfer;T.vertices=p.chamfer(T.vertices,S.radius,S.quality,S.qualityMin,S.qualityMax),delete f.chamfer}return n.create(a.extend({},T,f))},h.circle=function(s,o,i,l,u){l=l||{};var f={label:"Circle Body",circleRadius:i};u=u||25;var d=Math.ceil(Math.max(10,Math.min(u,i)));return d%2===1&&(d+=1),h.polygon(s,o,d,i,a.extend({},f,l))},h.polygon=function(s,o,i,l,u){if(u=u||{},i<3)return h.circle(s,o,l,u);for(var f=2*Math.PI/i,d="",c=f*.5,m=0;m<i;m+=1){var g=c+m*f,x=Math.cos(g)*l,T=Math.sin(g)*l;d+="L "+x.toFixed(3)+" "+T.toFixed(3)+" "}var S={label:"Polygon Body",position:{x:s,y:o},vertices:p.fromPath(d)};if(u.chamfer){var P=u.chamfer;S.vertices=p.chamfer(S.vertices,P.radius,P.quality,P.qualityMin,P.qualityMax),delete u.chamfer}return n.create(a.extend({},S,u))},h.fromVertices=function(s,o,i,l,u,f,d,c){var m=a.getDecomp(),g,x,T,S,P,L,I,O,M,w,D;for(g=!!(m&&m.quickDecomp),l=l||{},T=[],u=typeof u<"u"?u:!1,f=typeof f<"u"?f:.01,d=typeof d<"u"?d:10,c=typeof c<"u"?c:.01,a.isArray(i[0])||(i=[i]),w=0;w<i.length;w+=1)if(L=i[w],S=p.isConvex(L),P=!S,P&&!g&&a.warnOnce("Bodies.fromVertices: Install the 'poly-decomp' library and use Common.setDecomp or provide 'decomp' as a global to decompose concave vertices."),S||!g)S?L=p.clockwiseSort(L):L=p.hull(L),T.push({position:{x:s,y:o},vertices:L});else{var U=L.map(function(j){return[j.x,j.y]});m.makeCCW(U),f!==!1&&m.removeCollinearPoints(U,f),c!==!1&&m.removeDuplicatePoints&&m.removeDuplicatePoints(U,c);var Y=m.quickDecomp(U);for(I=0;I<Y.length;I++){var H=Y[I],X=H.map(function(j){return{x:j[0],y:j[1]}});d>0&&p.area(X)<d||T.push({position:p.centre(X),vertices:X})}}for(I=0;I<T.length;I++)T[I]=n.create(a.extend(T[I],l));if(u){var G=5;for(I=0;I<T.length;I++){var z=T[I];for(O=I+1;O<T.length;O++){var b=T[O];if(r.overlaps(z.bounds,b.bounds)){var N=z.vertices,W=b.vertices;for(M=0;M<z.vertices.length;M++)for(D=0;D<b.vertices.length;D++){var K=e.magnitudeSquared(e.sub(N[(M+1)%N.length],W[D])),J=e.magnitudeSquared(e.sub(N[M],W[(D+1)%W.length]));K<G&&J<G&&(N[M].isInternal=!0,W[D].isInternal=!0)}}}}}return T.length>1?(x=n.create(a.extend({parts:T.slice(0)},l)),n.setPosition(x,{x:s,y:o}),x):T[0]},h.flagCoincidentParts=function(s,o){o===void 0&&(o=5);for(var i=0;i<s.length;i++)for(var l=s[i],u=i+1;u<s.length;u++){var f=s[u];if(r.overlaps(l.bounds,f.bounds))for(var d=l.vertices,c=f.vertices,m=0;m<l.vertices.length;m++)for(var g=0;g<f.vertices.length;g++){var x=e.magnitudeSquared(e.sub(d[(m+1)%d.length],c[g])),T=e.magnitudeSquared(e.sub(d[m],c[(g+1)%c.length]));x<o&&T<o&&(d[m].isInternal=!0,c[g].isInternal=!0)}}return s}})()},74116:(v,y,t)=>{var h={};v.exports=h;var p=t(69351),a=t(48140),n=t(53402),r=t(22562),e=t(66280);(function(){h.stack=function(s,o,i,l,u,f,d){for(var c=p.create({label:"Stack"}),m=s,g=o,x,T=0,S=0;S<l;S++){for(var P=0,L=0;L<i;L++){var I=d(m,g,L,S,x,T);if(I){var O=I.bounds.max.y-I.bounds.min.y,M=I.bounds.max.x-I.bounds.min.x;O>P&&(P=O),r.translate(I,{x:M*.5,y:O*.5}),m=I.bounds.max.x+u,p.addBody(c,I),x=I,T+=1}else m+=u}g+=P+f,m=s}return c},h.chain=function(s,o,i,l,u,f){for(var d=s.bodies,c=1;c<d.length;c++){var m=d[c-1],g=d[c],x=m.bounds.max.y-m.bounds.min.y,T=m.bounds.max.x-m.bounds.min.x,S=g.bounds.max.y-g.bounds.min.y,P=g.bounds.max.x-g.bounds.min.x,L={bodyA:m,pointA:{x:T*o,y:x*i},bodyB:g,pointB:{x:P*l,y:S*u}},I=n.extend(L,f);p.addConstraint(s,a.create(I))}return s.label+=" Chain",s},h.mesh=function(s,o,i,l,u){var f=s.bodies,d,c,m,g,x;for(d=0;d<i;d++){for(c=1;c<o;c++)m=f[c-1+d*o],g=f[c+d*o],p.addConstraint(s,a.create(n.extend({bodyA:m,bodyB:g},u)));if(d>0)for(c=0;c<o;c++)m=f[c+(d-1)*o],g=f[c+d*o],p.addConstraint(s,a.create(n.extend({bodyA:m,bodyB:g},u))),l&&c>0&&(x=f[c-1+(d-1)*o],p.addConstraint(s,a.create(n.extend({bodyA:x,bodyB:g},u)))),l&&c<o-1&&(x=f[c+1+(d-1)*o],p.addConstraint(s,a.create(n.extend({bodyA:x,bodyB:g},u))))}return s.label+=" Mesh",s},h.pyramid=function(s,o,i,l,u,f,d){return h.stack(s,o,i,l,u,f,function(c,m,g,x,T,S){var P=Math.min(l,Math.ceil(i/2)),L=T?T.bounds.max.x-T.bounds.min.x:0;if(!(x>P)){x=P-x;var I=x,O=i-1-x;if(!(g<I||g>O)){S===1&&r.translate(T,{x:(g+(i%2===1?1:-1))*L,y:0});var M=T?g*L:0;return d(s+M+g*u,m,g,x,T,S)}}})},h.newtonsCradle=function(s,o,i,l,u){for(var f=p.create({label:"Newtons Cradle"}),d=0;d<i;d++){var c=1.9,m=e.circle(s+d*(l*c),o+u,l,{inertia:1/0,restitution:1,friction:0,frictionAir:1e-4,slop:1}),g=a.create({pointA:{x:s+d*(l*c),y:o},bodyB:m});p.addBody(f,m),p.addConstraint(f,g)}return f},h.car=function(s,o,i,l,u){var f=r.nextGroup(!0),d=20,c=-i*.5+d,m=i*.5-d,g=0,x=p.create({label:"Car"}),T=e.rectangle(s,o,i,l,{collisionFilter:{group:f},chamfer:{radius:l*.5},density:2e-4}),S=e.circle(s+c,o+g,u,{collisionFilter:{group:f},friction:.8}),P=e.circle(s+m,o+g,u,{collisionFilter:{group:f},friction:.8}),L=a.create({bodyB:T,pointB:{x:c,y:g},bodyA:S,stiffness:1,length:0}),I=a.create({bodyB:T,pointB:{x:m,y:g},bodyA:P,stiffness:1,length:0});return p.addBody(x,T),p.addBody(x,S),p.addBody(x,P),p.addConstraint(x,L),p.addConstraint(x,I),x},h.softBody=function(s,o,i,l,u,f,d,c,m,g){m=n.extend({inertia:1/0},m),g=n.extend({stiffness:.2,render:{type:"line",anchors:!1}},g);var x=h.stack(s,o,i,l,u,f,function(T,S){return e.circle(T,S,c,m)});return h.mesh(x,i,l,d,g),x.label="Soft Body",x}})()},66615:(v,y,t)=>{var h={};v.exports=h;var p=t(31725),a=t(53402);(function(){h.fromVertices=function(n){for(var r={},e=0;e<n.length;e++){var s=(e+1)%n.length,o=p.normalise({x:n[s].y-n[e].y,y:n[e].x-n[s].x}),i=o.y===0?1/0:o.x/o.y;i=i.toFixed(3).toString(),r[i]=o}return a.values(r)},h.rotate=function(n,r){if(r!==0)for(var e=Math.cos(r),s=Math.sin(r),o=0;o<n.length;o++){var i=n[o],l;l=i.x*e-i.y*s,i.y=i.x*s+i.y*e,i.x=l}}})()},15647:v=>{var y={};v.exports=y,function(){y.create=function(t){var h={min:{x:0,y:0},max:{x:0,y:0}};return t&&y.update(h,t),h},y.update=function(t,h,p){t.min.x=1/0,t.max.x=-1/0,t.min.y=1/0,t.max.y=-1/0;for(var a=0;a<h.length;a++){var n=h[a];n.x>t.max.x&&(t.max.x=n.x),n.x<t.min.x&&(t.min.x=n.x),n.y>t.max.y&&(t.max.y=n.y),n.y<t.min.y&&(t.min.y=n.y)}p&&(p.x>0?t.max.x+=p.x:t.min.x+=p.x,p.y>0?t.max.y+=p.y:t.min.y+=p.y)},y.contains=function(t,h){return h.x>=t.min.x&&h.x<=t.max.x&&h.y>=t.min.y&&h.y<=t.max.y},y.overlaps=function(t,h){return t.min.x<=h.max.x&&t.max.x>=h.min.x&&t.max.y>=h.min.y&&t.min.y<=h.max.y},y.translate=function(t,h){t.min.x+=h.x,t.max.x+=h.x,t.min.y+=h.y,t.max.y+=h.y},y.shift=function(t,h){var p=t.max.x-t.min.x,a=t.max.y-t.min.y;t.min.x=h.x,t.max.x=h.x+p,t.min.y=h.y,t.max.y=h.y+a},y.wrap=function(t,h,p){var a=null,n=null;if(typeof h.min.x<"u"&&typeof h.max.x<"u"&&(t.min.x>h.max.x?a=h.min.x-t.max.x:t.max.x<h.min.x&&(a=h.max.x-t.min.x)),typeof h.min.y<"u"&&typeof h.max.y<"u"&&(t.min.y>h.max.y?n=h.min.y-t.max.y:t.max.y<h.min.y&&(n=h.max.y-t.min.y)),a!==null||n!==null)return{x:a||0,y:n||0}}}()},74058:(v,y,t)=>{var h={};v.exports=h,t(15647);var p=t(53402);(function(){h.pathToVertices=function(a,n){typeof window<"u"&&!("SVGPathSeg"in window)&&p.warn("Svg.pathToVertices: SVGPathSeg not defined, a polyfill is required.");var r,e,s,o,i,l,u,f,d,c,m=[],g,x,T=0,S=0,P=0;n=n||15;var L=function(O,M,w){var D=w%2===1&&w>1;if(!d||O!=d.x||M!=d.y){d&&D?(g=d.x,x=d.y):(g=0,x=0);var U={x:g+O,y:x+M};(D||!d)&&(d=U),m.push(U),S=g+O,P=x+M}},I=function(O){var M=O.pathSegTypeAsLetter.toUpperCase();if(M!=="Z"){switch(M){case"M":case"L":case"T":case"C":case"S":case"Q":S=O.x,P=O.y;break;case"H":S=O.x;break;case"V":P=O.y;break}L(S,P,O.pathSegType)}};for(h._svgPathToAbsolute(a),s=a.getTotalLength(),l=[],r=0;r<a.pathSegList.numberOfItems;r+=1)l.push(a.pathSegList.getItem(r));for(u=l.concat();T<s;){if(c=a.getPathSegAtLength(T),i=l[c],i!=f){for(;u.length&&u[0]!=i;)I(u.shift());f=i}switch(i.pathSegTypeAsLetter.toUpperCase()){case"C":case"T":case"S":case"Q":case"A":o=a.getPointAtLength(T),L(o.x,o.y,0);break}T+=n}for(r=0,e=u.length;r<e;++r)I(u[r]);return m},h._svgPathToAbsolute=function(a){for(var n,r,e,s,o,i,l=a.pathSegList,u=0,f=0,d=l.numberOfItems,c=0;c<d;++c){var m=l.getItem(c),g=m.pathSegTypeAsLetter;if(/[MLHVCSQTA]/.test(g))"x"in m&&(u=m.x),"y"in m&&(f=m.y);else switch("x1"in m&&(e=u+m.x1),"x2"in m&&(o=u+m.x2),"y1"in m&&(s=f+m.y1),"y2"in m&&(i=f+m.y2),"x"in m&&(u+=m.x),"y"in m&&(f+=m.y),g){case"m":l.replaceItem(a.createSVGPathSegMovetoAbs(u,f),c);break;case"l":l.replaceItem(a.createSVGPathSegLinetoAbs(u,f),c);break;case"h":l.replaceItem(a.createSVGPathSegLinetoHorizontalAbs(u),c);break;case"v":l.replaceItem(a.createSVGPathSegLinetoVerticalAbs(f),c);break;case"c":l.replaceItem(a.createSVGPathSegCurvetoCubicAbs(u,f,e,s,o,i),c);break;case"s":l.replaceItem(a.createSVGPathSegCurvetoCubicSmoothAbs(u,f,o,i),c);break;case"q":l.replaceItem(a.createSVGPathSegCurvetoQuadraticAbs(u,f,e,s),c);break;case"t":l.replaceItem(a.createSVGPathSegCurvetoQuadraticSmoothAbs(u,f),c);break;case"a":l.replaceItem(a.createSVGPathSegArcAbs(u,f,m.r1,m.r2,m.angle,m.largeArcFlag,m.sweepFlag),c);break;case"z":case"Z":u=n,f=r;break}(g=="M"||g=="m")&&(n=u,r=f)}}})()},31725:v=>{var y={};v.exports=y,function(){y.create=function(t,h){return{x:t||0,y:h||0}},y.clone=function(t){return{x:t.x,y:t.y}},y.magnitude=function(t){return Math.sqrt(t.x*t.x+t.y*t.y)},y.magnitudeSquared=function(t){return t.x*t.x+t.y*t.y},y.rotate=function(t,h,p){var a=Math.cos(h),n=Math.sin(h);p||(p={});var r=t.x*a-t.y*n;return p.y=t.x*n+t.y*a,p.x=r,p},y.rotateAbout=function(t,h,p,a){var n=Math.cos(h),r=Math.sin(h);a||(a={});var e=p.x+((t.x-p.x)*n-(t.y-p.y)*r);return a.y=p.y+((t.x-p.x)*r+(t.y-p.y)*n),a.x=e,a},y.normalise=function(t){var h=y.magnitude(t);return h===0?{x:0,y:0}:{x:t.x/h,y:t.y/h}},y.dot=function(t,h){return t.x*h.x+t.y*h.y},y.cross=function(t,h){return t.x*h.y-t.y*h.x},y.cross3=function(t,h,p){return(h.x-t.x)*(p.y-t.y)-(h.y-t.y)*(p.x-t.x)},y.add=function(t,h,p){return p||(p={}),p.x=t.x+h.x,p.y=t.y+h.y,p},y.sub=function(t,h,p){return p||(p={}),p.x=t.x-h.x,p.y=t.y-h.y,p},y.mult=function(t,h){return{x:t.x*h,y:t.y*h}},y.div=function(t,h){return{x:t.x/h,y:t.y/h}},y.perp=function(t,h){return h=h===!0?-1:1,{x:h*-t.y,y:h*t.x}},y.neg=function(t){return{x:-t.x,y:-t.y}},y.angle=function(t,h){return Math.atan2(h.y-t.y,h.x-t.x)},y._temp=[y.create(),y.create(),y.create(),y.create(),y.create(),y.create()]}()},41598:(v,y,t)=>{var h={};v.exports=h;var p=t(31725),a=t(53402);(function(){h.create=function(n,r){for(var e=[],s=0;s<n.length;s++){var o=n[s],i={x:o.x,y:o.y,index:s,body:r,isInternal:!1};e.push(i)}return e},h.fromPath=function(n,r){var e=/L?\s*([-\d.e]+)[\s,]*([-\d.e]+)*/ig,s=[];return n.replace(e,function(o,i,l){s.push({x:parseFloat(i),y:parseFloat(l)})}),h.create(s,r)},h.centre=function(n){for(var r=h.area(n,!0),e={x:0,y:0},s,o,i,l=0;l<n.length;l++)i=(l+1)%n.length,s=p.cross(n[l],n[i]),o=p.mult(p.add(n[l],n[i]),s),e=p.add(e,o);return p.div(e,6*r)},h.mean=function(n){for(var r={x:0,y:0},e=0;e<n.length;e++)r.x+=n[e].x,r.y+=n[e].y;return p.div(r,n.length)},h.area=function(n,r){for(var e=0,s=n.length-1,o=0;o<n.length;o++)e+=(n[s].x-n[o].x)*(n[s].y+n[o].y),s=o;return r?e/2:Math.abs(e)/2},h.inertia=function(n,r){for(var e=0,s=0,o=n,i,l,u=0;u<o.length;u++)l=(u+1)%o.length,i=Math.abs(p.cross(o[l],o[u])),e+=i*(p.dot(o[l],o[l])+p.dot(o[l],o[u])+p.dot(o[u],o[u])),s+=i;return r/6*(e/s)},h.translate=function(n,r,e){e=typeof e<"u"?e:1;var s=n.length,o=r.x*e,i=r.y*e,l;for(l=0;l<s;l++)n[l].x+=o,n[l].y+=i;return n},h.rotate=function(n,r,e){if(r!==0){var s=Math.cos(r),o=Math.sin(r),i=e.x,l=e.y,u=n.length,f,d,c,m;for(m=0;m<u;m++)f=n[m],d=f.x-i,c=f.y-l,f.x=i+(d*s-c*o),f.y=l+(d*o+c*s);return n}},h.contains=function(n,r){for(var e=r.x,s=r.y,o=n.length,i=n[o-1],l,u=0;u<o;u++){if(l=n[u],(e-i.x)*(l.y-i.y)+(s-i.y)*(i.x-l.x)>0)return!1;i=l}return!0},h.scale=function(n,r,e,s){if(r===1&&e===1)return n;s=s||h.centre(n);for(var o,i,l=0;l<n.length;l++)o=n[l],i=p.sub(o,s),n[l].x=s.x+i.x*r,n[l].y=s.y+i.y*e;return n},h.chamfer=function(n,r,e,s,o){typeof r=="number"?r=[r]:r=r||[8],e=typeof e<"u"?e:-1,s=s||2,o=o||14;for(var i=[],l=0;l<n.length;l++){var u=n[l-1>=0?l-1:n.length-1],f=n[l],d=n[(l+1)%n.length],c=r[l<r.length?l:r.length-1];if(c===0){i.push(f);continue}var m=p.normalise({x:f.y-u.y,y:u.x-f.x}),g=p.normalise({x:d.y-f.y,y:f.x-d.x}),x=Math.sqrt(2*Math.pow(c,2)),T=p.mult(a.clone(m),c),S=p.normalise(p.mult(p.add(m,g),.5)),P=p.sub(f,p.mult(S,x)),L=e;e===-1&&(L=Math.pow(c,.32)*1.75),L=a.clamp(L,s,o),L%2===1&&(L+=1);for(var I=Math.acos(p.dot(m,g)),O=I/L,M=0;M<L;M++)i.push(p.add(p.rotate(T,O*M),P))}return i},h.clockwiseSort=function(n){var r=h.mean(n);return n.sort(function(e,s){return p.angle(r,e)-p.angle(r,s)}),n},h.isConvex=function(n){var r=0,e=n.length,s,o,i,l;if(e<3)return null;for(s=0;s<e;s++)if(o=(s+1)%e,i=(s+2)%e,l=(n[o].x-n[s].x)*(n[i].y-n[o].y),l-=(n[o].y-n[s].y)*(n[i].x-n[o].x),l<0?r|=1:l>0&&(r|=2),r===3)return!1;return r!==0?!0:null},h.hull=function(n){var r=[],e=[],s,o;for(n=n.slice(0),n.sort(function(i,l){var u=i.x-l.x;return u!==0?u:i.y-l.y}),o=0;o<n.length;o+=1){for(s=n[o];e.length>=2&&p.cross3(e[e.length-2],e[e.length-1],s)<=0;)e.pop();e.push(s)}for(o=n.length-1;o>=0;o-=1){for(s=n[o];r.length>=2&&p.cross3(r[r.length-2],r[r.length-1],s)<=0;)r.pop();r.push(s)}return r.pop(),e.pop(),r.concat(e)}})()},55973:v=>{/**
 * @author       Stefan Hedman <schteppe@gmail.com> (http://steffe.se)
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={decomp:I,quickDecomp:D,isSimple:M,removeCollinearPoints:U,removeDuplicatePoints:Y,makeCCW:d};function y(G,z,b){b=b||0;var N=[0,0],W,K,J,j,Z,q,_;return W=G[1][1]-G[0][1],K=G[0][0]-G[1][0],J=W*G[0][0]+K*G[0][1],j=z[1][1]-z[0][1],Z=z[0][0]-z[1][0],q=j*z[0][0]+Z*z[0][1],_=W*Z-j*K,H(_,0,b)||(N[0]=(Z*J-K*q)/_,N[1]=(W*q-j*J)/_),N}function t(G,z,b,N){var W=z[0]-G[0],K=z[1]-G[1],J=N[0]-b[0],j=N[1]-b[1];if(J*K-j*W===0)return!1;var Z=(W*(b[1]-G[1])+K*(G[0]-b[0]))/(J*K-j*W),q=(J*(G[1]-b[1])+j*(b[0]-G[0]))/(j*W-J*K);return Z>=0&&Z<=1&&q>=0&&q<=1}function h(G,z,b){return(z[0]-G[0])*(b[1]-G[1])-(b[0]-G[0])*(z[1]-G[1])}function p(G,z,b){return h(G,z,b)>0}function a(G,z,b){return h(G,z,b)>=0}function n(G,z,b){return h(G,z,b)<0}function r(G,z,b){return h(G,z,b)<=0}var e=[],s=[];function o(G,z,b,N){if(N){var W=e,K=s;W[0]=z[0]-G[0],W[1]=z[1]-G[1],K[0]=b[0]-z[0],K[1]=b[1]-z[1];var J=W[0]*K[0]+W[1]*K[1],j=Math.sqrt(W[0]*W[0]+W[1]*W[1]),Z=Math.sqrt(K[0]*K[0]+K[1]*K[1]),q=Math.acos(J/(j*Z));return q<N}else return h(G,z,b)===0}function i(G,z){var b=z[0]-G[0],N=z[1]-G[1];return b*b+N*N}function l(G,z){var b=G.length;return G[z<0?z%b+b:z%b]}function u(G){G.length=0}function f(G,z,b,N){for(var W=b;W<N;W++)G.push(z[W])}function d(G){for(var z=0,b=G,N=1;N<G.length;++N)(b[N][1]<b[z][1]||b[N][1]===b[z][1]&&b[N][0]>b[z][0])&&(z=N);return p(l(G,z-1),l(G,z),l(G,z+1))?!1:(c(G),!0)}function c(G){for(var z=[],b=G.length,N=0;N!==b;N++)z.push(G.pop());for(var N=0;N!==b;N++)G[N]=z[N]}function m(G,z){return n(l(G,z-1),l(G,z),l(G,z+1))}var g=[],x=[];function T(G,z,b){var N,W,K=g,J=x;if(a(l(G,z+1),l(G,z),l(G,b))&&r(l(G,z-1),l(G,z),l(G,b)))return!1;W=i(l(G,z),l(G,b));for(var j=0;j!==G.length;++j)if(!((j+1)%G.length===z||j===z)&&a(l(G,z),l(G,b),l(G,j+1))&&r(l(G,z),l(G,b),l(G,j))&&(K[0]=l(G,z),K[1]=l(G,b),J[0]=l(G,j),J[1]=l(G,j+1),N=y(K,J),i(l(G,z),N)<W))return!1;return!0}function S(G,z,b){for(var N=0;N!==G.length;++N)if(!(N===z||N===b||(N+1)%G.length===z||(N+1)%G.length===b)&&t(l(G,z),l(G,b),l(G,N),l(G,N+1)))return!1;return!0}function P(G,z,b,N){var W=N||[];if(u(W),z<b)for(var K=z;K<=b;K++)W.push(G[K]);else{for(var K=0;K<=b;K++)W.push(G[K]);for(var K=z;K<G.length;K++)W.push(G[K])}return W}function L(G){for(var z=[],b=[],N=[],W=[],K=Number.MAX_VALUE,J=0;J<G.length;++J)if(m(G,J)){for(var j=0;j<G.length;++j)if(T(G,J,j)){b=L(P(G,J,j,W)),N=L(P(G,j,J,W));for(var Z=0;Z<N.length;Z++)b.push(N[Z]);b.length<K&&(z=b,K=b.length,z.push([l(G,J),l(G,j)]))}}return z}function I(G){var z=L(G);return z.length>0?O(G,z):[G]}function O(G,z){if(z.length===0)return[G];if(z instanceof Array&&z.length&&z[0]instanceof Array&&z[0].length===2&&z[0][0]instanceof Array){for(var b=[G],N=0;N<z.length;N++)for(var W=z[N],K=0;K<b.length;K++){var J=b[K],j=O(J,W);if(j){b.splice(K,1),b.push(j[0],j[1]);break}}return b}else{var W=z,N=G.indexOf(W[0]),K=G.indexOf(W[1]);return N!==-1&&K!==-1?[P(G,N,K),P(G,K,N)]:!1}}function M(G){var z=G,b;for(b=0;b<z.length-1;b++)for(var N=0;N<b-1;N++)if(t(z[b],z[b+1],z[N],z[N+1]))return!1;for(b=1;b<z.length-2;b++)if(t(z[0],z[z.length-1],z[b],z[b+1]))return!1;return!0}function w(G,z,b,N,W){W=W||0;var K=z[1]-G[1],J=G[0]-z[0],j=K*G[0]+J*G[1],Z=N[1]-b[1],q=b[0]-N[0],_=Z*b[0]+q*b[1],tt=K*q-Z*J;return H(tt,0,W)?[0,0]:[(q*j-J*_)/tt,(K*_-Z*j)/tt]}function D(G,z,b,N,W,K,J){K=K||100,J=J||0,W=W||25,z=typeof z<"u"?z:[],b=b||[],N=N||[];var j=[0,0],Z=[0,0],q=[0,0],_=0,tt=0,et=0,ot=0,it=0,lt=0,vt=0,xt=[],yt=[],nt=G,dt=G;if(dt.length<3)return z;if(J++,J>K)return console.warn("quickDecomp: max level ("+K+") reached."),z;for(var ct=0;ct<G.length;++ct)if(m(nt,ct)){b.push(nt[ct]),_=tt=Number.MAX_VALUE;for(var Rt=0;Rt<G.length;++Rt)p(l(nt,ct-1),l(nt,ct),l(nt,Rt))&&r(l(nt,ct-1),l(nt,ct),l(nt,Rt-1))&&(q=w(l(nt,ct-1),l(nt,ct),l(nt,Rt),l(nt,Rt-1)),n(l(nt,ct+1),l(nt,ct),q)&&(et=i(nt[ct],q),et<tt&&(tt=et,Z=q,lt=Rt))),p(l(nt,ct+1),l(nt,ct),l(nt,Rt+1))&&r(l(nt,ct+1),l(nt,ct),l(nt,Rt))&&(q=w(l(nt,ct+1),l(nt,ct),l(nt,Rt),l(nt,Rt+1)),p(l(nt,ct-1),l(nt,ct),q)&&(et=i(nt[ct],q),et<_&&(_=et,j=q,it=Rt)));if(lt===(it+1)%G.length)q[0]=(Z[0]+j[0])/2,q[1]=(Z[1]+j[1])/2,N.push(q),ct<it?(f(xt,nt,ct,it+1),xt.push(q),yt.push(q),lt!==0&&f(yt,nt,lt,nt.length),f(yt,nt,0,ct+1)):(ct!==0&&f(xt,nt,ct,nt.length),f(xt,nt,0,it+1),xt.push(q),yt.push(q),f(yt,nt,lt,ct+1));else{if(lt>it&&(it+=G.length),ot=Number.MAX_VALUE,it<lt)return z;for(var Rt=lt;Rt<=it;++Rt)a(l(nt,ct-1),l(nt,ct),l(nt,Rt))&&r(l(nt,ct+1),l(nt,ct),l(nt,Rt))&&(et=i(l(nt,ct),l(nt,Rt)),et<ot&&S(nt,ct,Rt)&&(ot=et,vt=Rt%G.length));ct<vt?(f(xt,nt,ct,vt+1),vt!==0&&f(yt,nt,vt,dt.length),f(yt,nt,0,ct+1)):(ct!==0&&f(xt,nt,ct,dt.length),f(xt,nt,0,vt+1),f(yt,nt,vt,ct+1))}return xt.length<yt.length?(D(xt,z,b,N,W,K,J),D(yt,z,b,N,W,K,J)):(D(yt,z,b,N,W,K,J),D(xt,z,b,N,W,K,J)),z}return z.push(G),z}function U(G,z){for(var b=0,N=G.length-1;G.length>3&&N>=0;--N)o(l(G,N-1),l(G,N),l(G,N+1),z)&&(G.splice(N%G.length,1),b++);return b}function Y(G,z){for(var b=G.length-1;b>=1;--b)for(var N=G[b],W=b-1;W>=0;--W)if(X(N,G[W],z)){G.splice(b,1);continue}}function H(G,z,b){return b=b||0,Math.abs(G-z)<=b}function X(G,z,b){return H(G[0],z[0],b)&&H(G[1],z[1],b)}},52018:(v,y,t)=>{/**
* @author       Richard Davey <rich@phaser.io>
* @copyright    2013-2024 Phaser Studio Inc.
* @license      {@link https://github.com/photonstorm/phaser3-plugin-template/blob/master/LICENSE|MIT License}
*/var h=t(83419),p=new h({initialize:function(n){this.pluginManager=n,this.game=n.game},init:function(){},start:function(){},stop:function(){},destroy:function(){this.pluginManager=null,this.game=null,this.scene=null,this.systems=null}});v.exports=p},42363:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={Global:["game","anims","cache","plugins","registry","scale","sound","textures","renderer"],CoreScene:["EventEmitter","CameraManager","GameObjectCreator","GameObjectFactory","ScenePlugin","DisplayList","UpdateList"],DefaultScene:["Clock","DataManagerPlugin","InputPlugin","Loader","TweenManager","LightsPlugin"]};v.exports=y},37277:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={},t={},h={};h.register=function(p,a,n,r){r===void 0&&(r=!1),y[p]={plugin:a,mapping:n,custom:r}},h.registerCustom=function(p,a,n,r){t[p]={plugin:a,mapping:n,data:r}},h.hasCore=function(p){return y.hasOwnProperty(p)},h.hasCustom=function(p){return t.hasOwnProperty(p)},h.getCore=function(p){return y[p]},h.getCustom=function(p){return t[p]},h.getCustomClass=function(p){return t.hasOwnProperty(p)?t[p].plugin:null},h.remove=function(p){y.hasOwnProperty(p)&&delete y[p]},h.removeCustom=function(p){t.hasOwnProperty(p)&&delete t[p]},h.destroyCorePlugins=function(){for(var p in y)y.hasOwnProperty(p)&&delete y[p]},h.destroyCustomPlugins=function(){for(var p in t)t.hasOwnProperty(p)&&delete t[p]},v.exports=h},77332:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),p=t(8443),a=t(50792),n=t(74099),r=t(44603),e=t(39429),s=t(95540),o=t(37277),i=t(72905),l=new h({Extends:a,initialize:function(f){a.call(this),this.game=f,this.plugins=[],this.scenePlugins=[],this._pendingGlobal=[],this._pendingScene=[],f.isBooted?this.boot():f.events.once(p.BOOT,this.boot,this)},boot:function(){var u,f,d,c,m,g,x,T=this.game.config,S=T.installGlobalPlugins;for(S=S.concat(this._pendingGlobal),u=0;u<S.length;u++)f=S[u],d=s(f,"key",null),c=s(f,"plugin",null),m=s(f,"start",!1),g=s(f,"mapping",null),x=s(f,"data",null),d&&(c?this.install(d,c,m,g,x):console.warn("Missing `plugin` for key: "+d));for(S=T.installScenePlugins,S=S.concat(this._pendingScene),u=0;u<S.length;u++)f=S[u],d=s(f,"key",null),c=s(f,"plugin",null),g=s(f,"mapping",null),d&&(c?this.installScenePlugin(d,c,g):console.warn("Missing `plugin` for key: "+d));this._pendingGlobal=[],this._pendingScene=[],this.game.events.once(p.DESTROY,this.destroy,this)},addToScene:function(u,f,d){var c,m,g,x=this.game,T=u.scene,S=u.settings.map,P=u.settings.isBooted;for(c=0;c<f.length;c++)m=f[c],x[m]?(u[m]=x[m],S.hasOwnProperty(m)&&(T[S[m]]=u[m])):m==="game"&&S.hasOwnProperty(m)&&(T[S[m]]=x);for(var L=0;L<d.length;L++)for(g=d[L],c=0;c<g.length;c++)if(m=g[c],!!o.hasCore(m)){var I=o.getCore(m),O=I.mapping,M=new I.plugin(T,this,O);u[O]=M,I.custom?T[O]=M:S.hasOwnProperty(O)&&(T[S[O]]=M),P&&M.boot()}for(g=this.plugins,c=0;c<g.length;c++){var w=g[c];w.mapping&&(T[w.mapping]=w.plugin)}},getDefaultScenePlugins:function(){var u=this.game.config.defaultPlugins;return u=u.concat(this.scenePlugins),u},installScenePlugin:function(u,f,d,c,m){if(m===void 0&&(m=!1),typeof f!="function"){console.warn("Invalid Scene Plugin: "+u);return}if(o.hasCore(u)||o.register(u,f,d,!0),this.scenePlugins.indexOf(u)===-1)this.scenePlugins.push(u);else if(!m&&o.hasCore(u)){console.warn("Scene Plugin key in use: "+u);return}if(c){var g=new f(c,this,u);c.sys[u]=g,d&&d!==""&&(c[d]=g),g.boot()}},install:function(u,f,d,c,m){if(d===void 0&&(d=!1),c===void 0&&(c=null),m===void 0&&(m=null),typeof f!="function")return console.warn("Invalid Plugin: "+u),null;if(o.hasCustom(u))return console.warn("Plugin key in use: "+u),null;if(c!==null&&(d=!0),!this.game.isBooted)this._pendingGlobal.push({key:u,plugin:f,start:d,mapping:c,data:m});else if(o.registerCustom(u,f,c,m),d)return this.start(u);return null},getIndex:function(u){for(var f=this.plugins,d=0;d<f.length;d++){var c=f[d];if(c.key===u)return d}return-1},getEntry:function(u){var f=this.getIndex(u);if(f!==-1)return this.plugins[f]},isActive:function(u){var f=this.getEntry(u);return f&&f.active},start:function(u,f){f===void 0&&(f=u);var d=this.getEntry(f);return d&&!d.active?(d.active=!0,d.plugin.start()):d||(d=this.createEntry(u,f)),d?d.plugin:null},createEntry:function(u,f){var d=o.getCustom(u);if(d){var c=new d.plugin(this);d={key:f,plugin:c,active:!0,mapping:d.mapping,data:d.data},this.plugins.push(d),c.init(d.data),c.start()}return d},stop:function(u){var f=this.getEntry(u);return f&&f.active&&(f.active=!1,f.plugin.stop()),this},get:function(u,f){f===void 0&&(f=!0);var d=this.getEntry(u);if(d)return d.plugin;var c=this.getClass(u);return c&&f?(d=this.createEntry(u,u),d?d.plugin:null):c||null},getClass:function(u){return o.getCustomClass(u)},removeGlobalPlugin:function(u){var f=this.getEntry(u);f&&i(this.plugins,f),o.removeCustom(u)},removeScenePlugin:function(u){i(this.scenePlugins,u),o.remove(u)},registerGameObject:function(u,f,d){return f&&e.register(u,f),d&&r.register(u,d),this},removeGameObject:function(u,f,d){return f===void 0&&(f=!0),d===void 0&&(d=!0),f&&e.remove(u),d&&r.remove(u),this},registerFileType:function(u,f,d){n.register(u,f),d&&d.sys.load&&(d.sys.load[u]=f)},destroy:function(){for(var u=0;u<this.plugins.length;u++)this.plugins[u].plugin.destroy();o.destroyCustomPlugins(),this.game.noReturn&&o.destroyCorePlugins(),this.game=null,this.plugins=[],this.scenePlugins=[]}});v.exports=l},45145:(v,y,t)=>{/**
* @author       Richard Davey <rich@phaser.io>
* @copyright    2013-2024 Phaser Studio Inc.
* @license      {@link https://github.com/photonstorm/phaser3-plugin-template/blob/master/LICENSE|MIT License}
*/var h=t(52018),p=t(83419),a=t(44594),n=new p({Extends:h,initialize:function(e,s,o){h.call(this,s),this.scene=e,this.systems=e.sys,this.pluginKey=o,e.sys.events.once(a.BOOT,this.boot,this)},boot:function(){},destroy:function(){this.pluginManager=null,this.game=null,this.scene=null,this.systems=null}});v.exports=n},18922:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={BasePlugin:t(52018),DefaultPlugins:t(42363),PluginCache:t(37277),PluginManager:t(77332),ScenePlugin:t(45145)}},63595:()=>{typeof HTMLVideoElement<"u"&&!("requestVideoFrameCallback"in HTMLVideoElement.prototype)&&"getVideoPlaybackQuality"in HTMLVideoElement.prototype&&(HTMLVideoElement.prototype._rvfcpolyfillmap={},HTMLVideoElement.prototype.requestVideoFrameCallback=function(v){const y=performance.now(),t=this.getVideoPlaybackQuality(),h=this.mozPresentedFrames||this.mozPaintedFrames||t.totalVideoFrames-t.droppedVideoFrames,p=(a,n)=>{const r=this.getVideoPlaybackQuality(),e=this.mozPresentedFrames||this.mozPaintedFrames||r.totalVideoFrames-r.droppedVideoFrames;if(e>h){const s=this.mozFrameDelay||r.totalFrameDelay-t.totalFrameDelay||0,o=n-a;v(n,{presentationTime:n+s*1e3,expectedDisplayTime:n+o,width:this.videoWidth,height:this.videoHeight,mediaTime:Math.max(0,this.currentTime||0)+o/1e3,presentedFrames:e,processingDuration:s}),delete this._rvfcpolyfillmap[y]}else this._rvfcpolyfillmap[y]=requestAnimationFrame(s=>p(n,s))};return this._rvfcpolyfillmap[y]=requestAnimationFrame(a=>p(y,a)),y},HTMLVideoElement.prototype.cancelVideoFrameCallback=function(v){cancelAnimationFrame(this._rvfcpolyfillmap[v]),delete this._rvfcpolyfillmap[v]})},10312:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={SKIP_CHECK:-1,NORMAL:0,ADD:1,MULTIPLY:2,SCREEN:3,OVERLAY:4,DARKEN:5,LIGHTEN:6,COLOR_DODGE:7,COLOR_BURN:8,HARD_LIGHT:9,SOFT_LIGHT:10,DIFFERENCE:11,EXCLUSION:12,HUE:13,SATURATION:14,COLOR:15,LUMINOSITY:16,ERASE:17,SOURCE_IN:18,SOURCE_OUT:19,SOURCE_ATOP:20,DESTINATION_OVER:21,DESTINATION_IN:22,DESTINATION_OUT:23,DESTINATION_ATOP:24,LIGHTER:25,COPY:26,XOR:27}},29795:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={DEFAULT:0,LINEAR:0,NEAREST:1};v.exports=y},68627:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(19715),p=t(32880),a=t(83419),n=t(8054),r=t(50792),e=t(92503),s=t(56373),o=t(97480),i=t(69442),l=t(61340),u=new a({Extends:r,initialize:function(d){r.call(this);var c=d.config;this.config={clearBeforeRender:c.clearBeforeRender,backgroundColor:c.backgroundColor,antialias:c.antialias,roundPixels:c.roundPixels},this.game=d,this.type=n.CANVAS,this.drawCount=0,this.width=0,this.height=0,this.gameCanvas=d.canvas;var m={alpha:d.config.transparent,desynchronized:d.config.desynchronized,willReadFrequently:!1};this.gameContext=c.context?c.context:this.gameCanvas.getContext("2d",m),this.currentContext=this.gameContext,this.antialias=d.config.antialias,this.blendModes=s(),this.snapshotState={x:0,y:0,width:1,height:1,getPixel:!1,callback:null,type:"image/png",encoder:.92},this._tempMatrix1=new l,this._tempMatrix2=new l,this._tempMatrix3=new l,this.isBooted=!1,this.init()},init:function(){this.game.textures.once(i.READY,this.boot,this)},boot:function(){var f=this.game,d=f.scale.baseSize;this.width=d.width,this.height=d.height,this.isBooted=!0,f.scale.on(o.RESIZE,this.onResize,this),this.resize(d.width,d.height)},onResize:function(f,d){(d.width!==this.width||d.height!==this.height)&&this.resize(d.width,d.height)},resize:function(f,d){this.width=f,this.height=d,this.emit(e.RESIZE,f,d)},resetTransform:function(){this.currentContext.setTransform(1,0,0,1,0,0)},setBlendMode:function(f){return this.currentContext.globalCompositeOperation=f,this},setContext:function(f){return this.currentContext=f||this.gameContext,this},setAlpha:function(f){return this.currentContext.globalAlpha=f,this},preRender:function(){var f=this.gameContext,d=this.config,c=this.width,m=this.height;f.globalAlpha=1,f.globalCompositeOperation="source-over",f.setTransform(1,0,0,1,0,0),this.emit(e.PRE_RENDER_CLEAR),d.clearBeforeRender&&(f.clearRect(0,0,c,m),d.transparent||(f.fillStyle=d.backgroundColor.rgba,f.fillRect(0,0,c,m))),f.save(),this.drawCount=0,this.emit(e.PRE_RENDER)},render:function(f,d,c){var m=d.length;this.emit(e.RENDER,f,c);var g=c.x,x=c.y,T=c.width,S=c.height,P=c.renderToTexture?c.context:f.sys.context;P.save(),this.game.scene.customViewports&&(P.beginPath(),P.rect(g,x,T,S),P.clip()),c.emit(h.PRE_RENDER,c),this.currentContext=P;var L=c.mask;L&&L.preRenderCanvas(this,null,c._maskCamera),c.transparent||(P.fillStyle=c.backgroundColor.rgba,P.fillRect(g,x,T,S)),P.globalAlpha=c.alpha,P.globalCompositeOperation="source-over",this.drawCount+=m,c.renderToTexture&&c.emit(h.PRE_RENDER,c),c.matrix.copyToContext(P);for(var I=0;I<m;I++){var O=d[I];O.mask&&O.mask.preRenderCanvas(this,O,c),O.renderCanvas(this,O,c),O.mask&&O.mask.postRenderCanvas(this,O,c)}P.setTransform(1,0,0,1,0,0),P.globalCompositeOperation="source-over",P.globalAlpha=1,c.flashEffect.postRenderCanvas(P),c.fadeEffect.postRenderCanvas(P),c.dirty=!1,L&&L.postRenderCanvas(this),P.restore(),c.renderToTexture&&(c.emit(h.POST_RENDER,c),c.renderToGame&&f.sys.context.drawImage(c.canvas,g,x)),c.emit(h.POST_RENDER,c)},postRender:function(){var f=this.gameContext;f.restore(),this.emit(e.POST_RENDER);var d=this.snapshotState;d.callback&&(p(this.gameCanvas,d),d.callback=null)},snapshotCanvas:function(f,d,c,m,g,x,T,S,P){c===void 0&&(c=!1),this.snapshotArea(m,g,x,T,d,S,P);var L=this.snapshotState;return L.getPixel=c,p(f,L),L.callback=null,this},snapshot:function(f,d,c){return this.snapshotArea(0,0,this.gameCanvas.width,this.gameCanvas.height,f,d,c)},snapshotArea:function(f,d,c,m,g,x,T){var S=this.snapshotState;return S.callback=g,S.type=x,S.encoder=T,S.getPixel=!1,S.x=f,S.y=d,S.width=Math.min(c,this.gameCanvas.width),S.height=Math.min(m,this.gameCanvas.height),this},snapshotPixel:function(f,d,c){return this.snapshotArea(f,d,1,1,c),this.snapshotState.getPixel=!0,this},batchSprite:function(f,d,c,m){var g=c.alpha*f.alpha;if(g!==0){var x=this.currentContext,T=this._tempMatrix1,S=this._tempMatrix2,P=d.canvasData,L=P.x,I=P.y,O=d.cutWidth,M=d.cutHeight,w=d.customPivot,D=d.source.resolution,U=f.displayOriginX,Y=f.displayOriginY,H=-U+d.x,X=-Y+d.y;if(f.isCropped){var G=f._crop;(G.flipX!==f.flipX||G.flipY!==f.flipY)&&d.updateCropUVs(G,f.flipX,f.flipY),O=G.cw,M=G.ch,L=G.cx,I=G.cy,H=-U+G.x,X=-Y+G.y,f.flipX&&(H>=0?H=-(H+O):H<0&&(H=Math.abs(H)-O)),f.flipY&&(X>=0?X=-(X+M):X<0&&(X=Math.abs(X)-M))}var z=1,b=1;f.flipX&&(w||(H+=-d.realWidth+U*2),z=-1),f.flipY&&(w||(X+=-d.realHeight+Y*2),b=-1);var N=f.x,W=f.y;if(c.roundPixels&&(N=Math.floor(N),W=Math.floor(W)),S.applyITRS(N,W,f.rotation,f.scaleX*z,f.scaleY*b),T.copyFrom(c.matrix),m?(T.multiplyWithOffset(m,-c.scrollX*f.scrollFactorX,-c.scrollY*f.scrollFactorY),S.e=N,S.f=W):(S.e-=c.scrollX*f.scrollFactorX,S.f-=c.scrollY*f.scrollFactorY),T.multiply(S),c.renderRoundPixels&&(T.e=Math.floor(T.e+.5),T.f=Math.floor(T.f+.5)),x.save(),T.setToContext(x),x.globalCompositeOperation=this.blendModes[f.blendMode],x.globalAlpha=g,x.imageSmoothingEnabled=!d.source.scaleMode,f.mask&&f.mask.preRenderCanvas(this,f,c),O>0&&M>0){var K=O/D,J=M/D;c.roundPixels&&(H=Math.floor(H+.5),X=Math.floor(X+.5),K+=.5,J+=.5),x.drawImage(d.source.image,L,I,O,M,H,X,K,J)}f.mask&&f.mask.postRenderCanvas(this,f,c),x.restore()}},destroy:function(){this.removeAllListeners(),this.game=null,this.gameCanvas=null,this.gameContext=null}});v.exports=u},55830:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={CanvasRenderer:t(68627),GetBlendModes:t(56373),SetTransform:t(20926)}},56373:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(10312),p=t(89289),a=function(){var n=[],r=p.supportNewBlendModes,e="source-over";return n[h.NORMAL]=e,n[h.ADD]="lighter",n[h.MULTIPLY]=r?"multiply":e,n[h.SCREEN]=r?"screen":e,n[h.OVERLAY]=r?"overlay":e,n[h.DARKEN]=r?"darken":e,n[h.LIGHTEN]=r?"lighten":e,n[h.COLOR_DODGE]=r?"color-dodge":e,n[h.COLOR_BURN]=r?"color-burn":e,n[h.HARD_LIGHT]=r?"hard-light":e,n[h.SOFT_LIGHT]=r?"soft-light":e,n[h.DIFFERENCE]=r?"difference":e,n[h.EXCLUSION]=r?"exclusion":e,n[h.HUE]=r?"hue":e,n[h.SATURATION]=r?"saturation":e,n[h.COLOR]=r?"color":e,n[h.LUMINOSITY]=r?"luminosity":e,n[h.ERASE]="destination-out",n[h.SOURCE_IN]="source-in",n[h.SOURCE_OUT]="source-out",n[h.SOURCE_ATOP]="source-atop",n[h.DESTINATION_OVER]="destination-over",n[h.DESTINATION_IN]="destination-in",n[h.DESTINATION_OUT]="destination-out",n[h.DESTINATION_ATOP]="destination-atop",n[h.LIGHTER]="lighter",n[h.COPY]="copy",n[h.XOR]="xor",n};v.exports=a},20926:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(91296),p=function(a,n,r,e,s){var o=e.alpha*r.alpha;if(o<=0)return!1;var i=h(r,e,s).calc;return n.globalCompositeOperation=a.blendModes[r.blendMode],n.globalAlpha=o,n.save(),i.setToContext(n),n.imageSmoothingEnabled=r.frame?!r.frame.source.scaleMode:a.antialias,!0};v.exports=p},63899:v=>{/**
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="losewebgl"},6119:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="postrender"},48070:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="prerender"},15640:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="render"},8912:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="resize"},87124:v=>{/**
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="restorewebgl"},92503:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={LOSE_WEBGL:t(63899),POST_RENDER:t(6119),PRE_RENDER:t(48070),RENDER:t(15640),RESIZE:t(8912),RESTORE_WEBGL:t(87124)}},36909:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={Events:t(92503),Snapshot:t(89966)},v.exports.Canvas=t(55830),v.exports.WebGL=t(4159)},32880:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(27919),p=t(40987),a=t(95540),n=function(r,e){var s=a(e,"callback"),o=a(e,"type","image/png"),i=a(e,"encoder",.92),l=Math.abs(Math.round(a(e,"x",0))),u=Math.abs(Math.round(a(e,"y",0))),f=Math.floor(a(e,"width",r.width)),d=Math.floor(a(e,"height",r.height)),c=a(e,"getPixel",!1);if(c){var m=r.getContext("2d",{willReadFrequently:!1}),g=m.getImageData(l,u,1,1),x=g.data;s.call(null,new p(x[0],x[1],x[2],x[3]))}else if(l!==0||u!==0||f!==r.width||d!==r.height){var T=h.createWebGL(this,f,d),S=T.getContext("2d",{willReadFrequently:!0});f>0&&d>0&&S.drawImage(r,l,u,f,d,0,0,f,d);var P=new Image;P.onerror=function(){s.call(null),h.remove(T)},P.onload=function(){s.call(null,P),h.remove(T)},P.src=T.toDataURL(o,i)}else{var L=new Image;L.onerror=function(){s.call(null)},L.onload=function(){s.call(null,L)},L.src=r.toDataURL(o,i)}};v.exports=n},88815:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(27919),p=t(40987),a=t(95540),n=function(r,e){var s=r,o=a(e,"callback"),i=a(e,"type","image/png"),l=a(e,"encoder",.92),u=Math.abs(Math.round(a(e,"x",0))),f=Math.abs(Math.round(a(e,"y",0))),d=a(e,"getPixel",!1),c=a(e,"isFramebuffer",!1),m=c?a(e,"bufferWidth",1):s.drawingBufferWidth,g=c?a(e,"bufferHeight",1):s.drawingBufferHeight;if(d){var x=new Uint8Array(4),T=c?f:g-f;s.readPixels(u,T,1,1,s.RGBA,s.UNSIGNED_BYTE,x),o.call(null,new p(x[0],x[1],x[2],x[3]))}else{var S=Math.floor(a(e,"width",m)),P=Math.floor(a(e,"height",g)),L=S*P*4,I=new Uint8Array(L);s.readPixels(u,g-f-P,S,P,s.RGBA,s.UNSIGNED_BYTE,I);for(var O=h.createWebGL(this,S,P),M=O.getContext("2d",{willReadFrequently:!0}),w=M.getImageData(0,0,S,P),D=w.data,U=0;U<P;U++)for(var Y=0;Y<S;Y++){var H=((P-U-1)*S+Y)*4,X=c?L-(U*S+(S-Y))*4:(U*S+Y)*4;D[X+0]=I[H+0],D[X+1]=I[H+1],D[X+2]=I[H+2],D[X+3]=I[H+3]}M.putImageData(w,0,0);var G=new Image;G.onerror=function(){o.call(null),h.remove(O)},G.onload=function(){o.call(null,G),h.remove(O)},G.src=O.toDataURL(i,l)}};v.exports=n},89966:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={Canvas:t(32880),WebGL:t(88815)}},7530:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),p=t(36060),a=t(90330),n=t(82264),r=t(95540),e=t(32302),s=t(63448),o=t(31302),i=t(58918),l=t(14811),u=t(92651),f=t(96569),d=t(56527),c=t(57516),m=t(43439),g=t(81041),x=t(12385),T=t(7589),S=t(95428),P=t(72905),L=new h({initialize:function(O){this.game=O.game,this.renderer=O,this.classes=new a([[p.UTILITY_PIPELINE,T],[p.MULTI_PIPELINE,c],[p.BITMAPMASK_PIPELINE,o],[p.SINGLE_PIPELINE,x],[p.ROPE_PIPELINE,g],[p.LIGHT_PIPELINE,f],[p.POINTLIGHT_PIPELINE,m],[p.MOBILE_PIPELINE,d]]),this.postPipelineClasses=new a,this.pipelines=new a,this.postPipelineInstances=[],this.default=null,this.current=null,this.previous=null,this.MULTI_PIPELINE=null,this.BITMAPMASK_PIPELINE=null,this.UTILITY_PIPELINE=null,this.MOBILE_PIPELINE=null,this.FX_PIPELINE=null,this.fullFrame1,this.fullFrame2,this.halfFrame1,this.halfFrame2,this.renderTargets=[],this.maxDimension=0,this.frameInc=32,this.targetIndex=0},boot:function(I,O,M){var w=this.renderer,D=this.renderTargets;this.frameInc=Math.floor(r(I,"frameInc",32));var U=w.width,Y=w.height,H=this.game.config.disablePreFX,X=this.game.config.disablePostFX;if(X||this.postPipelineClasses.setAll([[String(l.BARREL),i.Barrel],[String(l.BLOOM),i.Bloom],[String(l.BLUR),i.Blur],[String(l.BOKEH),i.Bokeh],[String(l.CIRCLE),i.Circle],[String(l.COLOR_MATRIX),i.ColorMatrix],[String(l.DISPLACEMENT),i.Displacement],[String(l.GLOW),i.Glow],[String(l.GRADIENT),i.Gradient],[String(l.PIXELATE),i.Pixelate],[String(l.SHADOW),i.Shadow],[String(l.SHINE),i.Shine],[String(l.VIGNETTE),i.Vignette],[String(l.WIPE),i.Wipe]]),!H){this.classes.set(p.FX_PIPELINE,u);for(var G=Math.min(U,Y),z=Math.ceil(G/this.frameInc),b=1;b<z;b++){var N=b*this.frameInc;D.push(new e(w,N,N)),D.push(new e(w,N,N)),D.push(new e(w,N,N)),this.maxDimension=N}D.push(new e(w,U,Y,1,0,!0,!0)),D.push(new e(w,U,Y,1,0,!0,!0)),D.push(new e(w,U,Y,1,0,!0,!0))}var W,K,J=this,j=this.game;if(this.classes.each(function(q,_){W=J.add(q,new _({game:j})),q===p.UTILITY_PIPELINE&&(J.UTILITY_PIPELINE=W,J.fullFrame1=W.fullFrame1,J.fullFrame2=W.fullFrame2,J.halfFrame1=W.halfFrame1,J.halfFrame2=W.halfFrame2)}),this.MULTI_PIPELINE=this.get(p.MULTI_PIPELINE),this.BITMAPMASK_PIPELINE=this.get(p.BITMAPMASK_PIPELINE),this.MOBILE_PIPELINE=this.get(p.MOBILE_PIPELINE),H||(this.FX_PIPELINE=this.get(p.FX_PIPELINE)),I)for(K in I){var Z=I[K];W=new Z(j),W.name=K,W.isPostFX?this.postPipelineClasses.set(K,Z):this.has(K)||(this.classes.set(K,Z),this.add(K,W))}this.default=this.get(O),M&&!n.os.desktop&&(this.default=this.MOBILE_PIPELINE)},setDefaultPipeline:function(I){var O=this.get(I);return O&&(this.default=O),O},add:function(I,O){if(O.isPostFX){console.warn(I+" is a Post Pipeline. Use `addPostPipeline` instead");return}var M=this.pipelines,w=this.renderer;return M.has(I)?console.warn("Pipeline exists: "+I):(O.name=I,O.manager=this,M.set(I,O)),O.hasBooted||O.boot(),w.width!==0&&w.height!==0&&!O.isPreFX&&O.resize(w.width,w.height),O},addPostPipeline:function(I,O){this.postPipelineClasses.has(I)||this.postPipelineClasses.set(I,O)},flush:function(){this.current&&this.current.flush()},has:function(I){var O=this.pipelines;return typeof I=="string"?O.has(I):!!O.contains(I)},get:function(I){var O=this.pipelines;if(typeof I=="string")return O.get(I);if(O.contains(I))return I},getPostPipeline:function(I,O,M){var w=this.postPipelineClasses,D,U="",Y=typeof I;if(Y==="string"||Y==="number"?(D=w.get(I),U=I):Y==="function"?(w.contains(I)&&(D=I),U=I.name):Y==="object"&&(D=w.get(I.name),U=I.name),D){var H=new D(this.game,M);return H.name=U,O&&(H.gameObject=O),this.postPipelineInstances.push(H),H}},removePostPipeline:function(I){P(this.postPipelineInstances,I)},remove:function(I,O,M){O===void 0&&(O=!0),M===void 0&&(M=!0),this.pipelines.delete(I),O&&this.classes.delete(I),M&&this.postPipelineClasses.delete(I)},set:function(I,O,M){if(!I.isPostFX)return this.isCurrent(I,M)||(this.flush(),this.current&&this.current.unbind(),this.current=I,I.bind(M)),I.updateProjectionMatrix(),I.onBind(O),I},preBatch:function(I){if(I.hasPostPipeline){this.flush();for(var O=I.postPipelines,M=O.length-1;M>=0;M--){var w=O[M];w.active&&w.preBatch(I)}}},postBatch:function(I){if(I.hasPostPipeline){this.flush();for(var O=I.postPipelines,M=0;M<O.length;M++){var w=O[M];w.active&&w.postBatch(I)}}},preBatchCamera:function(I){if(I.hasPostPipeline){this.flush();for(var O=I.postPipelines,M=O.length-1;M>=0;M--){var w=O[M];w.active&&w.preBatch(I)}}},postBatchCamera:function(I){if(I.hasPostPipeline){this.flush();for(var O=I.postPipelines,M=0;M<O.length;M++){var w=O[M];w.active&&w.postBatch(I)}}},isCurrent:function(I,O){var M=this.renderer,w=this.current;return w&&!O&&(O=w.currentShader),!(w!==I||O.program!==M.currentProgram)},copyFrame:function(I,O,M,w,D){return this.setUtility(this.UTILITY_PIPELINE.copyShader).copyFrame(I,O,M,w,D),this},copyToGame:function(I){return this.setUtility(this.UTILITY_PIPELINE.copyShader).copyToGame(I),this},drawFrame:function(I,O,M,w){return this.setUtility(this.UTILITY_PIPELINE.colorMatrixShader).drawFrame(I,O,M,w),this},blendFrames:function(I,O,M,w,D){return this.setUtility(this.UTILITY_PIPELINE.linearShader).blendFrames(I,O,M,w,D),this},blendFramesAdditive:function(I,O,M,w,D){return this.setUtility(this.UTILITY_PIPELINE.addShader).blendFramesAdditive(I,O,M,w,D),this},clearFrame:function(I,O){return this.UTILITY_PIPELINE.clearFrame(I,O),this},blitFrame:function(I,O,M,w,D,U){return this.setUtility(this.UTILITY_PIPELINE.copyShader).blitFrame(I,O,M,w,D,U),this},copyFrameRect:function(I,O,M,w,D,U,Y,H){return this.UTILITY_PIPELINE.copyFrameRect(I,O,M,w,D,U,Y,H),this},forceZero:function(){return this.current&&this.current.forceZero},setMulti:function(){return this.set(this.MULTI_PIPELINE)},setUtility:function(I){return this.UTILITY_PIPELINE.bind(I)},setFX:function(){return this.set(this.FX_PIPELINE)},restoreContext:function(){this.rebind(),this.pipelines.each(function(I,O){O.restoreContext()}),S(this.postPipelineInstances,function(I){I.restoreContext()})},rebind:function(I){I===void 0&&this.previous&&(I=this.previous);var O=this.renderer,M=O.gl;M.disable(M.DEPTH_TEST),M.disable(M.CULL_FACE),O.hasActiveStencilMask()?M.clear(M.DEPTH_BUFFER_BIT):(M.disable(M.STENCIL_TEST),M.clear(M.DEPTH_BUFFER_BIT|M.STENCIL_BUFFER_BIT)),M.viewport(0,0,O.width,O.height),O.currentProgram=null,O.setBlendMode(0,!0);var w=O.vaoExtension;w&&w.bindVertexArrayOES(null);var D=this.pipelines.entries;for(var U in D)D[U].glReset=!0;I&&(this.current=I,I.rebind())},clear:function(){var I=this.renderer;this.flush(),this.current?(this.current.unbind(),this.previous=this.current,this.current=null):this.previous=null,I.currentProgram=null,I.setBlendMode(0,!0);var O=I.vaoExtension;O&&O.bindVertexArrayOES(null)},getRenderTarget:function(I){var O=this.renderTargets,M=3;if(I>this.maxDimension)return this.targetIndex=O.length-M,O[this.targetIndex];var w=(s(I,this.frameInc,0,!0)-1)*M;return this.targetIndex=w,O[w]},getSwapRenderTarget:function(){return this.renderTargets[this.targetIndex+1]},getAltSwapRenderTarget:function(){return this.renderTargets[this.targetIndex+2]},destroy:function(){this.flush(),this.classes.clear(),this.postPipelineClasses.clear(),this.pipelines.clear(),this.renderer=null,this.game=null,this.classes=null,this.postPipelineClasses=null,this.pipelines=null,this.default=null,this.current=null,this.previous=null}});v.exports=L},32302:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),p=t(92503),a=new h({initialize:function(r,e,s,o,i,l,u,f,d){o===void 0&&(o=1),i===void 0&&(i=0),l===void 0&&(l=!0),u===void 0&&(u=!1),f===void 0&&(f=!0),d===void 0&&(d=!0),this.renderer=r,this.framebuffer=null,this.texture=null,this.width=0,this.height=0,this.scale=o,this.minFilter=i,this.autoClear=l,this.autoResize=!0,this.hasDepthBuffer=f,this.forceClamp=d,this.init(e,s),u?this.renderer.on(p.RESIZE,this.resize,this):this.autoResize=!1},init:function(n,r){var e=this.renderer;this.texture=e.createTextureFromSource(null,n,r,this.minFilter,this.forceClamp),this.framebuffer=e.createFramebuffer(n,r,this.texture,this.hasDepthBuffer),this.width=n,this.height=r},setAutoResize:function(n){return n&&!this.autoResize?(this.renderer.on(p.RESIZE,this.resize,this),this.autoResize=!0):!n&&this.autoResize&&(this.renderer.off(p.RESIZE,this.resize,this),this.autoResize=!1),this},resize:function(n,r){if(this.autoResize&&this.willResize(n,r)){var e=this.renderer;e.deleteFramebuffer(this.framebuffer),e.deleteTexture(this.texture),this.texture=e.createTextureFromSource(null,n,r,this.minFilter,this.forceClamp),this.framebuffer=e.createFramebuffer(n,r,this.texture,this.hasDepthBuffer),this.width=n,this.height=r}return this},willResize:function(n,r){return typeof n!="number"||typeof r!="number"?!1:(n=Math.round(n*this.scale),r=Math.round(r*this.scale),n=Math.max(n,1),r=Math.max(r,1),n!==this.width||r!==this.height)},bind:function(n,r,e){n===void 0&&(n=!1);var s=this.renderer;if(n&&s.flush(),r&&e&&this.resize(r,e),s.pushFramebuffer(this.framebuffer,!1,!1),n&&this.adjustViewport(),this.autoClear){var o=this.renderer.gl;o.clearColor(0,0,0,0),o.clear(o.COLOR_BUFFER_BIT)}s.clearStencilMask()},adjustViewport:function(){var n=this.renderer.gl;n.viewport(0,0,this.width,this.height),n.disable(n.SCISSOR_TEST)},clear:function(n,r,e,s){var o=this.renderer,i=o.gl;o.pushFramebuffer(this.framebuffer),n!==void 0&&r!==void 0&&e!==void 0&&s!==void 0?(i.enable(i.SCISSOR_TEST),i.scissor(n,r,e,s)):i.disable(i.SCISSOR_TEST),i.clearColor(0,0,0,0),i.clear(i.COLOR_BUFFER_BIT),o.popFramebuffer(),o.resetScissor()},unbind:function(n){n===void 0&&(n=!1);var r=this.renderer;return n&&r.flush(),r.popFramebuffer()},destroy:function(){var n=this.renderer;n.off(p.RESIZE,this.resize,this),n.deleteFramebuffer(this.framebuffer),n.deleteTexture(this.texture),this.renderer=null,this.framebuffer=null,this.texture=null}});v.exports=a},70554:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @author       Matthew Groves <@doormat>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={getTintFromFloats:function(y,t,h,p){var a=(y*255|0)&255,n=(t*255|0)&255,r=(h*255|0)&255,e=(p*255|0)&255;return(e<<24|a<<16|n<<8|r)>>>0},getTintAppendFloatAlpha:function(y,t){var h=(t*255|0)&255;return(h<<24|y)>>>0},getTintAppendFloatAlphaAndSwap:function(y,t){var h=(y>>16|0)&255,p=(y>>8|0)&255,a=(y|0)&255,n=(t*255|0)&255;return(n<<24|a<<16|p<<8|h)>>>0},getFloatsFromUintRGB:function(y){var t=(y>>16|0)&255,h=(y>>8|0)&255,p=(y|0)&255;return[t/255,h/255,p/255]},checkShaderMax:function(y,t){var h=Math.min(16,y.getParameter(y.MAX_TEXTURE_IMAGE_UNITS));return!t||t===-1?h:Math.min(h,t)},parseFragmentShaderMaxTextures:function(y,t){if(!y)return"";for(var h="",p=0;p<t;p++)p>0&&(h+=`
	else `),p<t-1&&(h+="if (outTexId < "+p+".5)"),h+=`
	{`,h+=`
		texture = texture2D(uMainSampler[`+p+"], outTexCoord);",h+=`
	}`;return y=y.replace(/%count%/gi,t.toString()),y.replace(/%forloop%/gi,h)},setGlowQuality:function(y,t,h,p){return h===void 0&&(h=t.config.glowFXQuality),p===void 0&&(p=t.config.glowFXDistance),y=y.replace(/__SIZE__/gi,(1/h/p).toFixed(7)),y=y.replace(/__DIST__/gi,p.toFixed(0)+".0"),y}}},29100:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),p=t(62644),a=t(50792),n=t(77085),r=t(95540),e=t(37867),s=t(92503),o=t(32302),i=t(70554),l=t(38683),u=new h({Extends:a,initialize:function(d){a.call(this);var c=d.game,m=c.renderer,g=m.gl;this.name=r(d,"name","WebGLPipeline"),this.game=c,this.renderer=m,this.manager,this.gl=g,this.view=c.canvas,this.width=0,this.height=0,this.vertexCount=0,this.vertexCapacity=0,this.vertexData,this.vertexBuffer,this.activeBuffer,this.topology=r(d,"topology",g.TRIANGLES),this.bytes,this.vertexViewF32,this.vertexViewU32,this.active=!0,this.forceZero=r(d,"forceZero",!1),this.hasBooted=!1,this.isPostFX=!1,this.isPreFX=!1,this.renderTargets=[],this.currentRenderTarget,this.shaders=[],this.currentShader,this.projectionMatrix,this.projectionWidth=0,this.projectionHeight=0,this.config=d,this.glReset=!1,this.batch=[],this.currentBatch=null,this.currentTexture=null,this.currentUnit=0,this.activeTextures=[],this.resizeUniform=r(d,"resizeUniform","")},boot:function(){var f,d=this.gl,c=this.config,m=this.renderer;this.isPostFX||(this.projectionMatrix=new e().identity());var g=this.renderTargets,x=r(c,"renderTarget",!1);typeof x=="boolean"&&x&&(x=1);var T=m.width,S=m.height;if(typeof x=="number")for(f=0;f<x;f++)g.push(new o(m,T,S,1,0,!0));else if(Array.isArray(x))for(f=0;f<x.length;f++){var P=r(x[f],"scale",1),L=r(x[f],"minFilter",0),I=r(x[f],"autoClear",1),O=r(x[f],"autoResize",!1),M=r(x[f],"width",null),w=r(x[f],"height",M);M?g.push(new o(m,M,w,1,L,I,O)):g.push(new o(m,T,S,P,L,I,O))}g.length&&(this.currentRenderTarget=g[0]),this.setShadersFromConfig(c);var D=this.shaders,U=0;for(f=0;f<D.length;f++)D[f].vertexSize>U&&(U=D[f].vertexSize);var Y=r(c,"batchSize",m.config.batchSize);this.vertexCapacity=Y*6;var H=new ArrayBuffer(this.vertexCapacity*U);this.vertexData=H,this.bytes=new Uint8Array(H),this.vertexViewF32=new Float32Array(H),this.vertexViewU32=new Uint32Array(H);var X=r(c,"vertices",null);for(X?(this.vertexViewF32.set(X),this.vertexBuffer=m.createVertexBuffer(H,d.STATIC_DRAW)):this.vertexBuffer=m.createVertexBuffer(H.byteLength,d.DYNAMIC_DRAW),this.setVertexBuffer(),f=D.length-1;f>=0;f--)D[f].rebind();this.hasBooted=!0,m.on(s.RESIZE,this.resize,this),m.on(s.PRE_RENDER,this.onPreRender,this),m.on(s.RENDER,this.onRender,this),m.on(s.POST_RENDER,this.onPostRender,this),this.emit(n.BOOT,this),this.onBoot()},onBoot:function(){},onResize:function(){},setShader:function(f,d,c){var m=this.renderer;if(f!==this.currentShader||m.currentProgram!==this.currentShader.program){this.flush();var g=this.setVertexBuffer(c);g&&!d&&(d=!0),f.bind(d,!1),this.currentShader=f}return this},getShaderByName:function(f){for(var d=this.shaders,c=0;c<d.length;c++)if(d[c].name===f)return d[c]},setShadersFromConfig:function(f){var d,c=this.shaders,m=this.renderer;for(d=0;d<c.length;d++)c[d].destroy();var g="vertShader",x="fragShader",T="attributes",S=r(f,g,null),P=i.parseFragmentShaderMaxTextures(r(f,x,null),m.maxTextures),L=r(f,T,null),I=r(f,"shaders",[]),O=I.length;if(O===0)S&&P&&(this.shaders=[new l(this,"default",S,P,p(L))]);else{var M=[];for(d=0;d<O;d++){var w=I[d],D,U,Y,H;if(typeof w=="string"?(D="default",U=S,Y=i.parseFragmentShaderMaxTextures(w,m.maxTextures),H=L):(D=r(w,"name","default"),U=r(w,g,S),Y=i.parseFragmentShaderMaxTextures(r(w,x,P),m.maxTextures),H=r(w,T,L)),D==="default"){var X=Y.split(`
`),G=X[0].trim();G.indexOf("#define SHADER_NAME")>-1&&(D=G.substring(20))}U&&Y&&M.push(new l(this,D,U,Y,p(H)))}this.shaders=M}return this.shaders.length===0?console.warn("Pipeline: "+this.name+" - Invalid shader config"):this.currentShader=this.shaders[0],this},createBatch:function(f){return this.currentBatch={start:this.vertexCount,count:0,texture:[f],unit:0,maxUnit:0},this.currentUnit=0,this.currentTexture=f,this.batch.push(this.currentBatch),0},addTextureToBatch:function(f){var d=this.currentBatch;d&&(d.texture.push(f),d.unit++,d.maxUnit++)},pushBatch:function(f){if(!this.currentBatch||this.forceZero&&f!==this.currentTexture)return this.createBatch(f);if(f===this.currentTexture)return this.currentUnit;var d=this.currentBatch,c=d.texture.indexOf(f);return c===-1?d.texture.length===this.renderer.maxTextures?this.createBatch(f):(d.unit++,d.maxUnit++,d.texture.push(f),this.currentUnit=d.unit,this.currentTexture=f,d.unit):(this.currentUnit=c,this.currentTexture=f,c)},setGameObject:function(f,d){return d===void 0&&(d=f.frame),this.pushBatch(d.source.glTexture)},shouldFlush:function(f){return f===void 0&&(f=0),this.vertexCount+f>this.vertexCapacity},vertexAvailable:function(){return this.vertexCapacity-this.vertexCount},resize:function(f,d){(f!==this.width||d!==this.height)&&this.flush(),this.width=f,this.height=d;for(var c=this.renderTargets,m=0;m<c.length;m++)c[m].resize(f,d);return this.setProjectionMatrix(f,d),this.resizeUniform&&this.set2f(this.resizeUniform,f,d),this.emit(n.RESIZE,f,d,this),this.onResize(f,d),this},setProjectionMatrix:function(f,d){var c=this.projectionMatrix;if(!c)return this;this.projectionWidth=f,this.projectionHeight=d,c.ortho(0,f,d,0,-1e3,1e3);for(var m=this.shaders,g="uProjectionMatrix",x=0;x<m.length;x++){var T=m[x];T.hasUniform(g)&&(T.resetUniform(g),T.setMatrix4fv(g,!1,c.val,T))}return this},flipProjectionMatrix:function(f){f===void 0&&(f=!0);var d=this.projectionMatrix;if(!d)return this;var c=this.projectionWidth,m=this.projectionHeight;f?d.ortho(0,c,0,m,-1e3,1e3):d.ortho(0,c,m,0,-1e3,1e3),this.setMatrix4fv("uProjectionMatrix",!1,d.val)},updateProjectionMatrix:function(){if(this.projectionMatrix){var f=this.renderer.projectionWidth,d=this.renderer.projectionHeight;(this.projectionWidth!==f||this.projectionHeight!==d)&&this.setProjectionMatrix(f,d)}},bind:function(f){if(f===void 0&&(f=this.currentShader),this.glReset)return this.rebind(f);var d=!1,c=this.gl;return c.getParameter(c.ARRAY_BUFFER_BINDING)!==this.vertexBuffer&&(c.bindBuffer(c.ARRAY_BUFFER,this.vertexBuffer.webGLBuffer),this.activeBuffer=this.vertexBuffer,d=!0),f.bind(d),this.currentShader=f,this.activeTextures.length=0,this.emit(n.BIND,this,f),this.onActive(f),this},rebind:function(f){this.activeBuffer=null,this.setVertexBuffer();for(var d=this.shaders,c=d.length-1;c>=0;c--){var m=d[c].rebind();(!f||m===f)&&(this.currentShader=m)}return this.activeTextures.length=0,this.emit(n.REBIND,this.currentShader),this.onActive(this.currentShader),this.onRebind(),this.glReset=!1,this},restoreContext:function(){var f=this.shaders,d=!!this.vertexBuffer;this.activeBuffer=null,this.activeTextures.length=0,this.batch.length=0,this.currentBatch=null,this.currentTexture=null,this.currentUnit=0,d&&this.setVertexBuffer();for(var c=0;c<f.length;c++){var m=f[c];m.syncUniforms(),d&&m.rebind()}},setVertexBuffer:function(f){if(f===void 0&&(f=this.vertexBuffer),f!==this.activeBuffer){var d=this.gl;return this.gl.bindBuffer(d.ARRAY_BUFFER,f.webGLBuffer),this.activeBuffer=f,!0}return!1},preBatch:function(f){return this.currentRenderTarget&&this.currentRenderTarget.bind(),this.onPreBatch(f),this},postBatch:function(f){return this.onDraw(this.currentRenderTarget),this.onPostBatch(f),this},onDraw:function(){},unbind:function(){this.currentRenderTarget&&this.currentRenderTarget.unbind()},flush:function(f){if(f===void 0&&(f=!1),this.vertexCount>0){this.emit(n.BEFORE_FLUSH,this,f),this.onBeforeFlush(f);var d=this.gl,c=this.vertexCount,m=this.currentShader.vertexSize,g=this.topology;if(this.active){this.setVertexBuffer(),c===this.vertexCapacity?d.bufferData(d.ARRAY_BUFFER,this.vertexData,d.DYNAMIC_DRAW):d.bufferSubData(d.ARRAY_BUFFER,0,this.bytes.subarray(0,c*m));var x,T,S,P=this.batch,L=this.activeTextures;if(this.forceZero)for(L[0]||d.activeTexture(d.TEXTURE0),x=0;x<P.length;x++)T=P[x],S=T.texture[0],L[0]!==S&&(d.bindTexture(d.TEXTURE_2D,S.webGLTexture),L[0]=S),d.drawArrays(g,T.start,T.count);else for(x=0;x<P.length;x++){T=P[x];for(var I=0;I<=T.maxUnit;I++)S=T.texture[I],L[I]!==S&&(d.activeTexture(d.TEXTURE0+I),d.bindTexture(d.TEXTURE_2D,S.webGLTexture),L[I]=S);d.drawArrays(g,T.start,T.count)}}this.vertexCount=0,this.batch.length=0,this.currentBatch=null,this.currentTexture=null,this.currentUnit=0,this.emit(n.AFTER_FLUSH,this,f),this.onAfterFlush(f)}return this},onActive:function(){},onBind:function(){},onRebind:function(){},onBatch:function(){},onPreBatch:function(){},onPostBatch:function(){},onPreRender:function(){},onRender:function(){},onPostRender:function(){},onBeforeFlush:function(){},onAfterFlush:function(){},batchVert:function(f,d,c,m,g,x,T){var S=this.vertexViewF32,P=this.vertexViewU32,L=this.vertexCount*this.currentShader.vertexComponentCount-1;S[++L]=f,S[++L]=d,S[++L]=c,S[++L]=m,S[++L]=g,S[++L]=x,P[++L]=T,this.vertexCount++,this.currentBatch.count=this.vertexCount-this.currentBatch.start},batchQuad:function(f,d,c,m,g,x,T,S,P,L,I,O,M,w,D,U,Y,H,X,G){G===void 0&&(G=this.currentUnit);var z=!1;this.shouldFlush(6)&&(this.flush(),z=!0),this.currentBatch||(G=this.setTexture2D(X));var b=this.vertexViewF32,N=this.vertexViewU32,W=this.vertexCount*this.currentShader.vertexComponentCount-1;return b[++W]=d,b[++W]=c,b[++W]=L,b[++W]=I,b[++W]=G,b[++W]=H,N[++W]=w,b[++W]=m,b[++W]=g,b[++W]=L,b[++W]=M,b[++W]=G,b[++W]=H,N[++W]=U,b[++W]=x,b[++W]=T,b[++W]=O,b[++W]=M,b[++W]=G,b[++W]=H,N[++W]=Y,b[++W]=d,b[++W]=c,b[++W]=L,b[++W]=I,b[++W]=G,b[++W]=H,N[++W]=w,b[++W]=x,b[++W]=T,b[++W]=O,b[++W]=M,b[++W]=G,b[++W]=H,N[++W]=Y,b[++W]=S,b[++W]=P,b[++W]=O,b[++W]=I,b[++W]=G,b[++W]=H,N[++W]=D,this.vertexCount+=6,this.currentBatch.count=this.vertexCount-this.currentBatch.start,this.onBatch(f),z},batchTri:function(f,d,c,m,g,x,T,S,P,L,I,O,M,w,D,U,Y){Y===void 0&&(Y=this.currentUnit);var H=!1;this.shouldFlush(3)&&(this.flush(),H=!0),this.currentBatch||(Y=this.setTexture2D(U));var X=this.vertexViewF32,G=this.vertexViewU32,z=this.vertexCount*this.currentShader.vertexComponentCount-1;return X[++z]=d,X[++z]=c,X[++z]=S,X[++z]=P,X[++z]=Y,X[++z]=D,G[++z]=O,X[++z]=m,X[++z]=g,X[++z]=S,X[++z]=I,X[++z]=Y,X[++z]=D,G[++z]=M,X[++z]=x,X[++z]=T,X[++z]=L,X[++z]=I,X[++z]=Y,X[++z]=D,G[++z]=w,this.vertexCount+=3,this.currentBatch.count=this.vertexCount-this.currentBatch.start,this.onBatch(f),H},drawFillRect:function(f,d,c,m,g,x,T,S){T===void 0&&(T=this.renderer.whiteTexture),S===void 0&&(S=!0),f=Math.floor(f),d=Math.floor(d);var P=Math.floor(f+c),L=Math.floor(d+m),I=this.setTexture2D(T),O=i.getTintAppendFloatAlphaAndSwap(g,x),M=0,w=0,D=1,U=1;S&&(w=1,U=0),this.batchQuad(null,f,d,f,L,P,L,P,d,M,w,D,U,O,O,O,O,0,T,I)},setTexture2D:function(f){return f===void 0&&(f=this.renderer.whiteTexture),this.pushBatch(f)},bindTexture:function(f,d){d===void 0&&(d=0);var c=this.gl;return c.activeTexture(c.TEXTURE0+d),c.bindTexture(c.TEXTURE_2D,f.webGLTexture),this},bindRenderTarget:function(f,d){return this.bindTexture(f.texture,d)},setTime:function(f,d){return this.set1f(f,this.game.loop.getDuration(),d),this},setBoolean:function(f,d,c){return c===void 0&&(c=this.currentShader),c.setBoolean(f,d),this},set1f:function(f,d,c){return c===void 0&&(c=this.currentShader),c.set1f(f,d),this},set2f:function(f,d,c,m){return m===void 0&&(m=this.currentShader),m.set2f(f,d,c),this},set3f:function(f,d,c,m,g){return g===void 0&&(g=this.currentShader),g.set3f(f,d,c,m),this},set4f:function(f,d,c,m,g,x){return x===void 0&&(x=this.currentShader),x.set4f(f,d,c,m,g),this},set1fv:function(f,d,c){return c===void 0&&(c=this.currentShader),c.set1fv(f,d),this},set2fv:function(f,d,c){return c===void 0&&(c=this.currentShader),c.set2fv(f,d),this},set3fv:function(f,d,c){return c===void 0&&(c=this.currentShader),c.set3fv(f,d),this},set4fv:function(f,d,c){return c===void 0&&(c=this.currentShader),c.set4fv(f,d),this},set1iv:function(f,d,c){return c===void 0&&(c=this.currentShader),c.set1iv(f,d),this},set2iv:function(f,d,c){return c===void 0&&(c=this.currentShader),c.set2iv(f,d),this},set3iv:function(f,d,c){return c===void 0&&(c=this.currentShader),c.set3iv(f,d),this},set4iv:function(f,d,c){return c===void 0&&(c=this.currentShader),c.set4iv(f,d),this},set1i:function(f,d,c){return c===void 0&&(c=this.currentShader),c.set1i(f,d),this},set2i:function(f,d,c,m){return m===void 0&&(m=this.currentShader),m.set2i(f,d,c),this},set3i:function(f,d,c,m,g){return g===void 0&&(g=this.currentShader),g.set3i(f,d,c,m),this},set4i:function(f,d,c,m,g,x){return x===void 0&&(x=this.currentShader),x.set4i(f,d,c,m,g),this},setMatrix2fv:function(f,d,c,m){return m===void 0&&(m=this.currentShader),m.setMatrix2fv(f,d,c),this},setMatrix3fv:function(f,d,c,m){return m===void 0&&(m=this.currentShader),m.setMatrix3fv(f,d,c),this},setMatrix4fv:function(f,d,c,m){return m===void 0&&(m=this.currentShader),m.setMatrix4fv(f,d,c),this},destroy:function(){this.emit(n.DESTROY,this);var f,d=this.shaders;for(f=0;f<d.length;f++)d[f].destroy();var c=this.renderTargets;for(f=0;f<c.length;f++)c[f].destroy();var m=this.renderer;return m.deleteBuffer(this.vertexBuffer),m.off(s.RESIZE,this.resize,this),m.off(s.PRE_RENDER,this.onPreRender,this),m.off(s.RENDER,this.onRender,this),m.off(s.POST_RENDER,this.onPostRender,this),this.removeAllListeners(),this.game=null,this.renderer=null,this.manager=null,this.gl=null,this.view=null,this.shaders=null,this.renderTargets=null,this.bytes=null,this.vertexViewF32=null,this.vertexViewU32=null,this.vertexData=null,this.vertexBuffer=null,this.currentShader=null,this.currentRenderTarget=null,this.activeTextures=null,this}});v.exports=u},74797:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(95428),p=t(72905),a=t(19715),n=t(83419),r=t(8054),e=t(50792),s=t(92503),o=t(50030),i=t(37867),l=t(29747),u=t(7530),f=t(32302),d=t(97480),c=t(69442),m=t(70554),g=t(88815),x=t(26128),T=t(1482),S=t(82751),P=t(84387),L=t(93567),I=t(57183),O=new n({Extends:e,initialize:function(w){e.call(this);var D=w.config,U={alpha:D.transparent,desynchronized:D.desynchronized,depth:!0,antialias:D.antialiasGL,premultipliedAlpha:D.premultipliedAlpha,stencil:!0,failIfMajorPerformanceCaveat:D.failIfMajorPerformanceCaveat,powerPreference:D.powerPreference,preserveDrawingBuffer:D.preserveDrawingBuffer,willReadFrequently:!1};this.config={clearBeforeRender:D.clearBeforeRender,antialias:D.antialias,backgroundColor:D.backgroundColor,contextCreation:U,roundPixels:D.roundPixels,maxTextures:D.maxTextures,maxTextureSize:D.maxTextureSize,batchSize:D.batchSize,maxLights:D.maxLights,mipmapFilter:D.mipmapFilter},this.game=w,this.type=r.WEBGL,this.pipelines=null,this.width=0,this.height=0,this.canvas=w.canvas,this.blendModes=[],this.contextLost=!1,this.snapshotState={x:0,y:0,width:1,height:1,getPixel:!1,callback:null,type:"image/png",encoder:.92,isFramebuffer:!1,bufferWidth:0,bufferHeight:0},this.maxTextures=0,this.textureIndexes,this.glBufferWrappers=[],this.glProgramWrappers=[],this.glTextureWrappers=[],this.glFramebufferWrappers=[],this.glAttribLocationWrappers=[],this.glUniformLocationWrappers=[],this.currentFramebuffer=null,this.fboStack=[],this.currentProgram=null,this.currentBlendMode=1/0,this.currentScissorEnabled=!1,this.currentScissor=null,this.scissorStack=[],this.contextLostHandler=l,this.contextRestoredHandler=l,this.previousContextLostHandler=l,this.previousContextRestoredHandler=l,this.gl=null,this.supportedExtensions=null,this.instancedArraysExtension=null,this.vaoExtension=null,this.extensions={},this.glFormats,this.compression,this.drawingBufferHeight=0,this.blankTexture=null,this.normalTexture=null,this.whiteTexture=null,this.maskCount=0,this.maskStack=[],this.currentMask={mask:null,camera:null},this.currentCameraMask={mask:null,camera:null},this.glFuncMap=null,this.currentType="",this.newType=!1,this.nextTypeMatch=!1,this.finalType=!1,this.mipmapFilter=null,this.defaultScissor=[0,0,0,0],this.isBooted=!1,this.renderTarget=null,this.projectionMatrix,this.projectionWidth=0,this.projectionHeight=0,this.maskSource=null,this.maskTarget=null,this.spector=null,this._debugCapture=!1,this.init(this.config)},init:function(M){var w,D=this.game,U=this.canvas,Y=M.backgroundColor;if(D.config.context?w=D.config.context:w=U.getContext("webgl",M.contextCreation)||U.getContext("experimental-webgl",M.contextCreation),!w||w.isContextLost())throw this.contextLost=!0,new Error("WebGL unsupported");this.gl=w,this.setExtensions(),this.setContextHandlers(),D.context=w;for(var H=0;H<=27;H++)this.blendModes.push({func:[w.ONE,w.ONE_MINUS_SRC_ALPHA],equation:w.FUNC_ADD});this.blendModes[1].func=[w.ONE,w.DST_ALPHA],this.blendModes[2].func=[w.DST_COLOR,w.ONE_MINUS_SRC_ALPHA],this.blendModes[3].func=[w.ONE,w.ONE_MINUS_SRC_COLOR],this.blendModes[17]={func:[w.ZERO,w.ONE_MINUS_SRC_ALPHA],equation:w.FUNC_REVERSE_SUBTRACT},this.glFormats=[w.BYTE,w.SHORT,w.UNSIGNED_BYTE,w.UNSIGNED_SHORT,w.FLOAT],this.glFuncMap={mat2:{func:w.uniformMatrix2fv,length:1,matrix:!0},mat3:{func:w.uniformMatrix3fv,length:1,matrix:!0},mat4:{func:w.uniformMatrix4fv,length:1,matrix:!0},"1f":{func:w.uniform1f,length:1},"1fv":{func:w.uniform1fv,length:1},"1i":{func:w.uniform1i,length:1},"1iv":{func:w.uniform1iv,length:1},"2f":{func:w.uniform2f,length:2},"2fv":{func:w.uniform2fv,length:1},"2i":{func:w.uniform2i,length:2},"2iv":{func:w.uniform2iv,length:1},"3f":{func:w.uniform3f,length:3},"3fv":{func:w.uniform3fv,length:1},"3i":{func:w.uniform3i,length:3},"3iv":{func:w.uniform3iv,length:1},"4f":{func:w.uniform4f,length:4},"4fv":{func:w.uniform4fv,length:1},"4i":{func:w.uniform4i,length:4},"4iv":{func:w.uniform4iv,length:1}},(!M.maxTextures||M.maxTextures===-1)&&(M.maxTextures=w.getParameter(w.MAX_TEXTURE_IMAGE_UNITS)),M.maxTextureSize||(M.maxTextureSize=w.getParameter(w.MAX_TEXTURE_SIZE)),this.compression=this.getCompressedTextures(),w.disable(w.DEPTH_TEST),w.disable(w.CULL_FACE),w.enable(w.BLEND),w.clearColor(Y.redGL,Y.greenGL,Y.blueGL,Y.alphaGL);var X=["NEAREST","LINEAR","NEAREST_MIPMAP_NEAREST","LINEAR_MIPMAP_NEAREST","NEAREST_MIPMAP_LINEAR","LINEAR_MIPMAP_LINEAR"];return X.indexOf(M.mipmapFilter)!==-1&&(this.mipmapFilter=w[M.mipmapFilter]),this.maxTextures=m.checkShaderMax(w,M.maxTextures),this.textureIndexes=[],this.createTemporaryTextures(),this.pipelines=new u(this),this.setBlendMode(r.BlendModes.NORMAL),this.projectionMatrix=new i().identity(),D.textures.once(c.READY,this.boot,this),this},boot:function(){var M=this.game,w=this.pipelines,D=M.scale.baseSize,U=D.width,Y=D.height;this.width=U,this.height=Y,this.isBooted=!0,this.renderTarget=new f(this,U,Y,1,0,!0,!0),this.maskTarget=new f(this,U,Y,1,0,!0,!0),this.maskSource=new f(this,U,Y,1,0,!0,!0);var H=M.config;w.boot(H.pipeline,H.defaultPipeline,H.autoMobilePipeline),this.blankTexture=M.textures.getFrame("__DEFAULT").glTexture,this.normalTexture=M.textures.getFrame("__NORMAL").glTexture,this.whiteTexture=M.textures.getFrame("__WHITE").glTexture;var X=this.gl;X.bindFramebuffer(X.FRAMEBUFFER,null),X.enable(X.SCISSOR_TEST),M.scale.on(d.RESIZE,this.onResize,this),this.resize(U,Y)},setExtensions:function(){var M=this.gl,w=M.getSupportedExtensions();this.supportedExtensions=w;var D="ANGLE_instanced_arrays";this.instancedArraysExtension=w.indexOf(D)>-1?M.getExtension(D):null;var U="OES_vertex_array_object";this.vaoExtension=w.indexOf(U)>-1?M.getExtension(U):null},setContextHandlers:function(M,w){this.previousContextLostHandler&&this.canvas.removeEventListener("webglcontextlost",this.previousContextLostHandler,!1),this.previousContextRestoredHandler&&this.canvas.removeEventListener("webglcontextlost",this.previousContextRestoredHandler,!1),typeof M=="function"?this.contextLostHandler=M.bind(this):this.contextLostHandler=this.dispatchContextLost.bind(this),typeof w=="function"?this.contextRestoredHandler=w.bind(this):this.contextRestoredHandler=this.dispatchContextRestored.bind(this),this.canvas.addEventListener("webglcontextlost",this.contextLostHandler,!1),this.canvas.addEventListener("webglcontextrestored",this.contextRestoredHandler,!1),this.previousContextLostHandler=this.contextLostHandler,this.previousContextRestoredHandler=this.contextRestoredHandler},dispatchContextLost:function(M){this.contextLost=!0,console&&console.warn("WebGL Context lost. Renderer disabled"),this.emit(s.LOSE_WEBGL,this),M.preventDefault()},dispatchContextRestored:function(M){var w=this.gl;if(w.isContextLost()){console&&console.log("WebGL Context restored, but context is still lost");return}this.currentProgram=null,this.currentFramebuffer=null,this.setBlendMode(r.BlendModes.NORMAL),w.disable(w.BLEND),w.disable(w.DEPTH_TEST),w.enable(w.CULL_FACE),this.compression=this.getCompressedTextures();var D=function(U){U.createResource()};h(this.glTextureWrappers,D),h(this.glBufferWrappers,D),h(this.glFramebufferWrappers,D),h(this.glProgramWrappers,D),h(this.glAttribLocationWrappers,D),h(this.glUniformLocationWrappers,D),this.createTemporaryTextures(),this.pipelines.restoreContext(),this.resize(this.game.scale.baseSize.width,this.game.scale.baseSize.height),this.setExtensions(),this.contextLost=!1,console&&console.warn("WebGL Context restored. Renderer running again."),this.emit(s.RESTORE_WEBGL,this),M.preventDefault()},createTemporaryTextures:function(){for(var M=this.gl,w=0;w<this.maxTextures;w++){var D=M.createTexture();M.activeTexture(M.TEXTURE0+w),M.bindTexture(M.TEXTURE_2D,D),M.texImage2D(M.TEXTURE_2D,0,M.RGBA,1,1,0,M.RGBA,M.UNSIGNED_BYTE,new Uint8Array([0,0,255,255])),this.textureIndexes.push(w)}},captureFrame:function(M,w){},captureNextFrame:function(){},getFps:function(){},log:function(){},startCapture:function(M,w,D){},stopCapture:function(){},onCapture:function(M){},onResize:function(M,w){(w.width!==this.width||w.height!==this.height)&&this.resize(w.width,w.height)},beginCapture:function(M,w){M===void 0&&(M=this.width),w===void 0&&(w=this.height),this.renderTarget.bind(!0,M,w),this.setProjectionMatrix(M,w)},endCapture:function(){return this.renderTarget.unbind(!0),this.resetProjectionMatrix(),this.renderTarget},resize:function(M,w){var D=this.gl;return this.width=M,this.height=w,this.setProjectionMatrix(M,w),D.viewport(0,0,M,w),this.drawingBufferHeight=D.drawingBufferHeight,D.scissor(0,D.drawingBufferHeight-w,M,w),this.defaultScissor[2]=M,this.defaultScissor[3]=w,this.emit(s.RESIZE,M,w),this},getCompressedTextures:function(){var M="WEBGL_compressed_texture_",w="WEBKIT_"+M,D="EXT_texture_compression_",U=function(H,X){var G=H.getExtension(M+X)||H.getExtension(w+X)||H.getExtension(D+X);if(G){var z={};for(var b in G)z[G[b]]=b;return z}},Y=this.gl;return{ETC:U(Y,"etc"),ETC1:U(Y,"etc1"),ATC:U(Y,"atc"),ASTC:U(Y,"astc"),BPTC:U(Y,"bptc"),RGTC:U(Y,"rgtc"),PVRTC:U(Y,"pvrtc"),S3TC:U(Y,"s3tc"),S3TCSRGB:U(Y,"s3tc_srgb"),IMG:!0}},getCompressedTextureName:function(M,w){var D=this.compression[M.toUpperCase()];if(w in D)return D[w]},supportsCompressedTexture:function(M,w){var D=this.compression[M.toUpperCase()];return D?w?w in D:!0:!1},getAspectRatio:function(){return this.width/this.height},setProjectionMatrix:function(M,w){return(M!==this.projectionWidth||w!==this.projectionHeight)&&(this.projectionWidth=M,this.projectionHeight=w,this.projectionMatrix.ortho(0,M,w,0,-1e3,1e3)),this},resetProjectionMatrix:function(){return this.setProjectionMatrix(this.width,this.height)},hasExtension:function(M){return this.supportedExtensions?this.supportedExtensions.indexOf(M):!1},getExtension:function(M){return this.hasExtension(M)?(M in this.extensions||(this.extensions[M]=this.gl.getExtension(M)),this.extensions[M]):null},flush:function(){this.pipelines.flush()},pushScissor:function(M,w,D,U,Y){Y===void 0&&(Y=this.drawingBufferHeight);var H=this.scissorStack,X=[M,w,D,U];return H.push(X),this.setScissor(M,w,D,U,Y),this.currentScissor=X,X},setScissor:function(M,w,D,U,Y){Y===void 0&&(Y=this.drawingBufferHeight);var H=this.gl,X=this.currentScissor,G=D>0&&U>0;if(X&&G){var z=X[0],b=X[1],N=X[2],W=X[3];G=z!==M||b!==w||N!==D||W!==U}G&&(this.flush(),H.scissor(M,Y-w-U,D,U))},resetScissor:function(){var M=this.gl;M.enable(M.SCISSOR_TEST);var w=this.currentScissor;if(w){var D=w[0],U=w[1],Y=w[2],H=w[3];Y>0&&H>0&&M.scissor(D,this.drawingBufferHeight-U-H,Y,H)}},popScissor:function(){var M=this.scissorStack;M.pop();var w=M[M.length-1];w&&this.setScissor(w[0],w[1],w[2],w[3]),this.currentScissor=w},hasActiveStencilMask:function(){var M=this.currentMask.mask,w=this.currentCameraMask.mask;return M&&M.isStencil||w&&w.isStencil},resetViewport:function(){var M=this.gl;M.viewport(0,0,this.width,this.height),this.drawingBufferHeight=M.drawingBufferHeight},setBlendMode:function(M,w){w===void 0&&(w=!1);var D=this.gl,U=this.blendModes[M];return w||M!==r.BlendModes.SKIP_CHECK&&this.currentBlendMode!==M?(this.flush(),D.enable(D.BLEND),D.blendEquation(U.equation),U.func.length>2?D.blendFuncSeparate(U.func[0],U.func[1],U.func[2],U.func[3]):D.blendFunc(U.func[0],U.func[1]),this.currentBlendMode=M,!0):!1},addBlendMode:function(M,w){var D=this.blendModes.push({func:M,equation:w});return D-1},updateBlendMode:function(M,w,D){return this.blendModes[M]&&(this.blendModes[M].func=w,D&&(this.blendModes[M].equation=D)),this},removeBlendMode:function(M){return M>17&&this.blendModes[M]&&this.blendModes.splice(M,1),this},pushFramebuffer:function(M,w,D,U,Y){return M===this.currentFramebuffer?this:(this.fboStack.push(M),this.setFramebuffer(M,w,D,U,Y))},setFramebuffer:function(M,w,D,U,Y){if(w===void 0&&(w=!1),D===void 0&&(D=!0),U===void 0&&(U=null),Y===void 0&&(Y=!1),M===this.currentFramebuffer)return this;var H=this.gl,X=this.width,G=this.height;return M&&M.renderTexture&&D?(X=M.renderTexture.width,G=M.renderTexture.height):this.flush(),M?H.bindFramebuffer(H.FRAMEBUFFER,M.webGLFramebuffer):H.bindFramebuffer(H.FRAMEBUFFER,null),D&&H.viewport(0,0,X,G),U&&H.framebufferTexture2D(H.FRAMEBUFFER,H.COLOR_ATTACHMENT0,H.TEXTURE_2D,U.webGLTexture,0),Y&&(H.clearColor(0,0,0,0),H.clear(H.COLOR_BUFFER_BIT)),w&&(M?(this.drawingBufferHeight=G,this.pushScissor(0,0,X,G)):(this.drawingBufferHeight=this.height,this.popScissor())),this.currentFramebuffer=M,this},popFramebuffer:function(M,w){M===void 0&&(M=!1),w===void 0&&(w=!0);var D=this.fboStack;D.pop();var U=D[D.length-1];return U||(U=null),this.setFramebuffer(U,M,w),U},restoreFramebuffer:function(M,w){M===void 0&&(M=!1),w===void 0&&(w=!0);var D=this.fboStack,U=D[D.length-1];U||(U=null),this.currentFramebuffer=null,this.setFramebuffer(U,M,w)},setProgram:function(M){return M!==this.currentProgram?(this.flush(),this.gl.useProgram(M.webGLProgram),this.currentProgram=M,!0):!1},resetProgram:function(){return this.gl.useProgram(this.currentProgram.webGLProgramWrapper),this},createTextureFromSource:function(M,w,D,U,Y){Y===void 0&&(Y=!1);var H=this.gl,X=H.NEAREST,G=H.NEAREST,z=H.CLAMP_TO_EDGE,b=null;w=M?M.width:w,D=M?M.height:D;var N=o(w,D);if(N&&!Y&&(z=H.REPEAT),U===r.ScaleModes.LINEAR&&this.config.antialias){var W=M&&M.compressed,K=!W&&N||W&&M.mipmaps.length>1;X=this.mipmapFilter&&K?this.mipmapFilter:H.LINEAR,G=H.LINEAR}return!M&&typeof w=="number"&&typeof D=="number"?b=this.createTexture2D(0,X,G,z,z,H.RGBA,null,w,D):b=this.createTexture2D(0,X,G,z,z,H.RGBA,M),b},createTexture2D:function(M,w,D,U,Y,H,X,G,z,b,N,W){typeof G!="number"&&(G=X?X.width:1),typeof z!="number"&&(z=X?X.height:1);var K=new S(this.gl,M,w,D,U,Y,H,X,G,z,b,N,W);return this.glTextureWrappers.push(K),K},createFramebuffer:function(M,w,D,U){this.currentFramebuffer=null;var Y=new P(this.gl,M,w,D,U);return this.glFramebufferWrappers.push(Y),Y},beginBitmapMask:function(M,w){var D=this.gl;D&&(this.flush(),this.maskTarget.bind(!0),this.currentCameraMask.mask!==M&&(this.currentMask.mask=M,this.currentMask.camera=w))},drawBitmapMask:function(M,w,D){this.flush(),this.maskSource.bind(),this.setBlendMode(0,!0),M.renderWebGL(this,M,w),this.maskSource.unbind(!0),this.maskTarget.unbind();var U=this.gl,Y=this.getCurrentStencilMask();Y?(U.enable(U.STENCIL_TEST),Y.mask.applyStencil(this,Y.camera,!0)):this.currentMask.mask=null,this.pipelines.set(D),U.activeTexture(U.TEXTURE0),U.bindTexture(U.TEXTURE_2D,this.maskTarget.texture.webGLTexture),U.activeTexture(U.TEXTURE1),U.bindTexture(U.TEXTURE_2D,this.maskSource.texture.webGLTexture)},createProgram:function(M,w){var D=new T(this.gl,M,w);return this.glProgramWrappers.push(D),D},createVertexBuffer:function(M,w){var D=this.gl,U=new x(D,M,D.ARRAY_BUFFER,w);return this.glBufferWrappers.push(U),U},createAttribLocation:function(M,w){var D=new L(this.gl,M,w);return this.glAttribLocationWrappers.push(D),D},createUniformLocation:function(M,w){var D=new I(this.gl,M,w);return this.glUniformLocationWrappers.push(D),D},createIndexBuffer:function(M,w){var D=this.gl,U=new x(D,M,D.ELEMENT_ARRAY_BUFFER,w);return this.glBufferWrappers.push(U),U},deleteTexture:function(M){if(M)return p(this.glTextureWrappers,M),M.destroy(),this},deleteFramebuffer:function(M){return M?(p(this.fboStack,M),p(this.glFramebufferWrappers,M),M.destroy(),this):this},deleteProgram:function(M){return M&&(p(this.glProgramWrappers,M),M.destroy()),this},deleteAttribLocation:function(M){return M&&(p(this.glAttribLocationWrappers,M),M.destroy()),this},deleteUniformLocation:function(M){return M&&(p(this.glUniformLocationWrappers,M),M.destroy()),this},deleteBuffer:function(M){return M?(p(this.glBufferWrappers,M),M.destroy(),this):this},preRenderCamera:function(M){var w=M.x,D=M.y,U=M.width,Y=M.height,H=M.backgroundColor;if(M.emit(a.PRE_RENDER,M),this.pipelines.preBatchCamera(M),this.pushScissor(w,D,U,Y),M.mask&&(this.currentCameraMask.mask=M.mask,this.currentCameraMask.camera=M._maskCamera,M.mask.preRenderWebGL(this,M,M._maskCamera)),H.alphaGL>0){var X=this.pipelines.setMulti();X.drawFillRect(w,D,U,Y,m.getTintFromFloats(H.blueGL,H.greenGL,H.redGL,1),H.alphaGL)}},getCurrentStencilMask:function(){var M=null,w=this.maskStack,D=this.currentCameraMask;return w.length>0?M=w[w.length-1]:D.mask&&D.mask.isStencil&&(M=D),M},postRenderCamera:function(M){var w=M.flashEffect,D=M.fadeEffect;if(w.isRunning||D.isRunning||D.isComplete){var U=this.pipelines.setMulti();w.postRenderWebGL(U,m.getTintFromFloats),D.postRenderWebGL(U,m.getTintFromFloats)}M.dirty=!1,this.popScissor(),M.mask&&(this.currentCameraMask.mask=null,M.mask.postRenderWebGL(this,M._maskCamera)),this.pipelines.postBatchCamera(M),M.emit(a.POST_RENDER,M)},preRender:function(){if(!this.contextLost){var M=this.gl;if(M.bindFramebuffer(M.FRAMEBUFFER,null),this.emit(s.PRE_RENDER_CLEAR),this.config.clearBeforeRender){var w=this.config.backgroundColor;M.clearColor(w.redGL,w.greenGL,w.blueGL,w.alphaGL),M.clear(M.COLOR_BUFFER_BIT|M.DEPTH_BUFFER_BIT|M.STENCIL_BUFFER_BIT)}M.enable(M.SCISSOR_TEST),this.currentScissor=this.defaultScissor,this.scissorStack.length=0,this.scissorStack.push(this.currentScissor),this.game.scene.customViewports&&M.scissor(0,this.drawingBufferHeight-this.height,this.width,this.height),this.currentMask.mask=null,this.currentCameraMask.mask=null,this.maskStack.length=0,this.emit(s.PRE_RENDER)}},render:function(M,w,D){if(!this.contextLost){var U=w.length;if(this.emit(s.RENDER,M,D),this.preRenderCamera(D),U===0){this.setBlendMode(r.BlendModes.NORMAL),this.postRenderCamera(D);return}this.currentType="";for(var Y=this.currentMask,H=0;H<U;H++){this.finalType=H===U-1;var X=w[H],G=X.mask;Y=this.currentMask,Y.mask&&Y.mask!==G&&Y.mask.postRenderWebGL(this,Y.camera),G&&Y.mask!==G&&G.preRenderWebGL(this,X,D),X.blendMode!==this.currentBlendMode&&this.setBlendMode(X.blendMode);var z=X.type;z!==this.currentType&&(this.newType=!0,this.currentType=z),this.finalType?this.nextTypeMatch=!1:this.nextTypeMatch=w[H+1].type===this.currentType,X.renderWebGL(this,X,D),this.newType=!1}Y=this.currentMask,Y.mask&&Y.mask.postRenderWebGL(this,Y.camera),this.setBlendMode(r.BlendModes.NORMAL),this.postRenderCamera(D)}},postRender:function(){if(!this.contextLost){this.flush(),this.emit(s.POST_RENDER);var M=this.snapshotState;M.callback&&(g(this.gl,M),M.callback=null)}},clearStencilMask:function(){this.gl.disable(this.gl.STENCIL_TEST)},restoreStencilMask:function(){var M=this.gl,w=this.getCurrentStencilMask();if(w){var D=w.mask;M.enable(M.STENCIL_TEST),D.invertAlpha?M.stencilFunc(M.NOTEQUAL,D.level,255):M.stencilFunc(M.EQUAL,D.level,255)}},snapshot:function(M,w,D){return this.snapshotArea(0,0,this.gl.drawingBufferWidth,this.gl.drawingBufferHeight,M,w,D)},snapshotArea:function(M,w,D,U,Y,H,X){var G=this.snapshotState;return G.callback=Y,G.type=H,G.encoder=X,G.getPixel=!1,G.x=M,G.y=w,G.width=D,G.height=U,this},snapshotPixel:function(M,w,D){return this.snapshotArea(M,w,1,1,D),this.snapshotState.getPixel=!0,this},snapshotFramebuffer:function(M,w,D,U,Y,H,X,G,z,b,N){Y===void 0&&(Y=!1),H===void 0&&(H=0),X===void 0&&(X=0),G===void 0&&(G=w),z===void 0&&(z=D),b==="pixel"&&(Y=!0,b="image/png");var W=this.currentFramebuffer;this.snapshotArea(H,X,G,z,U,b,N);var K=this.snapshotState;return K.getPixel=Y,K.isFramebuffer=!0,K.bufferWidth=w,K.bufferHeight=D,K.width=Math.min(K.width,w),K.height=Math.min(K.height,D),this.setFramebuffer(M),g(this.gl,K),this.setFramebuffer(W),K.callback=null,K.isFramebuffer=!1,this},canvasToTexture:function(M,w,D,U){D===void 0&&(D=!1),U===void 0&&(U=!1);var Y=this.gl,H=Y.NEAREST,X=Y.NEAREST,G=M.width,z=M.height,b=Y.CLAMP_TO_EDGE,N=o(G,z);return!D&&N&&(b=Y.REPEAT),this.config.antialias&&(H=N&&this.mipmapFilter?this.mipmapFilter:Y.LINEAR,X=Y.LINEAR),w?(w.update(M,G,z,U,b,b,H,X,w.format),w):this.createTexture2D(0,H,X,b,b,Y.RGBA,M,G,z,!0,!1,U)},createCanvasTexture:function(M,w,D){return w===void 0&&(w=!1),D===void 0&&(D=!1),this.canvasToTexture(M,null,w,D)},updateCanvasTexture:function(M,w,D,U){return D===void 0&&(D=!1),U===void 0&&(U=!1),this.canvasToTexture(M,w,U,D)},videoToTexture:function(M,w,D,U){D===void 0&&(D=!1),U===void 0&&(U=!1);var Y=this.gl,H=Y.NEAREST,X=Y.NEAREST,G=M.videoWidth,z=M.videoHeight,b=Y.CLAMP_TO_EDGE,N=o(G,z);return!D&&N&&(b=Y.REPEAT),this.config.antialias&&(H=N&&this.mipmapFilter?this.mipmapFilter:Y.LINEAR,X=Y.LINEAR),w?(w.update(M,G,z,U,b,b,H,X,w.format),w):this.createTexture2D(0,H,X,b,b,Y.RGBA,M,G,z,!0,!0,U)},createVideoTexture:function(M,w,D){return w===void 0&&(w=!1),D===void 0&&(D=!1),this.videoToTexture(M,null,w,D)},updateVideoTexture:function(M,w,D,U){return D===void 0&&(D=!1),U===void 0&&(U=!1),this.videoToTexture(M,w,U,D)},createUint8ArrayTexture:function(M,w,D){var U=this.gl,Y=U.NEAREST,H=U.NEAREST,X=U.CLAMP_TO_EDGE,G=o(w,D);return G&&(X=U.REPEAT),this.createTexture2D(0,Y,H,X,X,U.RGBA,M,w,D)},setTextureFilter:function(M,w){var D=this.gl,U=w===0?D.LINEAR:D.NEAREST;D.activeTexture(D.TEXTURE0);var Y=D.getParameter(D.TEXTURE_BINDING_2D);return D.bindTexture(D.TEXTURE_2D,M.webGLTexture),D.texParameteri(D.TEXTURE_2D,D.TEXTURE_MIN_FILTER,U),D.texParameteri(D.TEXTURE_2D,D.TEXTURE_MAG_FILTER,U),M.minFilter=U,M.magFilter=U,Y&&D.bindTexture(D.TEXTURE_2D,Y),this},getMaxTextureSize:function(){return this.config.maxTextureSize},destroy:function(){this.canvas.removeEventListener("webglcontextlost",this.contextLostHandler,!1),this.canvas.removeEventListener("webglcontextrestored",this.contextRestoredHandler,!1);var M=function(w){w.destroy()};h(this.glAttribLocationWrappers,M),h(this.glBufferWrappers,M),h(this.glFramebufferWrappers,M),h(this.glProgramWrappers,M),h(this.glTextureWrappers,M),h(this.glUniformLocationWrappers,M),this.maskTarget.destroy(),this.maskSource.destroy(),this.pipelines.destroy(),this.removeAllListeners(),this.fboStack=[],this.maskStack=[],this.extensions={},this.textureIndexes=[],this.gl=null,this.game=null,this.canvas=null,this.contextLost=!0,this.currentMask=null,this.currentCameraMask=null}});v.exports=O},38683:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),p=t(95428),a=t(95540),n=t(14500),r=new h({initialize:function(s,o,i,l,u){this.pipeline=s,this.name=o,this.renderer=s.renderer,this.gl=this.renderer.gl,this.fragSrc=l,this.vertSrc=i,this.program=this.renderer.createProgram(i,l),this.attributes,this.vertexComponentCount=0,this.vertexSize=0,this.uniforms={},this.createAttributes(u),this.createUniforms()},createAttributes:function(e){var s=0,o=0,i=[];this.vertexComponentCount=0;for(var l=0;l<e.length;l++){var u=e[l],f=u.name,d=a(u,"size",1),c=a(u,"type",n.FLOAT),m=c.enum,g=c.size,x=!!u.normalized;i.push({name:f,size:d,type:m,normalized:x,offset:o,enabled:!1,location:-1}),g===4?s+=d:s++,o+=d*g}this.vertexSize=o,this.vertexComponentCount=s,this.attributes=i},bind:function(e,s){return e===void 0&&(e=!1),s===void 0&&(s=!1),s&&this.pipeline.flush(),this.renderer.setProgram(this.program),e&&this.setAttribPointers(),this},rebind:function(){return this.renderer.setProgram(this.program),this.setAttribPointers(!0),this},setAttribPointers:function(e){e===void 0&&(e=!1);for(var s=this.gl,o=this.renderer,i=this.vertexSize,l=this.attributes,u=this.program,f=0;f<l.length;f++){var d=l[f],c=d.size,m=d.type,g=d.offset,x=d.enabled,T=d.location,S=!!d.normalized;if(e){T!==-1&&o.deleteAttribLocation(T);var P=this.renderer.createAttribLocation(u,d.name);P.webGLAttribLocation>=0?(s.enableVertexAttribArray(P.webGLAttribLocation),s.vertexAttribPointer(P.webGLAttribLocation,c,m,S,i,g),d.enabled=!0,d.location=P):P.webGLAttribLocation!==-1&&s.disableVertexAttribArray(P.webGLAttribLocation)}else x?s.vertexAttribPointer(T.webGLAttribLocation,c,m,S,i,g):!x&&T!==-1&&T.webGLAttribLocation>-1&&(s.disableVertexAttribArray(T.webGLAttribLocation),d.location=-1)}return this},createUniforms:function(){var e=this.gl,s=this.program,o=this.uniforms,i,l,u,f=e.getProgramParameter(s.webGLProgram,e.ACTIVE_UNIFORMS);for(i=0;i<f;i++){var d=e.getActiveUniform(s.webGLProgram,i);if(d){l=d.name,u=this.renderer.createUniformLocation(s,l),u!==null&&(o[l]={name:l,location:u,setter:null,value1:null,value2:null,value3:null,value4:null});var c=l.indexOf("[");c>0&&(l=l.substr(0,c),o.hasOwnProperty(l)||(u=this.renderer.createUniformLocation(s,l),u!==null&&(o[l]={name:l,location:u,setter:null,value1:null,value2:null,value3:null,value4:null})))}}return this},syncUniforms:function(){var e=this.gl;this.renderer.setProgram(this.program);for(var s in this.uniforms){var o=this.uniforms[s];o.setter&&o.setter.call(e,o.location.webGLUniformLocation,o.value1,o.value2,o.value3,o.value4)}},hasUniform:function(e){return this.uniforms.hasOwnProperty(e)},resetUniform:function(e){var s=this.uniforms[e];return s&&(s.value1=null,s.value2=null,s.value3=null,s.value4=null),this},setUniform1:function(e,s,o,i){var l=this.uniforms[s];return l?((i||l.value1!==o)&&(l.setter||(l.setter=e),l.value1=o,this.renderer.setProgram(this.program),e.call(this.gl,l.location.webGLUniformLocation,o),this.pipeline.currentShader=this),this):this},setUniform2:function(e,s,o,i,l){var u=this.uniforms[s];return u?((l||u.value1!==o||u.value2!==i)&&(u.setter||(u.setter=e),u.value1=o,u.value2=i,this.renderer.setProgram(this.program),e.call(this.gl,u.location.webGLUniformLocation,o,i),this.pipeline.currentShader=this),this):this},setUniform3:function(e,s,o,i,l,u){var f=this.uniforms[s];return f?((u||f.value1!==o||f.value2!==i||f.value3!==l)&&(f.setter||(f.setter=e),f.value1=o,f.value2=i,f.value3=l,this.renderer.setProgram(this.program),e.call(this.gl,f.location.webGLUniformLocation,o,i,l),this.pipeline.currentShader=this),this):this},setUniform4:function(e,s,o,i,l,u,f){var d=this.uniforms[s];return d?((f||d.value1!==o||d.value2!==i||d.value3!==l||d.value4!==u)&&(d.setter||(d.setter=e),d.value1=o,d.value2=i,d.value3=l,d.value4=u,this.renderer.setProgram(this.program),e.call(this.gl,d.location.webGLUniformLocation,o,i,l,u),this.pipeline.currentShader=this),this):this},setBoolean:function(e,s){return this.setUniform1(this.gl.uniform1i,e,Number(s))},set1f:function(e,s){return this.setUniform1(this.gl.uniform1f,e,s)},set2f:function(e,s,o){return this.setUniform2(this.gl.uniform2f,e,s,o)},set3f:function(e,s,o,i){return this.setUniform3(this.gl.uniform3f,e,s,o,i)},set4f:function(e,s,o,i,l){return this.setUniform4(this.gl.uniform4f,e,s,o,i,l)},set1fv:function(e,s){return this.setUniform1(this.gl.uniform1fv,e,s,!0)},set2fv:function(e,s){return this.setUniform1(this.gl.uniform2fv,e,s,!0)},set3fv:function(e,s){return this.setUniform1(this.gl.uniform3fv,e,s,!0)},set4fv:function(e,s){return this.setUniform1(this.gl.uniform4fv,e,s,!0)},set1iv:function(e,s){return this.setUniform1(this.gl.uniform1iv,e,s,!0)},set2iv:function(e,s){return this.setUniform1(this.gl.uniform2iv,e,s,!0)},set3iv:function(e,s){return this.setUniform1(this.gl.uniform3iv,e,s,!0)},set4iv:function(e,s){return this.setUniform1(this.gl.uniform4iv,e,s,!0)},set1i:function(e,s){return this.setUniform1(this.gl.uniform1i,e,s)},set2i:function(e,s,o){return this.setUniform2(this.gl.uniform2i,e,s,o)},set3i:function(e,s,o,i){return this.setUniform3(this.gl.uniform3i,e,s,o,i)},set4i:function(e,s,o,i,l){return this.setUniform4(this.gl.uniform4i,e,s,o,i,l)},setMatrix2fv:function(e,s,o){return this.setUniform2(this.gl.uniformMatrix2fv,e,s,o,!0)},setMatrix3fv:function(e,s,o){return this.setUniform2(this.gl.uniformMatrix3fv,e,s,o,!0)},setMatrix4fv:function(e,s,o){return this.setUniform2(this.gl.uniformMatrix4fv,e,s,o,!0)},createProgram:function(e,s){return e===void 0&&(e=this.vertSrc),s===void 0&&(s=this.fragSrc),this.program&&this.renderer.deleteProgram(this.program),this.vertSrc=e,this.fragSrc=s,this.program=this.renderer.createProgram(e,s),this.createUniforms(),this.rebind()},destroy:function(){var e=this.renderer;p(this.uniforms,function(s){e.deleteUniformLocation(s.location)}),this.uniforms=null,p(this.attributes,function(s){e.deleteAttribLocation(s.location)}),this.attributes=null,e.deleteProgram(this.program),this.pipeline=null,this.renderer=null,this.gl=null,this.program=null}});v.exports=r},14500:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={BYTE:{enum:5120,size:1},UNSIGNED_BYTE:{enum:5121,size:1},SHORT:{enum:5122,size:2},UNSIGNED_SHORT:{enum:5123,size:2},INT:{enum:5124,size:4},UNSIGNED_INT:{enum:5125,size:4},FLOAT:{enum:5126,size:4}};v.exports=y},4159:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(14500),p=t(79291),a={PipelineManager:t(7530),Pipelines:t(96615),RenderTarget:t(32302),Utils:t(70554),WebGLPipeline:t(29100),WebGLRenderer:t(74797),WebGLShader:t(38683),Wrappers:t(9503)};a=p(!1,a,h),v.exports=a},31302:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),p=t(95540),a=t(78908),n=t(85191),r=t(14500),e=t(29100),s=new h({Extends:e,initialize:function(i){i.fragShader=p(i,"fragShader",a),i.vertShader=p(i,"vertShader",n),i.batchSize=p(i,"batchSize",1),i.vertices=p(i,"vertices",[-1,1,-1,-7,7,1]),i.attributes=p(i,"attributes",[{name:"inPosition",size:2,type:r.FLOAT}]),e.call(this,i)},boot:function(){e.prototype.boot.call(this),this.set1i("uMainSampler",0),this.set1i("uMaskSampler",1)},resize:function(o,i){e.prototype.resize.call(this,o,i),this.set2f("uResolution",o,i)},beginMask:function(o,i,l){this.renderer.beginBitmapMask(o,l)},endMask:function(o,i,l){var u=this.gl,f=this.renderer,d=o.bitmapMask;d&&u&&(f.drawBitmapMask(d,i,this),l&&this.set2f("uResolution",l.width,l.height),this.set1i("uInvertMaskAlpha",o.invertAlpha),u.drawArrays(this.topology,0,3),l&&this.set2f("uResolution",this.width,this.height),u.bindTexture(u.TEXTURE_2D,null))}});v.exports=s},92651:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),p=t(58918),a=t(14811),n=t(95540),r=t(43558),e=t(89350),s=t(70554),o=new h({Extends:r,initialize:function(l){l.shaders=[s.setGlowQuality(e.FXGlowFrag,l.game),e.FXShadowFrag,e.FXPixelateFrag,e.FXVignetteFrag,e.FXShineFrag,e.FXBlurLowFrag,e.FXBlurMedFrag,e.FXBlurHighFrag,e.FXGradientFrag,e.FXBloomFrag,e.ColorMatrixFrag,e.FXCircleFrag,e.FXBarrelFrag,e.FXDisplacementFrag,e.FXWipeFrag,e.FXBokehFrag],r.call(this,l);var u=this.game;this.glow=new p.Glow(u),this.shadow=new p.Shadow(u),this.pixelate=new p.Pixelate(u),this.vignette=new p.Vignette(u),this.shine=new p.Shine(u),this.gradient=new p.Gradient(u),this.circle=new p.Circle(u),this.barrel=new p.Barrel(u),this.wipe=new p.Wipe(u),this.bokeh=new p.Bokeh(u);var f=[];f[a.GLOW]=this.onGlow,f[a.SHADOW]=this.onShadow,f[a.PIXELATE]=this.onPixelate,f[a.VIGNETTE]=this.onVignette,f[a.SHINE]=this.onShine,f[a.BLUR]=this.onBlur,f[a.GRADIENT]=this.onGradient,f[a.BLOOM]=this.onBloom,f[a.COLOR_MATRIX]=this.onColorMatrix,f[a.CIRCLE]=this.onCircle,f[a.BARREL]=this.onBarrel,f[a.DISPLACEMENT]=this.onDisplacement,f[a.WIPE]=this.onWipe,f[a.BOKEH]=this.onBokeh,this.fxHandlers=f,this.source,this.target,this.swap},onDraw:function(i,l,u){this.source=i,this.target=l,this.swap=u;var f=i.width,d=i.height,c=this.tempSprite,m=this.fxHandlers;if(c&&c.preFX)for(var g=c.preFX.list,x=0;x<g.length;x++){var T=g[x];T.active&&m[T.type].call(this,T,f,d)}this.drawToGame(this.source)},runDraw:function(){var i=this.source,l=this.target;this.copy(i,l),this.source=l,this.target=i},onGlow:function(i,l,u){var f=this.shaders[a.GLOW];this.setShader(f),this.glow.onPreRender(i,f,l,u),this.runDraw()},onShadow:function(i){var l=this.shaders[a.SHADOW];this.setShader(l),this.shadow.onPreRender(i,l),this.runDraw()},onPixelate:function(i,l,u){var f=this.shaders[a.PIXELATE];this.setShader(f),this.pixelate.onPreRender(i,f,l,u),this.runDraw()},onVignette:function(i){var l=this.shaders[a.VIGNETTE];this.setShader(l),this.vignette.onPreRender(i,l),this.runDraw()},onShine:function(i,l,u){var f=this.shaders[a.SHINE];this.setShader(f),this.shine.onPreRender(i,f,l,u),this.runDraw()},onBlur:function(i,l,u){var f=n(i,"quality"),d=this.shaders[a.BLUR+f];this.setShader(d),this.set1i("uMainSampler",0),this.set2f("resolution",l,u),this.set1f("strength",n(i,"strength")),this.set3fv("color",n(i,"glcolor"));for(var c=n(i,"x"),m=n(i,"y"),g=n(i,"steps"),x=0;x<g;x++)this.set2f("offset",c,0),this.runDraw(),this.set2f("offset",0,m),this.runDraw()},onGradient:function(i){var l=this.shaders[a.GRADIENT];this.setShader(l),this.gradient.onPreRender(i,l),this.runDraw()},onBloom:function(i,l,u){var f=this.shaders[a.BLOOM];this.copySprite(this.source,this.swap),this.setShader(f),this.set1i("uMainSampler",0),this.set1f("strength",n(i,"blurStrength")),this.set3fv("color",n(i,"glcolor"));for(var d=2/l*n(i,"offsetX"),c=2/u*n(i,"offsetY"),m=n(i,"steps"),g=0;g<m;g++)this.set2f("offset",d,0),this.runDraw(),this.set2f("offset",0,c),this.runDraw();this.blendFrames(this.swap,this.source,this.target,n(i,"strength")),this.copySprite(this.target,this.source)},onColorMatrix:function(i){this.setShader(this.colorMatrixShader),this.set1fv("uColorMatrix",i.getData()),this.set1f("uAlpha",i.alpha),this.runDraw()},onCircle:function(i,l,u){var f=this.shaders[a.CIRCLE];this.setShader(f),this.circle.onPreRender(i,f,l,u),this.runDraw()},onBarrel:function(i){var l=this.shaders[a.BARREL];this.setShader(l),this.barrel.onPreRender(i,l),this.runDraw()},onDisplacement:function(i){this.setShader(this.shaders[a.DISPLACEMENT]),this.set1i("uDisplacementSampler",1),this.set2f("amount",i.x,i.y),this.bindTexture(i.glTexture,1),this.runDraw()},onWipe:function(i){var l=this.shaders[a.WIPE];this.setShader(l),this.wipe.onPreRender(i,l),this.runDraw()},onBokeh:function(i,l,u){var f=this.shaders[a.BOKEH];this.setShader(f),this.bokeh.onPreRender(i,f,l,u),this.runDraw()},destroy:function(){return this.glow.destroy(),this.shadow.destroy(),this.pixelate.destroy(),this.vignette.destroy(),this.shine.destroy(),this.gradient.destroy(),this.circle.destroy(),this.barrel.destroy(),this.wipe.destroy(),this.bokeh.destroy(),this.fxHandlers=null,this.source=null,this.target=null,this.swap=null,r.prototype.destroy.call(this),this}});v.exports=o},96569:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),p=t(95540),a=t(31063),n=t(57516),r=t(61340),e=t(26099),s=t(29100),o=new h({Extends:n,initialize:function(l){var u=p(l,"fragShader",a);l.fragShader=u.replace("%LIGHT_COUNT%",l.game.renderer.config.maxLights),n.call(this,l),this.inverseRotationMatrix=new Float32Array([1,0,0,0,1,0,0,0,1]),this.currentNormalMap,this.lightsActive=!0,this.tempVec2=new e,this._tempMatrix=new r,this._tempMatrix2=new r},boot:function(){s.prototype.boot.call(this)},onRender:function(i,l){var u=i.sys.lights;if(this.lightsActive=!1,!(!u||!u.active)){var f=u.getLights(l),d=f.length;this.lightsActive=!0;var c,m=this.renderer,g=m.height,x=l.matrix,T=this.tempVec2;for(this.set1i("uMainSampler",0),this.set1i("uNormSampler",1),this.set2f("uResolution",this.width/2,this.height/2),this.set4f("uCamera",l.x,l.y,l.rotation,l.zoom),this.set3f("uAmbientLightColor",u.ambientColor.r,u.ambientColor.g,u.ambientColor.b),this.set1i("uLightCount",d),c=0;c<d;c++){var S=f[c].light,P=S.color,L="uLights["+c+"].";x.transformPoint(S.x,S.y,T),this.set2f(L+"position",T.x-l.scrollX*S.scrollFactorX*l.zoom,g-(T.y-l.scrollY*S.scrollFactorY*l.zoom)),this.set3f(L+"color",P.r,P.g,P.b),this.set1f(L+"intensity",S.intensity),this.set1f(L+"radius",S.radius)}this.currentNormalMapRotation=null}},setNormalMapRotation:function(i){if(i!==this.currentNormalMapRotation||this.vertexCount===0){this.vertexCount>0&&this.flush();var l=this.inverseRotationMatrix;if(i){var u=-i,f=Math.cos(u),d=Math.sin(u);l[1]=d,l[3]=-d,l[0]=l[4]=f}else l[0]=l[4]=1,l[1]=l[3]=0;this.setMatrix3fv("uInverseRotationMatrix",!1,l),this.currentNormalMapRotation=i}},setTexture2D:function(i,l){var u=this.renderer;i===void 0&&(i=u.whiteTexture);var f=this.getNormalMap(l);this.isNewNormalMap(i,f)&&(this.flush(),this.createBatch(i),this.addTextureToBatch(f),this.currentNormalMap=f);var d=0;if(l&&l.parentContainer){var c=l.getWorldTransformMatrix(this._tempMatrix,this._tempMatrix2);d=c.rotationNormalized}else l&&(d=l.rotation);return this.currentBatch===null&&(this.createBatch(i),this.addTextureToBatch(f)),this.setNormalMapRotation(d),0},setGameObject:function(i,l){l===void 0&&(l=i.frame);var u=l.glTexture,f=this.getNormalMap(i);if(this.isNewNormalMap(u,f)&&(this.flush(),this.createBatch(u),this.addTextureToBatch(f),this.currentNormalMap=f),i.parentContainer){var d=i.getWorldTransformMatrix(this._tempMatrix,this._tempMatrix2);this.setNormalMapRotation(d.rotationNormalized)}else this.setNormalMapRotation(i.rotation);return this.currentBatch===null&&(this.createBatch(u),this.addTextureToBatch(f)),0},isNewNormalMap:function(i,l){return this.currentTexture!==i||this.currentNormalMap!==l},getNormalMap:function(i){var l;if(i)i.displayTexture?l=i.displayTexture.dataSource[i.displayFrame.sourceIndex]:i.texture?l=i.texture.dataSource[i.frame.sourceIndex]:i.tileset&&(Array.isArray(i.tileset)?l=i.tileset[0].image.dataSource[0]:l=i.tileset.image.dataSource[0]);else return this.renderer.normalTexture;return l?l.glTexture:this.renderer.normalTexture},batchSprite:function(i,l,u){this.lightsActive&&n.prototype.batchSprite.call(this,i,l,u)},batchTexture:function(i,l,u,f,d,c,m,g,x,T,S,P,L,I,O,M,w,D,U,Y,H,X,G,z,b,N,W,K,J,j,Z,q){this.lightsActive&&n.prototype.batchTexture.call(this,i,l,u,f,d,c,m,g,x,T,S,P,L,I,O,M,w,D,U,Y,H,X,G,z,b,N,W,K,J,j,Z,q)},batchTextureFrame:function(i,l,u,f,d,c,m){this.lightsActive&&n.prototype.batchTextureFrame.call(this,i,l,u,f,d,c,m)}});v.exports=o},56527:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),p=t(95540),a=t(57516),n=t(45561),r=t(60722),e=t(14500),s=t(29100),o=new h({Extends:a,initialize:function(l){l.fragShader=p(l,"fragShader",n),l.vertShader=p(l,"vertShader",r),l.attributes=p(l,"attributes",[{name:"inPosition",size:2},{name:"inTexCoord",size:2},{name:"inTexId"},{name:"inTintEffect"},{name:"inTint",size:4,type:e.UNSIGNED_BYTE,normalized:!0}]),l.forceZero=!0,l.resizeUniform="uResolution",a.call(this,l)},boot:function(){s.prototype.boot.call(this);var i=this.renderer;this.set1i("uMainSampler",0),this.set2f("uResolution",i.width,i.height)}});v.exports=o},57516:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),p=t(94811),a=t(95540),n=t(98840),r=t(44667),e=t(61340),s=t(70554),o=t(14500),i=t(29100),l=new h({Extends:i,initialize:function(f){var d=f.game.renderer,c=a(f,"fragShader",n);f.fragShader=s.parseFragmentShaderMaxTextures(c,d.maxTextures),f.vertShader=a(f,"vertShader",r),f.attributes=a(f,"attributes",[{name:"inPosition",size:2},{name:"inTexCoord",size:2},{name:"inTexId"},{name:"inTintEffect"},{name:"inTint",size:4,type:o.UNSIGNED_BYTE,normalized:!0}]),f.resizeUniform="uResolution",i.call(this,f),this._tempMatrix1=new e,this._tempMatrix2=new e,this._tempMatrix3=new e,this.calcMatrix=new e,this.tempTriangle=[{x:0,y:0,width:0},{x:0,y:0,width:0},{x:0,y:0,width:0},{x:0,y:0,width:0}],this.strokeTint={TL:0,TR:0,BL:0,BR:0},this.fillTint={TL:0,TR:0,BL:0,BR:0},this.currentFrame={u0:0,v0:0,u1:1,v1:1},this.firstQuad=[0,0,0,0,0],this.prevQuad=[0,0,0,0,0],this.polygonCache=[]},boot:function(){i.prototype.boot.call(this);var u=this.renderer;this.set1iv("uMainSampler",u.textureIndexes),this.set2f("uResolution",u.width,u.height)},batchSprite:function(u,f,d){this.manager.set(this,u);var c=this._tempMatrix1,m=this._tempMatrix2,g=this._tempMatrix3,x=u.frame,T=x.glTexture,S=x.u0,P=x.v0,L=x.u1,I=x.v1,O=x.x,M=x.y,w=x.cutWidth,D=x.cutHeight,U=x.customPivot,Y=u.displayOriginX,H=u.displayOriginY,X=-Y+O,G=-H+M;if(u.isCropped){var z=u._crop;(z.flipX!==u.flipX||z.flipY!==u.flipY)&&x.updateCropUVs(z,u.flipX,u.flipY),S=z.u0,P=z.v0,L=z.u1,I=z.v1,w=z.width,D=z.height,O=z.x,M=z.y,X=-Y+O,G=-H+M}var b=1,N=1;u.flipX&&(U||(X+=-x.realWidth+Y*2),b=-1),u.flipY&&(U||(G+=-x.realHeight+H*2),N=-1);var W=u.x,K=u.y;f.roundPixels&&(W=Math.floor(W),K=Math.floor(K)),m.applyITRS(W,K,u.rotation,u.scaleX*b,u.scaleY*N),c.copyFrom(f.matrix),d?(c.multiplyWithOffset(d,-f.scrollX*u.scrollFactorX,-f.scrollY*u.scrollFactorY),m.e=W,m.f=K):(m.e-=f.scrollX*u.scrollFactorX,m.f-=f.scrollY*u.scrollFactorY),c.multiply(m,g);var J=g.setQuad(X,G,X+w,G+D,f.renderRoundPixels),j=s.getTintAppendFloatAlpha,Z=f.alpha,q=j(u.tintTopLeft,Z*u._alphaTL),_=j(u.tintTopRight,Z*u._alphaTR),tt=j(u.tintBottomLeft,Z*u._alphaBL),et=j(u.tintBottomRight,Z*u._alphaBR);this.shouldFlush(6)&&this.flush();var ot=this.setGameObject(u,x);this.manager.preBatch(u),this.batchQuad(u,J[0],J[1],J[2],J[3],J[4],J[5],J[6],J[7],S,P,L,I,q,_,tt,et,u.tintFill,T,ot),this.manager.postBatch(u)},batchTexture:function(u,f,d,c,m,g,x,T,S,P,L,I,O,M,w,D,U,Y,H,X,G,z,b,N,W,K,J,j,Z,q,_,tt,et){et===void 0&&(et=!1),this.manager.set(this,u);var ot=this._tempMatrix1,it=this._tempMatrix2,lt=this._tempMatrix3,vt=Y/d+J,xt=H/c+j,yt=(Y+X)/d+J,nt=(H+G)/c+j,dt=x,ct=T,Rt=-D,It=-U;if(u.isCropped){var ne=u._crop,ee=ne.width,le=ne.height;dt=ee,ct=le,x=ee,T=le,Y=ne.x,H=ne.y;var Zt=Y,fe=H;I&&(Zt=X-ne.x-ee),O&&(fe=G-ne.y-le),vt=Zt/d+J,xt=fe/c+j,yt=(Zt+ee)/d+J,nt=(fe+le)/c+j,Rt=-D+Y,It=-U+H}O=O^(!_&&f.isRenderTexture?1:0),I&&(dt*=-1,Rt+=x),O&&(ct*=-1,It+=T),Z.roundPixels&&(m=Math.floor(m),g=Math.floor(g)),it.applyITRS(m,g,L,S,P),ot.copyFrom(Z.matrix),q?(ot.multiplyWithOffset(q,-Z.scrollX*M,-Z.scrollY*w),it.e=m,it.f=g):(it.e-=Z.scrollX*M,it.f-=Z.scrollY*w),ot.multiply(it,lt);var Gt=lt.setQuad(Rt,It,Rt+dt,It+ct,Z.renderRoundPixels);tt==null&&(tt=this.setTexture2D(f)),u&&!et&&this.manager.preBatch(u),this.batchQuad(u,Gt[0],Gt[1],Gt[2],Gt[3],Gt[4],Gt[5],Gt[6],Gt[7],vt,xt,yt,nt,z,b,N,W,K,f,tt),u&&!et&&this.manager.postBatch(u)},batchTextureFrame:function(u,f,d,c,m,g,x){this.manager.set(this);var T=this._tempMatrix1.copyFrom(g),S=this._tempMatrix2;x?T.multiply(x,S):S=T;var P=S.setQuad(f,d,f+u.width,d+u.height),L=this.setTexture2D(u.source.glTexture);c=s.getTintAppendFloatAlpha(c,m),this.batchQuad(null,P[0],P[1],P[2],P[3],P[4],P[5],P[6],P[7],u.u0,u.v0,u.u1,u.v1,c,c,c,c,0,u.glTexture,L)},batchFillRect:function(u,f,d,c,m,g){this.renderer.pipelines.set(this);var x=this.calcMatrix;g&&g.multiply(m,x);var T=x.setQuad(u,f,u+d,f+c),S=this.fillTint;this.batchQuad(null,T[0],T[1],T[2],T[3],T[4],T[5],T[6],T[7],0,0,1,1,S.TL,S.TR,S.BL,S.BR,2)},batchFillTriangle:function(u,f,d,c,m,g,x,T){this.renderer.pipelines.set(this);var S=this.calcMatrix;T&&T.multiply(x,S);var P=S.getX(u,f),L=S.getY(u,f),I=S.getX(d,c),O=S.getY(d,c),M=S.getX(m,g),w=S.getY(m,g),D=this.fillTint;this.batchTri(null,P,L,I,O,M,w,0,0,1,1,D.TL,D.TR,D.BL,2)},batchStrokeTriangle:function(u,f,d,c,m,g,x,T,S){var P=this.tempTriangle;P[0].x=u,P[0].y=f,P[0].width=x,P[1].x=d,P[1].y=c,P[1].width=x,P[2].x=m,P[2].y=g,P[2].width=x,P[3].x=u,P[3].y=f,P[3].width=x,this.batchStrokePath(P,x,!1,T,S)},batchFillPath:function(u,f,d){this.renderer.pipelines.set(this);var c=this.calcMatrix;d&&d.multiply(f,c);for(var m=u.length,g=this.polygonCache,x,T,S=this.fillTint.TL,P=this.fillTint.TR,L=this.fillTint.BL,I=0;I<m;++I)T=u[I],g.push(T.x,T.y);x=p(g),m=x.length;for(var O=0;O<m;O+=3){var M=x[O+0]*2,w=x[O+1]*2,D=x[O+2]*2,U=g[M+0],Y=g[M+1],H=g[w+0],X=g[w+1],G=g[D+0],z=g[D+1],b=c.getX(U,Y),N=c.getY(U,Y),W=c.getX(H,X),K=c.getY(H,X),J=c.getX(G,z),j=c.getY(G,z);this.batchTri(null,b,N,W,K,J,j,0,0,1,1,S,P,L,2)}g.length=0},batchStrokePath:function(u,f,d,c,m){this.renderer.pipelines.set(this),this.prevQuad[4]=0,this.firstQuad[4]=0;for(var g=u.length-1,x=0;x<g;x++){var T=u[x],S=u[x+1];this.batchLine(T.x,T.y,S.x,S.y,T.width/2,S.width/2,f,x,!d&&x===g-1,c,m)}},batchLine:function(u,f,d,c,m,g,x,T,S,P,L){this.renderer.pipelines.set(this);var I=this.calcMatrix;L&&L.multiply(P,I);var O=d-u,M=c-f,w=Math.sqrt(O*O+M*M);if(w!==0){var D=m*(c-f)/w,U=m*(u-d)/w,Y=g*(c-f)/w,H=g*(u-d)/w,X=d-Y,G=c-H,z=u-D,b=f-U,N=d+Y,W=c+H,K=u+D,J=f+U,j=I.getX(X,G),Z=I.getY(X,G),q=I.getX(z,b),_=I.getY(z,b),tt=I.getX(N,W),et=I.getY(N,W),ot=I.getX(K,J),it=I.getY(K,J),lt=this.strokeTint,vt=lt.TL,xt=lt.TR,yt=lt.BL,nt=lt.BR;if(this.batchQuad(null,ot,it,q,_,j,Z,tt,et,0,0,1,1,vt,xt,yt,nt,2),!(x<=2)){var dt=this.prevQuad,ct=this.firstQuad;T>0&&dt[4]?this.batchQuad(null,ot,it,q,_,dt[0],dt[1],dt[2],dt[3],0,0,1,1,vt,xt,yt,nt,2):(ct[0]=ot,ct[1]=it,ct[2]=q,ct[3]=_,ct[4]=1),S&&ct[4]?this.batchQuad(null,j,Z,tt,et,ct[0],ct[1],ct[2],ct[3],0,0,1,1,vt,xt,yt,nt,2):(dt[0]=j,dt[1]=Z,dt[2]=tt,dt[3]=et,dt[4]=1)}}},destroy:function(){return this._tempMatrix1.destroy(),this._tempMatrix2.destroy(),this._tempMatrix3.destroy(),this._tempMatrix1=null,this._tempMatrix1=null,this._tempMatrix1=null,i.prototype.destroy.call(this),this}});v.exports=l},43439:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),p=t(95540),a=t(4127),n=t(89924),r=t(29100),e=new h({Extends:r,initialize:function(o){o.vertShader=p(o,"vertShader",n),o.fragShader=p(o,"fragShader",a),o.attributes=p(o,"attributes",[{name:"inPosition",size:2},{name:"inLightPosition",size:2},{name:"inLightRadius"},{name:"inLightAttenuation"},{name:"inLightColor",size:4}]),r.call(this,o)},onRender:function(s,o){this.set2f("uResolution",this.width,this.height),this.set1f("uCameraZoom",o.zoom)},batchPointLight:function(s,o,i,l,u,f,d,c,m,g,x,T){var S=s.color,P=s.intensity,L=s.radius,I=s.attenuation,O=S.r*P,M=S.g*P,w=S.b*P,D=o.alpha*s.alpha;this.shouldFlush(6)&&this.flush(),this.currentBatch||this.setTexture2D(),this.batchLightVert(i,l,x,T,L,I,O,M,w,D),this.batchLightVert(u,f,x,T,L,I,O,M,w,D),this.batchLightVert(d,c,x,T,L,I,O,M,w,D),this.batchLightVert(i,l,x,T,L,I,O,M,w,D),this.batchLightVert(d,c,x,T,L,I,O,M,w,D),this.batchLightVert(m,g,x,T,L,I,O,M,w,D),this.currentBatch.count=this.vertexCount-this.currentBatch.start},batchLightVert:function(s,o,i,l,u,f,d,c,m,g){var x=this.vertexViewF32,T=this.vertexCount*this.currentShader.vertexComponentCount-1;x[++T]=s,x[++T]=o,x[++T]=i,x[++T]=l,x[++T]=u,x[++T]=f,x[++T]=d,x[++T]=c,x[++T]=m,x[++T]=g,this.vertexCount++}});v.exports=e},84057:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),p=t(89422),a=t(95540),n=t(27681),r=t(49627),e=t(29100),s=new h({Extends:e,initialize:function(i){i.renderTarget=a(i,"renderTarget",1),i.fragShader=a(i,"fragShader",n),i.vertShader=a(i,"vertShader",r),i.attributes=a(i,"attributes",[{name:"inPosition",size:2},{name:"inTexCoord",size:2}]),i.batchSize=1,i.vertices=[-1,-1,0,0,-1,1,0,1,1,1,1,1,-1,-1,0,0,1,1,1,1,1,-1,1,0],e.call(this,i),this.isPostFX=!0,this.gameObject,this.controller,this.colorMatrix=new p,this.fullFrame1,this.fullFrame2,this.halfFrame1,this.halfFrame2,this.renderer.isBooted&&(this.manager=this.renderer.pipelines)},bootFX:function(){e.prototype.boot.call(this);var o=this.manager.UTILITY_PIPELINE;this.fullFrame1=o.fullFrame1,this.fullFrame2=o.fullFrame2,this.halfFrame1=o.halfFrame1,this.halfFrame2=o.halfFrame2;var i=this.renderer;this.set1i("uMainSampler",0),this.set2f("uResolution",i.width,i.height);for(var l=this.renderTargets,u=0;u<l.length;u++)l[u].autoResize=!0},postBatch:function(o){return this.hasBooted||(this.bootFX(),this.currentRenderTarget&&this.currentRenderTarget.bind()),this.onDraw(this.currentRenderTarget),this.onPostBatch(o),this},onDraw:function(o){this.bindAndDraw(o)},getController:function(o){return o!==void 0?o:this.controller?this.controller:this},copySprite:function(o,i,l){l===void 0&&(l=!1);var u=this.gl;u.activeTexture(u.TEXTURE0),u.bindTexture(u.TEXTURE_2D,o.texture.webGLTexture);var f=u.getParameter(u.FRAMEBUFFER_BINDING);u.bindFramebuffer(u.FRAMEBUFFER,i.framebuffer.webGLFramebuffer),u.framebufferTexture2D(u.FRAMEBUFFER,u.COLOR_ATTACHMENT0,u.TEXTURE_2D,i.texture.webGLTexture,0),u.clearColor(0,0,0,0),u.clear(u.COLOR_BUFFER_BIT),u.bufferData(u.ARRAY_BUFFER,this.vertexData,u.STATIC_DRAW),u.drawArrays(u.TRIANGLES,0,6),l&&(u.bindTexture(u.TEXTURE_2D,null),u.bindFramebuffer(u.FRAMEBUFFER,f))},copyFrame:function(o,i,l,u,f){this.manager.copyFrame(o,i,l,u,f)},copyToGame:function(o){this.manager.copyToGame(o)},drawFrame:function(o,i,l){this.manager.drawFrame(o,i,l,this.colorMatrix)},blendFrames:function(o,i,l,u,f){this.manager.blendFrames(o,i,l,u,f)},blendFramesAdditive:function(o,i,l,u,f){this.manager.blendFramesAdditive(o,i,l,u,f)},clearFrame:function(o,i){this.manager.clearFrame(o,i)},blitFrame:function(o,i,l,u,f,d){this.manager.blitFrame(o,i,l,u,f,d)},copyFrameRect:function(o,i,l,u,f,d,c,m){this.manager.copyFrameRect(o,i,l,u,f,d,c,m)},bindAndDraw:function(o,i,l,u,f){l===void 0&&(l=!0),u===void 0&&(u=!0);var d=this.gl,c=this.renderer;this.bind(f),this.set1i("uMainSampler",0),i?(d.viewport(0,0,i.width,i.height),d.bindFramebuffer(d.FRAMEBUFFER,i.framebuffer.webGLFramebuffer),d.framebufferTexture2D(d.FRAMEBUFFER,d.COLOR_ATTACHMENT0,d.TEXTURE_2D,i.texture.webGLTexture,0),l&&(u?d.clearColor(0,0,0,0):d.clearColor(0,0,0,1),d.clear(d.COLOR_BUFFER_BIT))):(c.popFramebuffer(!1,!1),c.currentFramebuffer||d.viewport(0,0,c.width,c.height)),c.restoreStencilMask(),d.activeTexture(d.TEXTURE0),d.bindTexture(d.TEXTURE_2D,o.texture.webGLTexture),d.bufferData(d.ARRAY_BUFFER,this.vertexData,d.STATIC_DRAW),d.drawArrays(d.TRIANGLES,0,6),i&&(d.bindTexture(d.TEXTURE_2D,null),d.bindFramebuffer(d.FRAMEBUFFER,c.currentFramebuffer.webGLFramebuffer))},destroy:function(){return this.controller&&this.controller.destroy(),this.gameObject=null,this.controller=null,this.colorMatrix=null,this.fullFrame1=null,this.fullFrame2=null,this.halfFrame1=null,this.halfFrame2=null,this.manager.removePostPipeline(this),e.prototype.destroy.call(this),this}});v.exports=s},43558:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(10312),p=t(67502),a=t(83419),n=t(96293),r=t(95540),e=t(57516),s=t(27681),o=t(87841),i=t(32302),l=t(45561),u=t(60722),f=t(29100),d=new a({Extends:e,initialize:function(m){var g=r(m,"fragShader",s),x=r(m,"vertShader",u),T=r(m,"drawShader",s),S=[{name:"DrawSprite",fragShader:l,vertShader:u},{name:"CopySprite",fragShader:g,vertShader:x},{name:"DrawGame",fragShader:T,vertShader:u},{name:"ColorMatrix",fragShader:n}],P=r(m,"shaders",[]);m.shaders=S.concat(P),m.vertShader||(m.vertShader=x),m.batchSize=1,e.call(this,m),this.isPreFX=!0,this.customMainSampler=null,this.drawSpriteShader,this.copyShader,this.gameShader,this.colorMatrixShader,this.quadVertexData,this.quadVertexBuffer,this.quadVertexViewF32,this.spriteBounds=new o,this.targetBounds=new o,this.fsTarget,this.tempSprite,this.renderer.isBooted&&(this.manager=this.renderer.pipelines,this.boot())},boot:function(){f.prototype.boot.call(this);var c=this.shaders,m=this.renderer;this.drawSpriteShader=c[0],this.copyShader=c[1],this.gameShader=c[2],this.colorMatrixShader=c[3],this.fsTarget=new i(m,m.width,m.height,1,0,!0,!0),this.renderTargets=this.manager.renderTargets.concat(this.fsTarget);var g=new ArrayBuffer(168);this.quadVertexData=g,this.quadVertexViewF32=new Float32Array(g),this.quadVertexBuffer=m.createVertexBuffer(g,this.gl.STATIC_DRAW),this.onResize(m.width,m.height),this.currentShader=this.copyShader,this.set2f("uResolution",m.width,m.height)},onResize:function(c,m){var g=this.quadVertexViewF32;g[1]=m,g[22]=m,g[14]=c,g[28]=c,g[35]=c,g[36]=m},batchQuad:function(c,m,g,x,T,S,P,L,I,O,M,w,D,U,Y,H,X,G,z){var b=Math.min(m,x,S,L),N=Math.min(g,T,P,I),W=Math.max(m,x,S,L),K=Math.max(g,T,P,I),J=W-b,j=K-N,Z=this.spriteBounds.setTo(b,N,J,j),q=c?c.preFX.padding:0,_=J+q*2,tt=j+q*2,et=Math.abs(Math.max(_,tt)),ot=this.manager.getRenderTarget(et),it=this.targetBounds.setTo(0,0,ot.width,ot.height);p(it,Math.round(Z.centerX),Math.round(Z.centerY)),this.tempSprite=c;var lt=this.gl,vt=this.renderer;vt.clearStencilMask(),this.setShader(this.drawSpriteShader),this.set1i("uMainSampler",0),this.set2f("uResolution",vt.width,vt.height),this.flipProjectionMatrix(!0),c&&(this.onDrawSprite(c,ot),c.preFX.onFX(this));var xt=this.fsTarget;return this.flush(),lt.viewport(0,0,vt.width,vt.height),lt.bindFramebuffer(lt.FRAMEBUFFER,xt.framebuffer.webGLFramebuffer),lt.framebufferTexture2D(lt.FRAMEBUFFER,lt.COLOR_ATTACHMENT0,lt.TEXTURE_2D,xt.texture.webGLTexture,0),lt.clearColor(0,0,0,0),lt.clear(lt.COLOR_BUFFER_BIT),this.setTexture2D(z),this.batchVert(m,g,O,M,0,G,U),this.batchVert(x,T,O,D,0,G,H),this.batchVert(S,P,w,D,0,G,X),this.batchVert(m,g,O,M,0,G,U),this.batchVert(S,P,w,D,0,G,X),this.batchVert(L,I,w,M,0,G,Y),this.flush(),this.flipProjectionMatrix(!1),lt.activeTexture(lt.TEXTURE0),lt.bindTexture(lt.TEXTURE_2D,ot.texture.webGLTexture),lt.copyTexSubImage2D(lt.TEXTURE_2D,0,0,0,it.x,it.y,it.width,it.height),lt.bindFramebuffer(lt.FRAMEBUFFER,null),lt.bindTexture(lt.TEXTURE_2D,null),this.onBatch(c),this.currentShader=this.copyShader,this.onDraw(ot,this.manager.getSwapRenderTarget(),this.manager.getAltSwapRenderTarget()),!0},onDrawSprite:function(){},onCopySprite:function(){},copySprite:function(c,m,g,x,T,S,P){g===void 0&&(g=!0),x===void 0&&(x=!0),T===void 0&&(T=!1),P===void 0&&(P=this.copyShader);var L=this.gl,I=this.tempSprite;S&&(P=this.colorMatrixShader),this.currentShader=P;var O=this.setVertexBuffer(this.quadVertexBuffer);P.bind(O,!1);var M=this.renderer;if(this.set1i("uMainSampler",0),this.set2f("uResolution",M.width,M.height),I.preFX.onFXCopy(this),this.onCopySprite(c,m,I),S&&(this.set1fv("uColorMatrix",S.getData()),this.set1f("uAlpha",S.alpha)),L.activeTexture(L.TEXTURE0),L.bindTexture(L.TEXTURE_2D,c.texture.webGLTexture),c.height>m.height)L.viewport(0,0,c.width,c.height),this.setTargetUVs(c,m);else{var w=m.height-c.height;L.viewport(0,w,c.width,c.height),this.resetUVs()}if(L.bindFramebuffer(L.FRAMEBUFFER,m.framebuffer.webGLFramebuffer),L.framebufferTexture2D(L.FRAMEBUFFER,L.COLOR_ATTACHMENT0,L.TEXTURE_2D,m.texture.webGLTexture,0),g&&(L.clearColor(0,0,0,+!x),L.clear(L.COLOR_BUFFER_BIT)),T){var D=this.renderer.currentBlendMode;this.renderer.setBlendMode(h.ERASE)}L.bufferData(L.ARRAY_BUFFER,this.quadVertexData,L.STATIC_DRAW),L.drawArrays(L.TRIANGLES,0,6),T&&this.renderer.setBlendMode(D),L.bindFramebuffer(L.FRAMEBUFFER,null)},copy:function(c,m){var g=this.gl;this.set1i("uMainSampler",0),g.activeTexture(g.TEXTURE0),g.bindTexture(g.TEXTURE_2D,c.texture.webGLTexture),g.viewport(0,0,c.width,c.height),this.setUVs(0,0,0,1,1,1,1,0),g.bindFramebuffer(g.FRAMEBUFFER,m.framebuffer.webGLFramebuffer),g.framebufferTexture2D(g.FRAMEBUFFER,g.COLOR_ATTACHMENT0,g.TEXTURE_2D,m.texture.webGLTexture,0),g.clearColor(0,0,0,0),g.clear(g.COLOR_BUFFER_BIT),g.bufferData(g.ARRAY_BUFFER,this.quadVertexData,g.STATIC_DRAW),g.drawArrays(g.TRIANGLES,0,6),g.bindFramebuffer(g.FRAMEBUFFER,null)},blendFrames:function(c,m,g,x,T){this.manager.blendFrames(c,m,g,x,T)},blendFramesAdditive:function(c,m,g,x,T){this.manager.blendFramesAdditive(c,m,g,x,T)},drawToGame:function(c){this.currentShader=null,this.setShader(this.copyShader),this.bindAndDraw(c)},copyToGame:function(c){this.currentShader=null,this.setShader(this.gameShader),this.bindAndDraw(c)},bindAndDraw:function(c){var m=this.gl,g=this.renderer;this.set1i("uMainSampler",0),this.customMainSampler?this.setTexture2D(this.customMainSampler):this.setTexture2D(c.texture);var x=this._tempMatrix1.loadIdentity(),T=this.targetBounds.x,S=this.targetBounds.y,P=T+c.width,L=S+c.height,I=x.getX(T,S),O=x.getX(T,L),M=x.getX(P,L),w=x.getX(P,S),D=x.getY(T,S),U=x.getY(T,L),Y=x.getY(P,L),H=x.getY(P,S),X=16777215;this.batchVert(I,D,0,0,0,0,X),this.batchVert(O,U,0,1,0,0,X),this.batchVert(M,Y,1,1,0,0,X),this.batchVert(I,D,0,0,0,0,X),this.batchVert(M,Y,1,1,0,0,X),this.batchVert(w,H,1,0,0,0,X),g.restoreFramebuffer(!1,!0),g.currentFramebuffer||m.viewport(0,0,g.width,g.height),g.restoreStencilMask(),this.flush(),this.tempSprite=null},onDraw:function(c){this.drawToGame(c)},setUVs:function(c,m,g,x,T,S,P,L){var I=this.quadVertexViewF32;I[2]=c,I[3]=m,I[9]=g,I[10]=x,I[16]=T,I[17]=S,I[23]=c,I[24]=m,I[30]=T,I[31]=S,I[37]=P,I[38]=L},setTargetUVs:function(c,m){var g=m.height/c.height;g>.5?g=.5-(g-.5):g=.5+(.5-g),this.setUVs(0,g,0,1+g,1,1+g,1,g)},resetUVs:function(){this.setUVs(0,0,0,1,1,1,1,0)},destroy:function(){return this.renderer.deleteBuffer(this.quadVertexBuffer),this.drawSpriteShader=null,this.copyShader=null,this.gameShader=null,this.colorMatrixShader=null,this.quadVertexData=null,this.quadVertexBuffer=null,this.quadVertexViewF32=null,this.fsTarget=null,this.tempSprite=null,e.prototype.destroy.call(this),this}});v.exports=d},81041:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),p=t(95540),a=t(57516),n=new h({Extends:a,initialize:function(e){e.topology=5,e.batchSize=p(e,"batchSize",256),a.call(this,e)}});v.exports=n},12385:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),p=t(95540),a=t(57516),n=t(45561),r=t(60722),e=t(29100),s=new h({Extends:a,initialize:function(i){i.fragShader=p(i,"fragShader",n),i.vertShader=p(i,"vertShader",r),i.forceZero=!0,a.call(this,i)},boot:function(){e.prototype.boot.call(this);var o=this.renderer;this.set1i("uMainSampler",0),this.set2f("uResolution",o.width,o.height)}});v.exports=s},7589:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(35407),p=t(10312),a=t(83419),n=t(89422),r=t(96293),e=t(36682),s=t(95540),o=t(48247),i=t(49627),l=t(29100),u=new a({Extends:l,initialize:function(d){d.renderTarget=s(d,"renderTarget",[{scale:1,autoResize:!0},{scale:1,autoResize:!0},{scale:.5,autoResize:!0},{scale:.5,autoResize:!0}]),d.vertShader=s(d,"vertShader",i),d.shaders=s(d,"shaders",[{name:"Copy",fragShader:e},{name:"AddBlend",fragShader:h},{name:"LinearBlend",fragShader:o},{name:"ColorMatrix",fragShader:r}]),d.attributes=s(d,"attributes",[{name:"inPosition",size:2},{name:"inTexCoord",size:2}]),d.vertices=[-1,-1,0,0,-1,1,0,1,1,1,1,1,-1,-1,0,0,1,1,1,1,1,-1,1,0],d.batchSize=1,l.call(this,d),this.colorMatrix=new n,this.copyShader,this.addShader,this.linearShader,this.colorMatrixShader,this.fullFrame1,this.fullFrame2,this.halfFrame1,this.halfFrame2},boot:function(){l.prototype.boot.call(this);var f=this.shaders,d=this.renderTargets;this.copyShader=f[0],this.addShader=f[1],this.linearShader=f[2],this.colorMatrixShader=f[3],this.fullFrame1=d[0],this.fullFrame2=d[1],this.halfFrame1=d[2],this.halfFrame2=d[3]},copyFrame:function(f,d,c,m,g){c===void 0&&(c=1),m===void 0&&(m=!0),g===void 0&&(g=!0);var x=this.gl;this.setShader(this.copyShader),this.set1i("uMainSampler",0),this.set1f("uBrightness",c),x.activeTexture(x.TEXTURE0),x.bindTexture(x.TEXTURE_2D,f.texture.webGLTexture),d?(x.viewport(0,0,d.width,d.height),x.bindFramebuffer(x.FRAMEBUFFER,d.framebuffer.webGLFramebuffer),x.framebufferTexture2D(x.FRAMEBUFFER,x.COLOR_ATTACHMENT0,x.TEXTURE_2D,d.texture.webGLTexture,0)):x.viewport(0,0,f.width,f.height),m&&(g?x.clearColor(0,0,0,0):x.clearColor(0,0,0,1),x.clear(x.COLOR_BUFFER_BIT)),x.bufferData(x.ARRAY_BUFFER,this.vertexData,x.STATIC_DRAW),x.drawArrays(x.TRIANGLES,0,6),x.bindFramebuffer(x.FRAMEBUFFER,null),x.bindTexture(x.TEXTURE_2D,null)},blitFrame:function(f,d,c,m,g,x,T){c===void 0&&(c=1),m===void 0&&(m=!0),g===void 0&&(g=!0),x===void 0&&(x=!1),T===void 0&&(T=!1);var S=this.gl;if(this.setShader(this.copyShader),this.set1i("uMainSampler",0),this.set1f("uBrightness",c),S.activeTexture(S.TEXTURE0),S.bindTexture(S.TEXTURE_2D,f.texture.webGLTexture),f.height>d.height)S.viewport(0,0,f.width,f.height),this.setTargetUVs(f,d);else{var P=d.height-f.height;S.viewport(0,P,f.width,f.height)}if(S.bindFramebuffer(S.FRAMEBUFFER,d.framebuffer.webGLFramebuffer),S.framebufferTexture2D(S.FRAMEBUFFER,S.COLOR_ATTACHMENT0,S.TEXTURE_2D,d.texture.webGLTexture,0),m&&(g?S.clearColor(0,0,0,0):S.clearColor(0,0,0,1),S.clear(S.COLOR_BUFFER_BIT)),x){var L=this.renderer.currentBlendMode;this.renderer.setBlendMode(p.ERASE)}T&&this.flipY(),S.bufferData(S.ARRAY_BUFFER,this.vertexData,S.STATIC_DRAW),S.drawArrays(S.TRIANGLES,0,6),x&&this.renderer.setBlendMode(L),S.bindFramebuffer(S.FRAMEBUFFER,null),S.bindTexture(S.TEXTURE_2D,null),this.resetUVs()},copyFrameRect:function(f,d,c,m,g,x,T,S){T===void 0&&(T=!0),S===void 0&&(S=!0);var P=this.gl;P.bindFramebuffer(P.FRAMEBUFFER,f.framebuffer.webGLFramebuffer),P.framebufferTexture2D(P.FRAMEBUFFER,P.COLOR_ATTACHMENT0,P.TEXTURE_2D,f.texture.webGLTexture,0),T&&(S?P.clearColor(0,0,0,0):P.clearColor(0,0,0,1),P.clear(P.COLOR_BUFFER_BIT)),P.activeTexture(P.TEXTURE0),P.bindTexture(P.TEXTURE_2D,d.texture.webGLTexture),P.copyTexSubImage2D(P.TEXTURE_2D,0,0,0,c,m,g,x),P.bindFramebuffer(P.FRAMEBUFFER,null),P.bindTexture(P.TEXTURE_2D,null)},copyToGame:function(f){var d=this.gl;this.setShader(this.copyShader),this.set1i("uMainSampler",0),this.set1f("uBrightness",1),this.renderer.popFramebuffer(),d.activeTexture(d.TEXTURE0),d.bindTexture(d.TEXTURE_2D,f.texture.webGLTexture),d.bufferData(d.ARRAY_BUFFER,this.vertexData,d.STATIC_DRAW),d.drawArrays(d.TRIANGLES,0,6)},drawFrame:function(f,d,c,m){c===void 0&&(c=!0),m===void 0&&(m=this.colorMatrix);var g=this.gl;this.setShader(this.colorMatrixShader),this.set1i("uMainSampler",0),this.set1fv("uColorMatrix",m.getData()),this.set1f("uAlpha",m.alpha),g.activeTexture(g.TEXTURE0),g.bindTexture(g.TEXTURE_2D,f.texture.webGLTexture),d?(g.viewport(0,0,d.width,d.height),g.bindFramebuffer(g.FRAMEBUFFER,d.framebuffer.webGLFramebuffer),g.framebufferTexture2D(g.FRAMEBUFFER,g.COLOR_ATTACHMENT0,g.TEXTURE_2D,d.texture.webGLTexture,0)):g.viewport(0,0,f.width,f.height),c?g.clearColor(0,0,0,0):g.clearColor(0,0,0,1),g.clear(g.COLOR_BUFFER_BIT),g.bufferData(g.ARRAY_BUFFER,this.vertexData,g.STATIC_DRAW),g.drawArrays(g.TRIANGLES,0,6),g.bindFramebuffer(g.FRAMEBUFFER,null),g.bindTexture(g.TEXTURE_2D,null)},blendFrames:function(f,d,c,m,g,x){m===void 0&&(m=1),g===void 0&&(g=!0),x===void 0&&(x=this.linearShader);var T=this.gl;this.setShader(x),this.set1i("uMainSampler1",0),this.set1i("uMainSampler2",1),this.set1f("uStrength",m),T.activeTexture(T.TEXTURE0),T.bindTexture(T.TEXTURE_2D,f.texture.webGLTexture),T.activeTexture(T.TEXTURE1),T.bindTexture(T.TEXTURE_2D,d.texture.webGLTexture),c?(T.bindFramebuffer(T.FRAMEBUFFER,c.framebuffer.webGLFramebuffer),T.framebufferTexture2D(T.FRAMEBUFFER,T.COLOR_ATTACHMENT0,T.TEXTURE_2D,c.texture.webGLTexture,0),T.viewport(0,0,c.width,c.height)):T.viewport(0,0,f.width,f.height),g?T.clearColor(0,0,0,0):T.clearColor(0,0,0,1),T.clear(T.COLOR_BUFFER_BIT),T.bufferData(T.ARRAY_BUFFER,this.vertexData,T.STATIC_DRAW),T.drawArrays(T.TRIANGLES,0,6),T.bindFramebuffer(T.FRAMEBUFFER,null),T.bindTexture(T.TEXTURE_2D,null)},blendFramesAdditive:function(f,d,c,m,g){this.blendFrames(f,d,c,m,g,this.addShader)},clearFrame:function(f,d){d===void 0&&(d=!0);var c=this.gl;c.viewport(0,0,f.width,f.height),c.bindFramebuffer(c.FRAMEBUFFER,f.framebuffer.webGLFramebuffer),d?c.clearColor(0,0,0,0):c.clearColor(0,0,0,1),c.clear(c.COLOR_BUFFER_BIT);var m=this.renderer.currentFramebuffer;c.bindFramebuffer(c.FRAMEBUFFER,m.webGLFramebuffer)},setUVs:function(f,d,c,m,g,x,T,S){var P=this.vertexViewF32;P[2]=f,P[3]=d,P[6]=c,P[7]=m,P[10]=g,P[11]=x,P[14]=f,P[15]=d,P[18]=g,P[19]=x,P[22]=T,P[23]=S},setTargetUVs:function(f,d){var c=d.height/f.height;c>.5?c=.5-(c-.5):c=.5+(.5-c),this.setUVs(0,c,0,1+c,1,1+c,1,c)},flipX:function(){this.setUVs(1,0,1,1,0,1,0,0)},flipY:function(){this.setUVs(0,1,0,0,1,0,1,1)},resetUVs:function(){this.setUVs(0,0,0,1,1,1,1,0)}});v.exports=u},36060:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={BITMAPMASK_PIPELINE:"BitmapMaskPipeline",LIGHT_PIPELINE:"Light2D",POINTLIGHT_PIPELINE:"PointLightPipeline",SINGLE_PIPELINE:"SinglePipeline",MULTI_PIPELINE:"MultiPipeline",ROPE_PIPELINE:"RopePipeline",GRAPHICS_PIPELINE:"GraphicsPipeline",POSTFX_PIPELINE:"PostFXPipeline",UTILITY_PIPELINE:"UtilityPipeline",MOBILE_PIPELINE:"MobilePipeline",FX_PIPELINE:"FxPipeline"};v.exports=y},84817:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="pipelineafterflush"},36712:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="pipelinebeforeflush"},40285:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="pipelinebind"},65918:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="pipelineboot"},92852:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="pipelinedestroy"},56072:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="pipelinerebind"},57566:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="pipelineresize"},77085:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={AFTER_FLUSH:t(84817),BEFORE_FLUSH:t(36712),BIND:t(40285),BOOT:t(65918),DESTROY:t(92852),REBIND:t(56072),RESIZE:t(57566)}},54812:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),p=t(99155),a=t(84057),n=new h({Extends:a,initialize:function(e){a.call(this,{game:e,fragShader:p}),this.amount=1},onPreRender:function(r,e){r=this.getController(r),this.set1f("amount",r.amount,e)}});v.exports=n},67329:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),p=t(24400),a=t(84057),n=new h({Extends:a,initialize:function(e){a.call(this,{game:e,fragShader:p}),this.steps=4,this.offsetX=1,this.offsetY=1,this.blurStrength=1,this.strength=1,this.glcolor=[1,1,1]},onPreRender:function(r){r=this.getController(r),this.set1f("strength",r.blurStrength),this.set3fv("color",r.glcolor)},onDraw:function(r){var e=this.getController(),s=this.fullFrame1,o=this.fullFrame2;this.copyFrame(r,o);for(var i=2/r.width*e.offsetX,l=2/r.height*e.offsetY,u=0;u<e.steps;u++)this.set2f("offset",i,0),this.copySprite(r,s),this.set2f("offset",0,l),this.copySprite(s,r);this.blendFrames(o,r,s,e.strength),this.copyToGame(s)}});v.exports=n},8861:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),p=t(41514),a=t(51078),n=t(94328),r=t(84057),e=new h({Extends:r,initialize:function(o){r.call(this,{game:o,shaders:[{name:"Gaussian5",fragShader:p},{name:"Gaussian9",fragShader:a},{name:"Gaussian13",fragShader:n}]}),this.activeShader=this.shaders[0],this.x=2,this.y=2,this.steps=4,this.strength=1,this.glcolor=[1,1,1]},setQualityLow:function(){return this.activeShader=this.shaders[0],this},setQualityMedium:function(){return this.activeShader=this.shaders[1],this},setQualityHigh:function(){return this.activeShader=this.shaders[2],this},onDraw:function(s){var o=this.getController(),i=this.gl,l=this.fullFrame1,u=i.getParameter(i.FRAMEBUFFER_BINDING);this.bind(this.shaders[o.quality]),i.activeTexture(i.TEXTURE0),i.viewport(0,0,s.width,s.height),this.set1i("uMainSampler",0),this.set2f("resolution",s.width,s.height),this.set1f("strength",o.strength),this.set3fv("color",o.glcolor);for(var f=0;f<o.steps;f++)this.set2f("offset",o.x,0),this.copySprite(s,l),this.set2f("offset",0,o.y),this.copySprite(l,s);i.bindFramebuffer(i.FRAMEBUFFER,u),i.bindTexture(i.TEXTURE_2D,null),this.copyToGame(s)}});v.exports=e},51051:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),p=t(90610),a=t(84057),n=new h({Extends:a,initialize:function(e){a.call(this,{game:e,fragShader:p}),this.isTiltShift=!1,this.strength=1,this.blurX=1,this.blurY=1,this.radius=.5,this.amount=1,this.contrast=.2},onPreRender:function(r,e,s,o){r=this.getController(r),this.set1f("radius",r.radius,e),this.set1f("amount",r.amount,e),this.set1f("contrast",r.contrast,e),this.set1f("strength",r.strength,e),this.set2f("blur",r.blurX,r.blurY,e),this.setBoolean("isTiltShift",r.isTiltShift,e),s&&o&&this.set2f("resolution",s,o,e)},onDraw:function(r){this.set2f("resolution",r.width,r.height),this.bindAndDraw(r)}});v.exports=n},89428:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),p=t(91899),a=t(84057),n=new h({Extends:a,initialize:function(e){a.call(this,{game:e,fragShader:p}),this.scale=1,this.feather=.005,this.thickness=8,this.glcolor=[1,.2,.7],this.glcolor2=[1,0,0,.4]},onPreRender:function(r,e,s,o){r=this.getController(r),this.set1f("scale",r.scale,e),this.set1f("feather",r.feather,e),this.set1f("thickness",r.thickness,e),this.set3fv("color",r.glcolor,e),this.set4fv("backgroundColor",r.glcolor2,e),s&&o&&this.set2f("resolution",s,o,e)},onDraw:function(r){this.set2f("resolution",r.width,r.height),this.bindAndDraw(r)}});v.exports=n},88904:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),p=t(84057),a=new h({Extends:p,initialize:function(r){p.call(this,{game:r})},onDraw:function(n){var r=this.fullFrame1;this.controller?this.manager.drawFrame(n,r,!0,this.controller):this.drawFrame(n,r),this.copyToGame(r)}});v.exports=a},63563:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),p=t(47838),a=t(84057),n=new h({Extends:a,initialize:function(e){a.call(this,{game:e,fragShader:p}),this.x=.005,this.y=.005,this.glTexture},onBoot:function(){this.setTexture("__WHITE")},setTexture:function(r){var e=this.game.textures.getFrame(r);e&&(this.glTexture=e.glTexture)},onDraw:function(r){var e=this.getController(),s=this.fullFrame1;this.bind(),this.set1i("uMainSampler",0),this.set1i("uDisplacementSampler",1),this.set2f("amount",e.x,e.y),this.bindTexture(e.glTexture,1),this.copySprite(r,s),this.copyToGame(s)}});v.exports=n},94045:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),p=t(95540),a=t(98656),n=t(84057),r=t(70554),e=new h({Extends:n,initialize:function(o,i){var l=p(i,"quality",.1),u=p(i,"distance",10);n.call(this,{game:o,fragShader:r.setGlowQuality(a,o,l,u)}),this.outerStrength=4,this.innerStrength=0,this.knockout=!1,this.glcolor=[1,1,1,1]},onPreRender:function(s,o,i,l){s=this.getController(s),this.set1f("outerStrength",s.outerStrength,o),this.set1f("innerStrength",s.innerStrength,o),this.set4fv("glowColor",s.glcolor,o),this.setBoolean("knockout",s.knockout,o),i&&l&&this.set2f("resolution",i,l,o)},onDraw:function(s){this.set2f("resolution",s.width,s.height),this.bindAndDraw(s)}});v.exports=e},74088:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),p=t(70463),a=t(84057),n=new h({Extends:a,initialize:function(e){a.call(this,{game:e,fragShader:p}),this.alpha=.2,this.size=0,this.fromX=0,this.fromY=0,this.toX=0,this.toY=1,this.glcolor1=[255,0,0],this.glcolor2=[0,255,0]},onPreRender:function(r,e){r=this.getController(r),this.set1f("alpha",r.alpha,e),this.set1i("size",r.size,e),this.set3fv("color1",r.glcolor1,e),this.set3fv("color2",r.glcolor2,e),this.set2f("positionFrom",r.fromX,r.fromY,e),this.set2f("positionTo",r.toX,r.toY,e)}});v.exports=n},99636:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),p=t(50831),a=t(84057),n=new h({Extends:a,initialize:function(e){a.call(this,{game:e,fragShader:p}),this.amount=1},onPreRender:function(r,e,s,o){r=this.getController(r),this.set1f("amount",r.amount,e),s&&o&&this.set2f("resolution",s,o,e)},onDraw:function(r){this.set2f("resolution",r.width,r.height),this.bindAndDraw(r)}});v.exports=n},34700:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),p=t(92595),a=t(84057),n=new h({Extends:a,initialize:function(e){a.call(this,{game:e,fragShader:p}),this.x=0,this.y=0,this.decay=.1,this.power=1,this.glcolor=[0,0,0,1],this.samples=6,this.intensity=1},onPreRender:function(r,e){r=this.getController(r);var s=r.samples;this.set1i("samples",s,e),this.set1f("intensity",r.intensity,e),this.set1f("decay",r.decay,e),this.set1f("power",r.power/s,e),this.set2f("lightPosition",r.x,r.y,e),this.set4fv("color",r.glcolor,e)}});v.exports=n},91157:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),p=t(72464),a=t(84057),n=new h({Extends:a,initialize:function(e){a.call(this,{game:e,fragShader:p}),this.speed=.5,this.lineWidth=.5,this.gradient=3,this.reveal=!1},onPreRender:function(r,e,s,o){r=this.getController(r),this.setTime("time",e),this.set1f("speed",r.speed,e),this.set1f("lineWidth",r.lineWidth,e),this.set1f("gradient",r.gradient,e),this.setBoolean("reveal",r.reveal,e),s&&o&&this.set2f("resolution",s,o,e)},onDraw:function(r){this.set2f("resolution",r.width,r.height),this.bindAndDraw(r)}});v.exports=n},27797:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),p=t(39249),a=t(84057),n=new h({Extends:a,initialize:function(e){a.call(this,{game:e,fragShader:p}),this.x=.5,this.y=.5,this.radius=.5,this.strength=.5},onPreRender:function(r,e){r=this.getController(r),this.set1f("radius",r.radius,e),this.set1f("strength",r.strength,e),this.set2f("position",r.x,r.y,e)}});v.exports=n},67603:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),p=t(2878),a=t(84057),n=new h({Extends:a,initialize:function(e){a.call(this,{game:e,fragShader:p}),this.progress=0,this.wipeWidth=.1,this.direction=0,this.axis=0,this.reveal=!1},onPreRender:function(r,e){r=this.getController(r);var s=r.progress,o=r.wipeWidth,i=r.direction,l=r.axis;this.set4f("config",s,o,i,l,e),this.setBoolean("reveal",r.reveal,e)}});v.exports=n},58918:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h={Barrel:t(54812),Bloom:t(67329),Blur:t(8861),Bokeh:t(51051),Circle:t(89428),ColorMatrix:t(88904),Displacement:t(63563),Glow:t(94045),Gradient:t(74088),Pixelate:t(99636),Shadow:t(34700),Shine:t(91157),Vignette:t(27797),Wipe:t(67603)};v.exports=h},96615:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(36060),p=t(79291),a={FX:t(58918),BitmapMaskPipeline:t(31302),Events:t(77085),FXPipeline:t(92651),LightPipeline:t(96569),MobilePipeline:t(56527),MultiPipeline:t(57516),PointLightPipeline:t(43439),PostFXPipeline:t(84057),PreFXPipeline:t(43558),RopePipeline:t(81041),SinglePipeline:t(12385),UtilityPipeline:t(7589)};a=p(!1,a,h),v.exports=a},35407:v=>{v.exports=["#define SHADER_NAME PHASER_ADD_BLEND_FS","precision mediump float;","uniform sampler2D uMainSampler1;","uniform sampler2D uMainSampler2;","uniform float uStrength;","varying vec2 outTexCoord;","void main ()","{","    vec4 frame1 = texture2D(uMainSampler1, outTexCoord);","    vec4 frame2 = texture2D(uMainSampler2, outTexCoord);","    gl_FragColor = frame1 + frame2 * uStrength;","}"].join(`
`)},78908:v=>{v.exports=["#define SHADER_NAME PHASER_BITMAP_MASK_FS","precision mediump float;","uniform vec2 uResolution;","uniform sampler2D uMainSampler;","uniform sampler2D uMaskSampler;","uniform bool uInvertMaskAlpha;","void main ()","{","    vec2 uv = gl_FragCoord.xy / uResolution;","    vec4 mainColor = texture2D(uMainSampler, uv);","    vec4 maskColor = texture2D(uMaskSampler, uv);","    if (!uInvertMaskAlpha)","    {","        mainColor *= maskColor.a;","    }","    else","    {","        mainColor *= (1.0 - maskColor.a);","    }","    gl_FragColor = mainColor;","}"].join(`
`)},85191:v=>{v.exports=["#define SHADER_NAME PHASER_BITMAP_MASK_VS","precision mediump float;","attribute vec2 inPosition;","void main ()","{","    gl_Position = vec4(inPosition, 0.0, 1.0);","}"].join(`
`)},96293:v=>{v.exports=["#define SHADER_NAME PHASER_COLORMATRIX_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform float uColorMatrix[20];","uniform float uAlpha;","varying vec2 outTexCoord;","void main ()","{","    vec4 c = texture2D(uMainSampler, outTexCoord);","    if (uAlpha == 0.0)","    {","        gl_FragColor = c;","        return;","    }","    if (c.a > 0.0)","    {","        c.rgb /= c.a;","    }","    vec4 result;","    result.r = (uColorMatrix[0] * c.r) + (uColorMatrix[1] * c.g) + (uColorMatrix[2] * c.b) + (uColorMatrix[3] * c.a) + uColorMatrix[4];","    result.g = (uColorMatrix[5] * c.r) + (uColorMatrix[6] * c.g) + (uColorMatrix[7] * c.b) + (uColorMatrix[8] * c.a) + uColorMatrix[9];","    result.b = (uColorMatrix[10] * c.r) + (uColorMatrix[11] * c.g) + (uColorMatrix[12] * c.b) + (uColorMatrix[13] * c.a) + uColorMatrix[14];","    result.a = (uColorMatrix[15] * c.r) + (uColorMatrix[16] * c.g) + (uColorMatrix[17] * c.b) + (uColorMatrix[18] * c.a) + uColorMatrix[19];","    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);","    rgb *= result.a;","    gl_FragColor = vec4(rgb, result.a);","}"].join(`
`)},36682:v=>{v.exports=["#define SHADER_NAME PHASER_COPY_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform float uBrightness;","varying vec2 outTexCoord;","void main ()","{","    gl_FragColor = texture2D(uMainSampler, outTexCoord) * uBrightness;","}"].join(`
`)},99155:v=>{v.exports=["#define SHADER_NAME BARREL_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform float amount;","varying vec2 outTexCoord;","vec2 Distort(vec2 p)","{","    float theta  = atan(p.y, p.x);","    float radius = length(p);","    radius = pow(radius, amount);","    p.x = radius * cos(theta);","    p.y = radius * sin(theta);","    return 0.5 * (p + 1.0);","}","void main()","{","    vec2 xy = 2.0 * outTexCoord - 1.0;","    vec2 texCoord = outTexCoord;","    if (length(xy) < 1.0)","    {","        texCoord = Distort(xy);","    }","    gl_FragColor = texture2D(uMainSampler, texCoord);","}"].join(`
`)},24400:v=>{v.exports=["#define SHADER_NAME BLOOM_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 offset;","uniform float strength;","uniform vec3 color;","varying vec2 outTexCoord;","void main ()","{","    vec4 sum = texture2D(uMainSampler, outTexCoord) * 0.204164 * strength;","    sum = sum + texture2D(uMainSampler, outTexCoord + offset * 1.407333) * 0.304005;","    sum = sum + texture2D(uMainSampler, outTexCoord - offset * 1.407333) * 0.304005;","    sum = sum + texture2D(uMainSampler, outTexCoord + offset * 3.294215) * 0.093913;","    gl_FragColor = (sum + texture2D(uMainSampler, outTexCoord - offset * 3.294215) * 0.093913) * vec4(color, 1);","}"].join(`
`)},94328:v=>{v.exports=["#define SHADER_NAME BLUR_HIGH_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform vec2 offset;","uniform float strength;","uniform vec3 color;","varying vec2 outTexCoord;","void main ()","{","    vec2 uv = outTexCoord;","    vec4 col = vec4(0.0);","    vec2 off1 = vec2(1.411764705882353) * offset * strength;","    vec2 off2 = vec2(3.2941176470588234) * offset * strength;","    vec2 off3 = vec2(5.176470588235294) * offset * strength;","    col += texture2D(uMainSampler, uv) * 0.1964825501511404;","    col += texture2D(uMainSampler, uv + (off1 / resolution)) * 0.2969069646728344;","    col += texture2D(uMainSampler, uv - (off1 / resolution)) * 0.2969069646728344;","    col += texture2D(uMainSampler, uv + (off2 / resolution)) * 0.09447039785044732;","    col += texture2D(uMainSampler, uv - (off2 / resolution)) * 0.09447039785044732;","    col += texture2D(uMainSampler, uv + (off3 / resolution)) * 0.010381362401148057;","    col += texture2D(uMainSampler, uv - (off3 / resolution)) * 0.010381362401148057;","    gl_FragColor = col * vec4(color, 1.0);","}"].join(`
`)},41514:v=>{v.exports=["#define SHADER_NAME BLUR_LOW_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform vec2 offset;","uniform float strength;","uniform vec3 color;","varying vec2 outTexCoord;","void main ()","{","    vec2 uv = outTexCoord;","    vec4 col = vec4(0.0);","    vec2 offset = vec2(1.333) * offset * strength;","    col += texture2D(uMainSampler, uv) * 0.29411764705882354;","    col += texture2D(uMainSampler, uv + (offset / resolution)) * 0.35294117647058826;","    col += texture2D(uMainSampler, uv - (offset / resolution)) * 0.35294117647058826;","    gl_FragColor = col * vec4(color, 1.0);","}"].join(`
`)},51078:v=>{v.exports=["#define SHADER_NAME BLUR_MED_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform vec2 offset;","uniform float strength;","uniform vec3 color;","varying vec2 outTexCoord;","void main ()","{","    vec2 uv = outTexCoord;","    vec4 col = vec4(0.0);","    vec2 off1 = vec2(1.3846153846) * offset * strength;","    vec2 off2 = vec2(3.2307692308) * offset * strength;","    col += texture2D(uMainSampler, uv) * 0.2270270270;","    col += texture2D(uMainSampler, uv + (off1 / resolution)) * 0.3162162162;","    col += texture2D(uMainSampler, uv - (off1 / resolution)) * 0.3162162162;","    col += texture2D(uMainSampler, uv + (off2 / resolution)) * 0.0702702703;","    col += texture2D(uMainSampler, uv - (off2 / resolution)) * 0.0702702703;","    gl_FragColor = col * vec4(color, 1.0);","}"].join(`
`)},90610:v=>{v.exports=["#define SHADER_NAME BOKEH_FS","precision mediump float;","#define ITERATIONS 100.0","#define ONEOVER_ITR 1.0 / ITERATIONS","#define PI 3.141596","#define GOLDEN_ANGLE 2.39996323","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform float radius;","uniform float amount;","uniform float contrast;","uniform bool isTiltShift;","uniform float strength;","uniform vec2 blur;","varying vec2 outTexCoord;","vec2 Sample (in float theta, inout float r)","{","    r += 1.0 / r;","    return (r - 1.0) * vec2(cos(theta), sin(theta)) * 0.06;","}","vec3 Bokeh (sampler2D tex, vec2 uv, float radius)","{","    vec3 acc = vec3(0.0);","    vec3 div = vec3(0.0);","    vec2 pixel = vec2(resolution.y / resolution.x, 1.0) * radius * .025;","    float r = 1.0;","    for (float j = 0.0; j < GOLDEN_ANGLE * ITERATIONS; j += GOLDEN_ANGLE)","    {","        vec3 col = texture2D(tex, uv + pixel * Sample(j, r)).xyz;","        col = contrast > 0.0 ? col * col * (1.0 + contrast) : col;","        vec3 bokeh = vec3(0.5) + pow(col, vec3(10.0)) * amount;","        acc += col * bokeh;","        div += bokeh;","    }","    return acc / div;","}","void main ()","{","    float shift = 1.0;","    if (isTiltShift)","    {","        vec2 uv = vec2(gl_FragCoord.xy / resolution + vec2(-0.5, -0.5)) * 2.0;","        float centerStrength = 1.0;","        shift = length(uv * blur * strength) * centerStrength;","    }","    gl_FragColor = vec4(Bokeh(uMainSampler, outTexCoord * vec2(1.0, 1.0), radius * shift), 0.0);","}"].join(`
`)},91899:v=>{v.exports=["#define SHADER_NAME CIRCLE_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform vec3 color;","uniform vec4 backgroundColor;","uniform float thickness;","uniform float scale;","uniform float feather;","varying vec2 outTexCoord;","void main ()","{","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec2 position = (gl_FragCoord.xy / resolution.xy) * 2.0 - 1.0;","    float aspectRatio = resolution.x / resolution.y;","    position.x *= aspectRatio;","    float grad = length(position);","    float outer = aspectRatio;","    float inner = outer - (thickness * 2.0 / resolution.y);","    if (aspectRatio >= 1.0)","    {","        float f = 2.0 + (resolution.y / resolution.x);","        outer = 1.0;","        inner = 1.0 - (thickness * f / resolution.x);","    }","    outer *= scale;","    inner *= scale;","    float circle = smoothstep(outer, outer - 0.01, grad);","    float ring = circle - smoothstep(inner, inner - feather, grad);","    texture = mix(backgroundColor * backgroundColor.a, texture, texture.a);","    texture = (texture * (circle - ring));","    gl_FragColor = vec4(texture.rgb + (ring * color), texture.a);","}"].join(`
`)},47838:v=>{v.exports=["#define SHADER_NAME DISPLACEMENT_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform sampler2D uDisplacementSampler;","uniform vec2 amount;","varying vec2 outTexCoord;","void main ()","{","    vec2 disp = (-vec2(0.5, 0.5) + texture2D(uDisplacementSampler, outTexCoord).rr) * amount;","    gl_FragColor = texture2D(uMainSampler, outTexCoord + disp).rgba;","}"].join(`
`)},98656:v=>{v.exports=["#define SHADER_NAME GLOW_FS","precision mediump float;","uniform sampler2D uMainSampler;","varying vec2 outTexCoord;","uniform float outerStrength;","uniform float innerStrength;","uniform vec2 resolution;","uniform vec4 glowColor;","uniform bool knockout;","const float PI = 3.14159265358979323846264;","const float DIST = __DIST__;","const float SIZE = min(__SIZE__, PI * 2.0);","const float STEP = ceil(PI * 2.0 / SIZE);","const float MAX_ALPHA = STEP * DIST * (DIST + 1.0) / 2.0;","void main ()","{","    vec2 px = vec2(1.0 / resolution.x, 1.0 / resolution.y);","    float totalAlpha = 0.0;","    vec2 direction;","    vec2 displaced;","    vec4 color;","    for (float angle = 0.0; angle < PI * 2.0; angle += SIZE)","    {","        direction = vec2(cos(angle), sin(angle)) * px;","        for (float curDistance = 0.0; curDistance < DIST; curDistance++)","        {","            displaced = outTexCoord + direction * (curDistance + 1.0);","            color = texture2D(uMainSampler, displaced);","            totalAlpha += (DIST - curDistance) * color.a;","        }","    }","    color = texture2D(uMainSampler, outTexCoord);","    float alphaRatio = (totalAlpha / MAX_ALPHA);","    float innerGlowAlpha = (1.0 - alphaRatio) * innerStrength * color.a;","    float innerGlowStrength = min(1.0, innerGlowAlpha);","    vec4 innerColor = mix(color, glowColor, innerGlowStrength);","    float outerGlowAlpha = alphaRatio * outerStrength * (1.0 - color.a);","    float outerGlowStrength = min(1.0 - innerColor.a, outerGlowAlpha);","    vec4 outerGlowColor = outerGlowStrength * glowColor.rgba;","    if (knockout)","    {","        float resultAlpha = outerGlowAlpha + innerGlowAlpha;","        gl_FragColor = vec4(glowColor.rgb * resultAlpha, resultAlpha);","    }","    else","    {","        gl_FragColor = innerColor + outerGlowColor;","    }","}"].join(`
`)},70463:v=>{v.exports=["#define SHADER_NAME GRADIENT_FS","#define SRGB_TO_LINEAR(c) pow((c), vec3(2.2))","#define LINEAR_TO_SRGB(c) pow((c), vec3(1.0 / 2.2))","#define SRGB(r, g, b) SRGB_TO_LINEAR(vec3(float(r), float(g), float(b)) / 255.0)","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 positionFrom;","uniform vec2 positionTo;","uniform vec3 color1;","uniform vec3 color2;","uniform float alpha;","uniform int size;","varying vec2 outTexCoord;","float gradientNoise(in vec2 uv)","{","    const vec3 magic = vec3(0.06711056, 0.00583715, 52.9829189);","    return fract(magic.z * fract(dot(uv, magic.xy)));","}","float stepped (in float s, in float scale, in int steps)","{","    return steps > 0 ? floor( s / ((1.0 * scale) / float(steps))) * 1.0 / float(steps - 1) : s;","}","void main ()","{","    vec2 a = positionFrom;","    vec2 b = positionTo;","    vec2 ba = b - a;","    float d = dot(outTexCoord - a, ba) / dot(ba, ba);","    float t = size > 0 ? stepped(d, 1.0, size) : d;","    t = smoothstep(0.0, 1.0, clamp(t, 0.0, 1.0));","    vec3 color = mix(SRGB(color1.r, color1.g, color1.b), SRGB(color2.r, color2.g, color2.b), t);","    color = LINEAR_TO_SRGB(color);","    color += (1.0 / 255.0) * gradientNoise(outTexCoord) - (0.5 / 255.0);","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    gl_FragColor = vec4(mix(color.rgb, texture.rgb, alpha), 1.0) * texture.a;","}"].join(`
`)},50831:v=>{v.exports=["#define SHADER_NAME PIXELATE_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform float amount;","varying vec2 outTexCoord;","void main ()","{","    float pixelSize = floor(2.0 + amount);","    vec2 center = pixelSize * floor(outTexCoord * resolution / pixelSize) + pixelSize * vec2(0.5, 0.5);","    vec2 corner1 = center + pixelSize * vec2(-0.5, -0.5);","    vec2 corner2 = center + pixelSize * vec2(+0.5, -0.5);","    vec2 corner3 = center + pixelSize * vec2(+0.5, +0.5);","    vec2 corner4 = center + pixelSize * vec2(-0.5, +0.5);","    vec4 pixel = 0.4 * texture2D(uMainSampler, center / resolution);","    pixel += 0.15 * texture2D(uMainSampler, corner1 / resolution);","    pixel += 0.15 * texture2D(uMainSampler, corner2 / resolution);","    pixel += 0.15 * texture2D(uMainSampler, corner3 / resolution);","    pixel += 0.15 * texture2D(uMainSampler, corner4 / resolution);","    gl_FragColor = pixel;","}"].join(`
`)},92595:v=>{v.exports=["#define SHADER_NAME SHADOW_FS","precision mediump float;","uniform sampler2D uMainSampler;","varying vec2 outTexCoord;","uniform vec2 lightPosition;","uniform vec4 color;","uniform float decay;","uniform float power;","uniform float intensity;","uniform int samples;","const int MAX = 12;","void main ()","{","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec2 pc = (lightPosition - outTexCoord) * intensity;","    float shadow = 0.0;","    float limit = max(float(MAX), float(samples));","    for (int i = 0; i < MAX; ++i)","    {","        if (i >= samples)","        {","            break;","        }","        shadow += texture2D(uMainSampler, outTexCoord + float(i) * decay / limit * pc).a * power;","    }","    float mask = 1.0 - texture.a;","    gl_FragColor = mix(texture, color, shadow * mask);","}"].join(`
`)},72464:v=>{v.exports=["#define SHADER_NAME SHINE_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform bool reveal;","uniform float speed;","uniform float time;","uniform float lineWidth;","uniform float gradient;","varying vec2 outTexCoord;","void main ()","{","	vec2 uv = gl_FragCoord.xy / resolution.xy;","    vec4 tex = texture2D(uMainSampler, outTexCoord);","    vec4 col1 = vec4(0.3, 0.0, 0.0, 1.0);","    vec4 col2 = vec4(0.85, 0.85, 0.85, 1.0);","    uv.x = uv.x - mod(time * speed, 2.0) + 0.5;","    float y = uv.x * gradient;","    float s = smoothstep(y - lineWidth, y, uv.y) - smoothstep(y, y + lineWidth, uv.y);","    gl_FragColor = (((s * col1) + (s * col2)) * tex);","    if (!reveal)","    {","        gl_FragColor += tex;","    }","}"].join(`
`)},39249:v=>{v.exports=["#define SHADER_NAME VIGNETTE_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform float radius;","uniform float strength;","uniform vec2 position;","varying vec2 outTexCoord;","void main ()","{","    vec4 col = vec4(1.0);","    float d = length(outTexCoord - position);","    if (d <= radius)","    {","        float g = d / radius;","        g = sin(g * 3.14 * strength);","    	col = vec4(g * g * g);","    }","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    gl_FragColor = texture * (1.0 - col);","}"].join(`
`)},2878:v=>{v.exports=["#define SHADER_NAME WIPE_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec4 config;","uniform bool reveal;","varying vec2 outTexCoord;","void main ()","{","    vec2 uv = outTexCoord;","    vec4 color0;","    vec4 color1;","    if (reveal)","    {","        color0 = vec4(0);","        color1 = texture2D(uMainSampler, uv);","    }","    else","    {","        color0 = texture2D(uMainSampler, uv);","        color1 = vec4(0);","    }","    float distance = config.x;","    float width = config.y;","    float direction = config.z;","    float axis = uv.x;","    if (config.w == 1.0)","    {","        axis = uv.y;","    }","    float adjust = mix(width, -width, distance);","    float value = smoothstep(distance - width, distance + width, abs(direction - axis) + adjust);","    gl_FragColor = mix(color1, color0, value);","}"].join(`
`)},31063:v=>{v.exports=["#define SHADER_NAME PHASER_LIGHT_FS","precision mediump float;","struct Light","{","    vec2 position;","    vec3 color;","    float intensity;","    float radius;","};","const int kMaxLights = %LIGHT_COUNT%;","uniform vec4 uCamera; /* x, y, rotation, zoom */","uniform vec2 uResolution;","uniform sampler2D uMainSampler;","uniform sampler2D uNormSampler;","uniform vec3 uAmbientLightColor;","uniform Light uLights[kMaxLights];","uniform mat3 uInverseRotationMatrix;","uniform int uLightCount;","varying vec2 outTexCoord;","varying float outTexId;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    vec3 finalColor = vec3(0.0, 0.0, 0.0);","    vec4 texel = vec4(outTint.bgr * outTint.a, outTint.a);","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec4 color = texture * texel;","    if (outTintEffect == 1.0)","    {","        color.rgb = mix(texture.rgb, outTint.bgr * outTint.a, texture.a);","    }","    else if (outTintEffect == 2.0)","    {","        color = texel;","    }","    vec3 normalMap = texture2D(uNormSampler, outTexCoord).rgb;","    vec3 normal = normalize(uInverseRotationMatrix * vec3(normalMap * 2.0 - 1.0));","    vec2 res = vec2(min(uResolution.x, uResolution.y)) * uCamera.w;","    for (int index = 0; index < kMaxLights; ++index)","    {","        if (index < uLightCount)","        {","            Light light = uLights[index];","            vec3 lightDir = vec3((light.position.xy / res) - (gl_FragCoord.xy / res), 0.1);","            vec3 lightNormal = normalize(lightDir);","            float distToSurf = length(lightDir) * uCamera.w;","            float diffuseFactor = max(dot(normal, lightNormal), 0.0);","            float radius = (light.radius / res.x * uCamera.w) * uCamera.w;","            float attenuation = clamp(1.0 - distToSurf * distToSurf / (radius * radius), 0.0, 1.0);","            vec3 diffuse = light.color * diffuseFactor;","            finalColor += (attenuation * diffuse) * light.intensity;","        }","    }","    vec4 colorOutput = vec4(uAmbientLightColor + finalColor, 1.0);","    gl_FragColor = color * vec4(colorOutput.rgb * colorOutput.a, colorOutput.a);","}"].join(`
`)},48247:v=>{v.exports=["#define SHADER_NAME PHASER_LINEAR_BLEND_FS","precision mediump float;","uniform sampler2D uMainSampler1;","uniform sampler2D uMainSampler2;","uniform float uStrength;","varying vec2 outTexCoord;","void main ()","{","    vec4 frame1 = texture2D(uMainSampler1, outTexCoord);","    vec4 frame2 = texture2D(uMainSampler2, outTexCoord);","    gl_FragColor = mix(frame1, frame2 * uStrength, 0.5);","}"].join(`
`)},41214:v=>{v.exports=["#define SHADER_NAME PHASER_MESH_FS","precision mediump float;","uniform vec3 uLightPosition;","uniform vec3 uLightAmbient;","uniform vec3 uLightDiffuse;","uniform vec3 uLightSpecular;","uniform vec3 uFogColor;","uniform float uFogNear;","uniform float uFogFar;","uniform vec3 uMaterialAmbient;","uniform vec3 uMaterialDiffuse;","uniform vec3 uMaterialSpecular;","uniform float uMaterialShine;","uniform vec3 uCameraPosition;","uniform sampler2D uTexture;","varying vec2 vTextureCoord;","varying vec3 vNormal;","varying vec3 vPosition;","void main (void)","{","    vec4 color = texture2D(uTexture, vTextureCoord);","    vec3 ambient = uLightAmbient * uMaterialAmbient;","    vec3 norm = normalize(vNormal);","    vec3 lightDir = normalize(uLightPosition - vPosition);","    float diff = max(dot(norm, lightDir), 0.0);","    vec3 diffuse = uLightDiffuse * (diff * uMaterialDiffuse);","    vec3 viewDir = normalize(uCameraPosition - vPosition);","    vec3 reflectDir = reflect(-lightDir, norm);","    float spec = pow(max(dot(viewDir, reflectDir), 0.0), uMaterialShine);","    vec3 specular = uLightSpecular * (spec * uMaterialSpecular);","    vec3 result = (ambient + diffuse + specular) * color.rgb;","    float depth = gl_FragCoord.z / gl_FragCoord.w;","    float fogFactor = smoothstep(uFogNear, uFogFar, depth);","    gl_FragColor.rgb = mix(result.rgb, uFogColor, fogFactor);","    gl_FragColor.a = color.a;","}"].join(`
`)},39653:v=>{v.exports=["#define SHADER_NAME PHASER_MESH_VS","precision mediump float;","attribute vec3 aVertexPosition;","attribute vec3 aVertexNormal;","attribute vec2 aTextureCoord;","uniform mat4 uViewProjectionMatrix;","uniform mat4 uModelMatrix;","uniform mat4 uNormalMatrix;","varying vec2 vTextureCoord;","varying vec3 vNormal;","varying vec3 vPosition;","void main ()","{","    vTextureCoord = aTextureCoord;","    vPosition = vec3(uModelMatrix * vec4(aVertexPosition, 1.0));","    vNormal = vec3(uNormalMatrix * vec4(aVertexNormal, 1.0));","    gl_Position = uViewProjectionMatrix * uModelMatrix * vec4(aVertexPosition, 1.0);","}"].join(`
`)},62143:v=>{v.exports=["#define SHADER_NAME PHASER_MOBILE_FS","#ifdef GL_FRAGMENT_PRECISION_HIGH","precision highp float;","#else","precision mediump float;","#endif","uniform sampler2D uMainSampler;","varying vec2 outTexCoord;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    vec4 texel = vec4(outTint.bgr * outTint.a, outTint.a);","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec4 color = texture * texel;","    if (outTintEffect == 1.0)","    {","        color.rgb = mix(texture.rgb, outTint.bgr * outTint.a, texture.a);","    }","    else if (outTintEffect == 2.0)","    {","        color = texel;","    }","    gl_FragColor = color;","}"].join(`
`)},47940:v=>{v.exports=["#define SHADER_NAME PHASER_MOBILE_VS","precision mediump float;","uniform mat4 uProjectionMatrix;","uniform vec2 uResolution;","attribute vec2 inPosition;","attribute vec2 inTexCoord;","attribute float inTexId;","attribute float inTintEffect;","attribute vec4 inTint;","varying vec2 outTexCoord;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    gl_Position = uProjectionMatrix * vec4(inPosition, 1.0, 1.0);","    outTexCoord = inTexCoord;","    outTint = inTint;","    outTintEffect = inTintEffect;","}"].join(`
`)},98840:v=>{v.exports=["#define SHADER_NAME PHASER_MULTI_FS","#ifdef GL_FRAGMENT_PRECISION_HIGH","precision highp float;","#else","precision mediump float;","#endif","uniform sampler2D uMainSampler[%count%];","varying vec2 outTexCoord;","varying float outTexId;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    vec4 texture;","    %forloop%","    vec4 texel = vec4(outTint.bgr * outTint.a, outTint.a);","    vec4 color = texture * texel;","    if (outTintEffect == 1.0)","    {","        color.rgb = mix(texture.rgb, outTint.bgr * outTint.a, texture.a);","    }","    else if (outTintEffect == 2.0)","    {","        color = texel;","    }","    gl_FragColor = color;","}"].join(`
`)},44667:v=>{v.exports=["#define SHADER_NAME PHASER_MULTI_VS","precision mediump float;","uniform mat4 uProjectionMatrix;","uniform vec2 uResolution;","attribute vec2 inPosition;","attribute vec2 inTexCoord;","attribute float inTexId;","attribute float inTintEffect;","attribute vec4 inTint;","varying vec2 outTexCoord;","varying float outTexId;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    gl_Position = uProjectionMatrix * vec4(inPosition, 1.0, 1.0);","    outTexCoord = inTexCoord;","    outTexId = inTexId;","    outTint = inTint;","    outTintEffect = inTintEffect;","}"].join(`
`)},4127:v=>{v.exports=["#define SHADER_NAME PHASER_POINTLIGHT_FS","precision mediump float;","uniform vec2 uResolution;","uniform float uCameraZoom;","varying vec4 lightPosition;","varying vec4 lightColor;","varying float lightRadius;","varying float lightAttenuation;","void main ()","{","    vec2 center = (lightPosition.xy + 1.0) * (uResolution.xy * 0.5);","    float distToSurf = length(center - gl_FragCoord.xy);","    float radius = 1.0 - distToSurf / (lightRadius * uCameraZoom);","    float intensity = smoothstep(0.0, 1.0, radius * lightAttenuation);","    vec4 color = vec4(intensity, intensity, intensity, 0.0) * lightColor;","    gl_FragColor = vec4(color.rgb * lightColor.a, color.a);","}"].join(`
`)},89924:v=>{v.exports=["#define SHADER_NAME PHASER_POINTLIGHT_VS","precision mediump float;","uniform mat4 uProjectionMatrix;","attribute vec2 inPosition;","attribute vec2 inLightPosition;","attribute vec4 inLightColor;","attribute float inLightRadius;","attribute float inLightAttenuation;","varying vec4 lightPosition;","varying vec4 lightColor;","varying float lightRadius;","varying float lightAttenuation;","void main ()","{","    lightColor = inLightColor;","    lightRadius = inLightRadius;","    lightAttenuation = inLightAttenuation;","    lightPosition = uProjectionMatrix * vec4(inLightPosition, 1.0, 1.0);","    gl_Position = uProjectionMatrix * vec4(inPosition, 1.0, 1.0);","}"].join(`
`)},27681:v=>{v.exports=["#define SHADER_NAME PHASER_POSTFX_FS","precision mediump float;","uniform sampler2D uMainSampler;","varying vec2 outTexCoord;","void main ()","{","    gl_FragColor = texture2D(uMainSampler, outTexCoord);","}"].join(`
`)},49627:v=>{v.exports=["#define SHADER_NAME PHASER_QUAD_VS","precision mediump float;","attribute vec2 inPosition;","attribute vec2 inTexCoord;","varying vec2 outFragCoord;","varying vec2 outTexCoord;","void main ()","{","    outFragCoord = inPosition.xy * 0.5 + 0.5;","    outTexCoord = inTexCoord;","    gl_Position = vec4(inPosition, 0, 1);","}"].join(`
`)},45561:v=>{v.exports=["#define SHADER_NAME PHASER_SINGLE_FS","#ifdef GL_FRAGMENT_PRECISION_HIGH","precision highp float;","#else","precision mediump float;","#endif","uniform sampler2D uMainSampler;","varying vec2 outTexCoord;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec4 texel = vec4(outTint.bgr * outTint.a, outTint.a);","    vec4 color = texture * texel;","    if (outTintEffect == 1.0)","    {","        color.rgb = mix(texture.rgb, outTint.bgr * outTint.a, texture.a);","    }","    else if (outTintEffect == 2.0)","    {","        color = texel;","    }","    gl_FragColor = color;","}"].join(`
`)},60722:v=>{v.exports=["#define SHADER_NAME PHASER_SINGLE_VS","precision mediump float;","uniform mat4 uProjectionMatrix;","uniform vec2 uResolution;","attribute vec2 inPosition;","attribute vec2 inTexCoord;","attribute float inTexId;","attribute float inTintEffect;","attribute vec4 inTint;","varying vec2 outTexCoord;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    gl_Position = uProjectionMatrix * vec4(inPosition, 1.0, 1.0);","    outTexCoord = inTexCoord;","    outTint = inTint;","    outTintEffect = inTintEffect;","}"].join(`
`)},89350:(v,y,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={AddBlendFrag:t(35407),BitmapMaskFrag:t(78908),BitmapMaskVert:t(85191),ColorMatrixFrag:t(96293),CopyFrag:t(36682),FXBarrelFrag:t(99155),FXBloomFrag:t(24400),FXBlurHighFrag:t(94328),FXBlurLowFrag:t(41514),FXBlurMedFrag:t(51078),FXBokehFrag:t(90610),FXCircleFrag:t(91899),FXDisplacementFrag:t(47838),FXGlowFrag:t(98656),FXGradientFrag:t(70463),FXPixelateFrag:t(50831),FXShadowFrag:t(92595),FXShineFrag:t(72464),FXVignetteFrag:t(39249),FXWipeFrag:t(2878),LightFrag:t(31063),LinearBlendFrag:t(48247),MeshFrag:t(41214),MeshVert:t(39653),MobileFrag:t(62143),MobileVert:t(47940),MultiFrag:t(98840),MultiVert:t(44667),PointLightFrag:t(4127),PointLightVert:t(89924),PostFXFrag:t(27681),QuadVert:t(49627),SingleFrag:t(45561),SingleVert:t(60722)}},93567:(v,y,t)=>{/**
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),p=new h({initialize:function(n,r,e){this.webGLAttribLocation=-1,this.gl=n,this.program=r,this.name=e,this.createResource()},createResource:function(){if(this.program.webGLProgram===null){this.webGLAttribLocation=-1;return}var a=this.gl;a.isContextLost()||(this.webGLAttribLocation=a.getAttribLocation(this.program.webGLProgram,this.name))},destroy:function(){this.gl=null,this.program=null,this.name=null,this.webGLAttribLocation=-1}});v.exports=p},26128:(v,y,t)=>{/**
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),p=new h({initialize:function(n,r,e,s){this.webGLBuffer=null,this.gl=n,this.initialDataOrSize=r,this.bufferType=e,this.bufferUsage=s,this.createResource()},createResource:function(){if(this.initialDataOrSize!==null){var a=this.gl;if(!a.isContextLost()){var n=this.bufferType,r=a.createBuffer();this.webGLBuffer=r,a.bindBuffer(n,this.webGLBuffer),a.bufferData(n,this.initialDataOrSize,this.bufferUsage),a.bindBuffer(n,null)}}},destroy:function(){var a=this.gl;a.isContextLost()||a.deleteBuffer(this.webGLBuffer),this.webGLBuffer=null,this.initialDataOrSize=null,this.gl=null}});v.exports=p},84387:(v,y,t)=>{/**
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),p={36054:"Incomplete Attachment",36055:"Missing Attachment",36057:"Incomplete Dimensions",36061:"Framebuffer Unsupported"},a=new h({initialize:function(r,e,s,o,i){this.webGLFramebuffer=null,this.gl=r,this.width=e,this.height=s,this.renderTexture=o,this.addDepthStencilBuffer=!!i,this.createResource()},createResource:function(){var n=this.gl;if(!n.isContextLost()){var r=this.renderTexture,e=0,s=n.createFramebuffer();if(this.webGLFramebuffer=s,n.bindFramebuffer(n.FRAMEBUFFER,s),r.isRenderTexture=!0,r.isAlphaPremultiplied=!1,n.framebufferTexture2D(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,r.webGLTexture,0),e=n.checkFramebufferStatus(n.FRAMEBUFFER),e!==n.FRAMEBUFFER_COMPLETE)throw new Error("Framebuffer status: "+(p[e]||e));if(this.addDepthStencilBuffer){var o=n.createRenderbuffer();n.bindRenderbuffer(n.RENDERBUFFER,o),n.renderbufferStorage(n.RENDERBUFFER,n.DEPTH_STENCIL,this.width,this.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.RENDERBUFFER,o)}n.bindFramebuffer(n.FRAMEBUFFER,null)}},destroy:function(){if(this.webGLFramebuffer!==null){var n=this.gl;if(!n.isContextLost()){n.bindFramebuffer(n.FRAMEBUFFER,this.webGLFramebuffer);var r=n.getFramebufferAttachmentParameter(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.FRAMEBUFFER_ATTACHMENT_OBJECT_NAME);r!==null&&(n.framebufferTexture2D(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,null,0),n.deleteTexture(r));var e=n.getFramebufferAttachmentParameter(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.FRAMEBUFFER_ATTACHMENT_OBJECT_NAME);e!==null&&n.deleteRenderbuffer(e),n.bindFramebuffer(n.FRAMEBUFFER,null),n.deleteFramebuffer(this.webGLFramebuffer)}this.renderTexture=null,this.webGLFramebuffer=null,this.gl=null}}});v.exports=a},1482:(v,y,t)=>{/**
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),p=new h({initialize:function(n,r,e){this.webGLProgram=null,this.gl=n,this.vertexSource=r,this.fragmentSource=e,this.createResource()},createResource:function(){var a=this.gl;if(!a.isContextLost()){var n=a.createProgram(),r=a.createShader(a.VERTEX_SHADER),e=a.createShader(a.FRAGMENT_SHADER);a.shaderSource(r,this.vertexSource),a.shaderSource(e,this.fragmentSource),a.compileShader(r),a.compileShader(e);var s=`Shader failed:
`;if(!a.getShaderParameter(r,a.COMPILE_STATUS))throw new Error("Vertex "+s+a.getShaderInfoLog(r));if(!a.getShaderParameter(e,a.COMPILE_STATUS))throw new Error("Fragment "+s+a.getShaderInfoLog(e));if(a.attachShader(n,r),a.attachShader(n,e),a.linkProgram(n),!a.getProgramParameter(n,a.LINK_STATUS))throw new Error("Link "+s+a.getProgramInfoLog(n));a.useProgram(n),this.webGLProgram=n}},destroy:function(){this.webGLProgram&&(this.gl.isContextLost()||this.gl.deleteProgram(this.webGLProgram),this.webGLProgram=null,this.gl=null)}});v.exports=p},82751:(v,y,t)=>{/**
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),p=t(50030),a=new h({initialize:function(r,e,s,o,i,l,u,f,d,c,m,g,x){this.webGLTexture=null,this.isRenderTexture=!1,this.gl=r,this.mipLevel=e,this.minFilter=s,this.magFilter=o,this.wrapT=i,this.wrapS=l,this.format=u,this.pixels=f,this.width=d,this.height=c,this.pma=m??!0,this.forceSize=!!g,this.flipY=!!x,this.__SPECTOR_Metadata={},this.createResource()},createResource:function(){var n=this.gl;if(!n.isContextLost()){if(this.pixels instanceof a){this.webGLTexture=this.pixels.webGLTexture;return}var r=n.createTexture();r.__SPECTOR_Metadata=this.__SPECTOR_Metadata,this.webGLTexture=r,this._processTexture()}},update:function(n,r,e,s,o,i,l,u,f){if(!(r===0||e===0)){this.pixels=n,this.width=r,this.height=e,this.flipY=s,this.wrapS=o,this.wrapT=i,this.minFilter=l,this.magFilter=u,this.format=f;var d=this.gl;d.isContextLost()||this._processTexture()}},_processTexture:function(){var n=this.gl;n.activeTexture(n.TEXTURE0);var r=n.getParameter(n.TEXTURE_BINDING_2D);n.bindTexture(n.TEXTURE_2D,this.webGLTexture),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,this.minFilter),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MAG_FILTER,this.magFilter),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_S,this.wrapS),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_T,this.wrapT),n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,this.pma),n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,this.flipY);var e=this.pixels,s=this.mipLevel,o=this.width,i=this.height,l=this.format,u=!1;if(e==null)n.texImage2D(n.TEXTURE_2D,s,l,o,i,0,l,n.UNSIGNED_BYTE,null),u=p(o,i);else if(e.compressed){o=e.width,i=e.height,u=e.generateMipmap;for(var f=0;f<e.mipmaps.length;f++)n.compressedTexImage2D(n.TEXTURE_2D,f,e.internalFormat,e.mipmaps[f].width,e.mipmaps[f].height,0,e.mipmaps[f].data)}else e instanceof Uint8Array?(n.texImage2D(n.TEXTURE_2D,s,l,o,i,0,l,n.UNSIGNED_BYTE,e),u=p(o,i)):(this.forceSize||(o=e.width,i=e.height),n.texImage2D(n.TEXTURE_2D,s,l,l,n.UNSIGNED_BYTE,e),u=p(o,i));u&&n.generateMipmap(n.TEXTURE_2D),r?n.bindTexture(n.TEXTURE_2D,r):n.bindTexture(n.TEXTURE_2D,null)},spectorMetadata:{get:function(){return this.__SPECTOR_Metadata},set:function(n){this.__SPECTOR_Metadata=n,this.gl.isContextLost()||(this.webGLTexture.__SPECTOR_Metadata=n)}},destroy:function(){this.webGLTexture!==null&&(this.gl.isContextLost()||this.pixels instanceof a||this.gl.deleteTexture(this.webGLTexture),this.pixels=null,this.webGLTexture=null,this.gl=null)}});v.exports=a},57183:(v,y,t)=>{/**
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),p=new h({initialize:function(n,r,e){this.webGLUniformLocation=null,this.gl=n,this.program=r,this.name=e,this.createResource()},createResource:function(){if(this.program.webGLProgram===null){this.webGLUniformLocation=null;return}var a=this.gl;a.isContextLost()||(this.webGLUniformLocation=a.getUniformLocation(this.program.webGLProgram,this.name))},destroy:function(){this.gl=null,this.program=null,this.name=null,this.webGLUniformLocation=null}});v.exports=p},9503:(v,y,t)=>{/**
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h={WebGLAttribLocationWrapper:t(93567),WebGLBufferWrapper:t(26128),WebGLProgramWrapper:t(1482),WebGLTextureWrapper:t(82751),WebGLFramebufferWrapper:t(84387),WebGLUniformLocationWrapper:t(57183)};v.exports=h},76531:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(13560),p=t(83419),a=t(50792),n=t(97480),r=t(8443),e=t(57811),s=t(74403),o=t(45818),i=t(29747),l=t(87841),u=t(86555),f=t(56583),d=t(26099),c=t(38058),m=new p({Extends:a,initialize:function(x){a.call(this),this.game=x,this.canvas,this.canvasBounds=new l,this.parent=null,this.parentIsWindow=!1,this.parentSize=new u,this.gameSize=new u,this.baseSize=new u,this.displaySize=new u,this.scaleMode=h.SCALE_MODE.NONE,this.zoom=1,this._resetZoom=!1,this.displayScale=new d(1,1),this.autoRound=!1,this.autoCenter=h.CENTER.NO_CENTER,this.orientation=h.ORIENTATION.LANDSCAPE,this.fullscreen,this.fullscreenTarget=null,this._createdFullscreenTarget=!1,this.dirty=!1,this.resizeInterval=500,this._lastCheck=0,this._checkOrientation=!1,this.domlisteners={orientationChange:i,windowResize:i,fullScreenChange:i,fullScreenError:i}},preBoot:function(){this.parseConfig(this.game.config),this.game.events.once(r.BOOT,this.boot,this)},boot:function(){var g=this.game;this.canvas=g.canvas,this.fullscreen=g.device.fullscreen;var x=this.scaleMode;x!==h.SCALE_MODE.RESIZE&&x!==h.SCALE_MODE.EXPAND&&this.displaySize.setAspectMode(x),x===h.SCALE_MODE.NONE?this.resize(this.width,this.height):(this.getParentBounds(),this.parentSize.width>0&&this.parentSize.height>0&&this.displaySize.setParent(this.parentSize),this.refresh()),g.events.on(r.PRE_STEP,this.step,this),g.events.once(r.READY,this.refresh,this),g.events.once(r.DESTROY,this.destroy,this),this.startListeners()},parseConfig:function(g){this.getParent(g),this.getParentBounds();var x=g.width,T=g.height,S=g.scaleMode,P=g.zoom,L=g.autoRound;if(typeof x=="string")if(x.substr(-1)!=="%")x=parseInt(x,10);else{var I=this.parentSize.width;I===0&&(I=window.innerWidth);var O=parseInt(x,10)/100;x=Math.floor(I*O)}if(typeof T=="string")if(T.substr(-1)!=="%")T=parseInt(T,10);else{var M=this.parentSize.height;M===0&&(M=window.innerHeight);var w=parseInt(T,10)/100;T=Math.floor(M*w)}this.scaleMode=S,this.autoRound=L,this.autoCenter=g.autoCenter,this.resizeInterval=g.resizeInterval,L&&(x=Math.floor(x),T=Math.floor(T)),this.gameSize.setSize(x,T),P===h.ZOOM.MAX_ZOOM&&(P=this.getMaxZoom()),this.zoom=P,P!==1&&(this._resetZoom=!0),this.baseSize.setSize(x,T),L&&(this.baseSize.width=Math.floor(this.baseSize.width),this.baseSize.height=Math.floor(this.baseSize.height)),g.minWidth>0&&this.displaySize.setMin(g.minWidth*P,g.minHeight*P),g.maxWidth>0&&this.displaySize.setMax(g.maxWidth*P,g.maxHeight*P),this.displaySize.setSize(x,T),(g.snapWidth>0||g.snapHeight>0)&&this.displaySize.setSnap(g.snapWidth,g.snapHeight),this.orientation=o(x,T)},getParent:function(g){var x=g.parent;if(x!==null){if(this.parent=s(x),this.parentIsWindow=this.parent===document.body,g.expandParent&&g.scaleMode!==h.SCALE_MODE.NONE){var T=this.parent.getBoundingClientRect();(this.parentIsWindow||T.height===0)&&(document.documentElement.style.height="100%",document.body.style.height="100%",T=this.parent.getBoundingClientRect(),!this.parentIsWindow&&T.height===0&&(this.parent.style.overflow="hidden",this.parent.style.width="100%",this.parent.style.height="100%"))}g.fullscreenTarget&&!this.fullscreenTarget&&(this.fullscreenTarget=s(g.fullscreenTarget))}},getParentBounds:function(){if(!this.parent)return!1;var g=this.parentSize,x=this.parent.getBoundingClientRect();this.parentIsWindow&&this.game.device.os.iOS&&(x.height=e(!0));var T=x.width,S=x.height;if(g.width!==T||g.height!==S)return g.setSize(T,S),!0;if(this.canvas){var P=this.canvasBounds,L=this.canvas.getBoundingClientRect();if(L.x!==P.x||L.y!==P.y)return!0}return!1},lockOrientation:function(g){var x=screen.lockOrientation||screen.mozLockOrientation||screen.msLockOrientation;return x?x.call(screen,g):!1},setParentSize:function(g,x){return this.parentSize.setSize(g,x),this.refresh()},setGameSize:function(g,x){var T=this.autoRound;T&&(g=Math.floor(g),x=Math.floor(x));var S=this.width,P=this.height;return this.gameSize.resize(g,x),this.baseSize.resize(g,x),T&&(this.baseSize.width=Math.floor(this.baseSize.width),this.baseSize.height=Math.floor(this.baseSize.height)),this.displaySize.setAspectRatio(g/x),this.canvas.width=this.baseSize.width,this.canvas.height=this.baseSize.height,this.refresh(S,P)},resize:function(g,x){var T=this.zoom,S=this.autoRound;S&&(g=Math.floor(g),x=Math.floor(x));var P=this.width,L=this.height;this.gameSize.resize(g,x),this.baseSize.resize(g,x),S&&(this.baseSize.width=Math.floor(this.baseSize.width),this.baseSize.height=Math.floor(this.baseSize.height)),this.displaySize.setSize(g*T,x*T),this.canvas.width=this.baseSize.width,this.canvas.height=this.baseSize.height;var I=this.canvas.style,O=g*T,M=x*T;return S&&(O=Math.floor(O),M=Math.floor(M)),(O!==g||M!==x)&&(I.width=O+"px",I.height=M+"px"),this.refresh(P,L)},setZoom:function(g){return this.zoom=g,this._resetZoom=!0,this.refresh()},setMaxZoom:function(){return this.zoom=this.getMaxZoom(),this._resetZoom=!0,this.refresh()},setSnap:function(g,x){return g===void 0&&(g=0),x===void 0&&(x=g),this.displaySize.setSnap(g,x),this.refresh()},refresh:function(g,x){g===void 0&&(g=this.width),x===void 0&&(x=this.height),this.updateScale(),this.updateBounds(),this.updateOrientation(),this.displayScale.set(this.baseSize.width/this.canvasBounds.width,this.baseSize.height/this.canvasBounds.height);var T=this.game.domContainer;if(T){this.baseSize.setCSS(T);var S=this.canvas.style,P=T.style;P.transform="scale("+this.displaySize.width/this.baseSize.width+","+this.displaySize.height/this.baseSize.height+")",P.marginLeft=S.marginLeft,P.marginTop=S.marginTop}return this.emit(n.RESIZE,this.gameSize,this.baseSize,this.displaySize,g,x),this},updateOrientation:function(){if(this._checkOrientation){this._checkOrientation=!1;var g=o(this.width,this.height);g!==this.orientation&&(this.orientation=g,this.emit(n.ORIENTATION_CHANGE,g))}},updateScale:function(){var g=this.canvas.style,x=this.gameSize.width,T=this.gameSize.height,S,P,L=this.zoom,I=this.autoRound;if(this.scaleMode===h.SCALE_MODE.NONE)this.displaySize.setSize(x*L,T*L),S=this.displaySize.width,P=this.displaySize.height,I&&(S=Math.floor(S),P=Math.floor(P)),this._resetZoom&&(g.width=S+"px",g.height=P+"px",this._resetZoom=!1);else if(this.scaleMode===h.SCALE_MODE.RESIZE)this.displaySize.setSize(this.parentSize.width,this.parentSize.height),this.gameSize.setSize(this.displaySize.width,this.displaySize.height),this.baseSize.setSize(this.displaySize.width,this.displaySize.height),S=this.displaySize.width,P=this.displaySize.height,I&&(S=Math.floor(S),P=Math.floor(P)),this.canvas.width=S,this.canvas.height=P;else if(this.scaleMode===h.SCALE_MODE.EXPAND){var O=this.game.config.width,M=this.game.config.height;this.displaySize.setSize(this.parentSize.width,this.parentSize.height),S=this.displaySize.width,P=this.displaySize.height,I&&(S=Math.floor(S),P=Math.floor(P)),g.width=S+"px",g.height=P+"px";var w=this.parentSize.width/O,D=this.parentSize.height/M;w<D&&w!==0?this.baseSize.setSize(O,this.parentSize.height/w):D!==0&&this.baseSize.setSize(this.displaySize.width/D,M),this.gameSize.setSize(this.baseSize.width,this.baseSize.height),S=this.baseSize.width,P=this.baseSize.height,I&&(S=Math.floor(S),P=Math.floor(P)),this.canvas.width=S,this.canvas.height=P}else this.displaySize.setSize(this.parentSize.width,this.parentSize.height),S=this.displaySize.width,P=this.displaySize.height,I&&(S=Math.floor(S),P=Math.floor(P)),g.width=S+"px",g.height=P+"px";this.getParentBounds(),this.updateCenter()},getMaxZoom:function(){var g=f(this.parentSize.width,this.gameSize.width,0,!0),x=f(this.parentSize.height,this.gameSize.height,0,!0);return Math.max(Math.min(g,x),1)},updateCenter:function(){var g=this.autoCenter;if(g!==h.CENTER.NO_CENTER){var x=this.canvas,T=x.style,S=x.getBoundingClientRect(),P=S.width,L=S.height,I=Math.floor((this.parentSize.width-P)/2),O=Math.floor((this.parentSize.height-L)/2);g===h.CENTER.CENTER_HORIZONTALLY?O=0:g===h.CENTER.CENTER_VERTICALLY&&(I=0),T.marginLeft=I+"px",T.marginTop=O+"px"}},updateBounds:function(){var g=this.canvasBounds,x=this.canvas.getBoundingClientRect();g.x=x.left+(window.pageXOffset||0)-(document.documentElement.clientLeft||0),g.y=x.top+(window.pageYOffset||0)-(document.documentElement.clientTop||0),g.width=x.width,g.height=x.height},transformX:function(g){return(g-this.canvasBounds.left)*this.displayScale.x},transformY:function(g){return(g-this.canvasBounds.top)*this.displayScale.y},startFullscreen:function(g){g===void 0&&(g={navigationUI:"hide"});var x=this.fullscreen;if(!x.available){this.emit(n.FULLSCREEN_UNSUPPORTED);return}if(!x.active){var T=this.getFullscreenTarget();x.keyboard?T[x.request](Element.ALLOW_KEYBOARD_INPUT):T[x.request](g)}},fullscreenSuccessHandler:function(){this.getParentBounds(),this.refresh(),this.emit(n.ENTER_FULLSCREEN)},fullscreenErrorHandler:function(g){this.removeFullscreenTarget(),this.emit(n.FULLSCREEN_FAILED,g)},getFullscreenTarget:function(){if(!this.fullscreenTarget){var g=document.createElement("div");g.style.margin="0",g.style.padding="0",g.style.width="100%",g.style.height="100%",this.fullscreenTarget=g,this._createdFullscreenTarget=!0}if(this._createdFullscreenTarget){var x=this.canvas.parentNode;x.insertBefore(this.fullscreenTarget,this.canvas),this.fullscreenTarget.appendChild(this.canvas)}return this.fullscreenTarget},removeFullscreenTarget:function(){if(this._createdFullscreenTarget){var g=this.fullscreenTarget;if(g&&g.parentNode){var x=g.parentNode;x.insertBefore(this.canvas,g),x.removeChild(g)}}},stopFullscreen:function(){var g=this.fullscreen;if(!g.available)return this.emit(n.FULLSCREEN_UNSUPPORTED),!1;g.active&&document[g.cancel](),this.removeFullscreenTarget()},leaveFullScreenSuccessHandler:function(){this.getParentBounds(),this.emit(n.LEAVE_FULLSCREEN),this.refresh()},toggleFullscreen:function(g){this.fullscreen.active?this.stopFullscreen():this.startFullscreen(g)},startListeners:function(){var g=this,x=this.domlisteners;if(x.orientationChange=function(){g.updateBounds(),g._checkOrientation=!0,g.dirty=!0,g.refresh()},x.windowResize=function(){g.updateBounds(),g.dirty=!0},screen.orientation&&screen.orientation.addEventListener?screen.orientation.addEventListener("change",x.orientationChange,!1):window.addEventListener("orientationchange",x.orientationChange,!1),window.addEventListener("resize",x.windowResize,!1),this.fullscreen.available){x.fullScreenChange=function(S){return g.onFullScreenChange(S)},x.fullScreenError=function(S){return g.onFullScreenError(S)};var T=["webkit","moz",""];T.forEach(function(S){document.addEventListener(S+"fullscreenchange",x.fullScreenChange,!1),document.addEventListener(S+"fullscreenerror",x.fullScreenError,!1)}),document.addEventListener("MSFullscreenChange",x.fullScreenChange,!1),document.addEventListener("MSFullscreenError",x.fullScreenError,!1)}},onFullScreenChange:function(){document.fullscreenElement||document.webkitFullscreenElement||document.msFullscreenElement||document.mozFullScreenElement?this.fullscreenSuccessHandler():(this.stopFullscreen(),this.leaveFullScreenSuccessHandler())},onFullScreenError:function(){this.removeFullscreenTarget()},getViewPort:function(g,x){g instanceof c||(x=g,g=void 0),x===void 0&&(x=new l);var T=this.baseSize,S=this.parentSize,P=this.canvasBounds,L=this.displayScale,I=P.x>=0?0:-(P.x*L.x),O=P.y>=0?0:-(P.y*L.y),M;S.width>=P.width?M=T.width:M=T.width-(P.width-S.width)*L.x;var w;return S.height>=P.height?w=T.height:w=T.height-(P.height-S.height)*L.y,x.setTo(I,O,M,w),g&&(x.width/=g.zoomX,x.height/=g.zoomY,x.centerX=g.centerX+g.scrollX,x.centerY=g.centerY+g.scrollY),x},step:function(g,x){this.parent&&(this._lastCheck+=x,(this.dirty||this._lastCheck>this.resizeInterval)&&(this.getParentBounds()&&this.refresh(),this.dirty=!1,this._lastCheck=0))},stopListeners:function(){var g=this.domlisteners;screen.orientation&&screen.orientation.addEventListener?screen.orientation.removeEventListener("change",g.orientationChange,!1):window.removeEventListener("orientationchange",g.orientationChange,!1),window.removeEventListener("resize",g.windowResize,!1);var x=["webkit","moz",""];x.forEach(function(T){document.removeEventListener(T+"fullscreenchange",g.fullScreenChange,!1),document.removeEventListener(T+"fullscreenerror",g.fullScreenError,!1)}),document.removeEventListener("MSFullscreenChange",g.fullScreenChange,!1),document.removeEventListener("MSFullscreenError",g.fullScreenError,!1)},destroy:function(){this.removeAllListeners(),this.stopListeners(),this.game=null,this.canvas=null,this.canvasBounds=null,this.parent=null,this.fullscreenTarget=null,this.parentSize.destroy(),this.gameSize.destroy(),this.baseSize.destroy(),this.displaySize.destroy()},isFullscreen:{get:function(){return this.fullscreen.active}},width:{get:function(){return this.gameSize.width}},height:{get:function(){return this.gameSize.height}},isPortrait:{get:function(){return this.orientation===h.ORIENTATION.PORTRAIT}},isLandscape:{get:function(){return this.orientation===h.ORIENTATION.LANDSCAPE}},isGamePortrait:{get:function(){return this.height>this.width}},isGameLandscape:{get:function(){return this.width>this.height}}});v.exports=m},64743:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={NO_CENTER:0,CENTER_BOTH:1,CENTER_HORIZONTALLY:2,CENTER_VERTICALLY:3}},39218:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={LANDSCAPE:"landscape-primary",LANDSCAPE_SECONDARY:"landscape-secondary",PORTRAIT:"portrait-primary",PORTRAIT_SECONDARY:"portrait-secondary"}},81050:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={NONE:0,WIDTH_CONTROLS_HEIGHT:1,HEIGHT_CONTROLS_WIDTH:2,FIT:3,ENVELOP:4,RESIZE:5,EXPAND:6}},80805:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={NO_ZOOM:1,ZOOM_2X:2,ZOOM_4X:4,MAX_ZOOM:-1}},13560:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h={CENTER:t(64743),ORIENTATION:t(39218),SCALE_MODE:t(81050),ZOOM:t(80805)};v.exports=h},56139:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="enterfullscreen"},2336:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="fullscreenfailed"},47412:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="fullscreenunsupported"},51452:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="leavefullscreen"},20666:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="orientationchange"},47945:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="resize"},97480:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={ENTER_FULLSCREEN:t(56139),FULLSCREEN_FAILED:t(2336),FULLSCREEN_UNSUPPORTED:t(47412),LEAVE_FULLSCREEN:t(51452),ORIENTATION_CHANGE:t(20666),RESIZE:t(47945)}},93364:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(79291),p=t(13560),a={Center:t(64743),Events:t(97480),Orientation:t(39218),ScaleManager:t(76531),ScaleModes:t(81050),Zoom:t(80805)};a=h(!1,a,p.CENTER),a=h(!1,a,p.ORIENTATION),a=h(!1,a,p.SCALE_MODE),a=h(!1,a,p.ZOOM),v.exports=a},27397:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(95540),p=t(35355),a=function(n){var r=n.game.config.defaultPhysicsSystem,e=h(n.settings,"physics",!1);if(!(!r&&!e)){var s=[];if(r&&s.push(p(r+"Physics")),e)for(var o in e)o=p(o.concat("Physics")),s.indexOf(o)===-1&&s.push(o);return s}};v.exports=a},52106:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(95540),p=function(a){var n=a.plugins.getDefaultScenePlugins(),r=h(a.settings,"plugins",!1);return Array.isArray(r)?r:n||[]};v.exports=p},87033:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={game:"game",renderer:"renderer",anims:"anims",cache:"cache",plugins:"plugins",registry:"registry",scale:"scale",sound:"sound",textures:"textures",events:"events",cameras:"cameras",add:"add",make:"make",scenePlugin:"scene",displayList:"children",lights:"lights",data:"data",input:"input",load:"load",time:"time",tweens:"tweens",arcadePhysics:"physics",impactPhysics:"impact",matterPhysics:"matter"};v.exports=y},97482:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),p=t(2368),a=new h({initialize:function(r){this.sys=new p(this,r),this.game,this.anims,this.cache,this.registry,this.sound,this.textures,this.events,this.cameras,this.add,this.make,this.scene,this.children,this.lights,this.data,this.input,this.load,this.time,this.tweens,this.physics,this.matter,this.scale,this.plugins,this.renderer},update:function(){}});v.exports=a},60903:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),p=t(89993),a=t(44594),n=t(8443),r=t(35154),e=t(54899),s=t(29747),o=t(97482),i=t(2368),l=new h({initialize:function(f,d){if(this.game=f,this.keys={},this.scenes=[],this._pending=[],this._start=[],this._queue=[],this._data={},this.isProcessing=!1,this.isBooted=!1,this.customViewports=0,this.systemScene,d){Array.isArray(d)||(d=[d]);for(var c=0;c<d.length;c++)this._pending.push({key:"default",scene:d[c],autoStart:c===0,data:{}})}f.events.once(n.READY,this.bootQueue,this)},bootQueue:function(){if(!this.isBooted){this.systemScene=this.createSceneFromInstance("__SYSTEM",new o),this.game.events.emit(n.SYSTEM_READY,this.systemScene,this);var u,f,d,c;for(u=0;u<this._pending.length;u++){f=this._pending[u],d=f.key,c=f.scene;var m;c instanceof o?m=this.createSceneFromInstance(d,c):typeof c=="object"?m=this.createSceneFromObject(d,c):typeof c=="function"&&(m=this.createSceneFromFunction(d,c)),d=m.sys.settings.key,this.keys[d]=m,this.scenes.push(m),this._data[d]&&(m.sys.settings.data=this._data[d].data,this._data[d].autoStart&&(f.autoStart=!0)),(f.autoStart||m.sys.settings.active)&&this._start.push(d)}for(this._pending.length=0,this._data={},this.isBooted=!0,u=0;u<this._start.length;u++)f=this._start[u],this.start(f);this._start.length=0}},processQueue:function(){var u=this._pending.length,f=this._queue.length;if(!(u===0&&f===0)){var d,c;if(u){for(d=0;d<u;d++)c=this._pending[d],this.add(c.key,c.scene,c.autoStart,c.data);for(d=0;d<this._start.length;d++)c=this._start[d],this.start(c);this._start.length=0,this._pending.length=0}for(d=0;d<this._queue.length;d++)c=this._queue[d],this[c.op](c.keyA,c.keyB,c.data);this._queue.length=0}},add:function(u,f,d,c){if(d===void 0&&(d=!1),c===void 0&&(c={}),this.isProcessing||!this.isBooted)return this._pending.push({key:u,scene:f,autoStart:d,data:c}),this.isBooted||(this._data[u]={data:c}),null;u=this.getKey(u,f);var m;return f instanceof o?m=this.createSceneFromInstance(u,f):typeof f=="object"?(f.key=u,m=this.createSceneFromObject(u,f)):typeof f=="function"&&(m=this.createSceneFromFunction(u,f)),m.sys.settings.data=c,u=m.sys.settings.key,this.keys[u]=m,this.scenes.push(m),(d||m.sys.settings.active)&&(this._pending.length?this._start.push(u):this.start(u)),m},remove:function(u){if(this.isProcessing)return this.queueOp("remove",u);var f=this.getScene(u);if(!f||f.sys.isTransitioning())return this;var d=this.scenes.indexOf(f),c=f.sys.settings.key;return d>-1&&(delete this.keys[c],this.scenes.splice(d,1),this._start.indexOf(c)>-1&&(d=this._start.indexOf(c),this._start.splice(d,1)),f.sys.destroy()),this},bootScene:function(u){var f=u.sys,d=f.settings;f.sceneUpdate=s,u.init&&(u.init.call(u,d.data),d.status=p.INIT,d.isTransition&&f.events.emit(a.TRANSITION_INIT,d.transitionFrom,d.transitionDuration));var c;f.load&&(c=f.load,c.reset()),c&&u.preload?(u.preload.call(u),d.status=p.LOADING,c.once(e.COMPLETE,this.loadComplete,this),c.start()):this.create(u)},loadComplete:function(u){this.create(u.scene)},payloadComplete:function(u){this.bootScene(u.scene)},update:function(u,f){this.processQueue(),this.isProcessing=!0;for(var d=this.scenes.length-1;d>=0;d--){var c=this.scenes[d].sys;c.settings.status>p.START&&c.settings.status<=p.RUNNING&&c.step(u,f),c.scenePlugin&&c.scenePlugin._target&&c.scenePlugin.step(u,f)}},render:function(u){for(var f=0;f<this.scenes.length;f++){var d=this.scenes[f].sys;d.settings.visible&&d.settings.status>=p.LOADING&&d.settings.status<p.SLEEPING&&d.render(u)}this.isProcessing=!1},create:function(u){var f=u.sys,d=f.settings;u.create&&(d.status=p.CREATING,u.create.call(u,d.data),d.status===p.DESTROYED)||(d.isTransition&&f.events.emit(a.TRANSITION_START,d.transitionFrom,d.transitionDuration),u.update&&(f.sceneUpdate=u.update),d.status=p.RUNNING,f.events.emit(a.CREATE,u))},createSceneFromFunction:function(u,f){var d=new f;if(d instanceof o){var c=d.sys.settings.key;if(c!==""&&(u=c),this.keys.hasOwnProperty(u))throw new Error("Cannot add Scene with duplicate key: "+u);return this.createSceneFromInstance(u,d)}else return d.sys=new i(d),d.sys.settings.key=u,d.sys.init(this.game),d},createSceneFromInstance:function(u,f){var d=f.sys.settings.key;return d===""&&(f.sys.settings.key=u),f.sys.init(this.game),f},createSceneFromObject:function(u,f){var d=new o(f),c=d.sys.settings.key;c!==""?u=c:d.sys.settings.key=u,d.sys.init(this.game);for(var m=["init","preload","create","update","render"],g=0;g<m.length;g++){var x=r(f,m[g],null);x&&(d[m[g]]=x)}if(f.hasOwnProperty("extend")){for(var T in f.extend)if(f.extend.hasOwnProperty(T)){var S=f.extend[T];T==="data"&&d.hasOwnProperty("data")&&typeof S=="object"?d.data.merge(S):T!=="sys"&&(d[T]=S)}}return d},getKey:function(u,f){if(u||(u="default"),typeof f=="function")return u;if(f instanceof o?u=f.sys.settings.key:typeof f=="object"&&f.hasOwnProperty("key")&&(u=f.key),this.keys.hasOwnProperty(u))throw new Error("Cannot add Scene with duplicate key: "+u);return u},getScenes:function(u,f){u===void 0&&(u=!0),f===void 0&&(f=!1);for(var d=[],c=this.scenes,m=0;m<c.length;m++){var g=c[m];g&&(!u||u&&g.sys.isActive())&&d.push(g)}return f?d.reverse():d},getScene:function(u){if(typeof u=="string"){if(this.keys[u])return this.keys[u]}else for(var f=0;f<this.scenes.length;f++)if(u===this.scenes[f])return u;return null},isActive:function(u){var f=this.getScene(u);return f?f.sys.isActive():null},isPaused:function(u){var f=this.getScene(u);return f?f.sys.isPaused():null},isVisible:function(u){var f=this.getScene(u);return f?f.sys.isVisible():null},isSleeping:function(u){var f=this.getScene(u);return f?f.sys.isSleeping():null},pause:function(u,f){var d=this.getScene(u);return d&&d.sys.pause(f),this},resume:function(u,f){var d=this.getScene(u);return d&&d.sys.resume(f),this},sleep:function(u,f){var d=this.getScene(u);return d&&!d.sys.isTransitioning()&&d.sys.sleep(f),this},wake:function(u,f){var d=this.getScene(u);return d&&d.sys.wake(f),this},run:function(u,f){var d=this.getScene(u);if(!d){for(var c=0;c<this._pending.length;c++)if(this._pending[c].key===u){this.queueOp("start",u,f);break}return this}d.sys.isSleeping()?d.sys.wake(f):d.sys.isPaused()?d.sys.resume(f):this.start(u,f)},start:function(u,f){if(!this.isBooted)return this._data[u]={autoStart:!0,data:f},this;var d=this.getScene(u);if(!d)return console.warn("Scene key not found: "+u),this;var c=d.sys,m=c.settings.status;if(m>=p.START&&m<=p.CREATING)return this;if(m>=p.RUNNING&&m<=p.SLEEPING)c.shutdown(),c.sceneUpdate=s,c.start(f);else{c.sceneUpdate=s,c.start(f);var g;if(c.load&&(g=c.load),g&&c.settings.hasOwnProperty("pack")&&(g.reset(),g.addPack({payload:c.settings.pack})))return c.settings.status=p.LOADING,g.once(e.COMPLETE,this.payloadComplete,this),g.start(),this}return this.bootScene(d),this},stop:function(u,f){var d=this.getScene(u);if(d&&!d.sys.isTransitioning()&&d.sys.settings.status!==p.SHUTDOWN){var c=d.sys.load;c&&(c.off(e.COMPLETE,this.loadComplete,this),c.off(e.COMPLETE,this.payloadComplete,this)),d.sys.shutdown(f)}return this},switch:function(u,f,d){var c=this.getScene(u),m=this.getScene(f);return c&&m&&c!==m&&(this.sleep(u),this.isSleeping(f)?this.wake(f,d):this.start(f,d)),this},getAt:function(u){return this.scenes[u]},getIndex:function(u){var f=this.getScene(u);return this.scenes.indexOf(f)},bringToTop:function(u){if(this.isProcessing)return this.queueOp("bringToTop",u);var f=this.getIndex(u),d=this.scenes;if(f!==-1&&f<d.length){var c=this.getScene(u);d.splice(f,1),d.push(c)}return this},sendToBack:function(u){if(this.isProcessing)return this.queueOp("sendToBack",u);var f=this.getIndex(u);if(f!==-1&&f>0){var d=this.getScene(u);this.scenes.splice(f,1),this.scenes.unshift(d)}return this},moveDown:function(u){if(this.isProcessing)return this.queueOp("moveDown",u);var f=this.getIndex(u);if(f>0){var d=f-1,c=this.getScene(u),m=this.getAt(d);this.scenes[f]=m,this.scenes[d]=c}return this},moveUp:function(u){if(this.isProcessing)return this.queueOp("moveUp",u);var f=this.getIndex(u);if(f<this.scenes.length-1){var d=f+1,c=this.getScene(u),m=this.getAt(d);this.scenes[f]=m,this.scenes[d]=c}return this},moveAbove:function(u,f){if(u===f)return this;if(this.isProcessing)return this.queueOp("moveAbove",u,f);var d=this.getIndex(u),c=this.getIndex(f);if(d!==-1&&c!==-1&&c<d){var m=this.getAt(c);this.scenes.splice(c,1),this.scenes.splice(d+(c>d),0,m)}return this},moveBelow:function(u,f){if(u===f)return this;if(this.isProcessing)return this.queueOp("moveBelow",u,f);var d=this.getIndex(u),c=this.getIndex(f);if(d!==-1&&c!==-1&&c>d){var m=this.getAt(c);this.scenes.splice(c,1),d===0?this.scenes.unshift(m):this.scenes.splice(d-(c<d),0,m)}return this},queueOp:function(u,f,d,c){return this._queue.push({op:u,keyA:f,keyB:d,data:c}),this},swapPosition:function(u,f){if(u===f)return this;if(this.isProcessing)return this.queueOp("swapPosition",u,f);var d=this.getIndex(u),c=this.getIndex(f);if(d!==c&&d!==-1&&c!==-1){var m=this.getAt(d);this.scenes[d]=this.scenes[c],this.scenes[c]=m}return this},dump:function(){for(var u=[],f=["pending","init","start","loading","creating","running","paused","sleeping","shutdown","destroyed"],d=0;d<this.scenes.length;d++){var c=this.scenes[d].sys,m=c.settings.visible&&(c.settings.status===p.RUNNING||c.settings.status===p.PAUSED)?"[*] ":"[-] ";m+=c.settings.key+" ("+f[c.settings.status]+")",u.push(m)}console.log(u.join(`
`))},destroy:function(){for(var u=0;u<this.scenes.length;u++){var f=this.scenes[u].sys;f.destroy()}this.systemScene.sys.destroy(),this.update=s,this.scenes=[],this._pending=[],this._start=[],this._queue=[],this.game=null,this.systemScene=null}});v.exports=l},52209:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(45319),p=t(83419),a=t(44594),n=t(95540),r=t(37277),e=new p({initialize:function(o){this.scene=o,this.systems=o.sys,this.settings=o.sys.settings,this.key=o.sys.settings.key,this.manager=o.sys.game.scene,this.transitionProgress=0,this._elapsed=0,this._target=null,this._duration=0,this._onUpdate,this._onUpdateScope,this._willSleep=!1,this._willRemove=!1,o.sys.events.once(a.BOOT,this.boot,this),o.sys.events.on(a.START,this.pluginStart,this)},boot:function(){this.systems.events.once(a.DESTROY,this.destroy,this)},pluginStart:function(){this._target=null,this.systems.events.once(a.SHUTDOWN,this.shutdown,this)},start:function(s,o){return s===void 0&&(s=this.key),this.manager.queueOp("stop",this.key),this.manager.queueOp("start",s,o),this},restart:function(s){var o=this.key;return this.manager.queueOp("stop",o),this.manager.queueOp("start",o,s),this},transition:function(s){s===void 0&&(s={});var o=n(s,"target",!1),i=this.manager.getScene(o);if(!o||!this.checkValidTransition(i))return!1;var l=n(s,"duration",1e3);this._elapsed=0,this._target=i,this._duration=l,this._willSleep=n(s,"sleep",!1),this._willRemove=n(s,"remove",!1);var u=n(s,"onUpdate",null);u&&(this._onUpdate=u,this._onUpdateScope=n(s,"onUpdateScope",this.scene));var f=n(s,"allowInput",!1);this.settings.transitionAllowInput=f;var d=i.sys.settings;d.isTransition=!0,d.transitionFrom=this.scene,d.transitionDuration=l,d.transitionAllowInput=f,n(s,"moveAbove",!1)?this.manager.moveAbove(this.key,o):n(s,"moveBelow",!1)&&this.manager.moveBelow(this.key,o),i.sys.isSleeping()?i.sys.wake(n(s,"data")):this.manager.start(o,n(s,"data"));var c=n(s,"onStart",null),m=n(s,"onStartScope",this.scene);return c&&c.call(m,this.scene,i,l),this.systems.events.emit(a.TRANSITION_OUT,i,l),!0},checkValidTransition:function(s){return!(!s||s.sys.isActive()||s.sys.isTransitioning()||s===this.scene||this.systems.isTransitioning())},step:function(s,o){this._elapsed+=o,this.transitionProgress=h(this._elapsed/this._duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.transitionProgress),this._elapsed>=this._duration&&this.transitionComplete()},transitionComplete:function(){var s=this._target.sys,o=this._target.sys.settings;s.events.emit(a.TRANSITION_COMPLETE,this.scene),o.isTransition=!1,o.transitionFrom=null,this._duration=0,this._target=null,this._onUpdate=null,this._onUpdateScope=null,this._willRemove?this.manager.remove(this.key):this._willSleep?this.systems.sleep():this.manager.stop(this.key)},add:function(s,o,i,l){return this.manager.add(s,o,i,l)},launch:function(s,o){return s&&s!==this.key&&this.manager.queueOp("start",s,o),this},run:function(s,o){return s&&s!==this.key&&this.manager.queueOp("run",s,o),this},pause:function(s,o){return s===void 0&&(s=this.key),this.manager.queueOp("pause",s,o),this},resume:function(s,o){return s===void 0&&(s=this.key),this.manager.queueOp("resume",s,o),this},sleep:function(s,o){return s===void 0&&(s=this.key),this.manager.queueOp("sleep",s,o),this},wake:function(s,o){return s===void 0&&(s=this.key),this.manager.queueOp("wake",s,o),this},switch:function(s,o){return s!==this.key&&this.manager.queueOp("switch",this.key,s,o),this},stop:function(s,o){return s===void 0&&(s=this.key),this.manager.queueOp("stop",s,o),this},setActive:function(s,o,i){o===void 0&&(o=this.key);var l=this.manager.getScene(o);return l&&l.sys.setActive(s,i),this},setVisible:function(s,o){o===void 0&&(o=this.key);var i=this.manager.getScene(o);return i&&i.sys.setVisible(s),this},isSleeping:function(s){return s===void 0&&(s=this.key),this.manager.isSleeping(s)},isActive:function(s){return s===void 0&&(s=this.key),this.manager.isActive(s)},isPaused:function(s){return s===void 0&&(s=this.key),this.manager.isPaused(s)},isVisible:function(s){return s===void 0&&(s=this.key),this.manager.isVisible(s)},swapPosition:function(s,o){return o===void 0&&(o=this.key),s!==o&&this.manager.swapPosition(s,o),this},moveAbove:function(s,o){return o===void 0&&(o=this.key),s!==o&&this.manager.moveAbove(s,o),this},moveBelow:function(s,o){return o===void 0&&(o=this.key),s!==o&&this.manager.moveBelow(s,o),this},remove:function(s){return s===void 0&&(s=this.key),this.manager.remove(s),this},moveUp:function(s){return s===void 0&&(s=this.key),this.manager.moveUp(s),this},moveDown:function(s){return s===void 0&&(s=this.key),this.manager.moveDown(s),this},bringToTop:function(s){return s===void 0&&(s=this.key),this.manager.bringToTop(s),this},sendToBack:function(s){return s===void 0&&(s=this.key),this.manager.sendToBack(s),this},get:function(s){return this.manager.getScene(s)},getStatus:function(s){var o=this.manager.getScene(s);if(o)return o.sys.getStatus()},getIndex:function(s){return s===void 0&&(s=this.key),this.manager.getIndex(s)},shutdown:function(){var s=this.systems.events;s.off(a.SHUTDOWN,this.shutdown,this),s.off(a.TRANSITION_OUT)},destroy:function(){this.shutdown(),this.scene.sys.events.off(a.START,this.start,this),this.scene=null,this.systems=null,this.settings=null,this.manager=null}});r.register("ScenePlugin",e,"scenePlugin"),v.exports=e},55681:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(89993),p=t(35154),a=t(46975),n=t(87033),r={create:function(e){return typeof e=="string"?e={key:e}:e===void 0&&(e={}),{status:h.PENDING,key:p(e,"key",""),active:p(e,"active",!1),visible:p(e,"visible",!0),isBooted:!1,isTransition:!1,transitionFrom:null,transitionDuration:0,transitionAllowInput:!0,data:{},pack:p(e,"pack",!1),cameras:p(e,"cameras",null),map:p(e,"map",a(n,p(e,"mapAdd",{}))),physics:p(e,"physics",{}),loader:p(e,"loader",{}),plugins:p(e,"plugins",!1),input:p(e,"input",{})}}};v.exports=r},2368:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),p=t(89993),a=t(42363),n=t(44594),r=t(27397),e=t(52106),s=t(29747),o=t(55681),i=new h({initialize:function(u,f){this.scene=u,this.game,this.renderer,this.config=f,this.settings=o.create(f),this.canvas,this.context,this.anims,this.cache,this.plugins,this.registry,this.scale,this.sound,this.textures,this.add,this.cameras,this.displayList,this.events,this.make,this.scenePlugin,this.updateList,this.sceneUpdate=s},init:function(l){this.settings.status=p.INIT,this.sceneUpdate=s,this.game=l,this.renderer=l.renderer,this.canvas=l.canvas,this.context=l.context;var u=l.plugins;this.plugins=u,u.addToScene(this,a.Global,[a.CoreScene,e(this),r(this)]),this.events.emit(n.BOOT,this),this.settings.isBooted=!0},step:function(l,u){var f=this.events;f.emit(n.PRE_UPDATE,l,u),f.emit(n.UPDATE,l,u),this.sceneUpdate.call(this.scene,l,u),f.emit(n.POST_UPDATE,l,u)},render:function(l){var u=this.displayList;u.depthSort(),this.events.emit(n.PRE_RENDER,l),this.cameras.render(l,u),this.events.emit(n.RENDER,l)},queueDepthSort:function(){this.displayList.queueDepthSort()},depthSort:function(){this.displayList.depthSort()},pause:function(l){var u=this.settings,f=this.getStatus();return f!==p.CREATING&&f!==p.RUNNING?console.warn("Cannot pause non-running Scene",u.key):this.settings.active&&(u.status=p.PAUSED,u.active=!1,this.events.emit(n.PAUSE,this,l)),this},resume:function(l){var u=this.events,f=this.settings;return this.settings.active||(f.status=p.RUNNING,f.active=!0,u.emit(n.RESUME,this,l)),this},sleep:function(l){var u=this.settings,f=this.getStatus();return f!==p.CREATING&&f!==p.RUNNING?console.warn("Cannot sleep non-running Scene",u.key):(u.status=p.SLEEPING,u.active=!1,u.visible=!1,this.events.emit(n.SLEEP,this,l)),this},wake:function(l){var u=this.events,f=this.settings;return f.status=p.RUNNING,f.active=!0,f.visible=!0,u.emit(n.WAKE,this,l),f.isTransition&&u.emit(n.TRANSITION_WAKE,f.transitionFrom,f.transitionDuration),this},getData:function(){return this.settings.data},getStatus:function(){return this.settings.status},canInput:function(){var l=this.settings.status;return l>p.PENDING&&l<=p.RUNNING},isSleeping:function(){return this.settings.status===p.SLEEPING},isActive:function(){return this.settings.status===p.RUNNING},isPaused:function(){return this.settings.status===p.PAUSED},isTransitioning:function(){return this.settings.isTransition||this.scenePlugin._target!==null},isTransitionOut:function(){return this.scenePlugin._target!==null&&this.scenePlugin._duration>0},isTransitionIn:function(){return this.settings.isTransition},isVisible:function(){return this.settings.visible},setVisible:function(l){return this.settings.visible=l,this},setActive:function(l,u){return l?this.resume(u):this.pause(u)},start:function(l){var u=this.events,f=this.settings;l&&(f.data=l),f.status=p.START,f.active=!0,f.visible=!0,u.emit(n.START,this),u.emit(n.READY,this,l)},shutdown:function(l){var u=this.events,f=this.settings;u.off(n.TRANSITION_INIT),u.off(n.TRANSITION_START),u.off(n.TRANSITION_COMPLETE),u.off(n.TRANSITION_OUT),f.status=p.SHUTDOWN,f.active=!1,f.visible=!1,u.emit(n.SHUTDOWN,this,l)},destroy:function(){var l=this.events,u=this.settings;u.status=p.DESTROYED,u.active=!1,u.visible=!1,l.emit(n.DESTROY,this),l.removeAllListeners();for(var f=["scene","game","anims","cache","plugins","registry","sound","textures","add","camera","displayList","events","make","scenePlugin","updateList"],d=0;d<f.length;d++)this[f[d]]=null}});v.exports=i},89993:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={PENDING:0,INIT:1,START:2,LOADING:3,CREATING:4,RUNNING:5,PAUSED:6,SLEEPING:7,SHUTDOWN:8,DESTROYED:9};v.exports=y},69830:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="addedtoscene"},7919:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="boot"},46763:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="create"},11763:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="destroy"},71555:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="pause"},36735:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="postupdate"},3809:v=>{/**
 * @author       samme
 * @copyright    2021 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="prerender"},90716:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="preupdate"},58262:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="ready"},91633:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="removedfromscene"},10319:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="render"},87132:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="resume"},81961:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="shutdown"},90194:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="sleep"},6265:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="start"},33178:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="transitioncomplete"},43063:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="transitioninit"},11259:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="transitionout"},61611:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="transitionstart"},45209:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="transitionwake"},22966:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="update"},21747:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="wake"},44594:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={ADDED_TO_SCENE:t(69830),BOOT:t(7919),CREATE:t(46763),DESTROY:t(11763),PAUSE:t(71555),POST_UPDATE:t(36735),PRE_RENDER:t(3809),PRE_UPDATE:t(90716),READY:t(58262),REMOVED_FROM_SCENE:t(91633),RENDER:t(10319),RESUME:t(87132),SHUTDOWN:t(81961),SLEEP:t(90194),START:t(6265),TRANSITION_COMPLETE:t(33178),TRANSITION_INIT:t(43063),TRANSITION_OUT:t(11259),TRANSITION_START:t(61611),TRANSITION_WAKE:t(45209),UPDATE:t(22966),WAKE:t(21747)}},62194:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(89993),p=t(79291),a={Events:t(44594),GetPhysicsPlugins:t(27397),GetScenePlugins:t(52106),SceneManager:t(60903),ScenePlugin:t(52209),Settings:t(55681),Systems:t(2368)};a=p(!1,a,h),v.exports=a},30341:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),p=t(50792),a=t(14463),n=t(79291),r=t(29747),e=new h({Extends:p,initialize:function(o,i,l){p.call(this),this.manager=o,this.key=i,this.isPlaying=!1,this.isPaused=!1,this.totalRate=1,this.duration=this.duration||0,this.totalDuration=this.totalDuration||0,this.config={mute:!1,volume:1,rate:1,detune:0,seek:0,loop:!1,delay:0,pan:0},this.currentConfig=this.config,this.config=n(this.config,l),this.markers={},this.currentMarker=null,this.pendingRemove=!1},addMarker:function(s){return!s||!s.name||typeof s.name!="string"?!1:this.markers[s.name]?(console.error("addMarker "+s.name+" already exists in Sound"),!1):(s=n(!0,{name:"",start:0,duration:this.totalDuration-(s.start||0),config:{mute:!1,volume:1,rate:1,detune:0,seek:0,loop:!1,delay:0,pan:0}},s),this.markers[s.name]=s,!0)},updateMarker:function(s){return!s||!s.name||typeof s.name!="string"?!1:this.markers[s.name]?(this.markers[s.name]=n(!0,this.markers[s.name],s),!0):(console.warn("Audio Marker: "+s.name+" missing in Sound: "+this.key),!1)},removeMarker:function(s){var o=this.markers[s];return o?(this.markers[s]=null,o):null},play:function(s,o){if(s===void 0&&(s=""),typeof s=="object"&&(o=s,s=""),typeof s!="string")return!1;if(!s)this.currentMarker=null,this.currentConfig=this.config,this.duration=this.totalDuration;else{if(!this.markers[s])return console.warn("Marker: "+s+" missing in Sound: "+this.key),!1;this.currentMarker=this.markers[s],this.currentConfig=this.currentMarker.config,this.duration=this.currentMarker.duration}return this.resetConfig(),this.currentConfig=n(this.currentConfig,o),this.isPlaying=!0,this.isPaused=!1,!0},pause:function(){return this.isPaused||!this.isPlaying?!1:(this.isPlaying=!1,this.isPaused=!0,!0)},resume:function(){return!this.isPaused||this.isPlaying?!1:(this.isPlaying=!0,this.isPaused=!1,!0)},stop:function(){return!this.isPaused&&!this.isPlaying?!1:(this.isPlaying=!1,this.isPaused=!1,this.resetConfig(),!0)},applyConfig:function(){this.mute=this.currentConfig.mute,this.volume=this.currentConfig.volume,this.rate=this.currentConfig.rate,this.detune=this.currentConfig.detune,this.loop=this.currentConfig.loop,this.pan=this.currentConfig.pan},resetConfig:function(){this.currentConfig.seek=0,this.currentConfig.delay=0},update:r,calculateRate:function(){var s=1.0005777895065548,o=this.currentConfig.detune+this.manager.detune,i=Math.pow(s,o);this.totalRate=this.currentConfig.rate*this.manager.rate*i},destroy:function(){this.pendingRemove||(this.stop(),this.emit(a.DESTROY,this),this.removeAllListeners(),this.pendingRemove=!0,this.manager=null,this.config=null,this.currentConfig=null,this.markers=null,this.currentMarker=null)}});v.exports=e},85034:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),p=t(41786),a=t(50792),n=t(14463),r=t(8443),e=t(46710),s=t(58731),o=t(29747),i=t(26099),l=new h({Extends:a,initialize:function(f){a.call(this),this.game=f,this.jsonCache=f.cache.json,this.sounds=[],this.mute=!1,this.volume=1,this.pauseOnBlur=!0,this._rate=1,this._detune=0,this.locked=this.locked||!1,this.unlocked=!1,this.gameLostFocus=!1,this.listenerPosition=new i,f.events.on(r.BLUR,this.onGameBlur,this),f.events.on(r.FOCUS,this.onGameFocus,this),f.events.on(r.PRE_STEP,this.update,this),f.events.once(r.DESTROY,this.destroy,this)},add:o,addAudioSprite:function(u,f){f===void 0&&(f={});var d=this.add(u,f);d.spritemap=this.jsonCache.get(u).spritemap;for(var c in d.spritemap)if(d.spritemap.hasOwnProperty(c)){var m=p(f),g=d.spritemap[c];m.loop=g.hasOwnProperty("loop")?g.loop:!1,d.addMarker({name:c,start:g.start,duration:g.end-g.start,config:m})}return d},get:function(u){return s(this.sounds,"key",u)},getAll:function(u){return u?e(this.sounds,"key",u):e(this.sounds)},getAllPlaying:function(){return e(this.sounds,"isPlaying",!0)},play:function(u,f){var d=this.add(u);return d.once(n.COMPLETE,d.destroy,d),f?f.name?(d.addMarker(f),d.play(f.name)):d.play(f):d.play()},playAudioSprite:function(u,f,d){var c=this.addAudioSprite(u);return c.once(n.COMPLETE,c.destroy,c),c.play(f,d)},remove:function(u){var f=this.sounds.indexOf(u);return f!==-1?(u.destroy(),this.sounds.splice(f,1),!0):!1},removeAll:function(){this.sounds.forEach(function(u){u.destroy()}),this.sounds.length=0},removeByKey:function(u){for(var f=0,d=this.sounds.length-1;d>=0;d--){var c=this.sounds[d];c.key===u&&(c.destroy(),this.sounds.splice(d,1),f++)}return f},pauseAll:function(){this.forEachActiveSound(function(u){u.pause()}),this.emit(n.PAUSE_ALL,this)},resumeAll:function(){this.forEachActiveSound(function(u){u.resume()}),this.emit(n.RESUME_ALL,this)},setListenerPosition:o,stopAll:function(){this.forEachActiveSound(function(u){u.stop()}),this.emit(n.STOP_ALL,this)},stopByKey:function(u){var f=0;return this.getAll(u).forEach(function(d){d.stop()&&f++}),f},isPlaying:function(u){var f=this.sounds,d=f.length-1,c;if(u===void 0){for(;d>=0;d--)if(c=this.sounds[d],c.isPlaying)return!0}else for(;d>=0;d--)if(c=this.sounds[d],c.key===u&&c.isPlaying)return!0;return!1},unlock:o,onBlur:o,onFocus:o,onGameBlur:function(){this.gameLostFocus=!0,this.pauseOnBlur&&this.onBlur()},onGameFocus:function(){this.gameLostFocus=!1,this.pauseOnBlur&&this.onFocus()},update:function(u,f){this.unlocked&&(this.unlocked=!1,this.locked=!1,this.emit(n.UNLOCKED,this));for(var d=this.sounds.length-1;d>=0;d--)this.sounds[d].pendingRemove&&this.sounds.splice(d,1);this.sounds.forEach(function(c){c.update(u,f)})},destroy:function(){this.game.events.off(r.BLUR,this.onGameBlur,this),this.game.events.off(r.FOCUS,this.onGameFocus,this),this.game.events.off(r.PRE_STEP,this.update,this),this.removeAllListeners(),this.removeAll(),this.sounds.length=0,this.sounds=null,this.listenerPosition=null,this.game=null},forEachActiveSound:function(u,f){var d=this;this.sounds.forEach(function(c,m){c&&!c.pendingRemove&&u.call(f||d,c,m,d.sounds)})},setRate:function(u){return this.rate=u,this},rate:{get:function(){return this._rate},set:function(u){this._rate=u,this.forEachActiveSound(function(f){f.calculateRate()}),this.emit(n.GLOBAL_RATE,this,u)}},setDetune:function(u){return this.detune=u,this},detune:{get:function(){return this._detune},set:function(u){this._detune=u,this.forEachActiveSound(function(f){f.calculateRate()}),this.emit(n.GLOBAL_DETUNE,this,u)}}});v.exports=l},14747:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(33684),p=t(25960),a=t(57490),n={create:function(r){var e=r.config.audio,s=r.device.audio;return e.noAudio||!s.webAudio&&!s.audioData?new p(r):s.webAudio&&!e.disableWebAudio?new a(r):new h(r)}};v.exports=n},19723:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="complete"},98882:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="decodedall"},57506:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="decoded"},73146:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="destroy"},11305:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="detune"},40577:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="detune"},30333:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="mute"},20394:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="rate"},21802:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="volume"},1299:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="looped"},99190:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="loop"},97125:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="mute"},89259:v=>{/**
 * @author       pi-kei
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="pan"},79986:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="pauseall"},17586:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="pause"},19618:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="play"},42306:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="rate"},10387:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="resumeall"},48959:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="resume"},9960:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="seek"},19180:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="stopall"},98328:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="stop"},50401:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="unlocked"},52498:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="volume"},14463:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={COMPLETE:t(19723),DECODED:t(57506),DECODED_ALL:t(98882),DESTROY:t(73146),DETUNE:t(11305),GLOBAL_DETUNE:t(40577),GLOBAL_MUTE:t(30333),GLOBAL_RATE:t(20394),GLOBAL_VOLUME:t(21802),LOOP:t(99190),LOOPED:t(1299),MUTE:t(97125),PAN:t(89259),PAUSE_ALL:t(79986),PAUSE:t(17586),PLAY:t(19618),RATE:t(42306),RESUME_ALL:t(10387),RESUME:t(48959),SEEK:t(9960),STOP_ALL:t(19180),STOP:t(98328),UNLOCKED:t(50401),VOLUME:t(52498)}},64895:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(30341),p=t(83419),a=t(14463),n=t(45319),r=new p({Extends:h,initialize:function(s,o,i){if(i===void 0&&(i={}),this.tags=s.game.cache.audio.get(o),!this.tags)throw new Error('No cached audio asset with key "'+o);this.audio=null,this.startTime=0,this.previousTime=0,this.duration=this.tags[0].duration,this.totalDuration=this.tags[0].duration,h.call(this,s,o,i)},play:function(e,s){return this.manager.isLocked(this,"play",[e,s])||!h.prototype.play.call(this,e,s)||!this.pickAndPlayAudioTag()?!1:(this.emit(a.PLAY,this),!0)},pause:function(){return this.manager.isLocked(this,"pause")||this.startTime>0||!h.prototype.pause.call(this)?!1:(this.currentConfig.seek=this.audio.currentTime-(this.currentMarker?this.currentMarker.start:0),this.stopAndReleaseAudioTag(),this.emit(a.PAUSE,this),!0)},resume:function(){return this.manager.isLocked(this,"resume")||this.startTime>0||!h.prototype.resume.call(this)||!this.pickAndPlayAudioTag()?!1:(this.emit(a.RESUME,this),!0)},stop:function(){return this.manager.isLocked(this,"stop")||!h.prototype.stop.call(this)?!1:(this.stopAndReleaseAudioTag(),this.emit(a.STOP,this),!0)},pickAndPlayAudioTag:function(){if(!this.pickAudioTag())return this.reset(),!1;var e=this.currentConfig.seek,s=this.currentConfig.delay,o=(this.currentMarker?this.currentMarker.start:0)+e;return this.previousTime=o,this.audio.currentTime=o,this.applyConfig(),s===0?(this.startTime=0,this.audio.paused&&this.playCatchPromise()):(this.startTime=window.performance.now()+s*1e3,this.audio.paused||this.audio.pause()),this.resetConfig(),!0},pickAudioTag:function(){if(this.audio)return!0;for(var e=0;e<this.tags.length;e++){var s=this.tags[e];if(s.dataset.used==="false")return s.dataset.used="true",this.audio=s,!0}if(!this.manager.override)return!1;var o=[];this.manager.forEachActiveSound(function(l){l.key===this.key&&l.audio&&o.push(l)},this),o.sort(function(l,u){return l.loop===u.loop?u.seek/u.duration-l.seek/l.duration:l.loop?1:-1});var i=o[0];return this.audio=i.audio,i.reset(),i.audio=null,i.startTime=0,i.previousTime=0,!0},playCatchPromise:function(){var e=this.audio.play();e&&e.catch(function(s){console.warn(s)})},stopAndReleaseAudioTag:function(){this.startTime=0,this.previousTime=0,this.audio&&(this.audio.pause(),this.audio.dataset.used="false",this.audio=null)},reset:function(){h.prototype.stop.call(this)},onBlur:function(){this.isPlaying=!1,this.isPaused=!0,this.currentConfig.seek=this.audio.currentTime-(this.currentMarker?this.currentMarker.start:0),this.currentConfig.delay=Math.max(0,(this.startTime-window.performance.now())/1e3),this.stopAndReleaseAudioTag()},onFocus:function(){this.isPlaying=!0,this.isPaused=!1,this.pickAndPlayAudioTag()},update:function(e){if(this.isPlaying){if(this.startTime>0){this.startTime<e-this.manager.audioPlayDelay&&(this.audio.currentTime+=Math.max(0,e-this.startTime)/1e3,this.startTime=0,this.previousTime=this.audio.currentTime,this.playCatchPromise());return}var s=this.currentMarker?this.currentMarker.start:0,o=s+this.duration,i=this.audio.currentTime;if(this.currentConfig.loop)i>=o-this.manager.loopEndOffset?(this.audio.currentTime=s+Math.max(0,i-o),i=this.audio.currentTime):i<s&&(this.audio.currentTime+=s,i=this.audio.currentTime),i<this.previousTime&&this.emit(a.LOOPED,this);else if(i>=o){this.reset(),this.stopAndReleaseAudioTag(),this.emit(a.COMPLETE,this);return}this.previousTime=i}},destroy:function(){h.prototype.destroy.call(this),this.tags=null,this.audio&&this.stopAndReleaseAudioTag()},updateMute:function(){this.audio&&(this.audio.muted=this.currentConfig.mute||this.manager.mute)},updateVolume:function(){this.audio&&(this.audio.volume=n(this.currentConfig.volume*this.manager.volume,0,1))},calculateRate:function(){h.prototype.calculateRate.call(this),this.audio&&(this.audio.playbackRate=this.totalRate)},mute:{get:function(){return this.currentConfig.mute},set:function(e){this.currentConfig.mute=e,!this.manager.isLocked(this,"mute",e)&&(this.updateMute(),this.emit(a.MUTE,this,e))}},setMute:function(e){return this.mute=e,this},volume:{get:function(){return this.currentConfig.volume},set:function(e){this.currentConfig.volume=e,!this.manager.isLocked(this,"volume",e)&&(this.updateVolume(),this.emit(a.VOLUME,this,e))}},setVolume:function(e){return this.volume=e,this},rate:{get:function(){return this.currentConfig.rate},set:function(e){this.currentConfig.rate=e,!this.manager.isLocked(this,a.RATE,e)&&(this.calculateRate(),this.emit(a.RATE,this,e))}},setRate:function(e){return this.rate=e,this},detune:{get:function(){return this.currentConfig.detune},set:function(e){this.currentConfig.detune=e,!this.manager.isLocked(this,a.DETUNE,e)&&(this.calculateRate(),this.emit(a.DETUNE,this,e))}},setDetune:function(e){return this.detune=e,this},seek:{get:function(){return this.isPlaying?this.audio.currentTime-(this.currentMarker?this.currentMarker.start:0):this.isPaused?this.currentConfig.seek:0},set:function(e){this.manager.isLocked(this,"seek",e)||this.startTime>0||(this.isPlaying||this.isPaused)&&(e=Math.min(Math.max(0,e),this.duration),this.isPlaying?(this.previousTime=e,this.audio.currentTime=e):this.isPaused&&(this.currentConfig.seek=e),this.emit(a.SEEK,this,e))}},setSeek:function(e){return this.seek=e,this},loop:{get:function(){return this.currentConfig.loop},set:function(e){this.currentConfig.loop=e,!this.manager.isLocked(this,"loop",e)&&(this.audio&&(this.audio.loop=e),this.emit(a.LOOP,this,e))}},setLoop:function(e){return this.loop=e,this},pan:{get:function(){return this.currentConfig.pan},set:function(e){this.currentConfig.pan=e,this.emit(a.PAN,this,e)}},setPan:function(e){return this.pan=e,this}});v.exports=r},33684:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(85034),p=t(83419),a=t(14463),n=t(64895),r=new p({Extends:h,initialize:function(s){this.override=!0,this.audioPlayDelay=.1,this.loopEndOffset=.05,this.onBlurPausedSounds=[],this.locked="ontouchstart"in window,this.lockedActionsQueue=this.locked?[]:null,this._mute=!1,this._volume=1,h.call(this,s)},add:function(e,s){var o=new n(this,e,s);return this.sounds.push(o),o},unlock:function(){this.locked=!1;var e=this;if(this.game.cache.audio.entries.each(function(l,u){for(var f=0;f<u.length;f++)if(u[f].dataset.locked==="true")return e.locked=!0,!1;return!0}),!!this.locked){var s=!1,o=function(){s=!0},i=function(){if(s){s=!1;return}document.body.removeEventListener("touchmove",o),document.body.removeEventListener("touchend",i);var l=[];if(e.game.cache.audio.entries.each(function(f,d){for(var c=0;c<d.length;c++){var m=d[c];m.dataset.locked==="true"&&l.push(m)}return!0}),l.length!==0){var u=l[l.length-1];u.oncanplaythrough=function(){u.oncanplaythrough=null,l.forEach(function(f){f.dataset.locked="false"}),e.unlocked=!0},l.forEach(function(f){f.load()})}};this.once(a.UNLOCKED,function(){for(this.forEachActiveSound(function(u){u.currentMarker===null&&u.duration===0&&(u.duration=u.tags[0].duration),u.totalDuration=u.tags[0].duration});this.lockedActionsQueue.length;){var l=this.lockedActionsQueue.shift();l.sound[l.prop].apply?l.sound[l.prop].apply(l.sound,l.value||[]):l.sound[l.prop]=l.value}},this),document.body.addEventListener("touchmove",o,!1),document.body.addEventListener("touchend",i,!1)}},onBlur:function(){this.forEachActiveSound(function(e){e.isPlaying&&(this.onBlurPausedSounds.push(e),e.onBlur())})},onFocus:function(){this.onBlurPausedSounds.forEach(function(e){e.onFocus()}),this.onBlurPausedSounds.length=0},destroy:function(){h.prototype.destroy.call(this),this.onBlurPausedSounds.length=0,this.onBlurPausedSounds=null},isLocked:function(e,s,o){return e.tags[0].dataset.locked==="true"?(this.lockedActionsQueue.push({sound:e,prop:s,value:o}),!0):!1},setMute:function(e){return this.mute=e,this},mute:{get:function(){return this._mute},set:function(e){this._mute=e,this.forEachActiveSound(function(s){s.updateMute()}),this.emit(a.GLOBAL_MUTE,this,e)}},setVolume:function(e){return this.volume=e,this},volume:{get:function(){return this._volume},set:function(e){this._volume=e,this.forEachActiveSound(function(s){s.updateVolume()}),this.emit(a.GLOBAL_VOLUME,this,e)}}});v.exports=r},23717:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={SoundManagerCreator:t(14747),Events:t(14463),BaseSound:t(30341),BaseSoundManager:t(85034),WebAudioSound:t(71741),WebAudioSoundManager:t(57490),HTML5AudioSound:t(64895),HTML5AudioSoundManager:t(33684),NoAudioSound:t(4603),NoAudioSoundManager:t(25960)}},4603:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(30341),p=t(83419),a=t(50792),n=t(79291),r=t(29747),e=function(){return!1},s=function(){return null},o=function(){return this},i=new p({Extends:a,initialize:function(u,f,d){d===void 0&&(d={}),a.call(this),this.manager=u,this.key=f,this.isPlaying=!1,this.isPaused=!1,this.totalRate=1,this.duration=0,this.totalDuration=0,this.config=n({mute:!1,volume:1,rate:1,detune:0,seek:0,loop:!1,delay:0,pan:0},d),this.currentConfig=this.config,this.mute=!1,this.volume=1,this.rate=1,this.detune=0,this.seek=0,this.loop=!1,this.pan=0,this.markers={},this.currentMarker=null,this.pendingRemove=!1},addMarker:e,updateMarker:e,removeMarker:s,play:e,pause:e,resume:e,stop:e,setMute:o,setVolume:o,setRate:o,setDetune:o,setSeek:o,setLoop:o,setPan:o,applyConfig:s,resetConfig:s,update:r,calculateRate:s,destroy:function(){h.prototype.destroy.call(this)}});v.exports=i},25960:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(85034),p=t(83419),a=t(50792),n=t(4603),r=t(29747),e=new p({Extends:a,initialize:function(o){a.call(this),this.game=o,this.sounds=[],this.mute=!1,this.volume=1,this.rate=1,this.detune=0,this.pauseOnBlur=!0,this.locked=!1},add:function(s,o){var i=new n(this,s,o);return this.sounds.push(i),i},addAudioSprite:function(s,o){var i=this.add(s,o);return i.spritemap={},i},get:function(s){return h.prototype.get.call(this,s)},getAll:function(s){return h.prototype.getAll.call(this,s)},play:function(s,o){return!1},playAudioSprite:function(s,o,i){return!1},remove:function(s){return h.prototype.remove.call(this,s)},removeAll:function(){return h.prototype.removeAll.call(this)},removeByKey:function(s){return h.prototype.removeByKey.call(this,s)},stopByKey:function(s){return h.prototype.stopByKey.call(this,s)},onBlur:r,onFocus:r,onGameBlur:r,onGameFocus:r,pauseAll:r,resumeAll:r,stopAll:r,update:r,setRate:r,setDetune:r,setMute:r,setVolume:r,unlock:r,forEachActiveSound:function(s,o){h.prototype.forEachActiveSound.call(this,s,o)},destroy:function(){h.prototype.destroy.call(this)}});v.exports=e},71741:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(30341),p=t(83419),a=t(14463),n=t(95540),r=new p({Extends:h,initialize:function(s,o,i){if(i===void 0&&(i={}),this.audioBuffer=s.game.cache.audio.get(o),!this.audioBuffer)throw new Error('Audio key "'+o+'" not found in cache');this.source=null,this.loopSource=null,this.muteNode=s.context.createGain(),this.volumeNode=s.context.createGain(),this.pannerNode=null,this.spatialNode=null,this.spatialSource=null,this.playTime=0,this.startTime=0,this.loopTime=0,this.rateUpdates=[],this.hasEnded=!1,this.hasLooped=!1,this.muteNode.connect(this.volumeNode),s.context.createPanner&&(this.spatialNode=s.context.createPanner(),this.volumeNode.connect(this.spatialNode)),s.context.createStereoPanner?(this.pannerNode=s.context.createStereoPanner(),s.context.createPanner?this.spatialNode.connect(this.pannerNode):this.volumeNode.connect(this.pannerNode),this.pannerNode.connect(s.destination)):s.context.createPanner?this.spatialNode.connect(s.destination):this.volumeNode.connect(s.destination),this.duration=this.audioBuffer.duration,this.totalDuration=this.audioBuffer.duration,h.call(this,s,o,i)},play:function(e,s){return h.prototype.play.call(this,e,s)?(this.stopAndRemoveBufferSource(),this.createAndStartBufferSource(),this.emit(a.PLAY,this),!0):!1},pause:function(){return this.manager.context.currentTime<this.startTime||!h.prototype.pause.call(this)?!1:(this.currentConfig.seek=this.getCurrentTime(),this.stopAndRemoveBufferSource(),this.emit(a.PAUSE,this),!0)},resume:function(){return this.manager.context.currentTime<this.startTime||!h.prototype.resume.call(this)?!1:(this.createAndStartBufferSource(),this.emit(a.RESUME,this),!0)},stop:function(){return h.prototype.stop.call(this)?(this.stopAndRemoveBufferSource(),this.emit(a.STOP,this),!0):!1},createAndStartBufferSource:function(){var e=this.currentConfig.seek,s=this.currentConfig.delay,o=this.manager.context.currentTime+s,i=(this.currentMarker?this.currentMarker.start:0)+e,l=this.duration-e;this.playTime=o-e,this.startTime=o,this.source=this.createBufferSource(),this.applyConfig(),this.source.start(Math.max(0,o),Math.max(0,i),Math.max(0,l)),this.resetConfig()},createAndStartLoopBufferSource:function(){var e=this.getLoopTime(),s=this.currentMarker?this.currentMarker.start:0,o=this.duration;this.loopTime=e,this.loopSource=this.createBufferSource(),this.loopSource.playbackRate.setValueAtTime(this.totalRate,0),this.loopSource.start(Math.max(0,e),Math.max(0,s),Math.max(0,o))},createBufferSource:function(){var e=this,s=this.manager.context.createBufferSource();return s.buffer=this.audioBuffer,s.connect(this.muteNode),s.onended=function(o){var i=o.target;(i===e.source||i===e.loopSource)&&(e.currentConfig.loop?e.hasLooped=!0:e.hasEnded=!0)},s},stopAndRemoveBufferSource:function(){if(this.source){var e=this.source;this.source=null,e.stop(),e.disconnect()}this.playTime=0,this.startTime=0,this.hasEnded=!1,this.stopAndRemoveLoopBufferSource()},stopAndRemoveLoopBufferSource:function(){this.loopSource&&(this.loopSource.stop(),this.loopSource.disconnect(),this.loopSource=null),this.loopTime=0},applyConfig:function(){this.rateUpdates.length=0,this.rateUpdates.push({time:0,rate:1});var e=this.currentConfig.source;if(e&&this.manager.context.createPanner){var s=this.spatialNode;s.panningModel=n(e,"panningModel","equalpower"),s.distanceModel=n(e,"distanceModel","inverse"),s.orientationX.value=n(e,"orientationX",0),s.orientationY.value=n(e,"orientationY",0),s.orientationZ.value=n(e,"orientationZ",-1),s.refDistance=n(e,"refDistance",1),s.maxDistance=n(e,"maxDistance",1e4),s.rolloffFactor=n(e,"rolloffFactor",1),s.coneInnerAngle=n(e,"coneInnerAngle",360),s.coneOuterAngle=n(e,"coneOuterAngle",0),s.coneOuterGain=n(e,"coneOuterGain",0),this.spatialSource=n(e,"follow",null),this.spatialSource||(s.positionX.value=n(e,"x",0),s.positionY.value=n(e,"y",0),s.positionZ.value=n(e,"z",0))}h.prototype.applyConfig.call(this)},x:{get:function(){return this.spatialNode?this.spatialNode.positionX:0},set:function(e){this.spatialNode&&(this.spatialNode.positionX.value=e)}},y:{get:function(){return this.spatialNode?this.spatialNode.positionY:0},set:function(e){this.spatialNode&&(this.spatialNode.positionY.value=e)}},update:function(){if(this.isPlaying&&this.spatialSource){var e=n(this.spatialSource,"x",null),s=n(this.spatialSource,"y",null);e&&e!==this._spatialx&&(this._spatialx=this.spatialNode.positionX.value=e),s&&s!==this._spatialy&&(this._spatialy=this.spatialNode.positionY.value=s)}this.hasEnded?(h.prototype.stop.call(this),this.stopAndRemoveBufferSource(),this.emit(a.COMPLETE,this)):this.hasLooped&&(this.hasLooped=!1,this.source=this.loopSource,this.loopSource=null,this.playTime=this.startTime=this.loopTime,this.rateUpdates.length=0,this.rateUpdates.push({time:0,rate:this.totalRate}),this.createAndStartLoopBufferSource(),this.emit(a.LOOPED,this))},destroy:function(){this.pendingRemove||(h.prototype.destroy.call(this),this.audioBuffer=null,this.stopAndRemoveBufferSource(),this.muteNode.disconnect(),this.muteNode=null,this.volumeNode.disconnect(),this.volumeNode=null,this.pannerNode&&(this.pannerNode.disconnect(),this.pannerNode=null),this.spatialNode&&(this.spatialNode.disconnect(),this.spatialNode=null,this.spatialSource=null),this.rateUpdates.length=0,this.rateUpdates=null)},calculateRate:function(){h.prototype.calculateRate.call(this);var e=this.manager.context.currentTime;this.source&&typeof this.totalRate=="number"&&this.source.playbackRate.setValueAtTime(this.totalRate,e),this.isPlaying&&(this.rateUpdates.push({time:Math.max(this.startTime,e)-this.playTime,rate:this.totalRate}),this.loopSource&&(this.stopAndRemoveLoopBufferSource(),this.createAndStartLoopBufferSource()))},getCurrentTime:function(){for(var e=0,s=0;s<this.rateUpdates.length;s++){var o=0;s<this.rateUpdates.length-1?o=this.rateUpdates[s+1].time:o=this.manager.context.currentTime-this.playTime,e+=(o-this.rateUpdates[s].time)*this.rateUpdates[s].rate}return e},getLoopTime:function(){for(var e=0,s=0;s<this.rateUpdates.length-1;s++)e+=(this.rateUpdates[s+1].time-this.rateUpdates[s].time)*this.rateUpdates[s].rate;var o=this.rateUpdates[this.rateUpdates.length-1];return this.playTime+o.time+(this.duration-e)/o.rate},rate:{get:function(){return this.currentConfig.rate},set:function(e){this.currentConfig.rate=e,this.calculateRate(),this.emit(a.RATE,this,e)}},setRate:function(e){return this.rate=e,this},detune:{get:function(){return this.currentConfig.detune},set:function(e){this.currentConfig.detune=e,this.calculateRate(),this.emit(a.DETUNE,this,e)}},setDetune:function(e){return this.detune=e,this},mute:{get:function(){return this.muteNode.gain.value===0},set:function(e){this.currentConfig.mute=e,this.muteNode.gain.setValueAtTime(e?0:1,0),this.emit(a.MUTE,this,e)}},setMute:function(e){return this.mute=e,this},volume:{get:function(){return this.volumeNode.gain.value},set:function(e){this.currentConfig.volume=e,this.volumeNode.gain.setValueAtTime(e,0),this.emit(a.VOLUME,this,e)}},setVolume:function(e){return this.volume=e,this},seek:{get:function(){return this.isPlaying?this.manager.context.currentTime<this.startTime?this.startTime-this.playTime:this.getCurrentTime():this.isPaused?this.currentConfig.seek:0},set:function(e){this.manager.context.currentTime<this.startTime||(this.isPlaying||this.isPaused)&&(e=Math.min(Math.max(0,e),this.duration),this.currentConfig.seek=e,this.isPlaying&&(this.stopAndRemoveBufferSource(),this.createAndStartBufferSource()),this.emit(a.SEEK,this,e))}},setSeek:function(e){return this.seek=e,this},loop:{get:function(){return this.currentConfig.loop},set:function(e){this.currentConfig.loop=e,this.isPlaying&&(this.stopAndRemoveLoopBufferSource(),e&&this.createAndStartLoopBufferSource()),this.emit(a.LOOP,this,e)}},setLoop:function(e){return this.loop=e,this},pan:{get:function(){return this.pannerNode?this.pannerNode.pan.value:0},set:function(e){this.currentConfig.pan=e,this.pannerNode&&this.pannerNode.pan.setValueAtTime(e,this.manager.context.currentTime),this.emit(a.PAN,this,e)}},setPan:function(e){return this.pan=e,this}});v.exports=r},57490:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(53134),p=t(85034),a=t(83419),n=t(14463),r=t(8443),e=t(71741),s=t(95540),o=new a({Extends:p,initialize:function(l){this.context=this.createAudioContext(l),this.masterMuteNode=this.context.createGain(),this.masterVolumeNode=this.context.createGain(),this.masterMuteNode.connect(this.masterVolumeNode),this.masterVolumeNode.connect(this.context.destination),this.destination=this.masterMuteNode,this.locked=this.context.state==="suspended"&&("ontouchstart"in window||"onclick"in window),p.call(this,l),this.locked&&l.isBooted?this.unlock():l.events.once(r.BOOT,this.unlock,this)},createAudioContext:function(i){var l=i.config.audio;if(l.context)return l.context.resume(),l.context;if(window.hasOwnProperty("AudioContext"))return new AudioContext;if(window.hasOwnProperty("webkitAudioContext"))return new window.webkitAudioContext},setAudioContext:function(i){return this.context&&this.context.close(),this.masterMuteNode&&this.masterMuteNode.disconnect(),this.masterVolumeNode&&this.masterVolumeNode.disconnect(),this.context=i,this.masterMuteNode=i.createGain(),this.masterVolumeNode=i.createGain(),this.masterMuteNode.connect(this.masterVolumeNode),this.masterVolumeNode.connect(i.destination),this.destination=this.masterMuteNode,this},add:function(i,l){var u=new e(this,i,l);return this.sounds.push(u),u},decodeAudio:function(i,l){var u;Array.isArray(i)?u=i:u=[{key:i,data:l}];for(var f=this.game.cache.audio,d=u.length,c=0;c<u.length;c++){var m=u[c],g=m.key,x=m.data;typeof x=="string"&&(x=h(x));var T=(function(P,L){f.add(P,L),this.emit(n.DECODED,P),d--,d===0&&this.emit(n.DECODED_ALL)}).bind(this,g),S=(function(P,L){console.error("Error decoding audio: "+P+" - ",L?L.message:""),d--,d===0&&this.emit(n.DECODED_ALL)}).bind(this,g);this.context.decodeAudioData(x,T,S)}},setListenerPosition:function(i,l){return i===void 0&&(i=this.game.scale.width/2),l===void 0&&(l=this.game.scale.height/2),this.listenerPosition.set(i,l),this},unlock:function(){var i=this,l=document.body,u=function f(){if(i.context&&l){var d=l.removeEventListener.bind(l);i.context.resume().then(function(){d("touchstart",f),d("touchend",f),d("click",f),d("keydown",f),i.unlocked=!0},function(){d("touchstart",f),d("touchend",f),d("click",f),d("keydown",f)})}};l&&(l.addEventListener("touchstart",u,!1),l.addEventListener("touchend",u,!1),l.addEventListener("click",u,!1),l.addEventListener("keydown",u,!1))},onBlur:function(){this.locked||this.context.suspend()},onFocus:function(){var i=this.context;i&&!this.locked&&(i.state==="suspended"||i.state==="interrupted")&&i.resume()},update:function(i,l){var u=this.context.listener;if(u&&u.positionX!==void 0){var f=s(this.listenerPosition,"x",null),d=s(this.listenerPosition,"y",null);f&&f!==this._spatialx&&(this._spatialx=u.positionX.value=f),d&&d!==this._spatialy&&(this._spatialy=u.positionY.value=d)}p.prototype.update.call(this,i,l),this.gameLostFocus||this.onFocus()},destroy:function(){if(this.destination=null,this.masterVolumeNode.disconnect(),this.masterVolumeNode=null,this.masterMuteNode.disconnect(),this.masterMuteNode=null,this.game.config.audio.context)this.context.suspend();else{var i=this;this.context.close().then(function(){i.context=null})}p.prototype.destroy.call(this)},setMute:function(i){return this.mute=i,this},mute:{get:function(){return this.masterMuteNode.gain.value===0},set:function(i){this.masterMuteNode.gain.setValueAtTime(i?0:1,0),this.emit(n.GLOBAL_MUTE,this,i)}},setVolume:function(i){return this.volume=i,this},volume:{get:function(){return this.masterVolumeNode.gain.value},set:function(i){this.masterVolumeNode.gain.setValueAtTime(i,0),this.emit(n.GLOBAL_VOLUME,this,i)}}});v.exports=o},73162:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(37105),p=t(83419),a=t(29747),n=t(19186),r=new p({initialize:function(s){this.parent=s,this.list=[],this.position=0,this.addCallback=a,this.removeCallback=a,this._sortKey=""},add:function(e,s){return s?h.Add(this.list,e):h.Add(this.list,e,0,this.addCallback,this)},addAt:function(e,s,o){return o?h.AddAt(this.list,e,s):h.AddAt(this.list,e,s,0,this.addCallback,this)},getAt:function(e){return this.list[e]},getIndex:function(e){return this.list.indexOf(e)},sort:function(e,s){return e?(s===void 0&&(s=function(o,i){return o[e]-i[e]}),n(this.list,s),this):this},getByName:function(e){return h.GetFirst(this.list,"name",e)},getRandom:function(e,s){return h.GetRandom(this.list,e,s)},getFirst:function(e,s,o,i){return h.GetFirst(this.list,e,s,o,i)},getAll:function(e,s,o,i){return h.GetAll(this.list,e,s,o,i)},count:function(e,s){return h.CountAllMatching(this.list,e,s)},swap:function(e,s){h.Swap(this.list,e,s)},moveTo:function(e,s){return h.MoveTo(this.list,e,s)},moveAbove:function(e,s){return h.MoveAbove(this.list,e,s)},moveBelow:function(e,s){return h.MoveBelow(this.list,e,s)},remove:function(e,s){return s?h.Remove(this.list,e):h.Remove(this.list,e,this.removeCallback,this)},removeAt:function(e,s){return s?h.RemoveAt(this.list,e):h.RemoveAt(this.list,e,this.removeCallback,this)},removeBetween:function(e,s,o){return o?h.RemoveBetween(this.list,e,s):h.RemoveBetween(this.list,e,s,this.removeCallback,this)},removeAll:function(e){for(var s=this.list.length;s--;)this.remove(this.list[s],e);return this},bringToTop:function(e){return h.BringToTop(this.list,e)},sendToBack:function(e){return h.SendToBack(this.list,e)},moveUp:function(e){return h.MoveUp(this.list,e),e},moveDown:function(e){return h.MoveDown(this.list,e),e},reverse:function(){return this.list.reverse(),this},shuffle:function(){return h.Shuffle(this.list),this},replace:function(e,s){return h.Replace(this.list,e,s)},exists:function(e){return this.list.indexOf(e)>-1},setAll:function(e,s,o,i){return h.SetAll(this.list,e,s,o,i),this},each:function(e,s){for(var o=[null],i=2;i<arguments.length;i++)o.push(arguments[i]);for(i=0;i<this.list.length;i++)o[0]=this.list[i],e.apply(s,o)},shutdown:function(){this.removeAll(),this.list=[]},destroy:function(){this.removeAll(),this.parent=null,this.addCallback=null,this.removeCallback=null},length:{get:function(){return this.list.length}},first:{get:function(){return this.position=0,this.list.length>0?this.list[0]:null}},last:{get:function(){return this.list.length>0?(this.position=this.list.length-1,this.list[this.position]):null}},next:{get:function(){return this.position<this.list.length?(this.position++,this.list[this.position]):null}},previous:{get:function(){return this.position>0?(this.position--,this.list[this.position]):null}}});v.exports=r},90330:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),p=new h({initialize:function(n){this.entries={},this.size=0,this.setAll(n)},setAll:function(a){if(Array.isArray(a))for(var n=0;n<a.length;n++)this.set(a[n][0],a[n][1]);return this},set:function(a,n){return this.has(a)||this.size++,this.entries[a]=n,this},get:function(a){if(this.has(a))return this.entries[a]},getArray:function(){var a=[],n=this.entries;for(var r in n)a.push(n[r]);return a},has:function(a){return this.entries.hasOwnProperty(a)},delete:function(a){return this.has(a)&&(delete this.entries[a],this.size--),this},clear:function(){return Object.keys(this.entries).forEach(function(a){delete this.entries[a]},this),this.size=0,this},keys:function(){return Object.keys(this.entries)},values:function(){var a=[],n=this.entries;for(var r in n)a.push(n[r]);return a},dump:function(){var a=this.entries;console.group("Map");for(var n in a)console.log(n,a[n]);console.groupEnd()},each:function(a){var n=this.entries;for(var r in n)if(a(r,n[r])===!1)break;return this},contains:function(a){var n=this.entries;for(var r in n)if(n[r]===a)return!0;return!1},merge:function(a,n){n===void 0&&(n=!1);var r=this.entries,e=a.entries;for(var s in e)r.hasOwnProperty(s)&&n?r[s]=e[s]:this.set(s,e[s]);return this}});v.exports=p},25774:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),p=t(50792),a=t(82348),n=new h({Extends:p,initialize:function(){p.call(this),this._pending=[],this._active=[],this._destroy=[],this._toProcess=0,this.checkQueue=!1},isActive:function(r){return this._active.indexOf(r)>-1},isPending:function(r){return this._toProcess>0&&this._pending.indexOf(r)>-1},isDestroying:function(r){return this._destroy.indexOf(r)>-1},add:function(r){return this.checkQueue&&this.isActive(r)&&!this.isDestroying(r)||this.isPending(r)||(this._pending.push(r),this._toProcess++),r},remove:function(r){if(this.isPending(r)){var e=this._pending,s=e.indexOf(r);s!==-1&&e.splice(s,1)}else this.isActive(r)&&(this._destroy.push(r),this._toProcess++);return r},removeAll:function(){for(var r=this._active,e=this._destroy,s=r.length;s--;)e.push(r[s]),this._toProcess++;return this},update:function(){if(this._toProcess===0)return this._active;var r=this._destroy,e=this._active,s,o;for(s=0;s<r.length;s++){o=r[s];var i=e.indexOf(o);i!==-1&&(e.splice(i,1),this.emit(a.PROCESS_QUEUE_REMOVE,o))}for(r.length=0,r=this._pending,s=0;s<r.length;s++)o=r[s],(!this.checkQueue||this.checkQueue&&e.indexOf(o)===-1)&&(e.push(o),this.emit(a.PROCESS_QUEUE_ADD,o));return r.length=0,this._toProcess=0,e},getActive:function(){return this._active},length:{get:function(){return this._active.length}},destroy:function(){this._toProcess=0,this._pending=[],this._active=[],this._destroy=[]}});v.exports=n},59542:(v,y,t)=>{/**
 * @author       Vladimir Agafonkin
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(43886);function p(x){if(!(this instanceof p))return new p(x);this._maxEntries=Math.max(4,x||9),this._minEntries=Math.max(2,Math.ceil(this._maxEntries*.4)),this.clear()}p.prototype={all:function(){return this._all(this.data,[])},search:function(x){var T=this.data,S=[],P=this.toBBox;if(!c(x,T))return S;for(var L=[],I,O,M,w;T;){for(I=0,O=T.children.length;I<O;I++)M=T.children[I],w=T.leaf?P(M):M,c(x,w)&&(T.leaf?S.push(M):d(x,w)?this._all(M,S):L.push(M));T=L.pop()}return S},collides:function(x){var T=this.data,S=this.toBBox;if(!c(x,T))return!1;for(var P=[],L,I,O,M;T;){for(L=0,I=T.children.length;L<I;L++)if(O=T.children[L],M=T.leaf?S(O):O,c(x,M)){if(T.leaf||d(x,M))return!0;P.push(O)}T=P.pop()}return!1},load:function(x){if(!(x&&x.length))return this;if(x.length<this._minEntries){for(var T=0,S=x.length;T<S;T++)this.insert(x[T]);return this}var P=this._build(x.slice(),0,x.length-1,0);if(!this.data.children.length)this.data=P;else if(this.data.height===P.height)this._splitRoot(this.data,P);else{if(this.data.height<P.height){var L=this.data;this.data=P,P=L}this._insert(P,this.data.height-P.height-1,!0)}return this},insert:function(x){return x&&this._insert(x,this.data.height-1),this},clear:function(){return this.data=m([]),this},remove:function(x,T){if(!x)return this;for(var S=this.data,P=this.toBBox(x),L=[],I=[],O,M,w,D;S||L.length;){if(S||(S=L.pop(),M=L[L.length-1],O=I.pop(),D=!0),S.leaf&&(w=a(x,S.children,T),w!==-1))return S.children.splice(w,1),L.push(S),this._condense(L),this;!D&&!S.leaf&&d(S,P)?(L.push(S),I.push(O),O=0,M=S,S=S.children[0]):M?(O++,S=M.children[O],D=!1):S=null}return this},toBBox:function(x){return x},compareMinX:s,compareMinY:o,toJSON:function(){return this.data},fromJSON:function(x){return this.data=x,this},_all:function(x,T){for(var S=[];x;)x.leaf?T.push.apply(T,x.children):S.push.apply(S,x.children),x=S.pop();return T},_build:function(x,T,S,P){var L=S-T+1,I=this._maxEntries,O;if(L<=I)return O=m(x.slice(T,S+1)),n(O,this.toBBox),O;P||(P=Math.ceil(Math.log(L)/Math.log(I)),I=Math.ceil(L/Math.pow(I,P-1))),O=m([]),O.leaf=!1,O.height=P;var M=Math.ceil(L/I),w=M*Math.ceil(Math.sqrt(I)),D,U,Y,H;for(g(x,T,S,w,this.compareMinX),D=T;D<=S;D+=w)for(Y=Math.min(D+w-1,S),g(x,D,Y,M,this.compareMinY),U=D;U<=Y;U+=M)H=Math.min(U+M-1,Y),O.children.push(this._build(x,U,H,P-1));return n(O,this.toBBox),O},_chooseSubtree:function(x,T,S,P){for(var L,I,O,M,w,D,U,Y;P.push(T),!(T.leaf||P.length-1===S);){for(U=Y=1/0,L=0,I=T.children.length;L<I;L++)O=T.children[L],w=i(O),D=u(x,O)-w,D<Y?(Y=D,U=w<U?w:U,M=O):D===Y&&w<U&&(U=w,M=O);T=M||T.children[0]}return T},_insert:function(x,T,S){var P=this.toBBox,L=S?x:P(x),I=[],O=this._chooseSubtree(L,this.data,T,I);for(O.children.push(x),e(O,L);T>=0&&I[T].children.length>this._maxEntries;)this._split(I,T),T--;this._adjustParentBBoxes(L,I,T)},_split:function(x,T){var S=x[T],P=S.children.length,L=this._minEntries;this._chooseSplitAxis(S,L,P);var I=this._chooseSplitIndex(S,L,P),O=m(S.children.splice(I,S.children.length-I));O.height=S.height,O.leaf=S.leaf,n(S,this.toBBox),n(O,this.toBBox),T?x[T-1].children.push(O):this._splitRoot(S,O)},_splitRoot:function(x,T){this.data=m([x,T]),this.data.height=x.height+1,this.data.leaf=!1,n(this.data,this.toBBox)},_chooseSplitIndex:function(x,T,S){var P,L,I,O,M,w,D,U;for(w=D=1/0,P=T;P<=S-T;P++)L=r(x,0,P,this.toBBox),I=r(x,P,S,this.toBBox),O=f(L,I),M=i(L)+i(I),O<w?(w=O,U=P,D=M<D?M:D):O===w&&M<D&&(D=M,U=P);return U},_chooseSplitAxis:function(x,T,S){var P=x.leaf?this.compareMinX:s,L=x.leaf?this.compareMinY:o,I=this._allDistMargin(x,T,S,P),O=this._allDistMargin(x,T,S,L);I<O&&x.children.sort(P)},_allDistMargin:function(x,T,S,P){x.children.sort(P);var L=this.toBBox,I=r(x,0,T,L),O=r(x,S-T,S,L),M=l(I)+l(O),w,D;for(w=T;w<S-T;w++)D=x.children[w],e(I,x.leaf?L(D):D),M+=l(I);for(w=S-T-1;w>=T;w--)D=x.children[w],e(O,x.leaf?L(D):D),M+=l(O);return M},_adjustParentBBoxes:function(x,T,S){for(var P=S;P>=0;P--)e(T[P],x)},_condense:function(x){for(var T=x.length-1,S;T>=0;T--)x[T].children.length===0?T>0?(S=x[T-1].children,S.splice(S.indexOf(x[T]),1)):this.clear():n(x[T],this.toBBox)},compareMinX:function(x,T){return x.left-T.left},compareMinY:function(x,T){return x.top-T.top},toBBox:function(x){return{minX:x.left,minY:x.top,maxX:x.right,maxY:x.bottom}}};function a(x,T,S){if(!S)return T.indexOf(x);for(var P=0;P<T.length;P++)if(S(x,T[P]))return P;return-1}function n(x,T){r(x,0,x.children.length,T,x)}function r(x,T,S,P,L){L||(L=m(null)),L.minX=1/0,L.minY=1/0,L.maxX=-1/0,L.maxY=-1/0;for(var I=T,O;I<S;I++)O=x.children[I],e(L,x.leaf?P(O):O);return L}function e(x,T){return x.minX=Math.min(x.minX,T.minX),x.minY=Math.min(x.minY,T.minY),x.maxX=Math.max(x.maxX,T.maxX),x.maxY=Math.max(x.maxY,T.maxY),x}function s(x,T){return x.minX-T.minX}function o(x,T){return x.minY-T.minY}function i(x){return(x.maxX-x.minX)*(x.maxY-x.minY)}function l(x){return x.maxX-x.minX+(x.maxY-x.minY)}function u(x,T){return(Math.max(T.maxX,x.maxX)-Math.min(T.minX,x.minX))*(Math.max(T.maxY,x.maxY)-Math.min(T.minY,x.minY))}function f(x,T){var S=Math.max(x.minX,T.minX),P=Math.max(x.minY,T.minY),L=Math.min(x.maxX,T.maxX),I=Math.min(x.maxY,T.maxY);return Math.max(0,L-S)*Math.max(0,I-P)}function d(x,T){return x.minX<=T.minX&&x.minY<=T.minY&&T.maxX<=x.maxX&&T.maxY<=x.maxY}function c(x,T){return T.minX<=x.maxX&&T.minY<=x.maxY&&T.maxX>=x.minX&&T.maxY>=x.minY}function m(x){return{children:x,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function g(x,T,S,P,L){for(var I=[T,S],O;I.length;)S=I.pop(),T=I.pop(),!(S-T<=P)&&(O=T+Math.ceil((S-T)/P/2)*P,h(x,O,T,S,L),I.push(T,O,O,S))}v.exports=p},35072:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),p=new h({initialize:function(n){if(this.entries=[],Array.isArray(n))for(var r=0;r<n.length;r++)this.set(n[r])},set:function(a){return this.entries.indexOf(a)===-1&&this.entries.push(a),this},get:function(a,n){for(var r=0;r<this.entries.length;r++){var e=this.entries[r];if(e[a]===n)return e}},getArray:function(){return this.entries.slice(0)},delete:function(a){var n=this.entries.indexOf(a);return n>-1&&this.entries.splice(n,1),this},dump:function(){console.group("Set");for(var a=0;a<this.entries.length;a++){var n=this.entries[a];console.log(n)}console.groupEnd()},each:function(a,n){var r,e=this.entries.slice(),s=e.length;if(n)for(r=0;r<s&&a.call(n,e[r],r)!==!1;r++);else for(r=0;r<s&&a(e[r],r)!==!1;r++);return this},iterate:function(a,n){var r,e=this.entries.length;if(n)for(r=0;r<e&&a.call(n,this.entries[r],r)!==!1;r++);else for(r=0;r<e&&a(this.entries[r],r)!==!1;r++);return this},iterateLocal:function(a){var n,r=[];for(n=1;n<arguments.length;n++)r.push(arguments[n]);var e=this.entries.length;for(n=0;n<e;n++){var s=this.entries[n];s[a].apply(s,r)}return this},clear:function(){return this.entries.length=0,this},contains:function(a){return this.entries.indexOf(a)>-1},union:function(a){var n=new p;return a.entries.forEach(function(r){n.set(r)}),this.entries.forEach(function(r){n.set(r)}),n},intersect:function(a){var n=new p;return this.entries.forEach(function(r){a.contains(r)&&n.set(r)}),n},difference:function(a){var n=new p;return this.entries.forEach(function(r){a.contains(r)||n.set(r)}),n},size:{get:function(){return this.entries.length},set:function(a){return a<this.entries.length?this.entries.length=a:this.entries.length}}});v.exports=p},86555:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(45319),p=t(83419),a=t(56583),n=t(26099),r=new p({initialize:function(s,o,i,l){s===void 0&&(s=0),o===void 0&&(o=s),i===void 0&&(i=0),l===void 0&&(l=null),this._width=s,this._height=o,this._parent=l,this.aspectMode=i,this.aspectRatio=o===0?1:s/o,this.minWidth=0,this.minHeight=0,this.maxWidth=Number.MAX_VALUE,this.maxHeight=Number.MAX_VALUE,this.snapTo=new n},setAspectMode:function(e){return e===void 0&&(e=0),this.aspectMode=e,this.setSize(this._width,this._height)},setSnap:function(e,s){return e===void 0&&(e=0),s===void 0&&(s=e),this.snapTo.set(e,s),this.setSize(this._width,this._height)},setParent:function(e){return this._parent=e,this.setSize(this._width,this._height)},setMin:function(e,s){return e===void 0&&(e=0),s===void 0&&(s=e),this.minWidth=h(e,0,this.maxWidth),this.minHeight=h(s,0,this.maxHeight),this.setSize(this._width,this._height)},setMax:function(e,s){return e===void 0&&(e=Number.MAX_VALUE),s===void 0&&(s=e),this.maxWidth=h(e,this.minWidth,Number.MAX_VALUE),this.maxHeight=h(s,this.minHeight,Number.MAX_VALUE),this.setSize(this._width,this._height)},setSize:function(e,s){switch(e===void 0&&(e=0),s===void 0&&(s=e),this.aspectMode){case r.NONE:this._width=this.getNewWidth(a(e,this.snapTo.x)),this._height=this.getNewHeight(a(s,this.snapTo.y)),this.aspectRatio=this._height===0?1:this._width/this._height;break;case r.WIDTH_CONTROLS_HEIGHT:this._width=this.getNewWidth(a(e,this.snapTo.x)),this._height=this.getNewHeight(this._width*(1/this.aspectRatio),!1);break;case r.HEIGHT_CONTROLS_WIDTH:this._height=this.getNewHeight(a(s,this.snapTo.y)),this._width=this.getNewWidth(this._height*this.aspectRatio,!1);break;case r.FIT:this.constrain(e,s,!0);break;case r.ENVELOP:this.constrain(e,s,!1);break}return this},setAspectRatio:function(e){return this.aspectRatio=e,this.setSize(this._width,this._height)},resize:function(e,s){return this._width=this.getNewWidth(a(e,this.snapTo.x)),this._height=this.getNewHeight(a(s,this.snapTo.y)),this.aspectRatio=this._height===0?1:this._width/this._height,this},getNewWidth:function(e,s){return s===void 0&&(s=!0),e=h(e,this.minWidth,this.maxWidth),s&&this._parent&&e>this._parent.width&&(e=Math.max(this.minWidth,this._parent.width)),e},getNewHeight:function(e,s){return s===void 0&&(s=!0),e=h(e,this.minHeight,this.maxHeight),s&&this._parent&&e>this._parent.height&&(e=Math.max(this.minHeight,this._parent.height)),e},constrain:function(e,s,o){e===void 0&&(e=0),s===void 0&&(s=e),o===void 0&&(o=!0),e=this.getNewWidth(e),s=this.getNewHeight(s);var i=this.snapTo,l=s===0?1:e/s;return o&&this.aspectRatio>l||!o&&this.aspectRatio<l?(e=a(e,i.x),s=e/this.aspectRatio,i.y>0&&(s=a(s,i.y),e=s*this.aspectRatio)):(o&&this.aspectRatio<l||!o&&this.aspectRatio>l)&&(s=a(s,i.y),e=s*this.aspectRatio,i.x>0&&(e=a(e,i.x),s=e*(1/this.aspectRatio))),this._width=e,this._height=s,this},fitTo:function(e,s){return this.constrain(e,s,!0)},envelop:function(e,s){return this.constrain(e,s,!1)},setWidth:function(e){return this.setSize(e,this._height)},setHeight:function(e){return this.setSize(this._width,e)},toString:function(){return"[{ Size (width="+this._width+" height="+this._height+" aspectRatio="+this.aspectRatio+" aspectMode="+this.aspectMode+") }]"},setCSS:function(e){e&&e.style&&(e.style.width=this._width+"px",e.style.height=this._height+"px")},copy:function(e){return e.setAspectMode(this.aspectMode),e.aspectRatio=this.aspectRatio,e.setSize(this.width,this.height)},destroy:function(){this._parent=null,this.snapTo=null},width:{get:function(){return this._width},set:function(e){this.setSize(e,this._height)}},height:{get:function(){return this._height},set:function(e){this.setSize(this._width,e)}}});r.NONE=0,r.WIDTH_CONTROLS_HEIGHT=1,r.HEIGHT_CONTROLS_WIDTH=2,r.FIT=3,r.ENVELOP=4,v.exports=r},15238:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="add"},56187:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="remove"},82348:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={PROCESS_QUEUE_ADD:t(15238),PROCESS_QUEUE_REMOVE:t(56187)}},41392:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={Events:t(82348),List:t(73162),Map:t(90330),ProcessQueue:t(25774),RTree:t(59542),Set:t(35072),Size:t(86555)}},57382:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),p=t(45319),a=t(40987),n=t(8054),r=t(50030),e=t(79237),s=new h({Extends:e,initialize:function(i,l,u,f,d){e.call(this,i,l,u,f,d),this.add("__BASE",0,0,0,f,d),this._source=this.frames.__BASE.source,this.canvas=this._source.image,this.context=this.canvas.getContext("2d",{willReadFrequently:!0}),this.width=f,this.height=d,this.imageData=this.context.getImageData(0,0,f,d),this.data=null,this.imageData&&(this.data=this.imageData.data),this.pixels=null,this.buffer,this.data&&(this.imageData.data.buffer?(this.buffer=this.imageData.data.buffer,this.pixels=new Uint32Array(this.buffer)):window.ArrayBuffer?(this.buffer=new ArrayBuffer(this.imageData.data.length),this.pixels=new Uint32Array(this.buffer)):this.pixels=this.imageData.data)},update:function(){return this.imageData=this.context.getImageData(0,0,this.width,this.height),this.data=this.imageData.data,this.imageData.data.buffer?(this.buffer=this.imageData.data.buffer,this.pixels=new Uint32Array(this.buffer)):window.ArrayBuffer?(this.buffer=new ArrayBuffer(this.imageData.data.length),this.pixels=new Uint32Array(this.buffer)):this.pixels=this.imageData.data,this.manager.game.config.renderType===n.WEBGL&&this.refresh(),this},draw:function(o,i,l,u){return u===void 0&&(u=!0),this.context.drawImage(l,o,i),u&&this.update(),this},drawFrame:function(o,i,l,u,f){l===void 0&&(l=0),u===void 0&&(u=0),f===void 0&&(f=!0);var d=this.manager.getFrame(o,i);if(d){var c=d.canvasData,m=d.cutWidth,g=d.cutHeight,x=d.source.resolution;this.context.drawImage(d.source.image,c.x,c.y,m,g,l,u,m/x,g/x),f&&this.update()}return this},setPixel:function(o,i,l,u,f,d){d===void 0&&(d=255),o=Math.abs(Math.floor(o)),i=Math.abs(Math.floor(i));var c=this.getIndex(o,i);if(c>-1){var m=this.context.getImageData(o,i,1,1);m.data[0]=l,m.data[1]=u,m.data[2]=f,m.data[3]=d,this.context.putImageData(m,o,i)}return this},putData:function(o,i,l,u,f,d,c){return u===void 0&&(u=0),f===void 0&&(f=0),d===void 0&&(d=o.width),c===void 0&&(c=o.height),this.context.putImageData(o,i,l,u,f,d,c),this},getData:function(o,i,l,u){o=p(Math.floor(o),0,this.width-1),i=p(Math.floor(i),0,this.height-1),l=p(l,1,this.width-o),u=p(u,1,this.height-i);var f=this.context.getImageData(o,i,l,u);return f},getPixel:function(o,i,l){l||(l=new a);var u=this.getIndex(o,i);if(u>-1){var f=this.data,d=f[u+0],c=f[u+1],m=f[u+2],g=f[u+3];l.setTo(d,c,m,g)}return l},getPixels:function(o,i,l,u){o===void 0&&(o=0),i===void 0&&(i=0),l===void 0&&(l=this.width),u===void 0&&(u=l),o=Math.abs(Math.round(o)),i=Math.abs(Math.round(i));for(var f=p(o,0,this.width),d=p(o+l,0,this.width),c=p(i,0,this.height),m=p(i+u,0,this.height),g=new a,x=[],T=c;T<m;T++){for(var S=[],P=f;P<d;P++)g=this.getPixel(P,T,g),S.push({x:P,y:T,color:g.color,alpha:g.alphaGL});x.push(S)}return x},getIndex:function(o,i){return o=Math.abs(Math.round(o)),i=Math.abs(Math.round(i)),o<this.width&&i<this.height?(o+i*this.width)*4:-1},refresh:function(){return this._source.update(),this},getCanvas:function(){return this.canvas},getContext:function(){return this.context},clear:function(o,i,l,u,f){return o===void 0&&(o=0),i===void 0&&(i=0),l===void 0&&(l=this.width),u===void 0&&(u=this.height),f===void 0&&(f=!0),this.context.clearRect(o,i,l,u),f&&this.update(),this},setSize:function(o,i){return i===void 0&&(i=o),(o!==this.width||i!==this.height)&&(this.canvas.width=o,this.canvas.height=i,this._source.width=o,this._source.height=i,this._source.isPowerOf2=r(o,i),this.frames.__BASE.setSize(o,i,0,0),this.width=o,this.height=i,this.refresh()),this},destroy:function(){e.prototype.destroy.call(this),this._source=null,this.canvas=null,this.context=null,this.imageData=null,this.data=null,this.pixels=null,this.buffer=null}});v.exports=s},81320:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(10312),p=t(38058),a=t(27919),n=t(83419),r=t(8054),e=t(4327),s=t(95540),o=t(36060),i=t(32302),l=t(79237),u=t(70554),f=new n({Extends:l,initialize:function(c,m,g,x){g===void 0&&(g=256),x===void 0&&(x=256),this.type="DynamicTexture";var T=c.game.renderer,S=T&&T.type===r.CANVAS,P=S?a.create2D(this,g,x):[this];l.call(this,c,m,P,g,x),this.add("__BASE",0,0,0,g,x),this.renderer=T,this.width=-1,this.height=-1,this.isDrawing=!1,this.canvas=S?P:null,this.context=S?P.getContext("2d",{willReadFrequently:!0}):null,this.dirty=!1,this.isSpriteTexture=!0,this._eraseMode=!1,this.camera=new p(0,0,g,x).setScene(c.game.scene.systemScene,!1),this.renderTarget=S?null:new i(T,g,x,1,0,!1,!1,!0,!1),this.pipeline=S?null:T.pipelines.get(o.SINGLE_PIPELINE),this.setSize(g,x)},setSize:function(d,c){c===void 0&&(c=d);var m=this.get(),g=m.source;if(d!==this.width||c!==this.height){this.canvas&&(this.canvas.width=d,this.canvas.height=c);var x=this.renderTarget;x&&(x.willResize(d,c)&&x.resize(d,c),x.texture!==g.glTexture&&this.renderer.deleteTexture(g.glTexture),this.setFromRenderTarget()),this.camera.setSize(d,c),g.width=d,g.height=c,m.setSize(d,c),this.width=d,this.height=c}else{var T=this.getSourceImage();m.cutX+d>T.width&&(d=T.width-m.cutX),m.cutY+c>T.height&&(c=T.height-m.cutY),m.setSize(d,c,m.cutX,m.cutY)}return this},setFromRenderTarget:function(){var d=this.get(),c=d.source,m=this.renderTarget;return c.isRenderTexture=!0,c.isGLTexture=!0,c.glTexture=m.texture,this},setIsSpriteTexture:function(d){return this.isSpriteTexture=d,this},fill:function(d,c,m,g,x,T){var S=this.camera,P=this.renderer;c===void 0&&(c=1),m===void 0&&(m=0),g===void 0&&(g=0),x===void 0&&(x=this.width),T===void 0&&(T=this.height);var L=d>>16&255,I=d>>8&255,O=d&255,M=this.renderTarget;if(S.preRender(),M){M.bind(!0);var w=this.pipeline.manager.set(this.pipeline),D=P.width/M.width,U=P.height/M.height,Y=M.height-(g+T);w.drawFillRect(m*D,Y*U,x*D,T*U,u.getTintFromFloats(O/255,I/255,L/255,1),c),M.unbind(!0)}else{var H=this.context;P.setContext(H),H.globalCompositeOperation="source-over",H.fillStyle="rgba("+L+","+I+","+O+","+c+")",H.fillRect(m,g,x,T),P.setContext()}return this.dirty=!0,this},clear:function(d,c,m,g){if(this.dirty){var x=this.context,T=this.renderTarget;T?T.clear(d,c,m,g):x&&(d!==void 0&&c!==void 0&&m!==void 0&&g!==void 0?x.clearRect(d,c,m,g):(x.save(),x.setTransform(1,0,0,1,0,0),x.clearRect(0,0,this.width,this.height),x.restore())),this.dirty=!1}return this},stamp:function(d,c,m,g,x){m===void 0&&(m=0),g===void 0&&(g=0);var T=s(x,"alpha",1),S=s(x,"tint",16777215),P=s(x,"angle",0),L=s(x,"rotation",0),I=s(x,"scale",1),O=s(x,"scaleX",I),M=s(x,"scaleY",I),w=s(x,"originX",.5),D=s(x,"originY",.5),U=s(x,"blendMode",0),Y=s(x,"erase",!1),H=s(x,"skipBatch",!1),X=this.manager.resetStamp(T,S);return X.setAngle(0),P!==0?X.setAngle(P):L!==0&&X.setRotation(L),X.setScale(O,M),X.setTexture(d,c),X.setOrigin(w,D),X.setBlendMode(U),Y&&(this._eraseMode=!0),H?this.batchGameObject(X,m,g):this.draw(X,m,g),Y&&(this._eraseMode=!1),this},erase:function(d,c,m){return this._eraseMode=!0,this.draw(d,c,m),this._eraseMode=!1,this},draw:function(d,c,m,g,x){return this.beginDraw(),this.batchDraw(d,c,m,g,x),this.endDraw(),this},drawFrame:function(d,c,m,g,x,T){return this.beginDraw(),this.batchDrawFrame(d,c,m,g,x,T),this.endDraw(),this},repeat:function(d,c,m,g,x,T,S,P,L){if(m===void 0&&(m=0),g===void 0&&(g=0),x===void 0&&(x=this.width),T===void 0&&(T=this.height),S===void 0&&(S=1),P===void 0&&(P=16777215),L===void 0&&(L=!1),d instanceof e?c=d:c=this.manager.getFrame(d,c),!c)return this;var I=this.manager.resetStamp(S,P);I.setFrame(c),I.setOrigin(0);var O=c.width,M=c.height;x=Math.floor(x),T=Math.floor(T);var w=Math.ceil(x/O),D=Math.ceil(T/M),U=w*O-x,Y=D*M-T;U>0&&(U=O-U),Y>0&&(Y=M-Y),m<0&&(w+=Math.ceil(Math.abs(m)/O)),g<0&&(D+=Math.ceil(Math.abs(g)/M));var H=m,X=g,G=!1,z=this.manager.stampCrop.setTo(0,0,O,M);L||this.beginDraw();for(var b=0;b<D;b++){if(X+M<0){X+=M;continue}for(var N=0;N<w;N++){if(G=!1,H+O<0){H+=O;continue}else H<0&&(G=!0,z.width=O+H,z.x=O-z.width);X<0&&(G=!0,z.height=M+X,z.y=M-z.height),U>0&&N===w-1&&(G=!0,z.width=U),Y>0&&b===D-1&&(G=!0,z.height=Y),G&&I.setCrop(z),this.batchGameObject(I,H,X),I.isCropped=!1,z.setTo(0,0,O,M),H+=O}H=m,X+=M}return L||this.endDraw(),this},beginDraw:function(){if(!this.isDrawing){var d=this.camera,c=this.renderer,m=this.renderTarget;d.preRender(),m?c.beginCapture(m.width,m.height):c.setContext(this.context),this.isDrawing=!0}return this},batchDraw:function(d,c,m,g,x){return Array.isArray(d)||(d=[d]),this.batchList(d,c,m,g,x),this},batchDrawFrame:function(d,c,m,g,x,T){m===void 0&&(m=0),g===void 0&&(g=0),x===void 0&&(x=1),T===void 0&&(T=16777215);var S=this.manager.getFrame(d,c);return S&&(this.renderTarget?this.pipeline.batchTextureFrame(S,m,g,T,x,this.camera.matrix,null):this.batchTextureFrame(S,m,g,x,T)),this},endDraw:function(d){if(d===void 0&&(d=this._eraseMode),this.isDrawing){var c=this.renderer,m=this.renderTarget;if(m){var g=c.endCapture(),x=c.pipelines.setUtility();x.blitFrame(g,m,1,!1,!1,d,this.isSpriteTexture),c.resetScissor(),c.resetViewport()}else c.setContext();this.dirty=!0,this.isDrawing=!1}return this},batchList:function(d,c,m,g,x){var T=d.length;if(T!==0)for(var S=0;S<T;S++){var P=d[S];!P||P===this||(P.renderWebGL||P.renderCanvas?this.batchGameObject(P,c,m):P.isParent||P.list?this.batchGroup(P.getChildren(),c,m):typeof P=="string"?this.batchTextureFrameKey(P,null,c,m,g,x):P instanceof e?this.batchTextureFrame(P,c,m,g,x):Array.isArray(P)&&this.batchList(P,c,m,g,x))}},batchGroup:function(d,c,m){c===void 0&&(c=0),m===void 0&&(m=0);for(var g=0;g<d.length;g++){var x=d[g];x.willRender(this.camera)&&this.batchGameObject(x,x.x+c,x.y+m)}},batchGameObject:function(d,c,m){c===void 0&&(c=d.x),m===void 0&&(m=d.y);var g=d.x,x=d.y,T=this.camera,S=this.renderer,P=this._eraseMode,L=d.mask;if(d.setPosition(c,m),this.canvas){if(P){var I=d.blendMode;d.blendMode=h.ERASE}L&&L.preRenderCanvas(S,d,T),d.renderCanvas(S,d,T,null),L&&L.postRenderCanvas(S,d,T),P&&(d.blendMode=I)}else S&&(L&&L.preRenderWebGL(S,d,T),P||S.setBlendMode(d.blendMode),d.renderWebGL(S,d,T),L&&L.postRenderWebGL(S,T,this.renderTarget));d.setPosition(g,x)},batchTextureFrameKey:function(d,c,m,g,x,T){var S=this.manager.getFrame(d,c);S&&this.batchTextureFrame(S,m,g,x,T)},batchTextureFrame:function(d,c,m,g,x){c===void 0&&(c=0),m===void 0&&(m=0),g===void 0&&(g=1),x===void 0&&(x=16777215);var T=this.camera.matrix,S=this.renderTarget;if(S)this.pipeline.batchTextureFrame(d,c,m,x,g,T,null);else{var P=this.context,L=d.canvasData,I=d.source.image;P.save(),P.globalCompositeOperation=this._eraseMode?"destination-out":"source-over",P.globalAlpha=g,T.setToContext(P),L.width>0&&L.height>0&&P.drawImage(I,L.x,L.y,L.width,L.height,c,m,L.width,L.height),P.restore()}},snapshotArea:function(d,c,m,g,x,T,S){return this.renderTarget?this.renderer.snapshotFramebuffer(this.renderTarget.framebuffer,this.width,this.height,x,!1,d,c,m,g,T,S):this.renderer.snapshotCanvas(this.canvas,x,!1,d,c,m,g,T,S),this},snapshot:function(d,c,m){return this.snapshotArea(0,0,this.width,this.height,d,c,m)},snapshotPixel:function(d,c,m){return this.snapshotArea(d,c,1,1,m,"pixel")},getWebGLTexture:function(){if(this.renderTarget)return this.renderTarget.texture},renderWebGL:function(d,c,m,g){var x=this.manager.resetStamp();x.setTexture(this),x.setOrigin(0),x.renderWebGL(d,x,m,g)},renderCanvas:function(){},destroy:function(){var d=this.manager.stamp;d&&d.texture===this&&this.manager.resetStamp(),l.prototype.destroy.call(this),a.remove(this.canvas),this.renderTarget&&this.renderTarget.destroy(),this.camera.destroy(),this.canvas=null,this.context=null,this.renderer=null}});v.exports=f},4327:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),p=t(45319),a=t(79291),n=new h({initialize:function(e,s,o,i,l,u,f){this.texture=e,this.name=s,this.source=e.source[o],this.sourceIndex=o,this.cutX,this.cutY,this.cutWidth,this.cutHeight,this.x=0,this.y=0,this.width,this.height,this.halfWidth,this.halfHeight,this.centerX,this.centerY,this.pivotX=0,this.pivotY=0,this.customPivot=!1,this.rotated=!1,this.autoRound=-1,this.customData={},this.u0=0,this.v0=0,this.u1=0,this.v1=0,this.data={cut:{x:0,y:0,w:0,h:0,r:0,b:0},trim:!1,sourceSize:{w:0,h:0},spriteSourceSize:{x:0,y:0,w:0,h:0,r:0,b:0},radius:0,drawImage:{x:0,y:0,width:0,height:0},is3Slice:!1,scale9:!1,scale9Borders:{x:0,y:0,w:0,h:0}},this.setSize(u,f,i,l)},setCutPosition:function(r,e){return r===void 0&&(r=0),e===void 0&&(e=0),this.cutX=r,this.cutY=e,this.updateUVs()},setCutSize:function(r,e){return this.cutWidth=r,this.cutHeight=e,this.updateUVs()},setSize:function(r,e,s,o){s===void 0&&(s=0),o===void 0&&(o=0),this.setCutPosition(s,o),this.setCutSize(r,e),this.width=r,this.height=e,this.halfWidth=Math.floor(r*.5),this.halfHeight=Math.floor(e*.5),this.centerX=Math.floor(r/2),this.centerY=Math.floor(e/2);var i=this.data,l=i.cut;l.x=s,l.y=o,l.w=r,l.h=e,l.r=s+r,l.b=o+e,i.sourceSize.w=r,i.sourceSize.h=e,i.spriteSourceSize.w=r,i.spriteSourceSize.h=e,i.radius=.5*Math.sqrt(r*r+e*e);var u=i.drawImage;return u.x=s,u.y=o,u.width=r,u.height=e,this.updateUVs()},setTrim:function(r,e,s,o,i,l){var u=this.data,f=u.spriteSourceSize;return u.trim=!0,u.sourceSize.w=r,u.sourceSize.h=e,f.x=s,f.y=o,f.w=i,f.h=l,f.r=s+i,f.b=o+l,this.x=s,this.y=o,this.width=i,this.height=l,this.halfWidth=i*.5,this.halfHeight=l*.5,this.centerX=Math.floor(i/2),this.centerY=Math.floor(l/2),this.updateUVs()},setScale9:function(r,e,s,o){var i=this.data;return i.scale9=!0,i.is3Slice=e===0&&o===this.height,i.scale9Borders.x=r,i.scale9Borders.y=e,i.scale9Borders.w=s,i.scale9Borders.h=o,this},setCropUVs:function(r,e,s,o,i,l,u){var f=this.cutX,d=this.cutY,c=this.cutWidth,m=this.cutHeight,g=this.realWidth,x=this.realHeight;e=p(e,0,g),s=p(s,0,x),o=p(o,0,g-e),i=p(i,0,x-s);var T=f+e,S=d+s,P=o,L=i,I=this.data;if(I.trim){var O=I.spriteSourceSize;o=p(o,0,c-e),i=p(i,0,m-s);var M=e+o,w=s+i,D=!(O.r<e||O.b<s||O.x>M||O.y>w);if(D){var U=Math.max(O.x,e),Y=Math.max(O.y,s),H=Math.min(O.r,M)-U,X=Math.min(O.b,w)-Y;P=H,L=X,l?T=f+(c-(U-O.x)-H):T=f+(U-O.x),u?S=d+(m-(Y-O.y)-X):S=d+(Y-O.y),e=U,s=Y,o=H,i=X}else T=0,S=0,P=0,L=0}else l&&(T=f+(c-e-o)),u&&(S=d+(m-s-i));var G=this.source.width,z=this.source.height;return r.u0=Math.max(0,T/G),r.v0=Math.max(0,S/z),r.u1=Math.min(1,(T+P)/G),r.v1=Math.min(1,(S+L)/z),r.x=e,r.y=s,r.cx=T,r.cy=S,r.cw=P,r.ch=L,r.width=o,r.height=i,r.flipX=l,r.flipY=u,r},updateCropUVs:function(r,e,s){return this.setCropUVs(r,r.x,r.y,r.width,r.height,e,s)},setUVs:function(r,e,s,o,i,l){var u=this.data.drawImage;return u.width=r,u.height=e,this.u0=s,this.v0=o,this.u1=i,this.v1=l,this},updateUVs:function(){var r=this.cutX,e=this.cutY,s=this.cutWidth,o=this.cutHeight,i=this.data.drawImage;i.width=s,i.height=o;var l=this.source.width,u=this.source.height;return this.u0=r/l,this.v0=e/u,this.u1=(r+s)/l,this.v1=(e+o)/u,this},updateUVsInverted:function(){var r=this.source.width,e=this.source.height;return this.u0=(this.cutX+this.cutHeight)/r,this.v0=this.cutY/e,this.u1=this.cutX/r,this.v1=(this.cutY+this.cutWidth)/e,this},clone:function(){var r=new n(this.texture,this.name,this.sourceIndex);return r.cutX=this.cutX,r.cutY=this.cutY,r.cutWidth=this.cutWidth,r.cutHeight=this.cutHeight,r.x=this.x,r.y=this.y,r.width=this.width,r.height=this.height,r.halfWidth=this.halfWidth,r.halfHeight=this.halfHeight,r.centerX=this.centerX,r.centerY=this.centerY,r.rotated=this.rotated,r.data=a(!0,r.data,this.data),r.updateUVs(),r},destroy:function(){this.texture=null,this.source=null,this.customData=null,this.data=null},glTexture:{get:function(){return this.source.glTexture}},realWidth:{get:function(){return this.data.sourceSize.w}},realHeight:{get:function(){return this.data.sourceSize.h}},radius:{get:function(){return this.data.radius}},trimmed:{get:function(){return this.data.trim}},scale9:{get:function(){return this.data.scale9}},is3Slice:{get:function(){return this.data.is3Slice}},canvasData:{get:function(){return this.data.drawImage}}});v.exports=n},79237:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),p=t(4327),a=t(11876),n='Texture "%s" has no frame "%s"',r=new h({initialize:function(s,o,i,l,u){Array.isArray(i)||(i=[i]),this.manager=s,this.key=o,this.source=[],this.dataSource=[],this.frames={},this.customData={},this.firstFrame="__BASE",this.frameTotal=0;for(var f=0;f<i.length;f++)this.source.push(new a(this,i[f],l,u))},add:function(e,s,o,i,l,u){if(this.has(e))return null;var f=new p(this,e,s,o,i,l,u);return this.frames[e]=f,this.firstFrame==="__BASE"&&(this.firstFrame=e),this.frameTotal++,f},remove:function(e){if(this.has(e)){var s=this.get(e);return s.destroy(),delete this.frames[e],!0}return!1},has:function(e){return this.frames.hasOwnProperty(e)},get:function(e){e||(e=this.firstFrame);var s=this.frames[e];return s||(console.warn(n,this.key,e),s=this.frames[this.firstFrame]),s},getTextureSourceIndex:function(e){for(var s=0;s<this.source.length;s++)if(this.source[s]===e)return s;return-1},getFramesFromTextureSource:function(e,s){s===void 0&&(s=!1);var o=[];for(var i in this.frames)if(!(i==="__BASE"&&!s)){var l=this.frames[i];l.sourceIndex===e&&o.push(l)}return o},getFrameBounds:function(e){e===void 0&&(e=0);for(var s=this.getFramesFromTextureSource(e,!0),o=s[0],i=o.cutX,l=o.cutY,u=o.cutX+o.cutWidth,f=o.cutY+o.cutHeight,d=1;d<s.length;d++){var c=s[d];c.cutX<i&&(i=c.cutX),c.cutY<l&&(l=c.cutY),c.cutX+c.cutWidth>u&&(u=c.cutX+c.cutWidth),c.cutY+c.cutHeight>f&&(f=c.cutY+c.cutHeight)}return{x:i,y:l,width:u-i,height:f-l}},getFrameNames:function(e){e===void 0&&(e=!1);var s=Object.keys(this.frames);if(!e){var o=s.indexOf("__BASE");o!==-1&&s.splice(o,1)}return s},getSourceImage:function(e){(e==null||this.frameTotal===1)&&(e="__BASE");var s=this.frames[e];return s?s.source.image:(console.warn(n,this.key,e),this.frames.__BASE.source.image)},getDataSourceImage:function(e){(e==null||this.frameTotal===1)&&(e="__BASE");var s=this.frames[e],o;return s?o=s.sourceIndex:(console.warn(n,this.key,e),o=this.frames.__BASE.sourceIndex),this.dataSource[o].image},setDataSource:function(e){Array.isArray(e)||(e=[e]);for(var s=0;s<e.length;s++){var o=this.source[s];this.dataSource.push(new a(this,e[s],o.width,o.height))}},setFilter:function(e){var s;for(s=0;s<this.source.length;s++)this.source[s].setFilter(e);for(s=0;s<this.dataSource.length;s++)this.dataSource[s].setFilter(e)},destroy:function(){var e,s=this.source,o=this.dataSource;for(e=0;e<s.length;e++)s[e]&&s[e].destroy();for(e=0;e<o.length;e++)o[e]&&o[e].destroy();for(var i in this.frames){var l=this.frames[i];l&&l.destroy()}this.source=[],this.dataSource=[],this.frames={},this.manager.removeKey(this.key),this.manager=null}});v.exports=r},17130:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(27919),p=t(57382),a=t(83419),n=t(40987),r=t(8054),e=t(81320),s=t(50792),o=t(69442),i=t(4327),l=t(8443),u=t(99584),f=t(35154),d=t(88571),c=t(41212),m=t(61309),g=t(87841),x=t(79237),T=new a({Extends:s,initialize:function(P){s.call(this),this.game=P,this.name="TextureManager",this.list={},this._tempCanvas=h.create2D(this),this._tempContext=this._tempCanvas.getContext("2d",{willReadFrequently:!0}),this._pending=0,this.stamp,this.stampCrop=new g,this.silentWarnings=!1,P.events.once(l.BOOT,this.boot,this)},boot:function(){this._pending=3,this.on(o.LOAD,this.updatePending,this),this.on(o.ERROR,this.updatePending,this);var S=this.game.config;S.defaultImage!==null&&this.addBase64("__DEFAULT",S.defaultImage),S.missingImage!==null&&this.addBase64("__MISSING",S.missingImage),S.whiteImage!==null&&this.addBase64("__WHITE",S.whiteImage),this.game.renderer&&this.game.renderer.gl&&this.addUint8Array("__NORMAL",new Uint8Array([127,127,255,255]),1,1),this.game.events.once(l.DESTROY,this.destroy,this),this.game.events.once(l.SYSTEM_READY,function(P){this.stamp=new d(P).setOrigin(0)},this)},updatePending:function(){this._pending--,this._pending===0&&(this.off(o.LOAD),this.off(o.ERROR),this.emit(o.READY))},checkKey:function(S){return!S||typeof S!="string"||this.exists(S)?(this.silentWarnings||console.error("Texture key already in use: "+S),!1):!0},remove:function(S){if(typeof S=="string")if(this.exists(S))S=this.get(S);else return this.silentWarnings||console.warn("No texture found matching key: "+S),this;var P=S.key;return this.list.hasOwnProperty(P)&&(S.destroy(),this.emit(o.REMOVE,P),this.emit(o.REMOVE_KEY+P)),this},removeKey:function(S){return this.list.hasOwnProperty(S)&&delete this.list[S],this},addBase64:function(S,P){if(this.checkKey(S)){var L=this,I=new Image;I.onerror=function(){L.emit(o.ERROR,S)},I.onload=function(){var O=L.create(S,I);m.Image(O,0),L.emit(o.ADD,S,O),L.emit(o.ADD_KEY+S,O),L.emit(o.LOAD,S,O)},I.src=P}return this},getBase64:function(S,P,L,I){L===void 0&&(L="image/png"),I===void 0&&(I=.92);var O="",M=this.getFrame(S,P);if(M&&(M.source.isRenderTexture||M.source.isGLTexture))this.silentWarnings||console.warn("Cannot getBase64 from WebGL Texture");else if(M){var w=M.canvasData,D=h.create2D(this,w.width,w.height),U=D.getContext("2d",{willReadFrequently:!0});w.width>0&&w.height>0&&U.drawImage(M.source.image,w.x,w.y,w.width,w.height,0,0,w.width,w.height),O=D.toDataURL(L,I),h.remove(D)}return O},addImage:function(S,P,L){var I=null;return this.checkKey(S)&&(I=this.create(S,P),m.Image(I,0),L&&I.setDataSource(L),this.emit(o.ADD,S,I),this.emit(o.ADD_KEY+S,I)),I},addGLTexture:function(S,P){var L=null;if(this.checkKey(S)){var I=P.width,O=P.height;L=this.create(S,P,I,O),L.add("__BASE",0,0,0,I,O),this.emit(o.ADD,S,L),this.emit(o.ADD_KEY+S,L)}return L},addCompressedTexture:function(S,P,L){var I=null;if(this.checkKey(S)){if(I=this.create(S,P),I.add("__BASE",0,0,0,P.width,P.height),L){var O=function(w,D,U){Array.isArray(U.textures)||Array.isArray(U.frames)?m.JSONArray(w,D,U):m.JSONHash(w,D,U)};if(Array.isArray(L))for(var M=0;M<L.length;M++)O(I,M,L[M]);else O(I,0,L)}this.emit(o.ADD,S,I),this.emit(o.ADD_KEY+S,I)}return I},addRenderTexture:function(S,P){var L=null;return this.checkKey(S)&&(L=this.create(S,P),L.add("__BASE",0,0,0,P.width,P.height),this.emit(o.ADD,S,L),this.emit(o.ADD_KEY+S,L)),L},generate:function(S,P){if(this.checkKey(S)){var L=h.create(this,1,1);return P.canvas=L,u(P),this.addCanvas(S,L)}else return null},createCanvas:function(S,P,L){if(P===void 0&&(P=256),L===void 0&&(L=256),this.checkKey(S)){var I=h.create(this,P,L,r.CANVAS,!0);return this.addCanvas(S,I)}return null},addCanvas:function(S,P,L){L===void 0&&(L=!1);var I=null;return L?I=new p(this,S,P,P.width,P.height):this.checkKey(S)&&(I=new p(this,S,P,P.width,P.height),this.list[S]=I,this.emit(o.ADD,S,I),this.emit(o.ADD_KEY+S,I)),I},addDynamicTexture:function(S,P,L){var I=null;return typeof S=="string"&&!this.exists(S)?I=new e(this,S,P,L):(I=S,S=I.key),this.checkKey(S)?(this.list[S]=I,this.emit(o.ADD,S,I),this.emit(o.ADD_KEY+S,I)):I=null,I},addAtlas:function(S,P,L,I){return Array.isArray(L.textures)||Array.isArray(L.frames)?this.addAtlasJSONArray(S,P,L,I):this.addAtlasJSONHash(S,P,L,I)},addAtlasJSONArray:function(S,P,L,I){var O=null;if(P instanceof x?(S=P.key,O=P):this.checkKey(S)&&(O=this.create(S,P)),O){if(Array.isArray(L))for(var M=L.length===1,w=0;w<O.source.length;w++){var D=M?L[0]:L[w];m.JSONArray(O,w,D)}else m.JSONArray(O,0,L);I&&O.setDataSource(I),this.emit(o.ADD,S,O),this.emit(o.ADD_KEY+S,O)}return O},addAtlasJSONHash:function(S,P,L,I){var O=null;if(P instanceof x?(S=P.key,O=P):this.checkKey(S)&&(O=this.create(S,P)),O){if(Array.isArray(L))for(var M=0;M<L.length;M++)m.JSONHash(O,M,L[M]);else m.JSONHash(O,0,L);I&&O.setDataSource(I),this.emit(o.ADD,S,O),this.emit(o.ADD_KEY+S,O)}return O},addAtlasXML:function(S,P,L,I){var O=null;return P instanceof x?(S=P.key,O=P):this.checkKey(S)&&(O=this.create(S,P)),O&&(m.AtlasXML(O,0,L),I&&O.setDataSource(I),this.emit(o.ADD,S,O),this.emit(o.ADD_KEY+S,O)),O},addUnityAtlas:function(S,P,L,I){var O=null;return P instanceof x?(S=P.key,O=P):this.checkKey(S)&&(O=this.create(S,P)),O&&(m.UnityYAML(O,0,L),I&&O.setDataSource(I),this.emit(o.ADD,S,O),this.emit(o.ADD_KEY+S,O)),O},addSpriteSheet:function(S,P,L,I){var O=null;if(P instanceof x?(S=P.key,O=P):this.checkKey(S)&&(O=this.create(S,P)),O){var M=O.source[0].width,w=O.source[0].height;m.SpriteSheet(O,0,0,0,M,w,L),I&&O.setDataSource(I),this.emit(o.ADD,S,O),this.emit(o.ADD_KEY+S,O)}return O},addSpriteSheetFromAtlas:function(S,P){if(!this.checkKey(S))return null;var L=f(P,"atlas",null),I=f(P,"frame",null);if(!(!L||!I)){var O=this.get(L),M=O.get(I);if(M){var w=M.source.image;w||(w=M.source.glTexture);var D=this.create(S,w);return M.trimmed?m.SpriteSheetFromAtlas(D,M,P):m.SpriteSheet(D,0,M.cutX,M.cutY,M.cutWidth,M.cutHeight,P),this.emit(o.ADD,S,D),this.emit(o.ADD_KEY+S,D),D}}},addUint8Array:function(S,P,L,I){if(!this.checkKey(S)||P.length/4!==L*I)return null;var O=this.create(S,P,L,I);return O.add("__BASE",0,0,0,L,I),this.emit(o.ADD,S,O),this.emit(o.ADD_KEY+S,O),O},create:function(S,P,L,I){var O=null;return this.checkKey(S)&&(O=new x(this,S,P,L,I),this.list[S]=O),O},exists:function(S){return this.list.hasOwnProperty(S)},get:function(S){return S===void 0&&(S="__DEFAULT"),this.list[S]?this.list[S]:S instanceof x?S:S instanceof i?S.texture:this.list.__MISSING},cloneFrame:function(S,P){if(this.list[S])return this.list[S].get(P).clone()},getFrame:function(S,P){if(this.list[S])return this.list[S].get(P)},parseFrame:function(S){if(S){if(typeof S=="string")return this.getFrame(S);if(Array.isArray(S)&&S.length===2)return this.getFrame(S[0],S[1]);if(c(S))return this.getFrame(S.key,S.frame);if(S instanceof x)return S.get();if(S instanceof i)return S}else return},getTextureKeys:function(){var S=[];for(var P in this.list)P!=="__DEFAULT"&&P!=="__MISSING"&&P!=="__WHITE"&&P!=="__NORMAL"&&S.push(P);return S},getPixel:function(S,P,L,I){var O=this.getFrame(L,I);if(O){S-=O.x,P-=O.y;var M=O.data.cut;if(S+=M.x,P+=M.y,S>=M.x&&S<M.r&&P>=M.y&&P<M.b){var w=this._tempContext;w.clearRect(0,0,1,1),w.drawImage(O.source.image,S,P,1,1,0,0,1,1);var D=w.getImageData(0,0,1,1);return new n(D.data[0],D.data[1],D.data[2],D.data[3])}}return null},getPixelAlpha:function(S,P,L,I){var O=this.getFrame(L,I);if(O){S-=O.x,P-=O.y;var M=O.data.cut;if(S+=M.x,P+=M.y,S>=M.x&&S<M.r&&P>=M.y&&P<M.b){var w=this._tempContext;w.clearRect(0,0,1,1),w.drawImage(O.source.image,S,P,1,1,0,0,1,1);var D=w.getImageData(0,0,1,1);return D.data[3]}}return null},setTexture:function(S,P,L){return this.list[P]&&(S.texture=this.list[P],S.frame=S.texture.get(L)),S},renameTexture:function(S,P){var L=this.get(S);return L&&S!==P?(L.key=P,this.list[P]=L,delete this.list[S],!0):!1},each:function(S,P){for(var L=[null],I=1;I<arguments.length;I++)L.push(arguments[I]);for(var O in this.list)L[0]=this.list[O],S.apply(P,L)},resetStamp:function(S,P){S===void 0&&(S=1),P===void 0&&(P=16777215);var L=this.stamp;return L.setCrop(),L.setPosition(0),L.setAngle(0),L.setScale(1),L.setAlpha(S),L.setTint(P),L.setTexture("__WHITE"),L},destroy:function(){for(var S in this.list)this.list[S].destroy();this.list={},this.stamp.destroy(),this.game=null,this.stamp=null,h.remove(this._tempCanvas)}});v.exports=T},11876:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(27919),p=t(83419),a=t(50030),n=t(29795),r=t(82751),e=new p({initialize:function(o,i,l,u,f){f===void 0&&(f=!1);var d=o.manager.game;this.renderer=d.renderer,this.texture=o,this.source=i,this.image=i.compressed?null:i,this.compressionAlgorithm=i.compressed?i.format:null,this.resolution=1,this.width=l||i.naturalWidth||i.videoWidth||i.width||0,this.height=u||i.naturalHeight||i.videoHeight||i.height||0,this.scaleMode=n.DEFAULT,this.isCanvas=i instanceof HTMLCanvasElement,this.isVideo=window.hasOwnProperty("HTMLVideoElement")&&i instanceof HTMLVideoElement,this.isRenderTexture=i.type==="RenderTexture"||i.type==="DynamicTexture",this.isGLTexture=i instanceof r,this.isPowerOf2=a(this.width,this.height),this.glTexture=null,this.flipY=f,this.init(d)},init:function(s){var o=this.renderer;if(o){var i=this.source;if(o.gl){var l=this.image,u=this.flipY,f=this.width,d=this.height,c=this.scaleMode;this.isCanvas?this.glTexture=o.createCanvasTexture(l,!1,u):this.isVideo?this.glTexture=o.createVideoTexture(l,!1,u):this.isRenderTexture?this.glTexture=o.createTextureFromSource(null,f,d,c):this.isGLTexture?this.glTexture=i:this.compressionAlgorithm?this.glTexture=o.createTextureFromSource(i,void 0,void 0,c):i instanceof Uint8Array?this.glTexture=o.createUint8ArrayTexture(i,f,d,c):this.glTexture=o.createTextureFromSource(l,f,d,c)}else this.isRenderTexture&&(this.image=i.canvas)}s.config.antialias||this.setFilter(1)},setFilter:function(s){this.renderer&&this.renderer.gl&&this.renderer.setTextureFilter(this.glTexture,s),this.scaleMode=s},setFlipY:function(s){return s===void 0&&(s=!0),s===this.flipY?this:(this.flipY=s,this.update(),this)},update:function(){var s=this.renderer,o=this.image,i=this.flipY,l=s.gl;l&&this.isCanvas?s.updateCanvasTexture(o,this.glTexture,i):l&&this.isVideo&&s.updateVideoTexture(o,this.glTexture,i)},destroy:function(){this.glTexture&&this.renderer.deleteTexture(this.glTexture),this.isCanvas&&h.remove(this.image),this.renderer=null,this.texture=null,this.source=null,this.image=null,this.glTexture=null}});v.exports=e},19673:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={LINEAR:0,NEAREST:1};v.exports=y},44538:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="addtexture"},63486:v=>{/**
 * @author       samme
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="addtexture-"},94851:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="onerror"},29099:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="onload"},8678:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="ready"},86415:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="removetexture"},30879:v=>{/**
 * @author       samme
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="removetexture-"},69442:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={ADD:t(44538),ADD_KEY:t(63486),ERROR:t(94851),LOAD:t(29099),READY:t(8678),REMOVE:t(86415),REMOVE_KEY:t(30879)}},27458:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(79291),p=t(19673),a={CanvasTexture:t(57382),DynamicTexture:t(81320),Events:t(69442),FilterMode:p,Frame:t(4327),Parsers:t(61309),Texture:t(79237),TextureManager:t(17130),TextureSource:t(11876)};a=h(!1,a,p),v.exports=a},89905:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,h,p){if(!p.getElementsByTagName("TextureAtlas")){console.warn("Invalid Texture Atlas XML given");return}var a=t.source[h];t.add("__BASE",h,0,0,a.width,a.height);for(var n=p.getElementsByTagName("SubTexture"),r,e=0;e<n.length;e++){var s=n[e].attributes,o=s.name.value,i=parseInt(s.x.value,10),l=parseInt(s.y.value,10),u=parseInt(s.width.value,10),f=parseInt(s.height.value,10);if(r=t.add(o,h,i,l,u,f),s.frameX){var d=Math.abs(parseInt(s.frameX.value,10)),c=Math.abs(parseInt(s.frameY.value,10)),m=parseInt(s.frameWidth.value,10),g=parseInt(s.frameHeight.value,10);r.setTrim(u,f,d,c,m,g)}}return t};v.exports=y},72893:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,h){var p=t.source[h];return t.add("__BASE",h,0,0,p.width,p.height),t};v.exports=y},4832:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,h){var p=t.source[h];return t.add("__BASE",h,0,0,p.width,p.height),t};v.exports=y},78566:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(41786),p=function(a,n,r){if(!r.frames&&!r.textures){console.warn("Invalid Texture Atlas JSON Array");return}var e=a.source[n];a.add("__BASE",n,0,0,e.width,e.height);for(var s=Array.isArray(r.textures)?r.textures[n].frames:r.frames,o,i=0;i<s.length;i++){var l=s[i];if(o=a.add(l.filename,n,l.frame.x,l.frame.y,l.frame.w,l.frame.h),!o){console.warn("Invalid atlas json, frame already exists: "+l.filename);continue}l.trimmed&&o.setTrim(l.sourceSize.w,l.sourceSize.h,l.spriteSourceSize.x,l.spriteSourceSize.y,l.spriteSourceSize.w,l.spriteSourceSize.h),l.rotated&&(o.rotated=!0,o.updateUVsInverted());var u=l.anchor||l.pivot;u&&(o.customPivot=!0,o.pivotX=u.x,o.pivotY=u.y),l.scale9Borders&&o.setScale9(l.scale9Borders.x,l.scale9Borders.y,l.scale9Borders.w,l.scale9Borders.h),o.customData=h(l)}for(var f in r)f!=="frames"&&(Array.isArray(r[f])?a.customData[f]=r[f].slice(0):a.customData[f]=r[f]);return a};v.exports=p},39711:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(41786),p=function(a,n,r){if(!r.frames){console.warn("Invalid Texture Atlas JSON Hash given, missing 'frames' Object");return}var e=a.source[n];a.add("__BASE",n,0,0,e.width,e.height);var s=r.frames,o;for(var i in s)if(s.hasOwnProperty(i)){var l=s[i];if(o=a.add(i,n,l.frame.x,l.frame.y,l.frame.w,l.frame.h),!o){console.warn("Invalid atlas json, frame already exists: "+i);continue}l.trimmed&&o.setTrim(l.sourceSize.w,l.sourceSize.h,l.spriteSourceSize.x,l.spriteSourceSize.y,l.spriteSourceSize.w,l.spriteSourceSize.h),l.rotated&&(o.rotated=!0,o.updateUVsInverted());var u=l.anchor||l.pivot;u&&(o.customPivot=!0,o.pivotX=u.x,o.pivotY=u.y),l.scale9Borders&&o.setScale9(l.scale9Borders.x,l.scale9Borders.y,l.scale9Borders.w,l.scale9Borders.h),o.customData=h(l)}for(var f in r)f!=="frames"&&(Array.isArray(r[f])?a.customData[f]=r[f].slice(0):a.customData[f]=r[f]);return a};v.exports=p},31403:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2021 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){var h=[171,75,84,88,32,49,49,187,13,10,26,10],p,a=new Uint8Array(t,0,12);for(p=0;p<a.length;p++)if(a[p]!==h[p]){console.warn("KTXParser - Invalid file format");return}var n=Uint32Array.BYTES_PER_ELEMENT,r=new DataView(t,12,13*n),e=r.getUint32(0,!0)===67305985,s=r.getUint32(1*n,e);if(s!==0){console.warn("KTXParser - Only compressed formats supported");return}var o=r.getUint32(4*n,e),i=r.getUint32(6*n,e),l=r.getUint32(7*n,e),u=Math.max(1,r.getUint32(11*n,e)),f=r.getUint32(12*n,e),d=new Array(u),c=12+13*4+f,m=i,g=l;for(p=0;p<u;p++){var x=new Int32Array(t,c,1)[0];c+=4,d[p]={data:new Uint8Array(t,c,x),width:m,height:g},m=Math.max(1,m>>1),g=Math.max(1,g>>1),c+=x}return{mipmaps:d,width:i,height:l,internalFormat:o,compressed:!0,generateMipmap:!1}};v.exports=y},82038:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2021 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function y(P,L,I,O,M,w,D){return D===void 0&&(D=16),Math.floor((P+I)/M)*Math.floor((L+O)/w)*D}function t(P,L){return P=Math.max(P,16),L=Math.max(L,8),P*L/4}function h(P,L){return P=Math.max(P,8),L=Math.max(L,8),P*L/2}function p(P,L){return Math.ceil(P/4)*Math.ceil(L/4)*16}function a(P,L){return y(P,L,3,3,4,4,8)}function n(P,L){return y(P,L,3,3,4,4)}function r(P,L){return y(P,L,4,3,5,4)}function e(P,L){return y(P,L,4,4,5,5)}function s(P,L){return y(P,L,5,4,6,5)}function o(P,L){return y(P,L,5,5,6,6)}function i(P,L){return y(P,L,7,4,8,5)}function l(P,L){return y(P,L,7,5,8,6)}function u(P,L){return y(P,L,7,7,8,8)}function f(P,L){return y(P,L,9,4,10,5)}function d(P,L){return y(P,L,9,5,10,6)}function c(P,L){return y(P,L,9,7,10,8)}function m(P,L){return y(P,L,9,9,10,10)}function g(P,L){return y(P,L,11,9,12,10)}function x(P,L){return y(P,L,11,11,12,12)}var T={0:{sizeFunc:t,glFormat:[35841]},1:{sizeFunc:t,glFormat:[35843]},2:{sizeFunc:h,glFormat:[35840]},3:{sizeFunc:h,glFormat:[35842]},6:{sizeFunc:a,glFormat:[36196]},7:{sizeFunc:a,glFormat:[33776,35916]},8:{sizeFunc:n,glFormat:[33777,35917]},9:{sizeFunc:n,glFormat:[33778,35918]},11:{sizeFunc:n,glFormat:[33779,35919]},14:{sizeFunc:p,glFormat:[36494,36495]},15:{sizeFunc:p,glFormat:[36492,36493]},22:{sizeFunc:a,glFormat:[37492,37493]},23:{sizeFunc:n,glFormat:[37496,37497]},24:{sizeFunc:a,glFormat:[37494,37495]},25:{sizeFunc:a,glFormat:[37488]},26:{sizeFunc:n,glFormat:[37490]},27:{sizeFunc:n,glFormat:[37808,37840]},28:{sizeFunc:r,glFormat:[37809,37841]},29:{sizeFunc:e,glFormat:[37810,37842]},30:{sizeFunc:s,glFormat:[37811,37843]},31:{sizeFunc:o,glFormat:[37812,37844]},32:{sizeFunc:i,glFormat:[37813,37845]},33:{sizeFunc:l,glFormat:[37814,37846]},34:{sizeFunc:u,glFormat:[37815,37847]},35:{sizeFunc:f,glFormat:[37816,37848]},36:{sizeFunc:d,glFormat:[37817,37849]},37:{sizeFunc:c,glFormat:[37818,37850]},38:{sizeFunc:m,glFormat:[37819,37851]},39:{sizeFunc:g,glFormat:[37820,37852]},40:{sizeFunc:x,glFormat:[37821,37853]}},S=function(P){for(var L=new Uint32Array(P,0,13),I=L[0],O=I===55727696,M=O?L[2]:L[3],w=L[4],D=T[M].glFormat[w],U=T[M].sizeFunc,Y=L[11],H=L[7],X=L[6],G=52+L[12],z=new Uint8Array(P,G),b=new Array(Y),N=0,W=H,K=X,J=0;J<Y;J++){var j=U(W,K);b[J]={data:new Uint8Array(z.buffer,z.byteOffset+N,j),width:W,height:K},W=Math.max(1,W>>1),K=Math.max(1,K>>1),N+=j}return{mipmaps:b,width:H,height:X,internalFormat:D,compressed:!0,generateMipmap:!1}};v.exports=S},75549:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(95540),p=function(a,n,r,e,s,o,i){var l=h(i,"frameWidth",null),u=h(i,"frameHeight",l);if(l===null)throw new Error("TextureManager.SpriteSheet: Invalid frameWidth given.");var f=a.source[n];a.add("__BASE",n,0,0,f.width,f.height);var d=h(i,"startFrame",0),c=h(i,"endFrame",-1),m=h(i,"margin",0),g=h(i,"spacing",0),x=Math.floor((s-m+g)/(l+g)),T=Math.floor((o-m+g)/(u+g)),S=x*T;S===0&&console.warn("SpriteSheet frame dimensions will result in zero frames for texture:",a.key),(d>S||d<-S)&&(d=0),d<0&&(d=S+d),(c===-1||c>S||c<d)&&(c=S);for(var P=m,L=m,I=0,O=0,M=0,w=0;w<S;w++){I=0,O=0;var D=P+l,U=L+u;D>s&&(I=D-s),U>o&&(O=U-o),w>=d&&w<=c&&(a.add(M,n,r+P,e+L,l-I,u-O),M++),P+=l+g,P+l>s&&(P=m,L+=u+g)}return a};v.exports=p},47534:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(95540),p=function(a,n,r){var e=h(r,"frameWidth",null),s=h(r,"frameHeight",e);if(!e)throw new Error("TextureManager.SpriteSheetFromAtlas: Invalid frameWidth given.");var o=a.source[0];a.add("__BASE",0,0,0,o.width,o.height),h(r,"startFrame",0),h(r,"endFrame",-1);for(var i=h(r,"margin",0),l=h(r,"spacing",0),u=n.cutX,f=n.cutY,d=n.cutWidth,c=n.cutHeight,m=n.realWidth,g=n.realHeight,x=Math.floor((m-i+l)/(e+l)),T=Math.floor((g-i+l)/(s+l)),S=n.x,P=e-S,L=e-(m-d-S),I=n.y,O=s-I,M=s-(g-c-I),w,D=i,U=i,Y=0,H=0,X=0;X<T;X++){for(var G=X===0,z=X===T-1,b=0;b<x;b++){var N=b===0,W=b===x-1;if(w=a.add(Y,H,u+D,f+U,e,s),N||G||W||z){var K=N?S:0,J=G?I:0,j=0,Z=0;N&&(j+=e-P),W&&(j+=e-L),G&&(Z+=s-O),z&&(Z+=s-M);var q=e-j,_=s-Z;w.cutWidth=q,w.cutHeight=_,w.setTrim(e,s,K,J,q,_)}D+=l,N?D+=P:W?D+=L:D+=e,Y++}D=i,U+=l,G?U+=O:z?U+=M:U+=s}return a};v.exports=p},86147:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=0,t=function(p,a,n,r){var e=y-r.y-r.height;p.add(n,a,r.x,e,r.width,r.height)},h=function(p,a,n){var r=p.source[a];p.add("__BASE",a,0,0,r.width,r.height),y=r.height;for(var e=n.split(`
`),s=/^[ ]*(- )*(\w+)+[: ]+(.*)/,o="",i="",l={x:0,y:0,width:0,height:0},u=0;u<e.length;u++){var f=e[u].match(s);if(f){var d=f[1]==="- ",c=f[2],m=f[3];if(d&&(i!==o&&(t(p,a,i,l),o=i),l={x:0,y:0,width:0,height:0}),c==="name"){i=m;continue}switch(c){case"x":case"y":case"width":case"height":l[c]=parseInt(m,10);break}}}return i!==o&&t(p,a,i,l),p};v.exports=h},55222:(v,y,t)=>{/**
 * @author       Ben Richards <benjamindrichards@gmail.com>
 * @copyright    2024 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(50030),p=function(o){for(var i=o.mipmaps,l=1;l<i.length;l++){var u=i[l].width,f=i[l].height;if(!h(u,f))return console.warn("Mip level "+l+" is not a power-of-two size: "+u+"x"+f),!1}var d=s[o.internalFormat];return d?d(o):(console.warn("No format checker found for internal format "+o.internalFormat+". Assuming valid."),!0)};function a(o){for(var i=o.mipmaps,l=0;l<i.length;l++){var u=i[l].width,f=i[l].height;if((u<<l)%4!==0||(f<<l)%4!==0)return console.warn("BPTC, RGTC, and S3TC dimensions must be a multiple of 4 pixels, and each successive mip level must be half the size of the previous level, rounded down. Mip level "+l+" is "+u+"x"+f),!1}return!0}function n(){return!0}function r(o){var i=o.mipmaps,l=i[0];return h(l.width,l.height)?!0:(console.warn("PVRTC base dimensions must be power of two. Base level is "+l.width+"x"+l.height),!1)}function e(o){var i=o.mipmaps,l=i[0];return l.width%4!==0||l.height%4!==0?(console.warn("S3TC SRGB base dimensions must be a multiple of 4 pixels. Base level is "+l.width+"x"+l.height+" pixels"),!1):!0}var s={37488:n,37489:n,37490:n,37491:n,37492:n,37493:n,37494:n,37495:n,37496:n,37497:n,36196:n,37808:n,37809:n,37810:n,37811:n,37812:n,37813:n,37814:n,37815:n,37816:n,37817:n,37818:n,37819:n,37820:n,37821:n,37840:n,37841:n,37842:n,37843:n,37844:n,37845:n,37846:n,37847:n,37848:n,37849:n,37850:n,37851:n,37852:n,37853:n,36492:a,36493:a,36494:a,36495:a,36283:a,36284:a,36285:a,36286:a,35840:r,35841:r,35842:r,35843:r,33776:a,33777:a,33778:a,33779:a,35916:e,35917:e,35918:e,35919:e};v.exports=p},61309:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={AtlasXML:t(89905),Canvas:t(72893),Image:t(4832),JSONArray:t(78566),JSONHash:t(39711),KTXParser:t(31403),PVRParser:t(82038),SpriteSheet:t(75549),SpriteSheetFromAtlas:t(47534),UnityYAML:t(86147)}},80341:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={CSV:0,TILED_JSON:1,ARRAY_2D:2,WELTMEISTER:3}},16536:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),p=new h({initialize:function(n,r,e,s,o,i,l){(e===void 0||e<=0)&&(e=32),(s===void 0||s<=0)&&(s=32),o===void 0&&(o=0),i===void 0&&(i=0),this.name=n,this.firstgid=r|0,this.imageWidth=e|0,this.imageHeight=s|0,this.imageMargin=o|0,this.imageSpacing=i|0,this.properties=l||{},this.images=[],this.total=0},containsImageIndex:function(a){return a>=this.firstgid&&a<this.firstgid+this.total},addImage:function(a,n){return this.images.push({gid:a,image:n}),this.total++,this}});v.exports=p},27462:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2021 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),p=new h({initialize:function(n){if(this.gids=[],n!==void 0)for(var r=0;r<n.length;++r)for(var e=n[r],s=0;s<e.total;++s)this.gids[e.firstgid+s]=e;this._gids=this.gids},enabled:{get:function(){return!!this.gids},set:function(a){this.gids=a?this._gids:void 0}},getTypeIncludingTile:function(a){if(a.type!==void 0&&a.type!=="")return a.type;if(!(!this.gids||a.gid===void 0)){var n=this.gids[a.gid];if(n){var r=n.getTileData(a.gid);if(r)return r.type}}},setTextureAndFrame:function(a,n,r,e){if(n===null&&this.gids&&e.gid!==void 0){var s=this.gids[e.gid];s&&(n===null&&s.image!==void 0&&(n=s.image.key),r===null&&(r=e.gid-s.firstgid),a.scene.textures.getFrame(n,r)||(n=null,r=null))}a.setTexture(n,r)},setPropertiesFromTiledObject:function(a,n){if(this.gids!==void 0&&n.gid!==void 0){var r=this.gids[n.gid];r!==void 0&&this.setFromJSON(a,r.getTileProperties(n.gid))}this.setFromJSON(a,n.properties)},setFromJSON:function(a,n){if(n){if(Array.isArray(n)){for(var r=0;r<n.length;r++){var e=n[r];a[e.name]!==void 0?a[e.name]=e.value:a.setData(e.name,e.value)}return}for(var s in n)a[s]!==void 0?a[s]=n[s]:a.setData(s,n[s])}}});v.exports=p},31989:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(80341),p=t(87010),a=t(46177),n=t(49075),r=function(e,s,o,i,l,u,f,d){o===void 0&&(o=32),i===void 0&&(i=32),l===void 0&&(l=10),u===void 0&&(u=10),d===void 0&&(d=!1);var c=null;if(Array.isArray(f)){var m=s!==void 0?s:"map";c=a(m,h.ARRAY_2D,f,o,i,d)}else if(s!==void 0){var g=e.cache.tilemap.get(s);g?c=a(s,g.format,g.data,o,i,d):console.warn("No map data found for key "+s)}return c===null&&(c=new p({tileWidth:o,tileHeight:i,width:l,height:u})),new n(e,c)};v.exports=r},23029:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),p=t(31401),a=t(91907),n=t(62644),r=t(93232),e=new h({Mixins:[p.AlphaSingle,p.Flip,p.Visible],initialize:function(o,i,l,u,f,d,c,m){this.layer=o,this.index=i,this.x=l,this.y=u,this.width=f,this.height=d,this.right,this.bottom,this.baseWidth=c!==void 0?c:f,this.baseHeight=m!==void 0?m:d,this.pixelX=0,this.pixelY=0,this.updatePixelXY(),this.properties={},this.rotation=0,this.collideLeft=!1,this.collideRight=!1,this.collideUp=!1,this.collideDown=!1,this.faceLeft=!1,this.faceRight=!1,this.faceTop=!1,this.faceBottom=!1,this.collisionCallback=void 0,this.collisionCallbackContext=this,this.tint=16777215,this.tintFill=!1,this.physics={}},containsPoint:function(s,o){return!(s<this.pixelX||o<this.pixelY||s>this.right||o>this.bottom)},copy:function(s){return this.index=s.index,this.alpha=s.alpha,this.properties=n(s.properties),this.visible=s.visible,this.setFlip(s.flipX,s.flipY),this.tint=s.tint,this.rotation=s.rotation,this.collideUp=s.collideUp,this.collideDown=s.collideDown,this.collideLeft=s.collideLeft,this.collideRight=s.collideRight,this.collisionCallback=s.collisionCallback,this.collisionCallbackContext=s.collisionCallbackContext,this},getCollisionGroup:function(){return this.tileset?this.tileset.getTileCollisionGroup(this.index):null},getTileData:function(){return this.tileset?this.tileset.getTileData(this.index):null},getLeft:function(s){var o=this.tilemapLayer;if(o){var i=o.tileToWorldXY(this.x,this.y,void 0,s);return i.x}return this.x*this.baseWidth},getRight:function(s){var o=this.tilemapLayer;return o?this.getLeft(s)+this.width*o.scaleX:this.getLeft(s)+this.width},getTop:function(s){var o=this.tilemapLayer;if(o){var i=o.tileToWorldXY(this.x,this.y,void 0,s);return i.y}return this.y*this.baseWidth-(this.height-this.baseHeight)},getBottom:function(s){var o=this.tilemapLayer;return o?this.getTop(s)+this.height*o.scaleY:this.getTop(s)+this.height},getBounds:function(s,o){return o===void 0&&(o=new r),o.x=this.getLeft(s),o.y=this.getTop(s),o.width=this.getRight(s)-o.x,o.height=this.getBottom(s)-o.y,o},getCenterX:function(s){return(this.getLeft(s)+this.getRight(s))/2},getCenterY:function(s){return(this.getTop(s)+this.getBottom(s))/2},intersects:function(s,o,i,l){return!(i<=this.pixelX||l<=this.pixelY||s>=this.right||o>=this.bottom)},isInteresting:function(s,o){return s&&o?this.canCollide||this.hasInterestingFace:s?this.collides:o?this.hasInterestingFace:!1},resetCollision:function(s){if(s===void 0&&(s=!0),this.collideLeft=!1,this.collideRight=!1,this.collideUp=!1,this.collideDown=!1,this.faceTop=!1,this.faceBottom=!1,this.faceLeft=!1,this.faceRight=!1,s){var o=this.tilemapLayer;o&&this.tilemapLayer.calculateFacesAt(this.x,this.y)}return this},resetFaces:function(){return this.faceTop=!1,this.faceBottom=!1,this.faceLeft=!1,this.faceRight=!1,this},setCollision:function(s,o,i,l,u){if(o===void 0&&(o=s),i===void 0&&(i=s),l===void 0&&(l=s),u===void 0&&(u=!0),this.collideLeft=s,this.collideRight=o,this.collideUp=i,this.collideDown=l,this.faceLeft=s,this.faceRight=o,this.faceTop=i,this.faceBottom=l,u){var f=this.tilemapLayer;f&&this.tilemapLayer.calculateFacesAt(this.x,this.y)}return this},setCollisionCallback:function(s,o){return s===null?(this.collisionCallback=void 0,this.collisionCallbackContext=void 0):(this.collisionCallback=s,this.collisionCallbackContext=o),this},setSize:function(s,o,i,l){return s!==void 0&&(this.width=s),o!==void 0&&(this.height=o),i!==void 0&&(this.baseWidth=i),l!==void 0&&(this.baseHeight=l),this.updatePixelXY(),this},updatePixelXY:function(){var s=this.layer.orientation;if(s===a.ORTHOGONAL)this.pixelX=this.x*this.baseWidth,this.pixelY=this.y*this.baseHeight;else if(s===a.ISOMETRIC)this.pixelX=(this.x-this.y)*this.baseWidth*.5,this.pixelY=(this.x+this.y)*this.baseHeight*.5;else if(s===a.STAGGERED)this.pixelX=this.x*this.baseWidth+this.y%2*(this.baseWidth/2),this.pixelY=this.y*(this.baseHeight/2);else if(s===a.HEXAGONAL){var o=this.layer.staggerAxis,i=this.layer.staggerIndex,l=this.layer.hexSideLength,u,f;o==="y"?(f=(this.baseHeight-l)/2+l,i==="odd"?this.pixelX=this.x*this.baseWidth+this.y%2*(this.baseWidth/2):this.pixelX=this.x*this.baseWidth-this.y%2*(this.baseWidth/2),this.pixelY=this.y*f):o==="x"&&(u=(this.baseWidth-l)/2+l,this.pixelX=this.x*u,i==="odd"?this.pixelY=this.y*this.baseHeight+this.x%2*(this.baseHeight/2):this.pixelY=this.y*this.baseHeight-this.x%2*(this.baseHeight/2))}return this.right=this.pixelX+this.baseWidth,this.bottom=this.pixelY+this.baseHeight,this},destroy:function(){this.collisionCallback=void 0,this.collisionCallbackContext=void 0,this.properties=void 0},canCollide:{get:function(){return this.collideLeft||this.collideRight||this.collideUp||this.collideDown||this.collisionCallback!==void 0}},collides:{get:function(){return this.collideLeft||this.collideRight||this.collideUp||this.collideDown}},hasInterestingFace:{get:function(){return this.faceTop||this.faceBottom||this.faceLeft||this.faceRight}},tileset:{get:function(){var s=this.layer.tilemapLayer;if(s){var o=s.gidMap[this.index];if(o)return o}return null}},tilemapLayer:{get:function(){return this.layer.tilemapLayer}},tilemap:{get:function(){var s=this.tilemapLayer;return s?s.tilemap:null}}});v.exports=e},49075:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(84101),p=t(83419),a=t(39506),n=t(80341),r=t(95540),e=t(14977),s=t(27462),o=t(91907),i=t(36305),l=t(19133),u=t(68287),f=t(23029),d=t(81086),c=t(20442),m=t(33629),g=new p({initialize:function(T,S){this.scene=T,this.tileWidth=S.tileWidth,this.tileHeight=S.tileHeight,this.width=S.width,this.height=S.height,this.orientation=S.orientation,this.renderOrder=S.renderOrder,this.format=S.format,this.version=S.version,this.properties=S.properties,this.widthInPixels=S.widthInPixels,this.heightInPixels=S.heightInPixels,this.imageCollections=S.imageCollections,this.images=S.images,this.layers=S.layers,this.tiles=S.tiles,this.tilesets=S.tilesets,this.objects=S.objects,this.currentLayerIndex=0,this.hexSideLength=S.hexSideLength;var P=this.orientation;this._convert={WorldToTileXY:d.GetWorldToTileXYFunction(P),WorldToTileX:d.GetWorldToTileXFunction(P),WorldToTileY:d.GetWorldToTileYFunction(P),TileToWorldXY:d.GetTileToWorldXYFunction(P),TileToWorldX:d.GetTileToWorldXFunction(P),TileToWorldY:d.GetTileToWorldYFunction(P),GetTileCorners:d.GetTileCornersFunction(P)}},setRenderOrder:function(x){var T=["right-down","left-down","right-up","left-up"];return typeof x=="number"&&(x=T[x]),T.indexOf(x)>-1&&(this.renderOrder=x),this},addTilesetImage:function(x,T,S,P,L,I,O,M){if(x===void 0)return null;T==null&&(T=x);var w=this.scene.sys.textures;if(!w.exists(T))return console.warn('Texture key "%s" not found',T),null;var D=w.get(T),U=this.getTilesetIndex(x);if(U===null&&this.format===n.TILED_JSON)return console.warn('Tilemap has no tileset "%s". Its tilesets are %o',x,this.tilesets),null;var Y=this.tilesets[U];return Y?((S||P)&&Y.setTileSize(S,P),(L||I)&&Y.setSpacing(L,I),Y.setImage(D),Y):(S===void 0&&(S=this.tileWidth),P===void 0&&(P=this.tileHeight),L===void 0&&(L=0),I===void 0&&(I=0),O===void 0&&(O=0),M===void 0&&(M={x:0,y:0}),Y=new m(x,O,S,P,L,I,void 0,void 0,M),Y.setImage(D),this.tilesets.push(Y),this.tiles=h(this),Y)},copy:function(x,T,S,P,L,I,O,M){return M=this.getLayer(M),M!==null?(d.Copy(x,T,S,P,L,I,O,M),this):null},createBlankLayer:function(x,T,S,P,L,I,O,M){S===void 0&&(S=0),P===void 0&&(P=0),L===void 0&&(L=this.width),I===void 0&&(I=this.height),O===void 0&&(O=this.tileWidth),M===void 0&&(M=this.tileHeight);var w=this.getLayerIndex(x);if(w!==null)return console.warn("Invalid Tilemap Layer ID: "+x),null;for(var D=new e({name:x,tileWidth:O,tileHeight:M,width:L,height:I,orientation:this.orientation}),U,Y=0;Y<I;Y++){U=[];for(var H=0;H<L;H++)U.push(new f(D,-1,H,Y,O,M,this.tileWidth,this.tileHeight));D.data.push(U)}this.layers.push(D),this.currentLayerIndex=this.layers.length-1;var X=new c(this.scene,this,this.currentLayerIndex,T,S,P);return X.setRenderOrder(this.renderOrder),this.scene.sys.displayList.add(X),X},createLayer:function(x,T,S,P){var L=this.getLayerIndex(x);if(L===null)return console.warn("Invalid Tilemap Layer ID: "+x),typeof x=="string"&&console.warn("Valid tilelayer names: %o",this.getTileLayerNames()),null;var I=this.layers[L];if(I.tilemapLayer)return console.warn("Tilemap Layer ID already exists:"+x),null;this.currentLayerIndex=L,S===void 0&&(S=I.x),P===void 0&&(P=I.y);var O=new c(this.scene,this,L,T,S,P);return O.setRenderOrder(this.renderOrder),this.scene.sys.displayList.add(O),O},createFromObjects:function(x,T,S){S===void 0&&(S=!0);var P=[],L=this.getObjectLayer(x);if(!L)return console.warn("createFromObjects: Invalid objectLayerName given: "+x),P;var I=new s(S?this.tilesets:void 0);Array.isArray(T)||(T=[T]);for(var O=L.objects,M=0;M<T.length;M++){var w=T[M],D=r(w,"id",null),U=r(w,"gid",null),Y=r(w,"name",null),H=r(w,"type",null);I.enabled=!r(w,"ignoreTileset",null);for(var X,G=[],z=0;z<O.length;z++)X=O[z],(D===null&&U===null&&Y===null&&H===null||D!==null&&X.id===D||U!==null&&X.gid===U||Y!==null&&X.name===Y||H!==null&&I.getTypeIncludingTile(X)===H)&&G.push(X);for(var b=r(w,"classType",u),N=r(w,"scene",this.scene),W=r(w,"container",null),K=r(w,"key",null),J=r(w,"frame",null),j=0;j<G.length;j++){X=G[j];var Z=new b(N);if(Z.setName(X.name),Z.setPosition(X.x,X.y),I.setTextureAndFrame(Z,K,J,X),X.width&&(Z.displayWidth=X.width),X.height&&(Z.displayHeight=X.height),this.orientation===o.ISOMETRIC){var q=this.tileWidth/this.tileHeight,_={x:Z.x-Z.y,y:(Z.x+Z.y)/q};Z.x=_.x,Z.y=_.y}var tt={x:Z.originX*X.width,y:(Z.originY-(X.gid?1:0))*X.height};if(X.rotation){var et=a(X.rotation);i(tt,et),Z.rotation=et}Z.x+=tt.x,Z.y+=tt.y,(X.flippedHorizontal!==void 0||X.flippedVertical!==void 0)&&Z.setFlip(X.flippedHorizontal,X.flippedVertical),X.visible||(Z.visible=!1),I.setPropertiesFromTiledObject(Z,X),W?W.add(Z):N.add.existing(Z),P.push(Z)}}return P},createFromTiles:function(x,T,S,P,L,I){return I=this.getLayer(I),I===null?null:d.CreateFromTiles(x,T,S,P,L,I)},fill:function(x,T,S,P,L,I,O){return I===void 0&&(I=!0),O=this.getLayer(O),O===null?null:(d.Fill(x,T,S,P,L,I,O),this)},filterObjects:function(x,T,S){if(typeof x=="string"){var P=x;if(x=this.getObjectLayer(x),!x)return console.warn("No object layer found with the name: "+P),null}return x.objects.filter(T,S)},filterTiles:function(x,T,S,P,L,I,O,M){return M=this.getLayer(M),M===null?null:d.FilterTiles(x,T,S,P,L,I,O,M)},findByIndex:function(x,T,S,P){return P=this.getLayer(P),P===null?null:d.FindByIndex(x,T,S,P)},findObject:function(x,T,S){if(typeof x=="string"){var P=x;if(x=this.getObjectLayer(x),!x)return console.warn("No object layer found with the name: "+P),null}return x.objects.find(T,S)||null},findTile:function(x,T,S,P,L,I,O,M){return M=this.getLayer(M),M===null?null:d.FindTile(x,T,S,P,L,I,O,M)},forEachTile:function(x,T,S,P,L,I,O,M){return M=this.getLayer(M),M===null?null:(d.ForEachTile(x,T,S,P,L,I,O,M),this)},getImageIndex:function(x){return this.getIndex(this.images,x)},getImageLayerNames:function(){return!this.images||!Array.isArray(this.images)?[]:this.images.map(function(x){return x.name})},getIndex:function(x,T){for(var S=0;S<x.length;S++)if(x[S].name===T)return S;return null},getLayer:function(x){var T=this.getLayerIndex(x);return T!==null?this.layers[T]:null},getObjectLayer:function(x){var T=this.getIndex(this.objects,x);return T!==null?this.objects[T]:null},getObjectLayerNames:function(){return!this.objects||!Array.isArray(this.objects)?[]:this.objects.map(function(x){return x.name})},getLayerIndex:function(x){return x===void 0?this.currentLayerIndex:typeof x=="string"?this.getLayerIndexByName(x):typeof x=="number"&&x<this.layers.length?x:x instanceof c&&x.tilemap===this?x.layerIndex:null},getLayerIndexByName:function(x){return this.getIndex(this.layers,x)},getTileAt:function(x,T,S,P){return P=this.getLayer(P),P===null?null:d.GetTileAt(x,T,S,P)},getTileAtWorldXY:function(x,T,S,P,L){return L=this.getLayer(L),L===null?null:d.GetTileAtWorldXY(x,T,S,P,L)},getTileLayerNames:function(){return!this.layers||!Array.isArray(this.layers)?[]:this.layers.map(function(x){return x.name})},getTilesWithin:function(x,T,S,P,L,I){return I=this.getLayer(I),I===null?null:d.GetTilesWithin(x,T,S,P,L,I)},getTilesWithinShape:function(x,T,S,P){return P=this.getLayer(P),P===null?null:d.GetTilesWithinShape(x,T,S,P)},getTilesWithinWorldXY:function(x,T,S,P,L,I,O){return O=this.getLayer(O),O===null?null:d.GetTilesWithinWorldXY(x,T,S,P,L,I,O)},getTileset:function(x){var T=this.getIndex(this.tilesets,x);return T!==null?this.tilesets[T]:null},getTilesetIndex:function(x){return this.getIndex(this.tilesets,x)},hasTileAt:function(x,T,S){return S=this.getLayer(S),S===null?null:d.HasTileAt(x,T,S)},hasTileAtWorldXY:function(x,T,S,P){return P=this.getLayer(P),P===null?null:d.HasTileAtWorldXY(x,T,S,P)},layer:{get:function(){return this.layers[this.currentLayerIndex]},set:function(x){this.setLayer(x)}},putTileAt:function(x,T,S,P,L){return P===void 0&&(P=!0),L=this.getLayer(L),L===null?null:d.PutTileAt(x,T,S,P,L)},putTileAtWorldXY:function(x,T,S,P,L,I){return P===void 0&&(P=!0),I=this.getLayer(I),I===null?null:d.PutTileAtWorldXY(x,T,S,P,L,I)},putTilesAt:function(x,T,S,P,L){return P===void 0&&(P=!0),L=this.getLayer(L),L===null?null:(d.PutTilesAt(x,T,S,P,L),this)},randomize:function(x,T,S,P,L,I){return I=this.getLayer(I),I===null?null:(d.Randomize(x,T,S,P,L,I),this)},calculateFacesAt:function(x,T,S){return S=this.getLayer(S),S===null?null:(d.CalculateFacesAt(x,T,S),this)},calculateFacesWithin:function(x,T,S,P,L){return L=this.getLayer(L),L===null?null:(d.CalculateFacesWithin(x,T,S,P,L),this)},removeLayer:function(x){var T=this.getLayerIndex(x);if(T!==null){l(this.layers,T);for(var S=T;S<this.layers.length;S++)this.layers[S].tilemapLayer&&this.layers[S].tilemapLayer.layerIndex--;return this.currentLayerIndex===T&&(this.currentLayerIndex=0),this}else return null},destroyLayer:function(x){var T=this.getLayerIndex(x);return T!==null?(x=this.layers[T],x.tilemapLayer.destroy(),l(this.layers,T),this.currentLayerIndex===T&&(this.currentLayerIndex=0),this):null},removeAllLayers:function(){for(var x=this.layers,T=0;T<x.length;T++)x[T].tilemapLayer&&x[T].tilemapLayer.destroy(!1);return x.length=0,this.currentLayerIndex=0,this},removeTile:function(x,T,S){T===void 0&&(T=-1),S===void 0&&(S=!0);var P=[];Array.isArray(x)||(x=[x]);for(var L=0;L<x.length;L++){var I=x[L];P.push(this.removeTileAt(I.x,I.y,!0,S,I.tilemapLayer)),T>-1&&this.putTileAt(T,I.x,I.y,S,I.tilemapLayer)}return P},removeTileAt:function(x,T,S,P,L){return S===void 0&&(S=!0),P===void 0&&(P=!0),L=this.getLayer(L),L===null?null:d.RemoveTileAt(x,T,S,P,L)},removeTileAtWorldXY:function(x,T,S,P,L,I){return S===void 0&&(S=!0),P===void 0&&(P=!0),I=this.getLayer(I),I===null?null:d.RemoveTileAtWorldXY(x,T,S,P,L,I)},renderDebug:function(x,T,S){return S=this.getLayer(S),S===null?null:(this.orientation===o.ORTHOGONAL&&d.RenderDebug(x,T,S),this)},renderDebugFull:function(x,T){for(var S=this.layers,P=0;P<S.length;P++)d.RenderDebug(x,T,S[P]);return this},replaceByIndex:function(x,T,S,P,L,I,O){return O=this.getLayer(O),O===null?null:(d.ReplaceByIndex(x,T,S,P,L,I,O),this)},setCollision:function(x,T,S,P,L){return T===void 0&&(T=!0),S===void 0&&(S=!0),L===void 0&&(L=!0),P=this.getLayer(P),P===null?null:(d.SetCollision(x,T,S,P,L),this)},setCollisionBetween:function(x,T,S,P,L){return S===void 0&&(S=!0),P===void 0&&(P=!0),L=this.getLayer(L),L===null?null:(d.SetCollisionBetween(x,T,S,P,L),this)},setCollisionByProperty:function(x,T,S,P){return T===void 0&&(T=!0),S===void 0&&(S=!0),P=this.getLayer(P),P===null?null:(d.SetCollisionByProperty(x,T,S,P),this)},setCollisionByExclusion:function(x,T,S,P){return T===void 0&&(T=!0),S===void 0&&(S=!0),P=this.getLayer(P),P===null?null:(d.SetCollisionByExclusion(x,T,S,P),this)},setCollisionFromCollisionGroup:function(x,T,S){return x===void 0&&(x=!0),T===void 0&&(T=!0),S=this.getLayer(S),S===null?null:(d.SetCollisionFromCollisionGroup(x,T,S),this)},setTileIndexCallback:function(x,T,S,P){return P=this.getLayer(P),P===null?null:(d.SetTileIndexCallback(x,T,S,P),this)},setTileLocationCallback:function(x,T,S,P,L,I,O){return O=this.getLayer(O),O===null?null:(d.SetTileLocationCallback(x,T,S,P,L,I,O),this)},setLayer:function(x){var T=this.getLayerIndex(x);return T!==null&&(this.currentLayerIndex=T),this},setBaseTileSize:function(x,T){this.tileWidth=x,this.tileHeight=T,this.widthInPixels=this.width*x,this.heightInPixels=this.height*T;for(var S=0;S<this.layers.length;S++){this.layers[S].baseTileWidth=x,this.layers[S].baseTileHeight=T;for(var P=this.layers[S].data,L=this.layers[S].width,I=this.layers[S].height,O=0;O<I;O++)for(var M=0;M<L;M++){var w=P[O][M];w!==null&&w.setSize(void 0,void 0,x,T)}}return this},setLayerTileSize:function(x,T,S){if(S=this.getLayer(S),S===null)return this;S.tileWidth=x,S.tileHeight=T;for(var P=S.data,L=S.width,I=S.height,O=0;O<I;O++)for(var M=0;M<L;M++){var w=P[O][M];w!==null&&w.setSize(x,T)}return this},shuffle:function(x,T,S,P,L){return L=this.getLayer(L),L===null?null:(d.Shuffle(x,T,S,P,L),this)},swapByIndex:function(x,T,S,P,L,I,O){return O=this.getLayer(O),O===null?null:(d.SwapByIndex(x,T,S,P,L,I,O),this)},tileToWorldX:function(x,T,S){return S=this.getLayer(S),S===null?null:this._convert.TileToWorldX(x,T,S)},tileToWorldY:function(x,T,S){return S=this.getLayer(S),S===null?null:this._convert.TileToWorldY(x,T,S)},tileToWorldXY:function(x,T,S,P,L){return L=this.getLayer(L),L===null?null:this._convert.TileToWorldXY(x,T,S,P,L)},getTileCorners:function(x,T,S,P){return P=this.getLayer(P),P===null?null:this._convert.GetTileCorners(x,T,S,P)},weightedRandomize:function(x,T,S,P,L,I){return I=this.getLayer(I),I===null?null:(d.WeightedRandomize(T,S,P,L,x,I),this)},worldToTileX:function(x,T,S,P){return P=this.getLayer(P),P===null?null:this._convert.WorldToTileX(x,T,S,P)},worldToTileY:function(x,T,S,P){return P=this.getLayer(P),P===null?null:this._convert.WorldToTileY(x,T,S,P)},worldToTileXY:function(x,T,S,P,L,I){return I=this.getLayer(I),I===null?null:this._convert.WorldToTileXY(x,T,S,P,L,I)},destroy:function(){this.removeAllLayers(),this.tiles.length=0,this.tilesets.length=0,this.objects.length=0,this.scene=null}});v.exports=g},45939:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(44603),p=t(31989);h.register("tilemap",function(a){var n=a!==void 0?a:{};return p(this.scene,n.key,n.tileWidth,n.tileHeight,n.width,n.height,n.data,n.insertNull)})},46029:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(39429),p=t(31989);h.register("tilemap",function(a,n,r,e,s,o,i){return a===null&&(a=void 0),n===null&&(n=void 0),r===null&&(r=void 0),e===null&&(e=void 0),s===null&&(s=void 0),p(this.scene,a,n,r,e,s,o,i)})},20442:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),p=t(78389),a=t(31401),n=t(95643),r=t(81086),e=t(19218),s=t(26099),o=new h({Extends:n,Mixins:[a.Alpha,a.BlendMode,a.ComputedSize,a.Depth,a.Flip,a.GetBounds,a.Mask,a.Origin,a.Pipeline,a.PostPipeline,a.Transform,a.Visible,a.ScrollFactor,p,e],initialize:function(l,u,f,d,c,m){n.call(this,l,"TilemapLayer"),this.isTilemap=!0,this.tilemap=u,this.layerIndex=f,this.layer=u.layers[f],this.layer.tilemapLayer=this,this.tileset=[],this.tilesDrawn=0,this.tilesTotal=this.layer.width*this.layer.height,this.culledTiles=[],this.skipCull=!1,this.cullPaddingX=1,this.cullPaddingY=1,this.cullCallback=r.GetCullTilesFunction(this.layer.orientation),this._renderOrder=0,this.gidMap=[],this.tempVec=new s,this.collisionCategory=1,this.collisionMask=1,this.setTilesets(d),this.setAlpha(this.layer.alpha),this.setPosition(c,m),this.setOrigin(0,0),this.setSize(u.tileWidth*this.layer.width,u.tileHeight*this.layer.height),this.initPipeline(),this.initPostPipeline(!1)},setTilesets:function(i){var l=[],u=[],f=this.tilemap;Array.isArray(i)||(i=[i]);for(var d=0;d<i.length;d++){var c=i[d];if(typeof c=="string"&&(c=f.getTileset(c)),c){u.push(c);for(var m=c.firstgid,g=0;g<c.total;g++)l[m+g]=c}}this.gidMap=l,this.tileset=u},setRenderOrder:function(i){var l=["right-down","left-down","right-up","left-up"];return typeof i=="string"&&(i=l.indexOf(i)),i>=0&&i<4&&(this._renderOrder=i),this},calculateFacesAt:function(i,l){return r.CalculateFacesAt(i,l,this.layer),this},calculateFacesWithin:function(i,l,u,f){return r.CalculateFacesWithin(i,l,u,f,this.layer),this},createFromTiles:function(i,l,u,f,d){return r.CreateFromTiles(i,l,u,f,d,this.layer)},cull:function(i){return this.cullCallback(this.layer,i,this.culledTiles,this._renderOrder)},copy:function(i,l,u,f,d,c,m){return r.Copy(i,l,u,f,d,c,m,this.layer),this},fill:function(i,l,u,f,d,c){return r.Fill(i,l,u,f,d,c,this.layer),this},filterTiles:function(i,l,u,f,d,c,m){return r.FilterTiles(i,l,u,f,d,c,m,this.layer)},findByIndex:function(i,l,u){return r.FindByIndex(i,l,u,this.layer)},findTile:function(i,l,u,f,d,c,m){return r.FindTile(i,l,u,f,d,c,m,this.layer)},forEachTile:function(i,l,u,f,d,c,m){return r.ForEachTile(i,l,u,f,d,c,m,this.layer),this},setTint:function(i,l,u,f,d,c){i===void 0&&(i=16777215);var m=function(g){g.tint=i,g.tintFill=!1};return this.forEachTile(m,this,l,u,f,d,c)},setTintFill:function(i,l,u,f,d,c){i===void 0&&(i=16777215);var m=function(g){g.tint=i,g.tintFill=!0};return this.forEachTile(m,this,l,u,f,d,c)},getTileAt:function(i,l,u){return r.GetTileAt(i,l,u,this.layer)},getTileAtWorldXY:function(i,l,u,f){return r.GetTileAtWorldXY(i,l,u,f,this.layer)},getIsoTileAtWorldXY:function(i,l,u,f,d){u===void 0&&(u=!0);var c=this.tempVec;return r.IsometricWorldToTileXY(i,l,!0,c,d,this.layer,u),this.getTileAt(c.x,c.y,f)},getTilesWithin:function(i,l,u,f,d){return r.GetTilesWithin(i,l,u,f,d,this.layer)},getTilesWithinShape:function(i,l,u){return r.GetTilesWithinShape(i,l,u,this.layer)},getTilesWithinWorldXY:function(i,l,u,f,d,c){return r.GetTilesWithinWorldXY(i,l,u,f,d,c,this.layer)},hasTileAt:function(i,l){return r.HasTileAt(i,l,this.layer)},hasTileAtWorldXY:function(i,l,u){return r.HasTileAtWorldXY(i,l,u,this.layer)},putTileAt:function(i,l,u,f){return r.PutTileAt(i,l,u,f,this.layer)},putTileAtWorldXY:function(i,l,u,f,d){return r.PutTileAtWorldXY(i,l,u,f,d,this.layer)},putTilesAt:function(i,l,u,f){return r.PutTilesAt(i,l,u,f,this.layer),this},randomize:function(i,l,u,f,d){return r.Randomize(i,l,u,f,d,this.layer),this},removeTileAt:function(i,l,u,f){return r.RemoveTileAt(i,l,u,f,this.layer)},removeTileAtWorldXY:function(i,l,u,f,d){return r.RemoveTileAtWorldXY(i,l,u,f,d,this.layer)},renderDebug:function(i,l){return r.RenderDebug(i,l,this.layer),this},replaceByIndex:function(i,l,u,f,d,c){return r.ReplaceByIndex(i,l,u,f,d,c,this.layer),this},setSkipCull:function(i){return i===void 0&&(i=!0),this.skipCull=i,this},setCullPadding:function(i,l){return i===void 0&&(i=1),l===void 0&&(l=1),this.cullPaddingX=i,this.cullPaddingY=l,this},setCollision:function(i,l,u,f){return r.SetCollision(i,l,u,this.layer,f),this},setCollisionBetween:function(i,l,u,f){return r.SetCollisionBetween(i,l,u,f,this.layer),this},setCollisionByProperty:function(i,l,u){return r.SetCollisionByProperty(i,l,u,this.layer),this},setCollisionByExclusion:function(i,l,u){return r.SetCollisionByExclusion(i,l,u,this.layer),this},setCollisionFromCollisionGroup:function(i,l){return r.SetCollisionFromCollisionGroup(i,l,this.layer),this},setTileIndexCallback:function(i,l,u){return r.SetTileIndexCallback(i,l,u,this.layer),this},setTileLocationCallback:function(i,l,u,f,d,c){return r.SetTileLocationCallback(i,l,u,f,d,c,this.layer),this},shuffle:function(i,l,u,f){return r.Shuffle(i,l,u,f,this.layer),this},swapByIndex:function(i,l,u,f,d,c){return r.SwapByIndex(i,l,u,f,d,c,this.layer),this},tileToWorldX:function(i,l){return this.tilemap.tileToWorldX(i,l,this)},tileToWorldY:function(i,l){return this.tilemap.tileToWorldY(i,l,this)},tileToWorldXY:function(i,l,u,f){return this.tilemap.tileToWorldXY(i,l,u,f,this)},getTileCorners:function(i,l,u){return this.tilemap.getTileCorners(i,l,u,this)},weightedRandomize:function(i,l,u,f,d){return r.WeightedRandomize(l,u,f,d,i,this.layer),this},worldToTileX:function(i,l,u){return this.tilemap.worldToTileX(i,l,u,this)},worldToTileY:function(i,l,u){return this.tilemap.worldToTileY(i,l,u,this)},worldToTileXY:function(i,l,u,f,d){return this.tilemap.worldToTileXY(i,l,u,f,d,this)},destroy:function(i){i===void 0&&(i=!0),this.tilemap&&(this.layer.tilemapLayer===this&&(this.layer.tilemapLayer=void 0),i&&this.tilemap.removeLayer(this),this.tilemap=void 0,this.layer=void 0,this.culledTiles.length=0,this.cullCallback=null,this.gidMap=[],this.tileset=[],n.prototype.destroy.call(this))}});v.exports=o},16153:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(61340),p=new h,a=new h,n=new h,r=function(e,s,o,i){var l=s.cull(o),u=l.length,f=o.alpha*s.alpha;if(!(u===0||f<=0)){var d=p,c=a,m=n;c.applyITRS(s.x,s.y,s.rotation,s.scaleX,s.scaleY),d.copyFrom(o.matrix);var g=e.currentContext,x=s.gidMap;g.save(),i?(d.multiplyWithOffset(i,-o.scrollX*s.scrollFactorX,-o.scrollY*s.scrollFactorY),c.e=s.x,c.f=s.y,d.multiply(c,m),m.copyToContext(g)):(c.e-=o.scrollX*s.scrollFactorX,c.f-=o.scrollY*s.scrollFactorY,c.copyToContext(g)),(!e.antialias||s.scaleX>1||s.scaleY>1)&&(g.imageSmoothingEnabled=!1);for(var T=0;T<u;T++){var S=l[T],P=x[S.index];if(P){var L=P.image.getSourceImage(),I=P.getTileTextureCoordinates(S.index),O=P.tileWidth,M=P.tileHeight;if(!(I===null||O===0||M===0)){var w=O*.5,D=M*.5;I.x+=P.tileOffset.x,I.y+=P.tileOffset.y,g.save(),g.translate(S.pixelX+w,S.pixelY+D),S.rotation!==0&&g.rotate(S.rotation),(S.flipX||S.flipY)&&g.scale(S.flipX?-1:1,S.flipY?-1:1),g.globalAlpha=f*S.alpha,g.drawImage(L,I.x,I.y,O,M,-w,-D,O,M),g.restore()}}}g.restore()}};v.exports=r},19218:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(29747),p=h,a=h;p=t(99558),a=t(16153),v.exports={renderWebGL:p,renderCanvas:a}},99558:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(70554),p=function(a,n,r){var e=n.cull(r),s=e.length,o=r.alpha*n.alpha;if(!(s===0||o<=0)){var i=n.gidMap,l=a.pipelines.set(n.pipeline,n),u=h.getTintAppendFloatAlpha,f=n.scrollFactorX,d=n.scrollFactorY,c=n.x,m=n.y,g=n.scaleX,x=n.scaleY;a.pipelines.preBatch(n);for(var T=0;T<s;T++){var S=e[T],P=i[S.index];if(P){var L=P.getTileTextureCoordinates(S.index),I=P.tileWidth,O=P.tileHeight;if(!(!L||I===0||O===0)){var M=I*.5,w=O*.5,D=P.glTexture,U=l.setTexture2D(D,n),Y=I,H=O,X=L.x,G=L.y,z=P.tileOffset.x,b=P.tileOffset.y,N=u(S.tint,o*S.alpha);l.batchTexture(n,D,D.width,D.height,c+S.pixelX*g+(M*g-z),m+S.pixelY*x+(w*x-b),I,O,g,x,S.rotation,S.flipX,S.flipY,f,d,M,w,X,G,Y,H,N,N,N,N,S.tintFill,0,0,r,null,!0,U,!0)}}}a.pipelines.postBatch(n)}};v.exports=p},33629:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),p=t(26099),a=new h({initialize:function(r,e,s,o,i,l,u,f,d){(s===void 0||s<=0)&&(s=32),(o===void 0||o<=0)&&(o=32),i===void 0&&(i=0),l===void 0&&(l=0),u===void 0&&(u={}),f===void 0&&(f={}),this.name=r,this.firstgid=e,this.tileWidth=s,this.tileHeight=o,this.tileMargin=i,this.tileSpacing=l,this.tileProperties=u,this.tileData=f,this.tileOffset=new p,d!==void 0&&this.tileOffset.set(d.x,d.y),this.image=null,this.glTexture=null,this.rows=0,this.columns=0,this.total=0,this.texCoordinates=[]},getTileProperties:function(n){return this.containsTileIndex(n)?this.tileProperties[n-this.firstgid]:null},getTileData:function(n){return this.containsTileIndex(n)?this.tileData[n-this.firstgid]:null},getTileCollisionGroup:function(n){var r=this.getTileData(n);return r&&r.objectgroup?r.objectgroup:null},containsTileIndex:function(n){return n>=this.firstgid&&n<this.firstgid+this.total},getTileTextureCoordinates:function(n){return this.containsTileIndex(n)?this.texCoordinates[n-this.firstgid]:null},setImage:function(n){this.image=n;var r=n.get(),e=n.getFrameBounds();return this.glTexture=r.source.glTexture,r.width>e.width||r.height>e.height?this.updateTileData(r.width,r.height):this.updateTileData(e.width,e.height,e.x,e.y),this},setTileSize:function(n,r){return n!==void 0&&(this.tileWidth=n),r!==void 0&&(this.tileHeight=r),this.image&&this.updateTileData(this.image.source[0].width,this.image.source[0].height),this},setSpacing:function(n,r){return n!==void 0&&(this.tileMargin=n),r!==void 0&&(this.tileSpacing=r),this.image&&this.updateTileData(this.image.source[0].width,this.image.source[0].height),this},updateTileData:function(n,r,e,s){e===void 0&&(e=0),s===void 0&&(s=0);var o=(r-this.tileMargin*2+this.tileSpacing)/(this.tileHeight+this.tileSpacing),i=(n-this.tileMargin*2+this.tileSpacing)/(this.tileWidth+this.tileSpacing);(o%1!==0||i%1!==0)&&console.warn("Image tile area not tile size multiple in: "+this.name),o=Math.floor(o),i=Math.floor(i),this.rows=o,this.columns=i,this.total=o*i,this.texCoordinates.length=0;for(var l=this.tileMargin+e,u=this.tileMargin+s,f=0;f<this.rows;f++){for(var d=0;d<this.columns;d++)this.texCoordinates.push({x:l,y:u}),l+=this.tileWidth+this.tileSpacing;l=this.tileMargin+e,u+=this.tileHeight+this.tileSpacing}return this}});v.exports=a},72023:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(7423),p=function(a,n,r){var e=h(a,n,!0,r),s=h(a,n-1,!0,r),o=h(a,n+1,!0,r),i=h(a-1,n,!0,r),l=h(a+1,n,!0,r),u=e&&e.collides;return u&&(e.faceTop=!0,e.faceBottom=!0,e.faceLeft=!0,e.faceRight=!0),s&&s.collides&&(u&&(e.faceTop=!1),s.faceBottom=!u),o&&o.collides&&(u&&(e.faceBottom=!1),o.faceTop=!u),i&&i.collides&&(u&&(e.faceLeft=!1),i.faceRight=!u),l&&l.collides&&(u&&(e.faceRight=!1),l.faceLeft=!u),e&&!e.collides&&e.resetFaces(),e};v.exports=p},42573:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(7423),p=t(7386),a=function(n,r,e,s,o){for(var i=null,l=null,u=null,f=null,d=p(n,r,e,s,null,o),c=0;c<d.length;c++){var m=d[c];m&&(m.collides?(i=h(m.x,m.y-1,!0,o),l=h(m.x,m.y+1,!0,o),u=h(m.x-1,m.y,!0,o),f=h(m.x+1,m.y,!0,o),m.faceTop=!(i&&i.collides),m.faceBottom=!(l&&l.collides),m.faceLeft=!(u&&u.collides),m.faceRight=!(f&&f.collides)):m.resetFaces())}};v.exports=a},33528:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(26099),p=new h,a=function(n,r,e,s){var o=e.tilemapLayer,i=o.cullPaddingX,l=o.cullPaddingY,u=o.tilemap.tileToWorldXY(n,r,p,s,o);return u.x>s.worldView.x+o.scaleX*e.tileWidth*(-i-.5)&&u.x<s.worldView.right+o.scaleX*e.tileWidth*(i-.5)&&u.y>s.worldView.y+o.scaleY*e.tileHeight*(-l-1)&&u.y<s.worldView.bottom+o.scaleY*e.tileHeight*(l-.5)};v.exports=a},1785:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(42573),p=t(7386),a=t(62991),n=t(23029),r=function(e,s,o,i,l,u,f,d){f===void 0&&(f=!0);var c=p(e,s,o,i,null,d),m=[];c.forEach(function(I){var O=new n(I.layer,I.index,I.x,I.y,I.width,I.height,I.baseWidth,I.baseHeight);O.copy(I),m.push(O)});for(var g=l-e,x=u-s,T=0;T<m.length;T++){var S=m[T],P=S.x+g,L=S.y+x;a(P,L,d)&&d.data[L][P]&&(S.x=P,S.y=L,S.updatePixelXY(),d.data[L][P]=S)}f&&h(l-1,u-1,o+2,i+2,d),c.length=0,m.length=0};v.exports=r},78419:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(62644),p=t(7386),a=t(27987),n=function(r,e,s,o,i,l){s||(s={}),Array.isArray(r)||(r=[r]);var u=l.tilemapLayer;o||(o=u.scene),i||(i=o.cameras.main);var f=l.width,d=l.height,c=p(0,0,f,d,null,l),m=[],g,x=function(L,I,O){for(var M=0;M<O.length;M++){var w=O[M];L.hasOwnProperty(w)||(L[w]=I[w])}};for(g=0;g<c.length;g++){var T=c[g],S=h(s);if(r.indexOf(T.index)!==-1){var P=u.tileToWorldXY(T.x,T.y,void 0,i,l);S.x=P.x,S.y=P.y,x(S,T,["rotation","flipX","flipY","alpha","visible","tint"]),S.hasOwnProperty("origin")||(S.x+=T.width*.5,S.y+=T.height*.5),S.hasOwnProperty("useSpriteSheet")&&(S.key=T.tileset.image,S.frame=T.index-1),m.push(o.make.sprite(S))}}if(Array.isArray(e))for(g=0;g<r.length;g++)a(r[g],e[g],0,0,f,d,l);else if(e!==null)for(g=0;g<r.length;g++)a(r[g],e,0,0,f,d,l);return m};v.exports=n},19545:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(87841),p=t(63448),a=t(56583),n=new h,r=function(e,s){var o=e.tilemapLayer.tilemap,i=e.tilemapLayer,l=Math.floor(o.tileWidth*i.scaleX),u=Math.floor(o.tileHeight*i.scaleY),f=a(s.worldView.x-i.x,l,0,!0)-i.cullPaddingX,d=p(s.worldView.right-i.x,l,0,!0)+i.cullPaddingX,c=a(s.worldView.y-i.y,u,0,!0)-i.cullPaddingY,m=p(s.worldView.bottom-i.y,u,0,!0)+i.cullPaddingY;return n.setTo(f,c,d-f,m-c)};v.exports=r},30003:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(19545),p=t(32483),a=function(n,r,e,s){e===void 0&&(e=[]),s===void 0&&(s=0),e.length=0;var o=n.tilemapLayer,i=h(n,r);return(o.skipCull||o.scrollFactorX!==1||o.scrollFactorY!==1)&&(i.left=0,i.right=n.width,i.top=0,i.bottom=n.height),p(n,i,s,e),e};v.exports=a},35137:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(7386),p=t(42573),a=t(20576),n=function(r,e,s,o,i,l,u){for(var f=u.collideIndexes.indexOf(r)!==-1,d=h(e,s,o,i,null,u),c=0;c<d.length;c++)d[c].index=r,a(d[c],f);l&&p(e-1,s-1,o+2,i+2,u)};v.exports=n},40253:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(7386),p=function(a,n,r,e,s,o,i,l){var u=h(r,e,s,o,i,l);return u.filter(a,n)};v.exports=p},52692:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,h,p,a){h===void 0&&(h=0),p===void 0&&(p=!1);var n=0,r,e,s;if(p){for(e=a.height-1;e>=0;e--)for(r=a.width-1;r>=0;r--)if(s=a.data[e][r],s&&s.index===t){if(n===h)return s;n+=1}}else for(e=0;e<a.height;e++)for(r=0;r<a.width;r++)if(s=a.data[e][r],s&&s.index===t){if(n===h)return s;n+=1}return null};v.exports=y},66151:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(7386),p=function(a,n,r,e,s,o,i,l){var u=h(r,e,s,o,i,l);return u.find(a,n)||null};v.exports=p},97560:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(7386),p=function(a,n,r,e,s,o,i,l){var u=h(r,e,s,o,i,l);u.forEach(a,n)};v.exports=p},43305:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(91907),p=t(30003),a=t(9474),n=t(14018),r=t(29747),e=t(54503),s=function(o){return o===h.ORTHOGONAL?p:o===h.HEXAGONAL?a:o===h.STAGGERED?e:o===h.ISOMETRIC?n:r};v.exports=s},7423:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(62991),p=function(a,n,r,e){if(h(a,n,e)){var s=e.data[n][a]||null;return s?s.index===-1?r?s:null:s:null}else return null};v.exports=p},60540:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(7423),p=t(26099),a=new p,n=function(r,e,s,o,i){return i.tilemapLayer.worldToTileXY(r,e,!0,a,o),h(a.x,a.y,s,i)};v.exports=n},55826:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(26099),p=function(a,n,r,e){var s=e.baseTileWidth,o=e.baseTileHeight,i=e.tilemapLayer,l=0,u=0;i&&(r||(r=i.scene.cameras.main),l=i.x+r.scrollX*(1-i.scrollFactorX),u=i.y+r.scrollY*(1-i.scrollFactorY),s*=i.scaleX,o*=i.scaleY);var f=l+a*s,d=u+n*o;return[new h(f,d),new h(f+s,d),new h(f+s,d+o),new h(f,d+o)]};v.exports=p},11758:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(91907),p=t(27229),a=t(29747),n=t(55826),r=function(e){return e===h.ORTHOGONAL?n:e===h.ISOMETRIC?a:e===h.HEXAGONAL?p:(e===h.STAGGERED,a)};v.exports=r},39167:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(91907),p=t(29747),a=t(97281),n=function(r){return r===h.ORTHOGONAL?a:p};v.exports=n},62e3:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(91907),p=t(19951),a=t(14127),n=t(29747),r=t(97202),e=t(70326),s=function(o){return o===h.ORTHOGONAL?e:o===h.ISOMETRIC?a:o===h.HEXAGONAL?p:o===h.STAGGERED?r:n};v.exports=s},5984:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(91907),p=t(29747),a=t(28054),n=t(29650),r=function(e){return e===h.ORTHOGONAL?n:e===h.STAGGERED?a:p};v.exports=r},7386:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(95540),p=function(a,n,r,e,s,o){a===void 0&&(a=0),n===void 0&&(n=0),r===void 0&&(r=o.width),e===void 0&&(e=o.height),s||(s={});var i=h(s,"isNotEmpty",!1),l=h(s,"isColliding",!1),u=h(s,"hasInterestingFace",!1);a<0&&(r+=a,a=0),n<0&&(e+=n,n=0),a+r>o.width&&(r=Math.max(o.width-a,0)),n+e>o.height&&(e=Math.max(o.height-n,0));for(var f=[],d=n;d<n+e;d++)for(var c=a;c<a+r;c++){var m=o.data[d][c];if(m!==null){if(i&&m.index===-1||l&&!m.collides||u&&!m.hasInterestingFace)continue;f.push(m)}}return f};v.exports=p},91141:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(55738),p=t(7386),a=t(91865),n=t(29747),r=t(26099),e=function(u,f){return a.RectangleToTriangle(f,u)},s=new r,o=new r,i=new r,l=function(u,f,d,c){if(u===void 0)return[];var m=n;u instanceof h.Circle?m=a.CircleToRectangle:u instanceof h.Rectangle?m=a.RectangleToRectangle:u instanceof h.Triangle?m=e:u instanceof h.Line&&(m=a.LineToRectangle),c.tilemapLayer.worldToTileXY(u.left,u.top,!0,o,d);var g=o.x,x=o.y;c.tilemapLayer.worldToTileXY(u.right,u.bottom,!1,i,d);var T=Math.ceil(i.x),S=Math.ceil(i.y),P=Math.max(T-g,1),L=Math.max(S-x,1),I=p(g,x,P,L,f,c),O=c.tileWidth,M=c.tileHeight;c.tilemapLayer&&(O*=c.tilemapLayer.scaleX,M*=c.tilemapLayer.scaleY);for(var w=[],D=new h.Rectangle(0,0,O,M),U=0;U<I.length;U++){var Y=I[U];c.tilemapLayer.tileToWorldXY(Y.x,Y.y,s,d),D.x=s.x,D.y=s.y,m(u,D)&&w.push(Y)}return w};v.exports=l},96523:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(7386),p=t(26099),a=new p,n=new p,r=function(e,s,o,i,l,u,f){var d=f.tilemapLayer.tilemap._convert.WorldToTileXY;d(e,s,!0,a,u,f);var c=a.x,m=a.y;d(e+o,s+i,!1,n,u,f);var g=Math.ceil(n.x),x=Math.ceil(n.y);return h(c,m,g-c,x-m,l,f)};v.exports=r},96113:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(91907),p=t(20242),a=t(10095),n=function(r){return r===h.ORTHOGONAL?a:p};v.exports=n},16926:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(91907),p=t(86625),a=t(96897),n=t(29747),r=t(15108),e=t(85896),s=function(o){return o===h.ORTHOGONAL?e:o===h.ISOMETRIC?a:o===h.HEXAGONAL?p:o===h.STAGGERED?r:n};v.exports=s},55762:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(91907),p=t(20242),a=t(51900),n=t(63288),r=function(e){return e===h.ORTHOGONAL?n:e===h.STAGGERED?a:p};v.exports=r},45091:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(62991),p=function(a,n,r){if(h(a,n,r)){var e=r.data[n][a];return e!==null&&e.index>-1}else return!1};v.exports=p},24152:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(45091),p=t(26099),a=new p,n=function(r,e,s,o){o.tilemapLayer.worldToTileXY(r,e,!0,a,s);var i=a.x,l=a.y;return h(i,l,o)};v.exports=n},90454:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(63448),p=t(56583),a=function(n,r){var e=n.tilemapLayer.tilemap,s=n.tilemapLayer,o=Math.floor(e.tileWidth*s.scaleX),i=Math.floor(e.tileHeight*s.scaleY),l=n.hexSideLength,u,f,d,c;if(n.staggerAxis==="y"){var m=(i-l)/2+l;u=p(r.worldView.x-s.x,o,0,!0)-s.cullPaddingX,f=h(r.worldView.right-s.x,o,0,!0)+s.cullPaddingX,d=p(r.worldView.y-s.y,m,0,!0)-s.cullPaddingY,c=h(r.worldView.bottom-s.y,m,0,!0)+s.cullPaddingY}else{var g=(o-l)/2+l;u=p(r.worldView.x-s.x,g,0,!0)-s.cullPaddingX,f=h(r.worldView.right-s.x,g,0,!0)+s.cullPaddingX,d=p(r.worldView.y-s.y,i,0,!0)-s.cullPaddingY,c=h(r.worldView.bottom-s.y,i,0,!0)+s.cullPaddingY}return{left:u,right:f,top:d,bottom:c}};v.exports=a},9474:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(90454),p=t(32483),a=function(n,r,e,s){e===void 0&&(e=[]),s===void 0&&(s=0),e.length=0;var o=n.tilemapLayer,i=h(n,r);return o.skipCull&&o.scrollFactorX===1&&o.scrollFactorY===1&&(i.left=0,i.right=n.width,i.top=0,i.bottom=n.height),p(n,i,s,e),e};v.exports=a},27229:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(19951),p=t(26099),a=new p,n=function(r,e,s,o){var i=o.baseTileWidth,l=o.baseTileHeight,u=o.tilemapLayer;u&&(i*=u.scaleX,l*=u.scaleY);var f=h(r,e,a,s,o),d=[],c=.5773502691896257,m,g;o.staggerAxis==="y"?(m=c*i,g=l/2):(m=i/2,g=c*l);for(var x=0;x<6;x++){var T=2*Math.PI*(.5-x)/6;d.push(new p(f.x+m*Math.cos(T),f.y+g*Math.sin(T)))}return d};v.exports=n},19951:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(26099),p=function(a,n,r,e,s){r||(r=new h);var o=s.baseTileWidth,i=s.baseTileHeight,l=s.tilemapLayer,u=0,f=0;l&&(e||(e=l.scene.cameras.main),u=l.x+e.scrollX*(1-l.scrollFactorX),f=l.y+e.scrollY*(1-l.scrollFactorY),o*=l.scaleX,i*=l.scaleY);var d=o/2,c=i/2,m,g,x=s.staggerAxis,T=s.staggerIndex;return x==="y"?(m=u+o*a+o,g=f+1.5*n*c+c,n%2===0&&(T==="odd"?m-=d:m+=d)):x==="x"&&T==="odd"&&(m=u+1.5*a*d+d,g=f+i*a+i,a%2===0&&(T==="odd"?g-=c:g+=c)),r.set(m,g)};v.exports=p},86625:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(26099),p=function(a,n,r,e,s,o){e||(e=new h);var i=o.baseTileWidth,l=o.baseTileHeight,u=o.tilemapLayer;u&&(s||(s=u.scene.cameras.main),a=a-(u.x+s.scrollX*(1-u.scrollFactorX)),n=n-(u.y+s.scrollY*(1-u.scrollFactorY)),i*=u.scaleX,l*=u.scaleY);var f=.5773502691896257,d=-.3333333333333333,c=0,m=.6666666666666666,g=i/2,x=l/2,T,S,P,L,I;o.staggerAxis==="y"?(T=(a-g)/(f*i),S=(n-x)/x,P=f*T+d*S,L=c*T+m*S):(T=(a-g)/g,S=(n-x)/(f*l),P=d*T+f*S,L=m*T+c*S),I=-P-L;var O=Math.round(P),M=Math.round(L),w=Math.round(I),D=Math.abs(O-P),U=Math.abs(M-L),Y=Math.abs(w-I);D>U&&D>Y?O=-M-w:U>Y&&(M=-O-w);var H,X=M;return o.staggerIndex==="odd"?H=X%2===0?M/2+O:M/2+O-.5:H=X%2===0?M/2+O:M/2+O+.5,e.set(H,X)};v.exports=p},62991:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,h,p){return t>=0&&t<p.width&&h>=0&&h<p.height};v.exports=y},14018:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(33528),p=function(a,n,r,e){r===void 0&&(r=[]),e===void 0&&(e=0),r.length=0;var s=a.tilemapLayer,o=a.data,i=a.width,l=a.height,u=s.skipCull,f=0,d=i,c=0,m=l,g,x,T;if(e===0)for(x=c;x<m;x++)for(g=f;g<d;g++)T=o[x][g],!(!T||T.index===-1||!T.visible||T.alpha===0)&&(!u&&!h(g,x,a,n)||r.push(T));else if(e===1)for(x=c;x<m;x++)for(g=d;g>=f;g--)T=o[x][g],!(!T||T.index===-1||!T.visible||T.alpha===0)&&(!u&&!h(g,x,a,n)||r.push(T));else if(e===2)for(x=m;x>=c;x--)for(g=f;g<d;g++)T=o[x][g],!(!T||T.index===-1||!T.visible||T.alpha===0)&&(!u&&!h(g,x,a,n)||r.push(T));else if(e===3)for(x=m;x>=c;x--)for(g=d;g>=f;g--)T=o[x][g],!(!T||T.index===-1||!T.visible||T.alpha===0)&&(!u&&!h(g,x,a,n)||r.push(T));return s.tilesDrawn=r.length,s.tilesTotal=i*l,r};v.exports=p},14127:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(26099),p=function(a,n,r,e,s){r||(r=new h);var o=s.baseTileWidth,i=s.baseTileHeight,l=s.tilemapLayer,u=0,f=0;l&&(e||(e=l.scene.cameras.main),u=l.x+e.scrollX*(1-l.scrollFactorX),o*=l.scaleX,f=l.y+e.scrollY*(1-l.scrollFactorY),i*=l.scaleY);var d=u+(a-n)*(o/2),c=f+(a+n)*(i/2);return r.set(d,c)};v.exports=p},96897:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(26099),p=function(a,n,r,e,s,o,i){e||(e=new h);var l=o.baseTileWidth,u=o.baseTileHeight,f=o.tilemapLayer;f&&(s||(s=f.scene.cameras.main),n=n-(f.y+s.scrollY*(1-f.scrollFactorY)),u*=f.scaleY,a=a-(f.x+s.scrollX*(1-f.scrollFactorX)),l*=f.scaleX);var d=l/2,c=u/2;a=a-d,i||(n=n-u);var m=.5*(a/d+n/c),g=.5*(-a/d+n/c);return r&&(m=Math.floor(m),g=Math.floor(g)),e.set(m,g)};v.exports=p},71558:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(23029),p=t(62991),a=t(72023),n=t(20576),r=function(e,s,o,i,l){if(i===void 0&&(i=!0),!p(s,o,l))return null;var u,f=l.data[o][s],d=f&&f.collides;e instanceof h?(l.data[o][s]===null&&(l.data[o][s]=new h(l,e.index,s,o,l.tileWidth,l.tileHeight)),l.data[o][s].copy(e)):(u=e,l.data[o][s]===null?l.data[o][s]=new h(l,u,s,o,l.tileWidth,l.tileHeight):l.data[o][s].index=u);var c=l.data[o][s],m=l.collideIndexes.indexOf(c.index)!==-1;if(u=e instanceof h?e.index:e,u===-1)c.width=l.tileWidth,c.height=l.tileHeight;else{var g=l.tilemapLayer.tilemap,x=g.tiles,T=x[u][2],S=g.tilesets[T];c.width=S.tileWidth,c.height=S.tileHeight}return n(c,m),i&&d!==c.collides&&a(s,o,l),c};v.exports=r},26303:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(71558),p=t(26099),a=new p,n=function(r,e,s,o,i,l){return l.tilemapLayer.worldToTileXY(e,s,!0,a,i,l),h(r,a.x,a.y,o,l)};v.exports=n},14051:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(42573),p=t(71558),a=function(n,r,e,s,o){if(s===void 0&&(s=!0),!Array.isArray(n))return null;Array.isArray(n[0])||(n=[n]);for(var i=n.length,l=n[0].length,u=0;u<i;u++)for(var f=0;f<l;f++){var d=n[u][f];p(d,r+f,e+u,!1,o)}s&&h(r-1,e-1,l+2,i+2,o)};v.exports=a},77389:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(7386),p=t(26546),a=function(n,r,e,s,o,i){var l,u=h(n,r,e,s,{},i);if(!o)for(o=[],l=0;l<u.length;l++)o.indexOf(u[l].index)===-1&&o.push(u[l].index);for(l=0;l<u.length;l++)u[l].index=p(o)};v.exports=a},63557:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(23029),p=t(62991),a=t(72023),n=function(r,e,s,o,i){if(s===void 0&&(s=!0),o===void 0&&(o=!0),!p(r,e,i))return null;var l=i.data[e][r];if(l)i.data[e][r]=s?null:new h(i,-1,r,e,i.tileWidth,i.tileHeight);else return null;return o&&l&&l.collides&&a(r,e,i),l};v.exports=n},94178:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(63557),p=t(26099),a=new p,n=function(r,e,s,o,i,l){return l.tilemapLayer.worldToTileXY(r,e,!0,a,i,l),h(a.x,a.y,s,o,l)};v.exports=n},15533:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(7386),p=t(3956),a=new p(105,210,231,150),n=new p(243,134,48,200),r=new p(40,39,37,150),e=function(s,o,i){o===void 0&&(o={});var l=o.tileColor!==void 0?o.tileColor:a,u=o.collidingTileColor!==void 0?o.collidingTileColor:n,f=o.faceColor!==void 0?o.faceColor:r,d=h(0,0,i.width,i.height,null,i);s.translateCanvas(i.tilemapLayer.x,i.tilemapLayer.y),s.scaleCanvas(i.tilemapLayer.scaleX,i.tilemapLayer.scaleY);for(var c=0;c<d.length;c++){var m=d[c],g=m.width,x=m.height,T=m.pixelX,S=m.pixelY,P=m.collides?u:l;P!==null&&(s.fillStyle(P.color,P.alpha/255),s.fillRect(T,S,g,x)),T+=1,S+=1,g-=2,x-=2,f!==null&&(s.lineStyle(1,f.color,f.alpha/255),m.faceTop&&s.lineBetween(T,S,T+g,S),m.faceRight&&s.lineBetween(T+g,S,T+g,S+x),m.faceBottom&&s.lineBetween(T,S+x,T+g,S+x),m.faceLeft&&s.lineBetween(T,S,T,S+x))}};v.exports=e},27987:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(7386),p=function(a,n,r,e,s,o,i){for(var l=h(r,e,s,o,null,i),u=0;u<l.length;u++)l[u]&&l[u].index===a&&(l[u].index=n)};v.exports=p},32483:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,h,p,a){var n=t.data,r=t.width,e=t.height,s=t.tilemapLayer,o=Math.max(0,h.left),i=Math.min(r,h.right),l=Math.max(0,h.top),u=Math.min(e,h.bottom),f,d,c;if(p===0)for(d=l;d<u;d++)for(f=o;n[d]&&f<i;f++)c=n[d][f],!(!c||c.index===-1||!c.visible||c.alpha===0)&&a.push(c);else if(p===1)for(d=l;d<u;d++)for(f=i;n[d]&&f>=o;f--)c=n[d][f],!(!c||c.index===-1||!c.visible||c.alpha===0)&&a.push(c);else if(p===2)for(d=u;d>=l;d--)for(f=o;n[d]&&f<i;f++)c=n[d][f],!(!c||c.index===-1||!c.visible||c.alpha===0)&&a.push(c);else if(p===3)for(d=u;d>=l;d--)for(f=i;n[d]&&f>=o;f--)c=n[d][f],!(!c||c.index===-1||!c.visible||c.alpha===0)&&a.push(c);return s.tilesDrawn=a.length,s.tilesTotal=r*e,a};v.exports=y},57068:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(20576),p=t(42573),a=t(9589),n=function(r,e,s,o,i){e===void 0&&(e=!0),s===void 0&&(s=!0),i===void 0&&(i=!0),Array.isArray(r)||(r=[r]);for(var l=0;l<r.length;l++)a(r[l],e,o);if(i)for(var u=0;u<o.height;u++)for(var f=0;f<o.width;f++){var d=o.data[u][f];d&&r.indexOf(d.index)!==-1&&h(d,e)}s&&p(0,0,o.width,o.height,o)};v.exports=n},37266:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(20576),p=t(42573),a=t(9589),n=function(r,e,s,o,i,l){if(s===void 0&&(s=!0),o===void 0&&(o=!0),l===void 0&&(l=!0),!(r>e)){for(var u=r;u<=e;u++)a(u,s,i);if(l)for(var f=0;f<i.height;f++)for(var d=0;d<i.width;d++){var c=i.data[f][d];c&&c.index>=r&&c.index<=e&&h(c,s)}o&&p(0,0,i.width,i.height,i)}};v.exports=n},75661:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(20576),p=t(42573),a=t(9589),n=function(r,e,s,o){e===void 0&&(e=!0),s===void 0&&(s=!0),Array.isArray(r)||(r=[r]);for(var i=0;i<o.height;i++)for(var l=0;l<o.width;l++){var u=o.data[i][l];u&&r.indexOf(u.index)===-1&&(h(u,e),a(u.index,e,o))}s&&p(0,0,o.width,o.height,o)};v.exports=n},64740:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(20576),p=t(42573),a=t(97022),n=function(r,e,s,o){e===void 0&&(e=!0),s===void 0&&(s=!0);for(var i=0;i<o.height;i++)for(var l=0;l<o.width;l++){var u=o.data[i][l];if(u){for(var f in r)if(a(u.properties,f)){var d=r[f];Array.isArray(d)||(d=[d]);for(var c=0;c<d.length;c++)u.properties[f]===d[c]&&h(u,e)}}}s&&p(0,0,o.width,o.height,o)};v.exports=n},63307:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(20576),p=t(42573),a=function(n,r,e){n===void 0&&(n=!0),r===void 0&&(r=!0);for(var s=0;s<e.height;s++)for(var o=0;o<e.width;o++){var i=e.data[s][o];if(i){var l=i.getCollisionGroup();l&&l.objects&&l.objects.length>0&&h(i,n)}}r&&p(0,0,e.width,e.height,e)};v.exports=a},9589:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,h,p){var a=p.collideIndexes.indexOf(t);h&&a===-1?p.collideIndexes.push(t):!h&&a!==-1&&p.collideIndexes.splice(a,1)};v.exports=y},20576:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,h){h?t.setCollision(!0,!0,!0,!0,!1):t.resetCollision(!1)};v.exports=y},79583:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,h,p,a){if(typeof t=="number")a.callbacks[t]=h!==null?{callback:h,callbackContext:p}:void 0;else for(var n=0,r=t.length;n<r;n++)a.callbacks[t[n]]=h!==null?{callback:h,callbackContext:p}:void 0};v.exports=y},93254:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(7386),p=function(a,n,r,e,s,o,i){for(var l=h(a,n,r,e,null,i),u=0;u<l.length;u++)l[u].setCollisionCallback(s,o)};v.exports=p},32903:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(7386),p=t(33680),a=function(n,r,e,s,o){var i=h(n,r,e,s,null,o),l=i.map(function(f){return f.index});p(l);for(var u=0;u<i.length;u++)i[u].index=l[u]};v.exports=a},61325:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(63448),p=t(56583),a=function(n,r){var e=n.tilemapLayer.tilemap,s=n.tilemapLayer,o=Math.floor(e.tileWidth*s.scaleX),i=Math.floor(e.tileHeight*s.scaleY),l=p(r.worldView.x-s.x,o,0,!0)-s.cullPaddingX,u=h(r.worldView.right-s.x,o,0,!0)+s.cullPaddingX,f=p(r.worldView.y-s.y,i/2,0,!0)-s.cullPaddingY,d=h(r.worldView.bottom-s.y,i/2,0,!0)+s.cullPaddingY;return{left:l,right:u,top:f,bottom:d}};v.exports=a},54503:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(61325),p=t(32483),a=function(n,r,e,s){e===void 0&&(e=[]),s===void 0&&(s=0),e.length=0;var o=n.tilemapLayer,i=h(n,r);return o.skipCull&&o.scrollFactorX===1&&o.scrollFactorY===1&&(i.left=0,i.right=n.width,i.top=0,i.bottom=n.height),p(n,i,s,e),e};v.exports=a},97202:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(26099),p=function(a,n,r,e,s){r||(r=new h);var o=s.baseTileWidth,i=s.baseTileHeight,l=s.tilemapLayer,u=0,f=0;l&&(e||(e=l.scene.cameras.main),u=l.x+e.scrollX*(1-l.scrollFactorX),o*=l.scaleX,f=l.y+e.scrollY*(1-l.scrollFactorY),i*=l.scaleY);var d=u+a*o+n%2*(o/2),c=f+n*(i/2);return r.set(d,c)};v.exports=p},28054:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,h,p){var a=p.baseTileHeight,n=p.tilemapLayer,r=0;return n&&(h===void 0&&(h=n.scene.cameras.main),r=n.y+h.scrollY*(1-n.scrollFactorY),a*=n.scaleY),r+t*(a/2)+a};v.exports=y},15108:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(26099),p=function(a,n,r,e,s,o){e||(e=new h);var i=o.baseTileWidth,l=o.baseTileHeight,u=o.tilemapLayer;u&&(s||(s=u.scene.cameras.main),n=n-(u.y+s.scrollY*(1-u.scrollFactorY)),l*=u.scaleY,a=a-(u.x+s.scrollX*(1-u.scrollFactorX)),i*=u.scaleX);var f=r?Math.floor(n/(l/2)):n/(l/2),d=r?Math.floor((a+f%2*.5*i)/i):(a+f%2*.5*i)/i;return e.set(d,f)};v.exports=p},51900:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,h,p,a){var n=a.baseTileHeight,r=a.tilemapLayer;return r&&(p||(p=r.scene.cameras.main),t=t-(r.y+p.scrollY*(1-r.scrollFactorY)),n*=r.scaleY),h?Math.floor(t/(n/2)):t/(n/2)};v.exports=y},86560:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(7386),p=function(a,n,r,e,s,o,i){for(var l=h(r,e,s,o,null,i),u=0;u<l.length;u++)l[u]&&(l[u].index===a?l[u].index=n:l[u].index===n&&(l[u].index=a))};v.exports=p},97281:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,h,p){var a=p.baseTileWidth,n=p.tilemapLayer,r=0;return n&&(h||(h=n.scene.cameras.main),r=n.x+h.scrollX*(1-n.scrollFactorX),a*=n.scaleX),r+t*a};v.exports=y},70326:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(97281),p=t(29650),a=t(26099),n=function(r,e,s,o,i){return s||(s=new a(0,0)),s.x=h(r,o,i),s.y=p(e,o,i),s};v.exports=n},29650:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,h,p){var a=p.baseTileHeight,n=p.tilemapLayer,r=0;return n&&(h||(h=n.scene.cameras.main),r=n.y+h.scrollY*(1-n.scrollFactorY),a*=n.scaleY),r+t*a};v.exports=y},77366:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(7386),p=t(75508),a=function(n,r,e,s,o,i){if(o){var l,u=h(n,r,e,s,null,i),f=0;for(l=0;l<o.length;l++)f+=o[l].weight;if(!(f<=0))for(l=0;l<u.length;l++){for(var d=p.RND.frac()*f,c=0,m=-1,g=0;g<o.length;g++)if(c+=o[g].weight,d<=c){var x=o[g].index;m=Array.isArray(x)?x[Math.floor(p.RND.frac()*x.length)]:x;break}u[l].index=m}}};v.exports=a},10095:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(85896),p=t(26099),a=new p,n=function(r,e,s,o){return h(r,0,e,a,s,o),a.x};v.exports=n},85896:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(26099),p=function(a,n,r,e,s,o){r===void 0&&(r=!0),e||(e=new h);var i=o.baseTileWidth,l=o.baseTileHeight,u=o.tilemapLayer;u&&(s||(s=u.scene.cameras.main),a=a-(u.x+s.scrollX*(1-u.scrollFactorX)),n=n-(u.y+s.scrollY*(1-u.scrollFactorY)),i*=u.scaleX,l*=u.scaleY);var f=a/i,d=n/l;return r&&(f=Math.floor(f),d=Math.floor(d)),e.set(f,d)};v.exports=p},63288:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(85896),p=t(26099),a=new p,n=function(r,e,s,o){return h(0,r,e,a,s,o),a.y};v.exports=n},81086:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={CalculateFacesAt:t(72023),CalculateFacesWithin:t(42573),CheckIsoBounds:t(33528),Copy:t(1785),CreateFromTiles:t(78419),CullBounds:t(19545),CullTiles:t(30003),Fill:t(35137),FilterTiles:t(40253),FindByIndex:t(52692),FindTile:t(66151),ForEachTile:t(97560),GetCullTilesFunction:t(43305),GetTileAt:t(7423),GetTileAtWorldXY:t(60540),GetTileCorners:t(55826),GetTileCornersFunction:t(11758),GetTilesWithin:t(7386),GetTilesWithinShape:t(91141),GetTilesWithinWorldXY:t(96523),GetTileToWorldXFunction:t(39167),GetTileToWorldXYFunction:t(62e3),GetTileToWorldYFunction:t(5984),GetWorldToTileXFunction:t(96113),GetWorldToTileXYFunction:t(16926),GetWorldToTileYFunction:t(55762),HasTileAt:t(45091),HasTileAtWorldXY:t(24152),HexagonalCullBounds:t(90454),HexagonalCullTiles:t(9474),HexagonalGetTileCorners:t(27229),HexagonalTileToWorldXY:t(19951),HexagonalWorldToTileXY:t(86625),IsInLayerBounds:t(62991),IsometricCullTiles:t(14018),IsometricTileToWorldXY:t(14127),IsometricWorldToTileXY:t(96897),PutTileAt:t(71558),PutTileAtWorldXY:t(26303),PutTilesAt:t(14051),Randomize:t(77389),RemoveTileAt:t(63557),RemoveTileAtWorldXY:t(94178),RenderDebug:t(15533),ReplaceByIndex:t(27987),RunCull:t(32483),SetCollision:t(57068),SetCollisionBetween:t(37266),SetCollisionByExclusion:t(75661),SetCollisionByProperty:t(64740),SetCollisionFromCollisionGroup:t(63307),SetLayerCollisionIndex:t(9589),SetTileCollision:t(20576),SetTileIndexCallback:t(79583),SetTileLocationCallback:t(93254),Shuffle:t(32903),StaggeredCullBounds:t(61325),StaggeredCullTiles:t(54503),StaggeredTileToWorldXY:t(97202),StaggeredTileToWorldY:t(28054),StaggeredWorldToTileXY:t(15108),StaggeredWorldToTileY:t(51900),SwapByIndex:t(86560),TileToWorldX:t(97281),TileToWorldXY:t(70326),TileToWorldY:t(29650),WeightedRandomize:t(77366),WorldToTileX:t(10095),WorldToTileXY:t(85896),WorldToTileY:t(63288)}},91907:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={ORTHOGONAL:0,ISOMETRIC:1,STAGGERED:2,HEXAGONAL:3}},21829:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h={ORIENTATION:t(91907)};v.exports=h},62501:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(79291),p=t(21829),a={Components:t(81086),Parsers:t(57442),Formats:t(80341),ImageCollection:t(16536),ParseToTilemap:t(31989),Tile:t(23029),Tilemap:t(49075),TilemapCreator:t(45939),TilemapFactory:t(46029),Tileset:t(33629),TilemapLayer:t(20442),Orientation:t(91907),LayerData:t(14977),MapData:t(87010),ObjectLayer:t(48700)};a=h(!1,a,p.ORIENTATION),v.exports=a},14977:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),p=t(91907),a=t(95540),n=new h({initialize:function(e){e===void 0&&(e={}),this.name=a(e,"name","layer"),this.id=a(e,"id",0),this.x=a(e,"x",0),this.y=a(e,"y",0),this.width=a(e,"width",0),this.height=a(e,"height",0),this.tileWidth=a(e,"tileWidth",0),this.tileHeight=a(e,"tileHeight",0),this.baseTileWidth=a(e,"baseTileWidth",this.tileWidth),this.baseTileHeight=a(e,"baseTileHeight",this.tileHeight),this.orientation=a(e,"orientation",p.ORTHOGONAL),this.widthInPixels=a(e,"widthInPixels",this.width*this.baseTileWidth),this.heightInPixels=a(e,"heightInPixels",this.height*this.baseTileHeight),this.alpha=a(e,"alpha",1),this.visible=a(e,"visible",!0),this.properties=a(e,"properties",[]),this.indexes=a(e,"indexes",[]),this.collideIndexes=a(e,"collideIndexes",[]),this.callbacks=a(e,"callbacks",[]),this.bodies=a(e,"bodies",[]),this.data=a(e,"data",[]),this.tilemapLayer=a(e,"tilemapLayer",null),this.hexSideLength=a(e,"hexSideLength",0),this.staggerAxis=a(e,"staggerAxis","y"),this.staggerIndex=a(e,"staggerIndex","odd")}});v.exports=n},87010:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),p=t(91907),a=t(95540),n=new h({initialize:function(e){e===void 0&&(e={}),this.name=a(e,"name","map"),this.width=a(e,"width",0),this.height=a(e,"height",0),this.infinite=a(e,"infinite",!1),this.tileWidth=a(e,"tileWidth",0),this.tileHeight=a(e,"tileHeight",0),this.widthInPixels=a(e,"widthInPixels",this.width*this.tileWidth),this.heightInPixels=a(e,"heightInPixels",this.height*this.tileHeight),this.format=a(e,"format",null),this.orientation=a(e,"orientation",p.ORTHOGONAL),this.renderOrder=a(e,"renderOrder","right-down"),this.version=a(e,"version","1"),this.properties=a(e,"properties",{}),this.layers=a(e,"layers",[]),this.images=a(e,"images",[]),this.objects=a(e,"objects",[]),Array.isArray(this.objects)||(this.objects=[]),this.collision=a(e,"collision",{}),this.tilesets=a(e,"tilesets",[]),this.imageCollections=a(e,"imageCollections",[]),this.tiles=a(e,"tiles",[]),this.hexSideLength=a(e,"hexSideLength",0),this.staggerAxis=a(e,"staggerAxis","y"),this.staggerIndex=a(e,"staggerIndex","odd")}});v.exports=n},48700:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),p=t(95540),a=new h({initialize:function(r){r===void 0&&(r={}),this.name=p(r,"name","object layer"),this.id=p(r,"id",0),this.opacity=p(r,"opacity",1),this.properties=p(r,"properties",{}),this.propertyTypes=p(r,"propertytypes",{}),this.type=p(r,"type","objectgroup"),this.visible=p(r,"visible",!0),this.objects=p(r,"objects",[]),Array.isArray(this.objects)||(this.objects=[])}});v.exports=a},6641:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(91907),p=function(a){return a=a.toLowerCase(),a==="isometric"?h.ISOMETRIC:a==="staggered"?h.STAGGERED:a==="hexagonal"?h.HEXAGONAL:h.ORTHOGONAL};v.exports=p},46177:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(80341),p=t(2342),a=t(82593),n=t(46594),r=t(87021),e=function(s,o,i,l,u,f){var d;switch(o){case h.ARRAY_2D:d=p(s,i,l,u,f);break;case h.CSV:d=a(s,i,l,u,f);break;case h.TILED_JSON:d=n(s,i,f);break;case h.WELTMEISTER:d=r(s,i,f);break;default:console.warn("Unrecognized tilemap data format: "+o),d=null}return d};v.exports=e},2342:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(80341),p=t(14977),a=t(87010),n=t(23029),r=function(e,s,o,i,l){for(var u=new p({tileWidth:o,tileHeight:i}),f=new a({name:e,tileWidth:o,tileHeight:i,format:h.ARRAY_2D,layers:[u]}),d=[],c=s.length,m=0,g=0;g<s.length;g++){d[g]=[];for(var x=s[g],T=0;T<x.length;T++){var S=parseInt(x[T],10);isNaN(S)||S===-1?d[g][T]=l?null:new n(u,-1,T,g,o,i):d[g][T]=new n(u,S,T,g,o,i)}m===0&&(m=x.length)}return f.width=u.width=m,f.height=u.height=c,f.widthInPixels=u.widthInPixels=m*o,f.heightInPixels=u.heightInPixels=c*i,u.data=d,f};v.exports=r},82593:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(80341),p=t(2342),a=function(n,r,e,s,o){var i=r.trim().split(`
`).map(function(u){return u.split(",")}),l=p(n,i,e,s,o);return l.format=h.CSV,l};v.exports=a},6656:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(14977),p=t(23029),a=function(n,r){for(var e=[],s=0;s<n.layer.length;s++){for(var o=n.layer[s],i=new h({name:o.name,width:o.width,height:o.height,tileWidth:o.tilesize,tileHeight:o.tilesize,visible:o.visible===1}),l=[],u=[],f=0;f<o.data.length;f++){for(var d=0;d<o.data[f].length;d++){var c=o.data[f][d]-1,m;c>-1?m=new p(i,c,d,f,o.tilesize,o.tilesize):m=r?null:new p(i,-1,d,f,o.tilesize,o.tilesize),l.push(m)}u.push(l),l=[]}i.data=u,e.push(i)}return e};v.exports=a},96483:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(33629),p=function(a){for(var n=[],r=[],e=0;e<a.layer.length;e++){var s=a.layer[e],o=s.tilesetName;o!==""&&r.indexOf(o)===-1&&(r.push(o),n.push(new h(o,0,s.tilesize,s.tilesize,0,0)))}return n};v.exports=p},87021:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(80341),p=t(87010),a=t(6656),n=t(96483),r=function(e,s,o){if(s.layer.length===0)return console.warn("No layers found in the Weltmeister map: "+e),null;for(var i=0,l=0,u=0;u<s.layer.length;u++)s.layer[u].width>i&&(i=s.layer[u].width),s.layer[u].height>l&&(l=s.layer[u].height);var f=new p({width:i,height:l,name:e,tileWidth:s.layer[0].tilesize,tileHeight:s.layer[0].tilesize,format:h.WELTMEISTER});return f.layers=a(s,o),f.tilesets=n(s),f};v.exports=r},52833:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={ParseTileLayers:t(6656),ParseTilesets:t(96483),ParseWeltmeister:t(87021)}},57442:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={FromOrientationString:t(6641),Parse:t(46177),Parse2DArray:t(2342),ParseCSV:t(82593),Impact:t(52833),Tiled:t(96761)}},51233:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(79291),p=function(a){for(var n,r,e,s,o,i=0;i<a.layers.length;i++){n=a.layers[i],s=null;for(var l=0;l<n.data.length;l++){o=n.data[l];for(var u=0;u<o.length;u++)r=o[u],!(r===null||r.index<0)&&(e=a.tiles[r.index][2],s=a.tilesets[e],r.width=s.tileWidth,r.height=s.tileHeight,s.tileProperties&&s.tileProperties[r.index-s.firstgid]&&(r.properties=h(r.properties,s.tileProperties[r.index-s.firstgid])))}}};v.exports=p},41868:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){for(var h=window.atob(t),p=h.length,a=new Array(p/4),n=0;n<p;n+=4)a[n/4]=(h.charCodeAt(n)|h.charCodeAt(n+1)<<8|h.charCodeAt(n+2)<<16|h.charCodeAt(n+3)<<24)>>>0;return a};v.exports=y},84101:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(33629),p=function(a){var n,r,e=[];for(n=0;n<a.imageCollections.length;n++)for(var s=a.imageCollections[n],o=s.images,i=0;i<o.length;i++){var l=o[i];r=new h(l.image,l.gid,s.imageWidth,s.imageHeight,0,0),r.updateTileData(s.imageWidth,s.imageHeight),a.tilesets.push(r)}for(n=0;n<a.tilesets.length;n++){r=a.tilesets[n];for(var u=r.tileMargin,f=r.tileMargin,d=0,c=0,m=0,g=r.firstgid;g<r.firstgid+r.total&&(e[g]=[u,f,n],u+=r.tileWidth+r.tileSpacing,d++,!(d===r.total||(c++,c===r.columns&&(u=r.tileMargin,f+=r.tileHeight+r.tileSpacing,c=0,m++,m===r.rows))));g++);}return e};v.exports=p},79677:(v,y,t)=>{/**
 * @author       Seth Berrier <berriers@uwstout.edu>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(95540),p=function(a,n,r){if(!n)return{i:0,layers:a.layers,name:"",opacity:1,visible:!0,x:0,y:0};var e=n.x+h(n,"startx",0)*a.tilewidth+h(n,"offsetx",0),s=n.y+h(n,"starty",0)*a.tileheight+h(n,"offsety",0);return{i:0,layers:n.layers,name:r.name+n.name+"/",opacity:r.opacity*n.opacity,visible:r.visible&&n.visible,x:r.x+e,y:r.y+s}};v.exports=p},29920:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=2147483648,t=1073741824,h=536870912,p=function(a){var n=!!(a&y),r=!!(a&t),e=!!(a&h);a=a&~(y|t|h);var s=0,o=!1;return n&&r&&e?(s=Math.PI/2,o=!0):n&&r&&!e?(s=Math.PI,o=!1):n&&!r&&e?(s=Math.PI/2,o=!1):n&&!r&&!e?(s=0,o=!0):!n&&r&&e?(s=3*Math.PI/2,o=!1):!n&&r&&!e?(s=Math.PI,o=!0):!n&&!r&&e?(s=3*Math.PI/2,o=!0):!n&&!r&&!e&&(s=0,o=!1),{gid:a,flippedHorizontal:n,flippedVertical:r,flippedAntiDiagonal:e,rotation:s,flipped:o}};v.exports=p},12635:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(95540),p=t(79677),a=function(n){for(var r=[],e=[],s=p(n);s.i<s.layers.length||e.length>0;){if(s.i>=s.layers.length){if(e.length<1){console.warn("TilemapParser.parseTiledJSON - Invalid layer group hierarchy");break}s=e.pop();continue}var o=s.layers[s.i];if(s.i++,o.type!=="imagelayer"){if(o.type==="group"){var i=p(n,o,s);e.push(s),s=i}continue}var l=h(o,"offsetx",0)+h(o,"startx",0),u=h(o,"offsety",0)+h(o,"starty",0);r.push({name:s.name+o.name,image:o.image,x:s.x+l+o.x,y:s.y+u+o.y,alpha:s.opacity*o.opacity,visible:s.visible&&o.visible,properties:h(o,"properties",{})})}return r};v.exports=a},46594:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(51233),p=t(84101),a=t(91907),n=t(62644),r=t(80341),e=t(6641),s=t(87010),o=t(12635),i=t(22611),l=t(28200),u=t(24619),f=function(d,c,m){var g=n(c),x=new s({width:g.width,height:g.height,name:d,tileWidth:g.tilewidth,tileHeight:g.tileheight,orientation:e(g.orientation),format:r.TILED_JSON,version:g.version,properties:g.properties,renderOrder:g.renderorder,infinite:g.infinite});x.orientation===a.HEXAGONAL&&(x.hexSideLength=g.hexsidelength,x.staggerAxis=g.staggeraxis,x.staggerIndex=g.staggerindex),x.layers=l(g,m),x.images=o(g);var T=u(g);return x.tilesets=T.tilesets,x.imageCollections=T.imageCollections,x.objects=i(g),x.tiles=p(x),h(x),x};v.exports=f},52205:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(18254),p=t(29920),a=function(e){return{x:e.x,y:e.y}},n=["id","name","type","rotation","properties","visible","x","y","width","height"],r=function(e,s,o){s===void 0&&(s=0),o===void 0&&(o=0);var i=h(e,n);if(i.x+=s,i.y+=o,e.gid){var l=p(e.gid);i.gid=l.gid,i.flippedHorizontal=l.flippedHorizontal,i.flippedVertical=l.flippedVertical,i.flippedAntiDiagonal=l.flippedAntiDiagonal}else e.polyline?i.polyline=e.polyline.map(a):e.polygon?i.polygon=e.polygon.map(a):e.ellipse?i.ellipse=e.ellipse:e.text?i.text=e.text:e.point?i.point=!0:i.rectangle=!0;return i};v.exports=r},22611:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(95540),p=t(52205),a=t(48700),n=t(79677),r=function(e){for(var s=[],o=[],i=n(e);i.i<i.layers.length||o.length>0;){if(i.i>=i.layers.length){if(o.length<1){console.warn("TilemapParser.parseTiledJSON - Invalid layer group hierarchy");break}i=o.pop();continue}var l=i.layers[i.i];if(i.i++,l.opacity*=i.opacity,l.visible=i.visible&&l.visible,l.type!=="objectgroup"){if(l.type==="group"){var u=n(e,l,i);o.push(i),i=u}continue}l.name=i.name+l.name;for(var f=i.x+h(l,"startx",0)+h(l,"offsetx",0),d=i.y+h(l,"starty",0)+h(l,"offsety",0),c=[],m=0;m<l.objects.length;m++){var g=p(l.objects[m],f,d);c.push(g)}var x=new a(l);x.objects=c,s.push(x)}return s};v.exports=r},28200:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(41868),p=t(91907),a=t(79677),n=t(6641),r=t(95540),e=t(14977),s=t(29920),o=t(23029),i=function(l,u){for(var f=r(l,"infinite",!1),d=[],c=[],m=a(l);m.i<m.layers.length||c.length>0;){if(m.i>=m.layers.length){if(c.length<1){console.warn("TilemapParser.parseTiledJSON - Invalid layer group hierarchy");break}m=c.pop();continue}var g=m.layers[m.i];if(m.i++,g.type!=="tilelayer"){if(g.type==="group"){var x=a(l,g,m);c.push(m),m=x}continue}if(g.compression){console.warn("TilemapParser.parseTiledJSON - Layer compression is unsupported, skipping layer '"+g.name+"'");continue}else if(g.encoding&&g.encoding==="base64"){if(g.chunks)for(var T=0;T<g.chunks.length;T++)g.chunks[T].data=h(g.chunks[T].data);g.data&&(g.data=h(g.data)),delete g.encoding}var S,P,L,I,O=[],M=0;if(f){var w=r(g,"startx",0)+g.x,D=r(g,"starty",0)+g.y;S=new e({name:m.name+g.name,id:g.id,x:m.x+r(g,"offsetx",0)+w*l.tilewidth,y:m.y+r(g,"offsety",0)+D*l.tileheight,width:g.width,height:g.height,tileWidth:l.tilewidth,tileHeight:l.tileheight,alpha:m.opacity*g.opacity,visible:m.visible&&g.visible,properties:r(g,"properties",[]),orientation:n(l.orientation)}),S.orientation===p.HEXAGONAL&&(S.hexSideLength=l.hexsidelength,S.staggerAxis=l.staggeraxis,S.staggerIndex=l.staggerindex);for(var U=0;U<g.height;U++){O[U]=[null];for(var Y=0;Y<g.width;Y++)O[U][Y]=null}for(U=0,Z=g.chunks.length;U<Z;U++)for(var H=g.chunks[U],X=H.x-w,G=H.y-D,z=0,b=0,N=H.data.length;b<N;b++){var W=M+X,K=z+G;P=s(H.data[b]),P.gid>0?(L=new o(S,P.gid,W,K,l.tilewidth,l.tileheight),L.rotation=P.rotation,L.flipX=P.flipped,O[K][W]=L):(I=u?null:new o(S,-1,W,K,l.tilewidth,l.tileheight),O[K][W]=I),M++,M===H.width&&(z++,M=0)}}else{S=new e({name:m.name+g.name,id:g.id,x:m.x+r(g,"offsetx",0)+g.x,y:m.y+r(g,"offsety",0)+g.y,width:g.width,height:g.height,tileWidth:l.tilewidth,tileHeight:l.tileheight,alpha:m.opacity*g.opacity,visible:m.visible&&g.visible,properties:r(g,"properties",[]),orientation:n(l.orientation)}),S.orientation===p.HEXAGONAL&&(S.hexSideLength=l.hexsidelength,S.staggerAxis=l.staggeraxis,S.staggerIndex=l.staggerindex);for(var J=[],j=0,Z=g.data.length;j<Z;j++)P=s(g.data[j]),P.gid>0?(L=new o(S,P.gid,M,O.length,l.tilewidth,l.tileheight),L.rotation=P.rotation,L.flipX=P.flipped,J.push(L)):(I=u?null:new o(S,-1,M,O.length,l.tilewidth,l.tileheight),J.push(I)),M++,M===g.width&&(O.push(J),M=0,J=[])}S.data=O,d.push(S)}return d};v.exports=i},24619:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(33629),p=t(16536),a=t(52205),n=t(57880),r=function(e){for(var s=[],o=[],i=null,l,u=0;u<e.tilesets.length;u++){var f=e.tilesets[u];if(f.source)console.warn("External tilesets unsupported. Use Embed Tileset and re-export");else if(f.image){var d=new h(f.name,f.firstgid,f.tilewidth,f.tileheight,f.margin,f.spacing,void 0,void 0,f.tileoffset);if(e.version>1){var c=void 0,m=void 0;if(Array.isArray(f.tiles)){c=c||{},m=m||{};for(var g=0;g<f.tiles.length;g++){var x=f.tiles[g];if(x.properties){var T={};x.properties.forEach(function(U){T[U.name]=U.value}),m[x.id]=T}if(x.objectgroup&&((c[x.id]||(c[x.id]={})).objectgroup=x.objectgroup,x.objectgroup.objects)){var S=x.objectgroup.objects.map(function(U){return a(U)});c[x.id].objectgroup.objects=S}x.animation&&((c[x.id]||(c[x.id]={})).animation=x.animation),x.type&&((c[x.id]||(c[x.id]={})).type=x.type)}}Array.isArray(f.wangsets)&&(c=c||{},m=m||{},n(f.wangsets,c)),c&&(d.tileData=c,d.tileProperties=m)}else if(f.tileproperties&&(d.tileProperties=f.tileproperties),f.tiles){d.tileData=f.tiles;for(l in d.tileData){var P=d.tileData[l].objectgroup;if(P&&P.objects){var L=P.objects.map(function(U){return a(U)});d.tileData[l].objectgroup.objects=L}}}d.updateTileData(f.imagewidth,f.imageheight),s.push(d)}else{var I=new p(f.name,f.firstgid,f.tilewidth,f.tileheight,f.margin,f.spacing,f.properties),O=0;for(g=0;g<f.tiles.length;g++){x=f.tiles[g];var M=x.image,w=parseInt(x.id,10),D=f.firstgid+w;I.addImage(D,M),O=Math.max(w,O)}I.maxId=O,o.push(I)}i&&(i.lastgid=f.firstgid-1),i=f}return{tilesets:s,imageCollections:o}};v.exports=r},57880:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,h){for(var p=0;p<t.length;p++){var a=t[p],n=p;if(a.name&&a.name!==""&&(n=a.name),Array.isArray(a.wangtiles)&&a.wangtiles.length>0){var r={},e={},s,o,i;if(Array.isArray(a.edgecolors))for(s=0;s<a.edgecolors.length;s++)i=1+s,o=a.edgecolors[s],o.name!==""&&(r[i]=o.name);if(Array.isArray(a.cornercolors))for(s=0;s<a.cornercolors.length;s++)i=1+s,o=a.cornercolors[s],o.name!==""&&(e[i]=o.name);if(Array.isArray(a.colors))for(s=0;s<a.colors.length;s++)o=a.colors[s],i=1+s,o.name!==""&&(r[i]=e[i]=o.name);for(var l=[r,e,r,e,r,e,r,e],u=0;u<a.wangtiles.length;u++){var f=a.wangtiles[u],d=h[f.tileid]||(h[f.tileid]={});d=d.wangid||(d.wangid={});for(var c=[],m=0;m<Math.min(l.length,f.wangid.length);m++){if(o=f.wangid[m],o===0){c.push(void 0);continue}var g=l[m][o];if(g!==void 0){c.push(g);continue}c.push(o)}d[n]=c}}}};v.exports=y},96761:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={AssignTileProperties:t(51233),Base64Decode:t(41868),BuildTilesetIndex:t(84101),CreateGroupLayer:t(79677),ParseGID:t(29920),ParseImageLayers:t(12635),ParseJSONTiled:t(46594),ParseObject:t(52205),ParseObjectLayers:t(22611),ParseTileLayers:t(28200),ParseTilesets:t(24619)}},33385:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),p=t(37277),a=t(44594),n=t(94880),r=t(72905),e=new h({initialize:function(o){this.scene=o,this.systems=o.sys,this.now=0,this.startTime=0,this.timeScale=1,this.paused=!1,this._active=[],this._pendingInsertion=[],this._pendingRemoval=[],o.sys.events.once(a.BOOT,this.boot,this),o.sys.events.on(a.START,this.start,this)},boot:function(){this.now=this.systems.game.loop.time,this.systems.events.once(a.DESTROY,this.destroy,this)},start:function(){this.startTime=this.systems.game.loop.time;var s=this.systems.events;s.on(a.PRE_UPDATE,this.preUpdate,this),s.on(a.UPDATE,this.update,this),s.once(a.SHUTDOWN,this.shutdown,this)},addEvent:function(s){var o;return s instanceof n?(o=s,this.removeEvent(o),o.elapsed=o.startAt,o.hasDispatched=!1,o.repeatCount=o.repeat===-1||o.loop?999999999999:o.repeat):o=new n(s),this._pendingInsertion.push(o),o},delayedCall:function(s,o,i,l){return this.addEvent({delay:s,callback:o,args:i,callbackScope:l})},clearPendingEvents:function(){return this._pendingInsertion=[],this},removeEvent:function(s){Array.isArray(s)||(s=[s]);for(var o=0;o<s.length;o++){var i=s[o];r(this._pendingRemoval,i),r(this._pendingInsertion,i),r(this._active,i)}return this},removeAllEvents:function(){return this._pendingRemoval=this._pendingRemoval.concat(this._active),this},preUpdate:function(){var s=this._pendingRemoval.length,o=this._pendingInsertion.length;if(!(s===0&&o===0)){var i,l;for(i=0;i<s;i++){l=this._pendingRemoval[i];var u=this._active.indexOf(l);u>-1&&this._active.splice(u,1),l.destroy()}for(i=0;i<o;i++)l=this._pendingInsertion[i],this._active.push(l);this._pendingRemoval.length=0,this._pendingInsertion.length=0}},update:function(s,o){if(this.now=s,!this.paused){o*=this.timeScale;for(var i=0;i<this._active.length;i++){var l=this._active[i];if(!l.paused&&(l.elapsed+=o*l.timeScale,l.elapsed>=l.delay)){var u=l.elapsed-l.delay;if(l.elapsed=l.delay,!l.hasDispatched&&l.callback&&(l.hasDispatched=!0,l.callback.apply(l.callbackScope,l.args)),l.repeatCount>0){if(l.repeatCount--,u>=l.delay)for(;u>=l.delay&&l.repeatCount>0;)l.callback&&l.callback.apply(l.callbackScope,l.args),u-=l.delay,l.repeatCount--;l.elapsed=u,l.hasDispatched=!1}else l.hasDispatched&&this._pendingRemoval.push(l)}}}},shutdown:function(){var s;for(s=0;s<this._pendingInsertion.length;s++)this._pendingInsertion[s].destroy();for(s=0;s<this._active.length;s++)this._active[s].destroy();for(s=0;s<this._pendingRemoval.length;s++)this._pendingRemoval[s].destroy();this._active.length=0,this._pendingRemoval.length=0,this._pendingInsertion.length=0;var o=this.systems.events;o.off(a.PRE_UPDATE,this.preUpdate,this),o.off(a.UPDATE,this.update,this),o.off(a.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.scene.sys.events.off(a.START,this.start,this),this.scene=null,this.systems=null}});p.register("Clock",e,"time"),v.exports=e},96120:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),p=t(50792),a=t(39429),n=t(95540),r=t(44594),e=t(89809),s=new h({Extends:p,initialize:function(i,l){p.call(this),this.scene=i,this.systems=i.sys,this.elapsed=0,this.timeScale=1,this.paused=!0,this.complete=!1,this.totalComplete=0,this.loop=0,this.iteration=0,this.events=[];var u=this.systems.events;u.on(r.PRE_UPDATE,this.preUpdate,this),u.on(r.UPDATE,this.update,this),u.once(r.SHUTDOWN,this.destroy,this),l&&this.add(l)},preUpdate:function(o,i){this.paused||(this.elapsed+=i*this.timeScale)},update:function(){if(!(this.paused||this.complete)){var o,i=this.events,l=!1,u=this.systems,f;for(o=0;o<i.length;o++){var d=i[o];if(!d.complete&&d.time<=this.elapsed){if(d.complete=!0,this.totalComplete++,f=d.target?d.target:this,d.if&&!d.if.call(f,d))continue;if(d.once&&(l=!0),d.set&&d.target)for(var c in d.set)d.target[c]=d.set[c];this.iteration&&d.repeat++,d.loop&&d.repeat&&d.loop.call(f),d.tween&&(d.tweenInstance=u.tweens.add(d.tween)),d.sound&&(typeof d.sound=="string"?u.sound.play(d.sound):u.sound.play(d.sound.key,d.sound.config)),d.event&&this.emit(d.event,f),d.run&&d.run.call(f),d.stop&&this.stop()}}if(l)for(o=0;o<i.length;o++)i[o].complete&&i[o].once&&(i.splice(o,1),o--);this.totalComplete>=i.length&&(this.loop!==0&&(this.loop===-1||this.loop>this.iteration)?(this.iteration++,this.reset(!0)):this.complete=!0),this.complete&&this.emit(e.COMPLETE,this)}},play:function(o){return o===void 0&&(o=!0),this.paused=!1,this.complete=!1,this.totalComplete=0,o&&this.reset(),this},pause:function(){this.paused=!0;for(var o=this.events,i=0;i<o.length;i++){var l=o[i];l.tweenInstance&&(l.tweenInstance.paused=!0)}return this},repeat:function(o){return(o===void 0||o===!0)&&(o=-1),o===!1&&(o=0),this.loop=o,this},resume:function(){this.paused=!1;for(var o=this.events,i=0;i<o.length;i++){var l=o[i];l.tweenInstance&&(l.tweenInstance.paused=!1)}return this},stop:function(){return this.paused=!0,this.complete=!0,this},reset:function(o){o===void 0&&(o=!1),this.elapsed=0,o||(this.iteration=0);for(var i=this.events,l=0;l<i.length;l++){var u=i[l];u.complete=!1,o||(u.repeat=0),u.tweenInstance&&u.tweenInstance.stop()}return this.play(!1)},add:function(o){Array.isArray(o)||(o=[o]);var i=this.events,l=0;i.length>0&&(l=i[i.length-1].time);for(var u=0;u<o.length;u++){var f=o[u],d=n(f,"at",0),c=n(f,"in",null);c!==null&&(d=this.elapsed+c);var m=n(f,"from",null);m!==null&&(d=l+m),i.push({complete:!1,time:d,repeat:0,if:n(f,"if",null),run:n(f,"run",null),loop:n(f,"loop",null),event:n(f,"event",null),target:n(f,"target",null),set:n(f,"set",null),tween:n(f,"tween",null),sound:n(f,"sound",null),once:n(f,"once",!1),stop:n(f,"stop",!1)}),l=d}return this.complete=!1,this},clear:function(){for(var o=this.events,i=0;i<o.length;i++){var l=o[i];l.tweenInstance&&l.tweenInstance.stop()}return o=[],this.elapsed=0,this.paused=!0,this},isPlaying:function(){return!this.paused&&!this.complete},getProgress:function(){var o=Math.min(this.totalComplete,this.events.length);return o/this.events.length},destroy:function(){var o=this.systems.events;o.off(r.PRE_UPDATE,this.preUpdate,this),o.off(r.UPDATE,this.update,this),o.off(r.SHUTDOWN,this.destroy,this),this.clear(),this.scene=null,this.systems=null}});a.register("timeline",function(o){return new s(this.scene,o)}),v.exports=s},94880:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),p=t(95540),a=new h({initialize:function(r){this.delay=0,this.repeat=0,this.repeatCount=0,this.loop=!1,this.callback,this.callbackScope,this.args,this.timeScale=1,this.startAt=0,this.elapsed=0,this.paused=!1,this.hasDispatched=!1,this.reset(r)},reset:function(n){if(this.delay=p(n,"delay",0),this.repeat=p(n,"repeat",0),this.loop=p(n,"loop",!1),this.callback=p(n,"callback",void 0),this.callbackScope=p(n,"callbackScope",this),this.args=p(n,"args",[]),this.timeScale=p(n,"timeScale",1),this.startAt=p(n,"startAt",0),this.paused=p(n,"paused",!1),this.elapsed=this.startAt,this.hasDispatched=!1,this.repeatCount=this.repeat===-1||this.loop?999999999999:this.repeat,this.delay===0&&(this.repeat>0||this.loop))throw new Error("TimerEvent infinite loop created via zero delay");return this},getProgress:function(){return this.elapsed/this.delay},getOverallProgress:function(){if(this.repeat>0){var n=this.delay+this.delay*this.repeat,r=this.elapsed+this.delay*(this.repeat-this.repeatCount);return r/n}else return this.getProgress()},getRepeatCount:function(){return this.repeatCount},getElapsed:function(){return this.elapsed},getElapsedSeconds:function(){return this.elapsed*.001},getRemaining:function(){return this.delay-this.elapsed},getRemainingSeconds:function(){return this.getRemaining()*.001},getOverallRemaining:function(){return this.delay*(1+this.repeatCount)-this.elapsed},getOverallRemainingSeconds:function(){return this.getOverallRemaining()*.001},remove:function(n){n===void 0&&(n=!1),this.elapsed=this.delay,this.hasDispatched=!n,this.repeatCount=0},destroy:function(){this.callback=void 0,this.callbackScope=void 0,this.args=[]}});v.exports=a},35945:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="complete"},89809:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={COMPLETE:t(35945)}},90291:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={Clock:t(33385),Events:t(89809),Timeline:t(96120),TimerEvent:t(94880)}},40382:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(72905),p=t(83419),a=t(43491),n=t(88032),r=t(37277),e=t(44594),s=t(93109),o=t(86081),i=t(8357),l=t(43960),u=t(26012),f=new p({initialize:function(c){this.scene=c,this.events=c.sys.events,this.timeScale=1,this.paused=!1,this.processing=!1,this.tweens=[],this.time=0,this.startTime=0,this.nextTime=0,this.prevTime=0,this.maxLag=500,this.lagSkip=33,this.gap=1e3/240,this.events.once(e.BOOT,this.boot,this),this.events.on(e.START,this.start,this)},boot:function(){this.events.once(e.DESTROY,this.destroy,this)},start:function(){this.timeScale=1,this.paused=!1,this.startTime=Date.now(),this.prevTime=this.startTime,this.nextTime=this.gap,this.events.on(e.UPDATE,this.update,this),this.events.once(e.SHUTDOWN,this.shutdown,this)},create:function(d){Array.isArray(d)||(d=[d]);for(var c=[],m=0;m<d.length;m++){var g=d[m];g instanceof o||g instanceof l?c.push(g):Array.isArray(g.tweens)?c.push(u(this,g)):c.push(i(this,g))}return c.length===1?c[0]:c},add:function(d){var c=d,m=this.tweens;return c instanceof o||c instanceof l||(Array.isArray(c.tweens)?c=u(this,c):c=i(this,c)),m.push(c.reset()),c},addMultiple:function(d){for(var c,m=[],g=this.tweens,x=0;x<d.length;x++)c=d[x],c instanceof o||c instanceof l||(Array.isArray(c.tweens)?c=u(this,c):c=i(this,c)),g.push(c.reset()),m.push(c);return m},chain:function(d){var c=u(this,d);return this.tweens.push(c.init()),c},getChainedTweens:function(d){return d.getChainedTweens()},has:function(d){return this.tweens.indexOf(d)>-1},existing:function(d){return this.has(d)||this.tweens.push(d.reset()),this},addCounter:function(d){var c=n(this,d);return this.tweens.push(c.reset()),c},stagger:function(d,c){return s(d,c)},setLagSmooth:function(d,c){return d===void 0&&(d=1/1e-8),c===void 0&&(c=0),this.maxLag=d,this.lagSkip=Math.min(c,this.maxLag),this},setFps:function(d){return d===void 0&&(d=240),this.gap=1e3/d,this.nextTime=this.time*1e3+this.gap,this},getDelta:function(d){var c=Date.now()-this.prevTime;c>this.maxLag&&(this.startTime+=c-this.lagSkip),this.prevTime+=c;var m=this.prevTime-this.startTime,g=m-this.nextTime,x=m-this.time*1e3;return g>0||d?(m/=1e3,this.time=m,this.nextTime+=g+(g>=this.gap?4:this.gap-g)):x=0,x},tick:function(){return this.step(!0),this},update:function(){this.paused||this.step(!1)},step:function(d){d===void 0&&(d=!1);var c=this.getDelta(d);if(!(c<=0)){this.processing=!0;var m,g,x=[],T=this.tweens;for(m=0;m<T.length;m++)g=T[m],g.update(c)&&x.push(g);var S=x.length;if(S&&T.length>0){for(m=0;m<S;m++){g=x[m];var P=T.indexOf(g);P>-1&&(g.isPendingRemove()||g.isDestroyed())&&(T.splice(P,1),g.destroy())}x.length=0}this.processing=!1}},remove:function(d){return this.processing?d.setPendingRemoveState():(h(this.tweens,d),d.setRemovedState()),this},reset:function(d){return this.existing(d),d.seek(),d.setActiveState(),this},makeActive:function(d){return this.existing(d),d.setActiveState(),this},each:function(d,c){var m,g=[null];for(m=1;m<arguments.length;m++)g.push(arguments[m]);return this.tweens.forEach(function(x){g[0]=x,d.apply(c,g)}),this},getTweens:function(){return this.tweens.slice()},getTweensOf:function(d){var c=[],m=this.tweens;Array.isArray(d)?d=a(d):d=[d];for(var g=d.length,x=0;x<m.length;x++)for(var T=m[x],S=0;S<g;S++)!T.isDestroyed()&&T.hasTarget(d[S])&&c.push(T);return c},getGlobalTimeScale:function(){return this.timeScale},setGlobalTimeScale:function(d){return this.timeScale=d,this},isTweening:function(d){for(var c=this.tweens,m,g=0;g<c.length;g++)if(m=c[g],m.isPlaying()&&m.hasTarget(d))return!0;return!1},killAll:function(){for(var d=this.processing?this.getTweens():this.tweens,c=0;c<d.length;c++)d[c].destroy();return this.processing||(d.length=0),this},killTweensOf:function(d){for(var c=this.getTweensOf(d),m=0;m<c.length;m++)c[m].destroy();return this},pauseAll:function(){return this.paused=!0,this},resumeAll:function(){return this.paused=!1,this},shutdown:function(){this.killAll(),this.tweens=[],this.events.off(e.UPDATE,this.update,this),this.events.off(e.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.events.off(e.START,this.start,this),this.scene=null,this.events=null}});r.register("TweenManager",f,"tweens"),v.exports=f},57355:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,h,p){return t&&t.hasOwnProperty(h)?t[h]:p};v.exports=y},6113:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(62640),p=t(35355),a=function(n,r){var e=h.Power0;if(typeof n=="string")if(h.hasOwnProperty(n))e=h[n];else{var s="";if(n.indexOf(".")){s=n.substring(n.indexOf(".")+1);var o=s.toLowerCase();o==="in"?s="easeIn":o==="out"?s="easeOut":o==="inout"&&(s="easeInOut")}n=p(n.substring(0,n.indexOf(".")+1)+s),h.hasOwnProperty(n)&&(e=h[n])}else typeof n=="function"&&(e=n);if(!r)return e;var i=r.slice(0);return i.unshift(0),function(l){return i[0]=l,e.apply(this,i)}};v.exports=a},91389:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(89318),p=t(77259),a=t(28392),n={bezier:h,catmull:p,catmullrom:p,linear:a},r=function(e){if(e===null)return null;var s=n.linear;return typeof e=="string"?n.hasOwnProperty(e)&&(s=n[e]):typeof e=="function"&&(s=e),s};v.exports=r},55292:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,h,p){var a;if(t.hasOwnProperty(h)){var n=typeof t[h];n==="function"?a=function(r,e,s,o,i,l){return t[h](r,e,s,o,i,l)}:a=function(){return t[h]}}else typeof p=="function"?a=p:a=function(){return p};return a};v.exports=y},82985:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(81076),p=function(a){var n,r=[];if(a.hasOwnProperty("props"))for(n in a.props)n.substring(0,1)!=="_"&&r.push({key:n,value:a.props[n]});else for(n in a)h.indexOf(n)===-1&&n.substring(0,1)!=="_"&&r.push({key:n,value:a[n]});return r};v.exports=p},62329:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(35154),p=function(a){var n=h(a,"targets",null);return n===null||(typeof n=="function"&&(n=n.call()),Array.isArray(n)||(n=[n])),n};v.exports=p},17777:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(30976),p=t(99472);function a(o){return!!o.getActive&&typeof o.getActive=="function"}function n(o){return!!o.getStart&&typeof o.getStart=="function"}function r(o){return!!o.getEnd&&typeof o.getEnd=="function"}function e(o){return n(o)||r(o)||a(o)}var s=function(o,i){var l,u=function(H,X,G){return G},f=function(H,X,G){return G},d=null,c=typeof i;if(c==="number")u=function(){return i};else if(Array.isArray(i))f=function(){return i[0]},u=function(){return i[i.length-1]};else if(c==="string"){var m=i.toLowerCase(),g=m.substring(0,6)==="random",x=m.substring(0,3)==="int";if(g||x){var T=m.indexOf("("),S=m.indexOf(")"),P=m.indexOf(",");if(T&&S&&P){var L=parseFloat(m.substring(T+1,P)),I=parseFloat(m.substring(P+1,S));g?u=function(){return p(L,I)}:u=function(){return h(L,I)}}else throw new Error("invalid random() format")}else{m=m[0];var O=parseFloat(i.substr(2));switch(m){case"+":u=function(H,X,G){return G+O};break;case"-":u=function(H,X,G){return G-O};break;case"*":u=function(H,X,G){return G*O};break;case"/":u=function(H,X,G){return G/O};break;default:u=function(){return parseFloat(i)}}}}else if(c==="function")u=i;else if(c==="object")if(e(i))a(i)&&(d=i.getActive),r(i)&&(u=i.getEnd),n(i)&&(f=i.getStart);else if(i.hasOwnProperty("value"))l=s(o,i.value);else{var M=i.hasOwnProperty("to"),w=i.hasOwnProperty("from"),D=i.hasOwnProperty("start");if(M&&(w||D)){if(l=s(o,i.to),D){var U=s(o,i.start);l.getActive=U.getEnd}if(w){var Y=s(o,i.from);l.getStart=Y.getEnd}}}return l||(l={getActive:d,getEnd:u,getStart:f}),l};v.exports=s},88032:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(70402),p=t(69902),a=t(23568),n=t(57355),r=t(6113),e=t(55292),s=t(35154),o=t(17777),i=t(269),l=t(86081),u=function(f,d,c){if(d instanceof l)return d.parent=f,d;c===void 0?c=p:c=i(p,c);var m=s(d,"from",0),g=s(d,"to",1),x=[{value:m}],T=s(d,"delay",c.delay),S=s(d,"easeParams",c.easeParams),P=s(d,"ease",c.ease),L=o("value",g),I=new l(f,x),O=I.add(0,"value",L.getEnd,L.getStart,L.getActive,r(s(d,"ease",P),s(d,"easeParams",S)),e(d,"delay",T),s(d,"duration",c.duration),n(d,"yoyo",c.yoyo),s(d,"hold",c.hold),s(d,"repeat",c.repeat),s(d,"repeatDelay",c.repeatDelay),!1,!1);O.start=m,O.current=m,I.completeDelay=a(d,"completeDelay",0),I.loop=Math.round(a(d,"loop",0)),I.loopDelay=Math.round(a(d,"loopDelay",0)),I.paused=n(d,"paused",!1),I.persist=n(d,"persist",!1),I.callbackScope=s(d,"callbackScope",I);for(var M=h.TYPES,w=0;w<M.length;w++){var D=M[w],U=s(d,D,!1);if(U){var Y=s(d,D+"Params",[]);I.setCallback(D,U,Y)}}return I};v.exports=u},93109:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(6113),p=t(35154),a=t(36383),n=function(r,e){e===void 0&&(e={});var s,o=p(e,"start",0),i=p(e,"ease",null),l=p(e,"grid",null),u=p(e,"from",0),f=u==="first",d=u==="center",c=u==="last",m=typeof u=="number",g=Array.isArray(r),x=parseFloat(g?r[0]:r),T=g?parseFloat(r[1]):0,S=Math.max(x,T);if(g&&(o+=x),l){var P=l[0],L=l[1],I=0,O=0,M=0,w=0,D=[];c?(I=P-1,O=L-1):m?(I=u%P,O=Math.floor(u/P)):d&&(I=(P-1)/2,O=(L-1)/2);for(var U=a.MIN_SAFE_INTEGER,Y=0;Y<L;Y++){D[Y]=[];for(var H=0;H<P;H++){M=I-H,w=O-Y;var X=Math.sqrt(M*M+w*w);X>U&&(U=X),D[Y][H]=X}}}var G=i?h(i):null;return l?s=function(z,b,N,W){var K=0,J=W%P,j=Math.floor(W/P);J>=0&&J<P&&j>=0&&j<L&&(K=D[j][J]);var Z;if(g){var q=T-x;G?Z=K/U*q*G(K/U):Z=K/U*q}else G?Z=K*x*G(K/U):Z=K*x;return Z+o}:s=function(z,b,N,W,K){K--;var J;f?J=W:d?J=Math.abs(K/2-W):c?J=K-W:m&&(J=Math.abs(u-W));var j;if(g){var Z;d?Z=(T-x)/K*(J*2):Z=(T-x)/K*J,G?j=Z*G(J/K):j=Z}else G?j=K*S*G(J/K):j=J*x;return j+o},s};v.exports=n},8357:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(70402),p=t(69902),a=t(23568),n=t(57355),r=t(6113),e=t(91389),s=t(55292),o=t(82985),i=t(62329),l=t(35154),u=t(17777),f=t(269),d=t(86081),c=function(m,g,x){if(g instanceof d)return g.parent=m,g;x===void 0?x=p:x=f(p,x);var T=i(g);!T&&x.targets&&(T=x.targets);for(var S=o(g),P=l(g,"delay",x.delay),L=l(g,"duration",x.duration),I=l(g,"easeParams",x.easeParams),O=l(g,"ease",x.ease),M=l(g,"hold",x.hold),w=l(g,"repeat",x.repeat),D=l(g,"repeatDelay",x.repeatDelay),U=n(g,"yoyo",x.yoyo),Y=n(g,"flipX",x.flipX),H=n(g,"flipY",x.flipY),X=l(g,"interpolation",x.interpolation),G=function(tt,et,ot,it){if(ot==="texture"){var lt=it,vt=void 0;Array.isArray(it)?(lt=it[0],vt=it[1]):it.hasOwnProperty("value")?(lt=it.value,Array.isArray(it.value)?(lt=it.value[0],vt=it.value[1]):typeof it.value=="string"&&(lt=it.value)):typeof it=="string"&&(lt=it),tt.addFrame(et,lt,vt,s(it,"delay",P),l(it,"duration",L),l(it,"hold",M),l(it,"repeat",w),l(it,"repeatDelay",D),n(it,"flipX",Y),n(it,"flipY",H))}else{var xt=u(ot,it),yt=e(l(it,"interpolation",X));tt.add(et,ot,xt.getEnd,xt.getStart,xt.getActive,r(l(it,"ease",O),l(it,"easeParams",I)),s(it,"delay",P),l(it,"duration",L),n(it,"yoyo",U),l(it,"hold",M),l(it,"repeat",w),l(it,"repeatDelay",D),n(it,"flipX",Y),n(it,"flipY",H),yt,yt?it:null)}},z=new d(m,T),b=0;b<S.length;b++)for(var N=S[b].key,W=S[b].value,K=0;K<T.length;K++)N==="scale"&&!T[K].hasOwnProperty("scale")?(G(z,K,"scaleX",W),G(z,K,"scaleY",W)):G(z,K,N,W);z.completeDelay=a(g,"completeDelay",0),z.loop=Math.round(a(g,"loop",0)),z.loopDelay=Math.round(a(g,"loopDelay",0)),z.paused=n(g,"paused",!1),z.persist=n(g,"persist",!1),z.callbackScope=l(g,"callbackScope",z);for(var J=h.TYPES,j=0;j<J.length;j++){var Z=J[j],q=l(g,Z,!1);if(q){var _=l(g,Z+"Params",[]);z.setCallback(Z,q,_)}}return z};v.exports=c},26012:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(70402),p=t(23568),a=t(57355),n=t(62329),r=t(35154),e=t(8357),s=t(43960),o=function(i,l){if(l instanceof s)return l.parent=i,l;var u=new s(i);u.startDelay=r(l,"delay",0),u.completeDelay=p(l,"completeDelay",0),u.loop=Math.round(p(l,"loop",r(l,"repeat",0))),u.loopDelay=Math.round(p(l,"loopDelay",r(l,"repeatDelay",0))),u.paused=a(l,"paused",!1),u.persist=a(l,"persist",!1),u.callbackScope=r(l,"callbackScope",u);var f,d=h.TYPES;for(f=0;f<d.length;f++){var c=d[f],m=r(l,c,!1);if(m){var g=r(l,c+"Params",[]);u.setCallback(c,m,g)}}var x=r(l,"tweens",null);if(Array.isArray(x)){var T=[],S=n(l),P=void 0;for(S&&(P={targets:S}),f=0;f<x.length;f++)T.push(e(u,x[f],P));u.add(T)}return u};v.exports=o},30231:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={GetBoolean:t(57355),GetEaseFunction:t(6113),GetInterpolationFunction:t(91389),GetNewValue:t(55292),GetProps:t(82985),GetTargets:t(62329),GetValueOp:t(17777),NumberTweenBuilder:t(88032),StaggerBuilder:t(93109),TweenBuilder:t(8357)}},73685:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="active"},98540:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="complete"},67233:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="loop"},2859:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="pause"},98336:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="repeat"},25764:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="resume"},32193:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="start"},84371:v=>{/**
 * @author       samme
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="stop"},70766:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="update"},55659:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="yoyo"},842:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={TWEEN_ACTIVE:t(73685),TWEEN_COMPLETE:t(98540),TWEEN_LOOP:t(67233),TWEEN_PAUSE:t(2859),TWEEN_RESUME:t(25764),TWEEN_REPEAT:t(98336),TWEEN_START:t(32193),TWEEN_STOP:t(84371),TWEEN_UPDATE:t(70766),TWEEN_YOYO:t(55659)}},43066:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h={States:t(86353),Builders:t(30231),Events:t(842),TweenManager:t(40382),Tween:t(86081),TweenData:t(48177),TweenFrameData:t(42220),BaseTween:t(70402),TweenChain:t(43960)};v.exports=h},70402:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),p=t(50792),a=t(842),n=t(86353),r=new h({Extends:p,initialize:function(s){p.call(this),this.parent=s,this.data=[],this.totalData=0,this.startDelay=0,this.hasStarted=!1,this.timeScale=1,this.loop=0,this.loopDelay=0,this.loopCounter=0,this.completeDelay=0,this.countdown=0,this.state=n.PENDING,this.paused=!1,this.callbacks={onActive:null,onComplete:null,onLoop:null,onPause:null,onRepeat:null,onResume:null,onStart:null,onStop:null,onUpdate:null,onYoyo:null},this.callbackScope,this.persist=!1},setTimeScale:function(e){return this.timeScale=e,this},getTimeScale:function(){return this.timeScale},isPlaying:function(){return!this.paused&&this.isActive()},isPaused:function(){return this.paused},pause:function(){return this.paused||(this.paused=!0,this.dispatchEvent(a.TWEEN_PAUSE,"onPause")),this},resume:function(){return this.paused&&(this.paused=!1,this.dispatchEvent(a.TWEEN_RESUME,"onResume")),this},makeActive:function(){this.parent.makeActive(this),this.dispatchEvent(a.TWEEN_ACTIVE,"onActive")},onCompleteHandler:function(){this.setPendingRemoveState(),this.dispatchEvent(a.TWEEN_COMPLETE,"onComplete")},complete:function(e){return e===void 0&&(e=0),e?(this.setCompleteDelayState(),this.countdown=e):this.onCompleteHandler(),this},completeAfterLoop:function(e){return e===void 0&&(e=0),this.loopCounter>e&&(this.loopCounter=e),this},remove:function(){return this.parent&&this.parent.remove(this),this},stop:function(){return this.parent&&!this.isRemoved()&&!this.isPendingRemove()&&!this.isDestroyed()&&(this.dispatchEvent(a.TWEEN_STOP,"onStop"),this.setPendingRemoveState()),this},updateLoopCountdown:function(e){this.countdown-=e,this.countdown<=0&&(this.setActiveState(),this.dispatchEvent(a.TWEEN_LOOP,"onLoop"))},updateStartCountdown:function(e){return this.countdown-=e,this.countdown<=0&&(this.hasStarted=!0,this.setActiveState(),this.dispatchEvent(a.TWEEN_START,"onStart"),e=0),e},updateCompleteDelay:function(e){this.countdown-=e,this.countdown<=0&&this.onCompleteHandler()},setCallback:function(e,s,o){return o===void 0&&(o=[]),this.callbacks.hasOwnProperty(e)&&(this.callbacks[e]={func:s,params:o}),this},setPendingState:function(){this.state=n.PENDING},setActiveState:function(){this.state=n.ACTIVE,this.hasStarted=!1},setLoopDelayState:function(){this.state=n.LOOP_DELAY},setCompleteDelayState:function(){this.state=n.COMPLETE_DELAY},setStartDelayState:function(){this.state=n.START_DELAY,this.countdown=this.startDelay,this.hasStarted=!1},setPendingRemoveState:function(){this.state=n.PENDING_REMOVE},setRemovedState:function(){this.state=n.REMOVED},setFinishedState:function(){this.state=n.FINISHED},setDestroyedState:function(){this.state=n.DESTROYED},isPending:function(){return this.state===n.PENDING},isActive:function(){return this.state===n.ACTIVE},isLoopDelayed:function(){return this.state===n.LOOP_DELAY},isCompleteDelayed:function(){return this.state===n.COMPLETE_DELAY},isStartDelayed:function(){return this.state===n.START_DELAY},isPendingRemove:function(){return this.state===n.PENDING_REMOVE},isRemoved:function(){return this.state===n.REMOVED},isFinished:function(){return this.state===n.FINISHED},isDestroyed:function(){return this.state===n.DESTROYED},destroy:function(){this.data&&this.data.forEach(function(e){e.destroy()}),this.removeAllListeners(),this.callbacks=null,this.data=null,this.parent=null,this.setDestroyedState()}});r.TYPES=["onActive","onComplete","onLoop","onPause","onRepeat","onResume","onStart","onStop","onUpdate","onYoyo"],v.exports=r},95042:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),p=t(842),a=t(86353),n=new h({initialize:function(e,s,o,i,l,u,f,d,c,m){this.tween=e,this.targetIndex=s,this.duration=i,this.totalDuration=0,this.delay=0,this.getDelay=o,this.yoyo=l,this.hold=u,this.repeat=f,this.repeatDelay=d,this.repeatCounter=0,this.flipX=c,this.flipY=m,this.progress=0,this.elapsed=0,this.state=0,this.isCountdown=!1},getTarget:function(){return this.tween.targets[this.targetIndex]},setTargetValue:function(r){r===void 0&&(r=this.current),this.tween.targets[this.targetIndex][this.key]=r},setCreatedState:function(){this.state=a.CREATED,this.isCountdown=!1},setDelayState:function(){this.state=a.DELAY,this.isCountdown=!0},setPendingRenderState:function(){this.state=a.PENDING_RENDER,this.isCountdown=!1},setPlayingForwardState:function(){this.state=a.PLAYING_FORWARD,this.isCountdown=!1},setPlayingBackwardState:function(){this.state=a.PLAYING_BACKWARD,this.isCountdown=!1},setHoldState:function(){this.state=a.HOLD_DELAY,this.isCountdown=!0},setRepeatState:function(){this.state=a.REPEAT_DELAY,this.isCountdown=!0},setCompleteState:function(){this.state=a.COMPLETE,this.isCountdown=!1},isCreated:function(){return this.state===a.CREATED},isDelayed:function(){return this.state===a.DELAY},isPendingRender:function(){return this.state===a.PENDING_RENDER},isPlayingForward:function(){return this.state===a.PLAYING_FORWARD},isPlayingBackward:function(){return this.state===a.PLAYING_BACKWARD},isHolding:function(){return this.state===a.HOLD_DELAY},isRepeating:function(){return this.state===a.REPEAT_DELAY},isComplete:function(){return this.state===a.COMPLETE},setStateFromEnd:function(r){this.yoyo?this.onRepeat(r,!0,!0):this.repeatCounter>0?this.onRepeat(r,!0,!1):this.setCompleteState()},setStateFromStart:function(r){this.repeatCounter>0?this.onRepeat(r,!1):this.setCompleteState()},reset:function(){var r=this.tween,e=r.totalTargets,s=this.targetIndex,o=r.targets[s],i=this.key;this.progress=0,this.elapsed=0,this.delay=this.getDelay(o,i,0,s,e,r),this.repeatCounter=this.repeat===-1?a.MAX:this.repeat,this.setPendingRenderState();var l=this.duration+this.hold;this.yoyo&&(l+=this.duration);var u=l+this.repeatDelay;this.totalDuration=this.delay+l,this.repeat===-1?(this.totalDuration+=u*a.MAX,r.isInfinite=!0):this.repeat>0&&(this.totalDuration+=u*this.repeat),this.totalDuration>r.duration&&(r.duration=this.totalDuration),this.delay<r.startDelay&&(r.startDelay=this.delay),this.delay>0&&(this.elapsed=this.delay,this.setDelayState())},onRepeat:function(r,e,s){var o=this.tween,i=o.totalTargets,l=this.targetIndex,u=o.targets[l],f=this.key,d=f!=="texture";if(this.elapsed=r,this.progress=r/this.duration,this.flipX&&u.toggleFlipX(),this.flipY&&u.toggleFlipY(),d&&(e||s)&&(this.start=this.getStartValue(u,f,this.start,l,i,o)),s){this.setPlayingBackwardState(),this.dispatchEvent(p.TWEEN_YOYO,"onYoyo");return}this.repeatCounter--,d&&(this.end=this.getEndValue(u,f,this.start,l,i,o)),this.repeatDelay>0?(this.elapsed=this.repeatDelay-r,d&&(this.current=this.start,u[f]=this.current),this.setRepeatState()):(this.setPlayingForwardState(),this.dispatchEvent(p.TWEEN_REPEAT,"onRepeat"))},destroy:function(){this.tween=null,this.getDelay=null,this.setCompleteState()}});v.exports=n},69902:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={targets:null,delay:0,duration:1e3,ease:"Power0",easeParams:null,hold:0,repeat:0,repeatDelay:0,yoyo:!1,flipX:!1,flipY:!1,persist:!1,interpolation:null};v.exports=y},81076:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports=["callbackScope","completeDelay","delay","duration","ease","easeParams","flipX","flipY","hold","interpolation","loop","loopDelay","onActive","onActiveParams","onComplete","onCompleteParams","onLoop","onLoopParams","onPause","onPauseParams","onRepeat","onRepeatParams","onResume","onResumeParams","onStart","onStartParams","onStop","onStopParams","onUpdate","onUpdateParams","onYoyo","onYoyoParams","paused","persist","props","repeat","repeatDelay","targets","yoyo"]},86081:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(70402),p=t(83419),a=t(842),n=t(44603),r=t(39429),e=t(36383),s=t(86353),o=t(48177),i=t(42220),l=new p({Extends:h,initialize:function(f,d){h.call(this,f),this.targets=d,this.totalTargets=d.length,this.isSeeking=!1,this.isInfinite=!1,this.elapsed=0,this.totalElapsed=0,this.duration=0,this.progress=0,this.totalDuration=0,this.totalProgress=0},add:function(u,f,d,c,m,g,x,T,S,P,L,I,O,M,w,D){var U=new o(this,u,f,d,c,m,g,x,T,S,P,L,I,O,M,w,D);return this.totalData=this.data.push(U),U},addFrame:function(u,f,d,c,m,g,x,T,S,P){var L=new i(this,u,f,d,c,m,g,x,T,S,P);return this.totalData=this.data.push(L),L},getValue:function(u){u===void 0&&(u=0);var f=null;return this.data&&(f=this.data[u].current),f},hasTarget:function(u){return this.targets&&this.targets.indexOf(u)!==-1},updateTo:function(u,f,d){if(d===void 0&&(d=!1),u!=="texture")for(var c=0;c<this.totalData;c++){var m=this.data[c];m.key===u&&(m.isPlayingForward()||m.isPlayingBackward())&&(m.end=f,d&&(m.start=m.current))}return this},restart:function(){switch(this.state){case s.REMOVED:case s.FINISHED:this.seek(),this.parent.makeActive(this);break;case s.PENDING:case s.PENDING_REMOVE:this.parent.reset(this);break;case s.DESTROYED:console.warn("Cannot restart destroyed Tween",this);break;default:this.seek();break}return this.paused=!1,this.hasStarted=!1,this},nextState:function(){if(this.loopCounter>0)this.elapsed=0,this.progress=0,this.loopCounter--,this.initTweenData(!0),this.loopDelay>0?(this.countdown=this.loopDelay,this.setLoopDelayState()):(this.setActiveState(),this.dispatchEvent(a.TWEEN_LOOP,"onLoop"));else if(this.completeDelay>0)this.countdown=this.completeDelay,this.setCompleteDelayState();else return this.onCompleteHandler(),!0;return!1},onCompleteHandler:function(){this.progress=1,this.totalProgress=1,h.prototype.onCompleteHandler.call(this)},play:function(){return this.isDestroyed()?(console.warn("Cannot play destroyed Tween",this),this):((this.isPendingRemove()||this.isFinished())&&this.seek(),this.paused=!1,this.setActiveState(),this)},seek:function(u,f,d){if(u===void 0&&(u=0),f===void 0&&(f=16.6),d===void 0&&(d=!1),this.isDestroyed())return console.warn("Cannot seek destroyed Tween",this),this;d||(this.isSeeking=!0),this.reset(!0),this.initTweenData(!0),this.setActiveState(),this.dispatchEvent(a.TWEEN_ACTIVE,"onActive");var c=this.paused;if(this.paused=!1,u>0){for(var m=Math.floor(u/f),g=u-m*f,x=0;x<m;x++)this.update(f);g>0&&this.update(g)}return this.paused=c,this.isSeeking=!1,this},initTweenData:function(u){u===void 0&&(u=!1),this.duration=0,this.startDelay=e.MAX_SAFE_INTEGER;for(var f=this.data,d=0;d<this.totalData;d++)f[d].reset(u);this.duration=Math.max(this.duration,.01);var c=this.duration,m=this.completeDelay,g=this.loopCounter,x=this.loopDelay;g>0?this.totalDuration=c+m+(c+x)*g:this.totalDuration=c+m},reset:function(u){return u===void 0&&(u=!1),this.elapsed=0,this.totalElapsed=0,this.progress=0,this.totalProgress=0,this.loopCounter=this.loop,this.loop===-1&&(this.isInfinite=!0,this.loopCounter=s.MAX),u||(this.initTweenData(),this.setActiveState(),this.dispatchEvent(a.TWEEN_ACTIVE,"onActive")),this},update:function(u){if(this.isPendingRemove()||this.isDestroyed())return!0;if(this.paused||this.isFinished())return!1;if(u*=this.timeScale*this.parent.timeScale,this.isLoopDelayed())return this.updateLoopCountdown(u),!1;if(this.isCompleteDelayed())return this.updateCompleteDelay(u),!1;this.hasStarted||(this.startDelay-=u,this.startDelay<=0&&(this.hasStarted=!0,this.dispatchEvent(a.TWEEN_START,"onStart"),u=0));var f=!1;if(this.isActive())for(var d=this.data,c=0;c<this.totalData;c++)d[c].update(u)&&(f=!0);this.elapsed+=u,this.progress=Math.min(this.elapsed/this.duration,1),this.totalElapsed+=u,this.totalProgress=Math.min(this.totalElapsed/this.totalDuration,1),f||this.nextState();var m=this.isPendingRemove();return m&&this.persist&&(this.setFinishedState(),m=!1),m},forward:function(u){return this.update(u),this},rewind:function(u){return this.update(-u),this},dispatchEvent:function(u,f){if(!this.isSeeking){this.emit(u,this,this.targets);var d=this.callbacks[f];d&&d.func.apply(this.callbackScope,[this,this.targets].concat(d.params))}},destroy:function(){h.prototype.destroy.call(this),this.targets=null}});r.register("tween",function(u){return this.scene.sys.tweens.add(u)}),n.register("tween",function(u){return this.scene.sys.tweens.create(u)}),v.exports=l},43960:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(72905),p=t(70402),a=t(83419),n=t(842),r=t(44603),e=t(39429),s=t(86353),o=new a({Extends:p,initialize:function(l){p.call(this,l),this.currentTween=null,this.currentIndex=0},init:function(){return this.loopCounter=this.loop===-1?s.MAX:this.loop,this.setCurrentTween(0),this.startDelay>0&&!this.isStartDelayed()?this.setStartDelayState():this.setActiveState(),this},add:function(i){var l=this.parent.create(i);Array.isArray(l)||(l=[l]);for(var u=this.data,f=0;f<l.length;f++){var d=l[f];d.parent=this,u.push(d.reset())}return this.totalData=u.length,this},remove:function(i){return h(this.data,i),i.setRemovedState(),i===this.currentTween&&this.nextTween(),this.totalData=this.data.length,this},hasTarget:function(i){for(var l=this.data,u=0;u<this.totalData;u++)if(l[u].hasTarget(i))return!0;return!1},restart:function(){return this.isDestroyed()?(console.warn("Cannot restart destroyed TweenChain",this),this):(this.isRemoved()&&this.parent.makeActive(this),this.resetTweens(),this.paused=!1,this.init())},reset:function(i){return i.seek(),i.setActiveState(),this},makeActive:function(i){return i.reset(),i.setActiveState(),this},nextState:function(){if(this.loopCounter>0)this.loopCounter--,this.resetTweens(),this.loopDelay>0?(this.countdown=this.loopDelay,this.setLoopDelayState()):(this.setActiveState(),this.dispatchEvent(n.TWEEN_LOOP,"onLoop"));else if(this.completeDelay>0)this.countdown=this.completeDelay,this.setCompleteDelayState();else return this.onCompleteHandler(),!0;return!1},play:function(){return this.isDestroyed()?(console.warn("Cannot play destroyed TweenChain",this),this):((this.isPendingRemove()||this.isPending())&&this.resetTweens(),this.paused=!1,this.startDelay>0&&!this.isStartDelayed()?this.setStartDelayState():this.setActiveState(),this)},resetTweens:function(){for(var i=this.data,l=this.totalData,u=0;u<l;u++)i[u].reset(!1);this.setCurrentTween(0)},update:function(i){if(this.isPendingRemove()||this.isDestroyed())return!0;if(this.isFinished()||this.paused)return!1;i*=this.parent.timeScale,this.isLoopDelayed()?this.updateLoopCountdown(i):this.isCompleteDelayed()?this.updateCompleteDelay(i):this.isStartDelayed()&&(i=this.updateStartCountdown(i));var l=!1;return this.isActive()&&this.currentTween&&(this.currentTween.update(i)&&this.nextTween()&&this.nextState(),l=this.isPendingRemove(),l&&this.persist&&(this.setFinishedState(),l=!1)),l},nextTween:function(){return this.currentIndex++,this.currentIndex===this.totalData?!0:(this.setCurrentTween(this.currentIndex),!1)},setCurrentTween:function(i){this.currentIndex=i,this.currentTween=this.data[i],this.currentTween.setActiveState()},dispatchEvent:function(i,l){this.emit(i,this);var u=this.callbacks[l];u&&u.func.apply(this.callbackScope,[this].concat(u.params))},destroy:function(){p.prototype.destroy.call(this),this.currentTween=null}});e.register("tweenchain",function(i){return this.scene.sys.tweens.chain(i)}),r.register("tweenchain",function(i){return this.scene.sys.tweens.create(i)}),v.exports=o},48177:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(95042),p=t(45319),a=t(83419),n=t(842),r=new a({Extends:h,initialize:function(s,o,i,l,u,f,d,c,m,g,x,T,S,P,L,I,O){h.call(this,s,o,c,m,g,x,T,S,P,L),this.key=i,this.getActiveValue=f,this.getEndValue=l,this.getStartValue=u,this.ease=d,this.start=0,this.previous=0,this.current=0,this.end=0,this.interpolation=I,this.interpolationData=O},reset:function(e){h.prototype.reset.call(this);var s=this.tween.targets[this.targetIndex],o=this.key;e&&(s[o]=this.start),this.start=0,this.previous=0,this.current=0,this.end=0,this.getActiveValue&&(s[o]=this.getActiveValue(s,o,0))},update:function(e){var s=this.tween,o=s.totalTargets,i=this.targetIndex,l=s.targets[i],u=this.key;if(!l)return this.setCompleteState(),!1;if(this.isCountdown&&(this.elapsed-=e,this.elapsed<=0&&(this.elapsed=0,e=0,this.isDelayed()?this.setPendingRenderState():this.isRepeating()?(this.setPlayingForwardState(),this.dispatchEvent(n.TWEEN_REPEAT,"onRepeat")):this.isHolding()&&this.setStateFromEnd(0))),this.isPendingRender())return this.start=this.getStartValue(l,u,l[u],i,o,s),this.end=this.getEndValue(l,u,this.start,i,o,s),this.current=this.start,l[u]=this.start,this.setPlayingForwardState(),!0;var f=this.isPlayingForward(),d=this.isPlayingBackward();if(f||d){var c=this.elapsed,m=this.duration,g=0,x=!1;c+=e,c>=m?(g=c-m,c=m,x=!0):c<0&&(c=0);var T=p(c/m,0,1);if(this.elapsed=c,this.progress=T,this.previous=this.current,x)f?(this.current=this.end,l[u]=this.end,this.hold>0?(this.elapsed=this.hold,this.setHoldState()):this.setStateFromEnd(g)):(this.current=this.start,l[u]=this.start,this.setStateFromStart(g));else{f||(T=1-T);var S=this.ease(T);this.interpolation?this.current=this.interpolation(this.interpolationData,S):this.current=this.start+(this.end-this.start)*S,l[u]=this.current}this.dispatchEvent(n.TWEEN_UPDATE,"onUpdate")}return!this.isComplete()},dispatchEvent:function(e,s){var o=this.tween;if(!o.isSeeking){var i=o.targets[this.targetIndex],l=this.key,u=this.current,f=this.previous;o.emit(e,o,l,i,u,f);var d=o.callbacks[s];d&&d.func.apply(o.callbackScope,[o,i,l,u,f].concat(d.params))}},destroy:function(){h.prototype.destroy.call(this),this.getActiveValue=null,this.getEndValue=null,this.getStartValue=null,this.ease=null}});v.exports=r},42220:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(95042),p=t(45319),a=t(83419),n=t(842),r=new a({Extends:h,initialize:function(s,o,i,l,u,f,d,c,m,g,x){h.call(this,s,o,u,f,!1,d,c,m,g,x),this.key="texture",this.startTexture=null,this.endTexture=i,this.startFrame=null,this.endFrame=l,this.yoyo=c!==0},reset:function(e){h.prototype.reset.call(this);var s=this.tween.targets[this.targetIndex];this.startTexture||(this.startTexture=s.texture.key,this.startFrame=s.frame.name),e&&s.setTexture(this.startTexture,this.startFrame)},update:function(e){var s=this.tween,o=this.targetIndex,i=s.targets[o];if(!i)return this.setCompleteState(),!1;if(this.isCountdown&&(this.elapsed-=e,this.elapsed<=0&&(this.elapsed=0,e=0,this.isDelayed()?this.setPendingRenderState():this.isRepeating()?(this.setPlayingForwardState(),this.dispatchEvent(n.TWEEN_REPEAT,"onRepeat")):this.isHolding()&&this.setStateFromEnd(0))),this.isPendingRender())return this.startTexture&&i.setTexture(this.startTexture,this.startFrame),this.setPlayingForwardState(),!0;var l=this.isPlayingForward(),u=this.isPlayingBackward();if(l||u){var f=this.elapsed,d=this.duration,c=0,m=!1;f+=e,f>=d?(c=f-d,f=d,m=!0):f<0&&(f=0);var g=p(f/d,0,1);this.elapsed=f,this.progress=g,m&&(l?(i.setTexture(this.endTexture,this.endFrame),this.hold>0?(this.elapsed=this.hold,this.setHoldState()):this.setStateFromEnd(c)):(i.setTexture(this.startTexture,this.startFrame),this.setStateFromStart(c))),this.dispatchEvent(n.TWEEN_UPDATE,"onUpdate")}return!this.isComplete()},dispatchEvent:function(e,s){var o=this.tween;if(!o.isSeeking){var i=o.targets[this.targetIndex],l=this.key;o.emit(e,o,l,i);var u=o.callbacks[s];u&&u.func.apply(o.callbackScope,[o,i,l].concat(u.params))}},destroy:function(){h.prototype.destroy.call(this),this.startTexture=null,this.endTexture=null,this.startFrame=null,this.endFrame=null}});v.exports=r},86353:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={CREATED:0,DELAY:2,PENDING_RENDER:4,PLAYING_FORWARD:5,PLAYING_BACKWARD:6,HOLD_DELAY:7,REPEAT_DELAY:8,COMPLETE:9,PENDING:20,ACTIVE:21,LOOP_DELAY:22,COMPLETE_DELAY:23,START_DELAY:24,PENDING_REMOVE:25,REMOVED:26,FINISHED:27,DESTROYED:28,MAX:999999999999};v.exports=y},83419:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function y(r){return!!r.get&&typeof r.get=="function"||!!r.set&&typeof r.set=="function"}function t(r,e,s){var o=s?r[e]:Object.getOwnPropertyDescriptor(r,e);return!s&&o.value&&typeof o.value=="object"&&(o=o.value),o&&y(o)?(typeof o.enumerable>"u"&&(o.enumerable=!0),typeof o.configurable>"u"&&(o.configurable=!0),o):!1}function h(r,e){var s=Object.getOwnPropertyDescriptor(r,e);return s?(s.value&&typeof s.value=="object"&&(s=s.value),s.configurable===!1):!1}function p(r,e,s,o){for(var i in e)if(e.hasOwnProperty(i)){var l=t(e,i,s);if(l!==!1){var u=o||r;if(h(u.prototype,i)){if(n.ignoreFinals)continue;throw new Error("cannot override final property '"+i+"', set Class.ignoreFinals = true to skip")}Object.defineProperty(r.prototype,i,l)}else r.prototype[i]=e[i]}}function a(r,e){if(e){Array.isArray(e)||(e=[e]);for(var s=0;s<e.length;s++)p(r,e[s].prototype||e[s])}}function n(r){r||(r={});var e,s;if(r.initialize){if(typeof r.initialize!="function")throw new Error("initialize must be a function");e=r.initialize,delete r.initialize}else if(r.Extends){var o=r.Extends;e=function(){o.apply(this,arguments)}}else e=function(){};r.Extends?(e.prototype=Object.create(r.Extends.prototype),e.prototype.constructor=e,s=r.Extends,delete r.Extends):e.prototype.constructor=e;var i=null;return r.Mixins&&(i=r.Mixins,delete r.Mixins),a(e,i),p(e,r,!0,s),e}n.extend=p,n.mixin=a,n.ignoreFinals=!1,v.exports=n},29747:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(){};v.exports=y},20242:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(){return null};v.exports=y},71146:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,h,p,a,n){if(n===void 0&&(n=t),p>0){var r=p-t.length;if(r<=0)return null}if(!Array.isArray(h))return t.indexOf(h)===-1?(t.push(h),a&&a.call(n,h),h):null;for(var e=h.length-1;e>=0;)t.indexOf(h[e])!==-1&&h.splice(e,1),e--;if(e=h.length,e===0)return null;p>0&&e>r&&(h.splice(r),e=r);for(var s=0;s<e;s++){var o=h[s];t.push(o),a&&a.call(n,o)}return h};v.exports=y},51067:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,h,p,a,n,r){if(p===void 0&&(p=0),r===void 0&&(r=t),a>0){var e=a-t.length;if(e<=0)return null}if(!Array.isArray(h))return t.indexOf(h)===-1?(t.splice(p,0,h),n&&n.call(r,h),h):null;for(var s=h.length-1;s>=0;)t.indexOf(h[s])!==-1&&h.pop(),s--;if(s=h.length,s===0)return null;a>0&&s>e&&(h.splice(e),s=e);for(var o=s-1;o>=0;o--){var i=h[o];t.splice(p,0,i),n&&n.call(r,i)}return h};v.exports=y},66905:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,h){var p=t.indexOf(h);return p!==-1&&p<t.length&&(t.splice(p,1),t.push(h)),h};v.exports=y},21612:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(82011),p=function(a,n,r,e,s){e===void 0&&(e=0),s===void 0&&(s=a.length);var o=0;if(h(a,e,s))for(var i=e;i<s;i++){var l=a[i];l[n]===r&&o++}return o};v.exports=p},95428:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,h,p){var a,n=[null];for(a=3;a<arguments.length;a++)n.push(arguments[a]);for(a=0;a<t.length;a++)n[0]=t[a],h.apply(p,n);return t};v.exports=y},36914:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(82011),p=function(a,n,r,e,s){if(e===void 0&&(e=0),s===void 0&&(s=a.length),h(a,e,s)){var o,i=[null];for(o=5;o<arguments.length;o++)i.push(arguments[o]);for(o=e;o<s;o++)i[0]=a[o],n.apply(r,i)}return a};v.exports=p},81957:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,h,p){if(h.length){if(h.length===1)return h[0]}else return NaN;var a=1,n,r;if(p){if(t<h[0][p])return h[0];for(;h[a][p]<t;)a++}else for(;h[a]<t;)a++;return a>h.length&&(a=h.length),p?(n=h[a-1][p],r=h[a][p],r-t<=t-n?h[a]:h[a-1]):(n=h[a-1],r=h[a],r-t<=t-n?r:n)};v.exports=y},43491:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,h){h===void 0&&(h=[]);for(var p=0;p<t.length;p++)Array.isArray(t[p])?y(t[p],h):h.push(t[p]);return h};v.exports=y},46710:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(82011),p=function(a,n,r,e,s){e===void 0&&(e=0),s===void 0&&(s=a.length);var o=[];if(h(a,e,s))for(var i=e;i<s;i++){var l=a[i];(!n||n&&r===void 0&&l.hasOwnProperty(n)||n&&r!==void 0&&l[n]===r)&&o.push(l)}return o};v.exports=p},58731:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(82011),p=function(a,n,r,e,s){if(e===void 0&&(e=0),s===void 0&&(s=a.length),h(a,e,s))for(var o=e;o<s;o++){var i=a[o];if(!n||n&&r===void 0&&i.hasOwnProperty(n)||n&&r!==void 0&&i[n]===r)return i}return null};v.exports=p},26546:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,h,p){h===void 0&&(h=0),p===void 0&&(p=t.length);var a=h+Math.floor(Math.random()*p);return t[a]===void 0?null:t[a]};v.exports=y},85835:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,h,p){if(h===p)return t;var a=t.indexOf(h),n=t.indexOf(p);if(a<0||n<0)throw new Error("Supplied items must be elements of the same array");return a>n||(t.splice(a,1),n=t.indexOf(p),t.splice(n+1,0,h)),t};v.exports=y},83371:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,h,p){if(h===p)return t;var a=t.indexOf(h),n=t.indexOf(p);if(a<0||n<0)throw new Error("Supplied items must be elements of the same array");return a<n||(t.splice(a,1),n===0?t.unshift(h):t.splice(n,0,h)),t};v.exports=y},70864:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,h){var p=t.indexOf(h);if(p>0){var a=t[p-1],n=t.indexOf(a);t[p]=a,t[n]=h}return t};v.exports=y},69693:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,h,p){var a=t.indexOf(h);if(a===-1||p<0||p>=t.length)throw new Error("Supplied index out of bounds");return a!==p&&(t.splice(a,1),t.splice(p,0,h)),h};v.exports=y},40853:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,h){var p=t.indexOf(h);if(p!==-1&&p<t.length-1){var a=t[p+1],n=t.indexOf(a);t[p]=a,t[n]=h}return t};v.exports=y},20283:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,h,p,a){var n=[],r,e=!1;if((p||a)&&(e=!0,p||(p=""),a||(a="")),h<t)for(r=t;r>=h;r--)e?n.push(p+r.toString()+a):n.push(r);else for(r=t;r<=h;r++)e?n.push(p+r.toString()+a):n.push(r);return n};v.exports=y},593:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(2284),p=function(a,n,r){a===void 0&&(a=0),n===void 0&&(n=null),r===void 0&&(r=1),n===null&&(n=a,a=0);for(var e=[],s=Math.max(h((n-a)/(r||1)),0),o=0;o<s;o++)e.push(a),a+=r;return e};v.exports=p},43886:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function y(p,a,n){var r=p[a];p[a]=p[n],p[n]=r}function t(p,a){return p<a?-1:p>a?1:0}var h=function(p,a,n,r,e){for(n===void 0&&(n=0),r===void 0&&(r=p.length-1),e===void 0&&(e=t);r>n;){if(r-n>600){var s=r-n+1,o=a-n+1,i=Math.log(s),l=.5*Math.exp(2*i/3),u=.5*Math.sqrt(i*l*(s-l)/s)*(o-s/2<0?-1:1),f=Math.max(n,Math.floor(a-o*l/s+u)),d=Math.min(r,Math.floor(a+(s-o)*l/s+u));h(p,a,f,d,e)}var c=p[a],m=n,g=r;for(y(p,n,a),e(p[r],c)>0&&y(p,n,r);m<g;){for(y(p,m,g),m++,g--;e(p[m],c)<0;)m++;for(;e(p[g],c)>0;)g--}e(p[n],c)===0?y(p,n,g):(g++,y(p,g,r)),g<=a&&(n=g+1),a<=g&&(r=g-1)}};v.exports=h},88492:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(35154),p=t(33680),a=function(r,e,s){for(var o=[],i=0;i<r.length;i++)for(var l=0;l<e.length;l++)for(var u=0;u<s;u++)o.push({a:r[i],b:e[l]});return o},n=function(r,e,s){var o=h(s,"max",0),i=h(s,"qty",1),l=h(s,"random",!1),u=h(s,"randomB",!1),f=h(s,"repeat",0),d=h(s,"yoyo",!1),c=[];if(u&&p(e),f===-1)if(o===0)f=0;else{var m=r.length*e.length*i;d&&(m*=2),f=Math.ceil(o/m)}for(var g=0;g<=f;g++){var x=a(r,e,i);l&&p(x),c=c.concat(x),d&&(x.reverse(),c=c.concat(x))}return o&&c.splice(o),c};v.exports=n},72905:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(19133),p=function(a,n,r,e){e===void 0&&(e=a);var s;if(!Array.isArray(n))return s=a.indexOf(n),s!==-1?(h(a,s),r&&r.call(e,n),n):null;for(var o=n.length-1,i=[];o>=0;){var l=n[o];s=a.indexOf(l),s!==-1&&(h(a,s),i.push(l),r&&r.call(e,l)),o--}return i};v.exports=p},60248:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(19133),p=function(a,n,r,e){if(e===void 0&&(e=a),n<0||n>a.length-1)throw new Error("Index out of bounds");var s=h(a,n);return r&&r.call(e,s),s};v.exports=p},81409:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(82011),p=function(a,n,r,e,s){if(n===void 0&&(n=0),r===void 0&&(r=a.length),s===void 0&&(s=a),h(a,n,r)){var o=r-n,i=a.splice(n,o);if(e)for(var l=0;l<i.length;l++){var u=i[l];e.call(s,u)}return i}else return[]};v.exports=p},31856:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(19133),p=function(a,n,r){n===void 0&&(n=0),r===void 0&&(r=a.length);var e=n+Math.floor(Math.random()*r);return h(a,e)};v.exports=p},42169:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,h,p){var a=t.indexOf(h),n=t.indexOf(p);return a!==-1&&n===-1?(t[a]=p,!0):!1};v.exports=y},86003:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,h){h===void 0&&(h=1);for(var p=null,a=0;a<h;a++)p=t.shift(),t.push(p);return p};v.exports=y},49498:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,h){h===void 0&&(h=1);for(var p=null,a=0;a<h;a++)p=t.pop(),t.unshift(p);return p};v.exports=y},82011:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,h,p,a){var n=t.length;if(h<0||h>n||h>=p||p>n){if(a)throw new Error("Range Error: Values outside acceptable range");return!1}else return!0};v.exports=y},89545:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,h){var p=t.indexOf(h);return p!==-1&&p>0&&(t.splice(p,1),t.unshift(h)),h};v.exports=y},17810:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(82011),p=function(a,n,r,e,s){if(e===void 0&&(e=0),s===void 0&&(s=a.length),h(a,e,s))for(var o=e;o<s;o++){var i=a[o];i.hasOwnProperty(n)&&(i[n]=r)}return a};v.exports=p},33680:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){for(var h=t.length-1;h>0;h--){var p=Math.floor(Math.random()*(h+1)),a=t[h];t[h]=t[p],t[p]=a}return t};v.exports=y},90126:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){var h=/\D/g;return t.sort(function(p,a){return parseInt(p.replace(h,""),10)-parseInt(a.replace(h,""),10)}),t};v.exports=y},19133:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,h){if(!(h>=t.length)){for(var p=t.length-1,a=t[h],n=h;n<p;n++)t[n]=t[n+1];return t.length=p,a}};v.exports=y},19186:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Angry Bytes (and contributors)
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(82264);function p(e,s){return String(e).localeCompare(s)}function a(e,s){var o=e.length;if(o<=1)return e;for(var i=new Array(o),l=1;l<o;l*=2){n(e,s,l,i);var u=e;e=i,i=u}return e}function n(e,s,o,i){var l=e.length,u=0,f=o*2,d,c,m,g,x;for(d=0;d<l;d+=f)for(c=d+o,m=c+o,c>l&&(c=l),m>l&&(m=l),g=d,x=c;;)if(g<c&&x<m)s(e[g],e[x])<=0?i[u++]=e[g++]:i[u++]=e[x++];else if(g<c)i[u++]=e[g++];else if(x<m)i[u++]=e[x++];else break}var r=function(e,s){if(s===void 0&&(s=p),!e||e.length<2)return e;if(h.features.stableSort)return e.sort(s);var o=a(e,s);return o!==e&&n(o,null,e.length,e),e};v.exports=r},25630:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,h,p){if(h===p)return t;var a=t.indexOf(h),n=t.indexOf(p);if(a<0||n<0)throw new Error("Supplied items must be elements of the same array");return t[a]=p,t[n]=h,t};v.exports=y},37105:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={Matrix:t(54915),Add:t(71146),AddAt:t(51067),BringToTop:t(66905),CountAllMatching:t(21612),Each:t(95428),EachInRange:t(36914),FindClosestInSorted:t(81957),Flatten:t(43491),GetAll:t(46710),GetFirst:t(58731),GetRandom:t(26546),MoveDown:t(70864),MoveTo:t(69693),MoveUp:t(40853),MoveAbove:t(85835),MoveBelow:t(83371),NumberArray:t(20283),NumberArrayStep:t(593),QuickSelect:t(43886),Range:t(88492),Remove:t(72905),RemoveAt:t(60248),RemoveBetween:t(81409),RemoveRandomElement:t(31856),Replace:t(42169),RotateLeft:t(86003),RotateRight:t(49498),SafeRange:t(82011),SendToBack:t(89545),SetAll:t(17810),Shuffle:t(33680),SortByDigits:t(90126),SpliceOne:t(19133),StableSort:t(19186),Swap:t(25630)}},86922:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){if(!Array.isArray(t)||!Array.isArray(t[0]))return!1;for(var h=t[0].length,p=1;p<t.length;p++)if(t[p].length!==h)return!1;return!0};v.exports=y},63362:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(41836),p=t(86922),a=function(n){var r="";if(!p(n))return r;for(var e=0;e<n.length;e++){for(var s=0;s<n[e].length;s++){var o=n[e][s].toString();o!=="undefined"?r+=h(o,2):r+="?",s<n[e].length-1&&(r+=" |")}if(e<n.length-1){r+=`
`;for(var i=0;i<n[e].length;i++)r+="---",i<n[e].length-1&&(r+="+");r+=`
`}}return r};v.exports=a},92598:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){return t.reverse()};v.exports=y},21224:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){for(var h=0;h<t.length;h++)t[h].reverse();return t};v.exports=y},98717:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(37829),p=function(a){return h(a,180)};v.exports=p},44657:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(37829),p=function(a,n){n===void 0&&(n=1);for(var r=0;r<n;r++)a=h(a,90);return a};v.exports=p},37829:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(86922),p=t(2429),a=function(n,r){if(r===void 0&&(r=90),!h(n))return null;if(typeof r!="string"&&(r=(r%360+360)%360),r===90||r===-270||r==="rotateLeft")n=p(n),n.reverse();else if(r===-90||r===270||r==="rotateRight")n.reverse(),n=p(n);else if(Math.abs(r)===180||r==="rotate180"){for(var e=0;e<n.length;e++)n[e].reverse();n.reverse()}return n};v.exports=a},92632:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(37829),p=function(a,n){n===void 0&&(n=1);for(var r=0;r<n;r++)a=h(a,-90);return a};v.exports=p},69512:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(86003),p=t(49498),a=function(n,r,e){if(r===void 0&&(r=0),e===void 0&&(e=0),e!==0&&(e<0?h(n,Math.abs(e)):p(n,e)),r!==0)for(var s=0;s<n.length;s++){var o=n[s];r<0?h(o,Math.abs(r)):p(o,r)}return n};v.exports=a},2429:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){for(var h=t.length,p=t[0].length,a=new Array(p),n=0;n<p;n++){a[n]=new Array(h);for(var r=h-1;r>-1;r--)a[n][r]=t[r][n]}return a};v.exports=y},54915:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={CheckMatrix:t(86922),MatrixToString:t(63362),ReverseColumns:t(92598),ReverseRows:t(21224),Rotate180:t(98717),RotateLeft:t(44657),RotateMatrix:t(37829),RotateRight:t(92632),Translate:t(69512),TransposeMatrix:t(2429)}},71334:v=>{/**
 * @author       Niklas von Hertzen (https://github.com/niklasvh/base64-arraybuffer)
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",t=function(h,p){for(var a=new Uint8Array(h),n=a.length,r=p?"data:"+p+";base64,":"",e=0;e<n;e+=3)r+=y[a[e]>>2],r+=y[(a[e]&3)<<4|a[e+1]>>4],r+=y[(a[e+1]&15)<<2|a[e+2]>>6],r+=y[a[e+2]&63];return n%3===2?r=r.substring(0,r.length-1)+"=":n%3===1&&(r=r.substring(0,r.length-2)+"=="),r};v.exports=t},53134:v=>{/**
 * @author       Niklas von Hertzen (https://github.com/niklasvh/base64-arraybuffer)
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */for(var y="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",t=new Uint8Array(256),h=0;h<y.length;h++)t[y.charCodeAt(h)]=h;var p=function(a){a=a.substr(a.indexOf(",")+1);var n=a.length,r=n*.75,e=0,s,o,i,l;a[n-1]==="="&&(r--,a[n-2]==="="&&r--);for(var u=new ArrayBuffer(r),f=new Uint8Array(u),d=0;d<n;d+=4)s=t[a.charCodeAt(d)],o=t[a.charCodeAt(d+1)],i=t[a.charCodeAt(d+2)],l=t[a.charCodeAt(d+3)],f[e++]=s<<2|o>>4,f[e++]=(o&15)<<4|i>>2,f[e++]=(i&3)<<6|l&63;return u};v.exports=p},65839:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={ArrayBufferToBase64:t(71334),Base64ToArrayBuffer:t(53134)}},91799:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={Array:t(37105),Base64:t(65839),Objects:t(1183),String:t(31749),NOOP:t(29747),NULL:t(20242)}},41786:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){var h={};for(var p in t)Array.isArray(t[p])?h[p]=t[p].slice(0):h[p]=t[p];return h};v.exports=y},62644:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){var h,p,a;if(typeof t!="object"||t===null)return t;h=Array.isArray(t)?[]:{};for(a in t)p=t[a],h[a]=y(p);return h};v.exports=y},79291:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(41212),p=function(){var a,n,r,e,s,o,i=arguments[0]||{},l=1,u=arguments.length,f=!1;for(typeof i=="boolean"&&(f=i,i=arguments[1]||{},l=2),u===l&&(i=this,--l);l<u;l++)if((a=arguments[l])!=null)for(n in a)r=i[n],e=a[n],i!==e&&(f&&e&&(h(e)||(s=Array.isArray(e)))?(s?(s=!1,o=r&&Array.isArray(r)?r:[]):o=r&&h(r)?r:{},i[n]=p(f,o,e)):e!==void 0&&(i[n]=e));return i};v.exports=p},23568:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(75508),p=t(35154),a=function(n,r,e){var s=p(n,r,null);if(s===null)return e;if(Array.isArray(s))return h.RND.pick(s);if(typeof s=="object"){if(s.hasOwnProperty("randInt"))return h.RND.integerInRange(s.randInt[0],s.randInt[1]);if(s.hasOwnProperty("randFloat"))return h.RND.realInRange(s.randFloat[0],s.randFloat[1])}else if(typeof s=="function")return s(r);return s};v.exports=a},95540:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,h,p){var a=typeof t;return!t||a==="number"||a==="string"?p:t.hasOwnProperty(h)&&t[h]!==void 0?t[h]:p};v.exports=y},82840:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(35154),p=t(45319),a=function(n,r,e,s,o){o===void 0&&(o=e);var i=h(n,r,o);return p(i,e,s)};v.exports=a},35154:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,h,p,a){if(!t&&!a||typeof t=="number")return p;if(t&&t.hasOwnProperty(h))return t[h];if(a&&a.hasOwnProperty(h))return a[h];if(h.indexOf(".")!==-1){for(var n=h.split("."),r=t,e=a,s=p,o=p,i=!0,l=!0,u=0;u<n.length;u++)r&&r.hasOwnProperty(n[u])?(s=r[n[u]],r=r[n[u]]):i=!1,e&&e.hasOwnProperty(n[u])?(o=e[n[u]],e=e[n[u]]):l=!1;return i?s:l?o:p}else return p};v.exports=y},69036:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,h){for(var p=0;p<h.length;p++)if(!t.hasOwnProperty(h[p]))return!1;return!0};v.exports=y},1985:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,h){for(var p=0;p<h.length;p++)if(t.hasOwnProperty(h[p]))return!0;return!1};v.exports=y},97022:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,h){return t.hasOwnProperty(h)};v.exports=y},41212:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){if(!t||typeof t!="object"||t.nodeType||t===t.window)return!1;try{if(t.constructor&&!{}.hasOwnProperty.call(t.constructor.prototype,"isPrototypeOf"))return!1}catch{return!1}return!0};v.exports=y},46975:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(41786),p=function(a,n){var r=h(a);for(var e in n)r.hasOwnProperty(e)||(r[e]=n[e]);return r};v.exports=p},269:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(41786),p=function(a,n){var r=h(a);for(var e in n)r.hasOwnProperty(e)&&(r[e]=n[e]);return r};v.exports=p},18254:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(97022),p=function(a,n){for(var r={},e=0;e<n.length;e++){var s=n[e];h(a,s)&&(r[s]=a[s])}return r};v.exports=p},61622:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,h,p){if(!t||typeof t=="number")return!1;if(t.hasOwnProperty(h))return t[h]=p,!0;if(h.indexOf(".")!==-1){for(var a=h.split("."),n=t,r=t,e=0;e<a.length;e++)if(n.hasOwnProperty(a[e]))r=n,n=n[a[e]];else return!1;return r[a[a.length-1]]=p,!0}return!1};v.exports=y},1183:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={Clone:t(41786),DeepCopy:t(62644),Extend:t(79291),GetAdvancedValue:t(23568),GetFastValue:t(95540),GetMinMaxValue:t(82840),GetValue:t(35154),HasAll:t(69036),HasAny:t(1985),HasValue:t(97022),IsPlainObject:t(41212),Merge:t(46975),MergeRight:t(269),Pick:t(18254),SetValue:t(61622)}},27902:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,h){return t.replace(/%([0-9]+)/g,function(p,a){return h[Number(a)-1]})};v.exports=y},41836:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,h,p,a){h===void 0&&(h=0),p===void 0&&(p=" "),a===void 0&&(a=3),t=t.toString();var n=0;if(h+1>=t.length)switch(a){case 1:t=new Array(h+1-t.length).join(p)+t;break;case 3:var r=Math.ceil((n=h-t.length)/2),e=n-r;t=new Array(e+1).join(p)+t+new Array(r+1).join(p);break;default:t=t+new Array(h+1-t.length).join(p);break}return t};v.exports=y},33628:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t,h){return h===0?t.slice(1):t.slice(0,h-1)+t.slice(h)};v.exports=y},27671:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){return t.split("").reverse().join("")};v.exports=y},45650:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var h=Math.random()*16|0,p=t==="x"?h:h&3|8;return p.toString(16)})};v.exports=y},35355:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(t){return t&&t[0].toUpperCase()+t.slice(1)};v.exports=y},31749:(v,y,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={Format:t(27902),Pad:t(41836),RemoveAt:t(33628),Reverse:t(27671),UppercaseFirst:t(35355),UUID:t(45650)}}},R={};function F(v){var y=R[v];if(y!==void 0)return y.exports;var t=R[v]={exports:{}};return C[v](t,t.exports,F),t.exports}F.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}();var B=F(85454);return B})())}(Ar)),Ar.exports}var bd=Nd();const At=Mu(bd),Wo=["POKEBALL","SUPERBALL","HYPERBALL","MASTERBALL","SAFARIBALL"],Bd={POKEBALL:"green",SUPERBALL:"blue",HYPERBALL:"#B8860B",MASTERBALL:"fuschia",SAFARIBALL:"#228B22"},Gd={POKEBALL:1,SUPERBALL:2,HYPERBALL:3,MASTERBALL:5,SAFARIBALL:1},Ud="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict";let Vd=(E=21)=>{let A="",C=crypto.getRandomValues(new Uint8Array(E|=0));for(;E--;)A+=Ud[C[E]&63];return A};const Ut={ref:"COMBAT",frameIndex:4},qt={ref:"DRAGON",frameIndex:2},wt={ref:"EAU",frameIndex:15},$t={ref:"ELECTRIQUE",frameIndex:1},se={ref:"FEE",frameIndex:3},Ht={ref:"FEU",frameIndex:5},_t={ref:"GLACE",frameIndex:10},Xt={ref:"INSECTE",frameIndex:0},Ft={ref:"NORMAL",frameIndex:11},kt={ref:"PLANTE",frameIndex:8},Qt={ref:"POISON",frameIndex:12},Kt={ref:"PSY",frameIndex:13},bt={ref:"ROCHE",frameIndex:14},Vt={ref:"SOL",frameIndex:9},Yt={ref:"SPECTRE",frameIndex:7},Jt={ref:"VOL",frameIndex:6},$={[Ut.ref]:Ut,[qt.ref]:qt,[wt.ref]:wt,[$t.ref]:$t,[se.ref]:se,[Ht.ref]:Ht,[_t.ref]:_t,[Xt.ref]:Xt,[Ft.ref]:Ft,[kt.ref]:kt,[Qt.ref]:Qt,[Kt.ref]:Kt,[bt.ref]:bt,[Vt.ref]:Vt,[Yt.ref]:Yt,[Jt.ref]:Jt},Yd=new Map([[Ft,new Map([[Ft,1],[Ht,1],[wt,1],[kt,1],[$t,1],[_t,1],[Ut,1],[Qt,1],[Vt,1],[Jt,1],[Kt,1],[Xt,1],[bt,.5],[Yt,.2],[qt,1],[se,1]])],[Ht,new Map([[Ft,1],[Ht,.5],[wt,.5],[kt,2],[$t,1],[_t,2],[Ut,1],[Qt,1],[Vt,1],[Jt,1],[Kt,1],[Xt,2],[bt,.5],[Yt,1],[qt,.5],[se,1]])],[wt,new Map([[Ft,1],[Ht,2],[wt,.5],[kt,.5],[$t,1],[_t,1],[Ut,1],[Qt,1],[Vt,2],[Jt,1],[Kt,1],[Xt,1],[bt,2],[Yt,1],[qt,.5],[se,1]])],[kt,new Map([[Ft,1],[Ht,.5],[wt,2],[kt,.5],[$t,1],[_t,1],[Ut,1],[Qt,.5],[Vt,2],[Jt,.5],[Kt,1],[Xt,.5],[bt,2],[Yt,1],[qt,.5],[se,1]])],[$t,new Map([[Ft,1],[Ht,1],[wt,2],[kt,.5],[$t,.5],[_t,1],[Ut,1],[Qt,1],[Vt,.2],[Jt,2],[Kt,1],[Xt,1],[bt,1],[Yt,1],[qt,.5],[se,1]])],[_t,new Map([[Ft,1],[Ht,.5],[wt,.5],[kt,2],[$t,1],[_t,.5],[Ut,1],[Qt,1],[Vt,2],[Jt,2],[Kt,1],[Xt,1],[bt,1],[Yt,1],[qt,2],[se,1]])],[Ut,new Map([[Ft,2],[Ht,1],[wt,1],[kt,1],[$t,1],[_t,2],[Ut,1],[Qt,.5],[Vt,1],[Jt,.5],[Kt,.5],[Xt,.5],[bt,2],[Yt,.2],[qt,1],[se,.5]])],[Qt,new Map([[Ft,1],[Ht,1],[wt,1],[kt,2],[$t,1],[_t,1],[Ut,1],[Qt,.5],[Vt,.5],[Jt,1],[Kt,1],[Xt,1],[bt,.5],[Yt,.5],[qt,1],[se,2]])],[Vt,new Map([[Ft,1],[Ht,2],[wt,1],[kt,.5],[$t,2],[_t,1],[Ut,1],[Qt,2],[Vt,1],[Jt,.2],[Kt,1],[Xt,.5],[bt,2],[Yt,1],[qt,1],[se,1]])],[Jt,new Map([[Ft,1],[Ht,1],[wt,1],[kt,2],[$t,.5],[_t,1],[Ut,2],[Qt,1],[Vt,1],[Jt,1],[Kt,1],[Xt,2],[bt,.5],[Yt,1],[qt,1],[se,1]])],[Kt,new Map([[Ft,1],[Ht,1],[wt,1],[kt,1],[$t,1],[_t,1],[Ut,2],[Qt,2],[Vt,1],[Jt,1],[Kt,.5],[Xt,1],[bt,1],[Yt,1],[qt,1],[se,1]])],[Xt,new Map([[Ft,1],[Ht,.5],[wt,1],[kt,2],[$t,1],[_t,1],[Ut,.5],[Qt,.5],[Vt,1],[Jt,.5],[Kt,2],[Xt,1],[bt,1],[Yt,.5],[qt,1],[se,.5]])],[bt,new Map([[Ft,1],[Ht,2],[wt,1],[kt,1],[$t,1],[_t,2],[Ut,.5],[Qt,1],[Vt,.5],[Jt,2],[Kt,1],[Xt,2],[bt,1],[Yt,1],[qt,1],[se,1]])],[Yt,new Map([[Ft,.5],[Ht,1],[wt,1],[kt,1],[$t,1],[_t,1],[Ut,1],[Qt,1],[Vt,1],[Jt,1],[Kt,.2],[Xt,1],[bt,1],[Yt,2],[qt,1],[se,1]])],[qt,new Map([[Ft,1],[Ht,1],[wt,1],[kt,1],[$t,1],[_t,1],[Ut,1],[Qt,1],[Vt,1],[Jt,1],[Kt,1],[Xt,1],[bt,1],[Yt,1],[qt,2],[se,1]])],[se,new Map([[Ft,1],[Ht,.5],[wt,1],[kt,1],[$t,1],[_t,1],[Ut,2],[Qt,.5],[Vt,1],[Jt,1],[Kt,1],[Xt,1],[bt,1],[Yt,1],[qt,2],[se,1]])]]),He=0,xe=1,zd=100,Dt=101,Wd=102;function Iu(E){return E**3}function Ho(E){return Math.floor((E+.1)**(1/3))}function Hd(E){return(E.owner===He?1:1.5)*E.baseXP*E.level}var ht=(E=>(E[E.DIRECT_HIT=0]="DIRECT_HIT",E[E.SPECIAL=1]="SPECIAL",E[E.PROJECTILE=2]="PROJECTILE",E[E.AREA_OF_EFFECT=3]="AREA_OF_EFFECT",E))(ht||{}),at=(E=>(E.POISON="POISON",E.BRULURE="BRULURE",E.GEL="GEL",E.PARALYSIE="PARALYSIE",E.PEUR="PEUR",E.SOMMEIL="SOMMEIL",E.CONFUSION="CONFUSION",E.SECRETION="SECRETION",E.LIGOTAGE="LIGOTAGE",E.TOURBILLON="TOURBILLON",E.SOIN="SOIN",E.REPOS="REPOS",E.POUVOIR_ANTIQUE="POUVOIR_ANTIQUE",E.FURIE="FURIE",E.ARMURE="ARMURE",E.HATE="HATE",E.ACIDE="ACIDE",E.RUGISSEMENT="RUGISSEMENT",E.AVEUGLE="AVEUGLE",E.EXECUTION="EXECUTION",E.DAMAGE_OVER_TIME="DAMAGE_OVER_TIME",E.INVULNERABLE="INVULNERABLE",E.ADAPTATION="ADAPTATION",E.RAGE="RAGE",E))(at||{});const ft={GRID:10,GRID_ACTIVE_TILE:11,SKILL_EFFECT_BELOW_POKEMON:14,POKEMON:15,SKILL_EFFECT_ABOVE_POKEMON:16,POKEMON_BARS:20,MAP_HIGHLIGHT:30,TRAINER:35,GUI_BUTTON:41,TEAM_SIZE_COUNTER:42,CENTER_TEXT:43,DIALOG:45,MENU:50,MENU_LAYOUT:51,MENU_OBJECTS:52,MENU_TOOLTIPS:53,MENU_CURSOR:59,PLAYER:60,SPRITE_DRAGGED:90,JUST_BELOW_CURSOR:99,CURSOR:100},rt={PISTOLET_A_O:{key:"pistolet_a_o",frames:[0],frameRate:8,scale:.5},PISTOLET_A_O_HIT:{key:"pistolet_a_o_hit",frames:[1,2],frameRate:8,scale:.5},HYDROCANON:{key:"hydrocanon",frames:[3,4,5,6],frameRate:8,repeat:3,scale:1,position:"target_ground",delta:0},TREMPETTE:{key:"trempette",frames:[7,8,9,10,11,12,13,14],frameRate:8,scale:1,position:"source_ground"},BULLES_D_O:{key:"bulles_d_o",frames:[15],frameRate:8,scale:.5},BULLES_D_O_HIT:{key:"bulles_d_o_hit",frames:[16,17,18],frameRate:8,scale:.5},SECRETION_HIT:{key:"secretion_hit",frames:[19],frameRate:1,scale:1},POUDREUSE:{key:"poudreuse",frames:[20,21,22,23,24,25,26],frameRate:8,position:"target"},HYPNOSE:{key:"hypnose",frames:[27,28,29,30,31],frameRate:6,scale:1,position:"source"},GRELON:{key:"grelon",frames:[32],frameRate:8,scale:1,depth:ft.SKILL_EFFECT_ABOVE_POKEMON},GRELON_HIT:{key:"grelon_hit",frames:[33,34,35],frameRate:8},LIGOTAGE:{key:"ligotage",frames:[36,37],frameRate:6,repeat:2,scale:.5,position:"target_ground",delta:-4},CHARGE_HIT:{key:"charge_hit",frames:[38],frameRate:8,scale:.5,position:"target"},FROZEN:{key:"frozen",frames:[39],frameRate:8,scale:1,opacity:.5,depth:ft.SKILL_EFFECT_ABOVE_POKEMON,repeat:Number.POSITIVE_INFINITY,position:"source_ground"},LANCE_FLAMMES:{key:"lance_flammes",frames:[40,41,42,43,44,45,46,47,48],frameRate:8,scale:1,position:"source",delta:32},LECHOUILLE:{key:"lechouille",frames:[49,50,51,52,51,50],frameRate:8,position:"source",delta:10},DEVOREVE:{key:"devoreve",frames:[53,54],frameRate:16,repeat:3,position:"target_ground",delta:-4},FLAMMECHE:{key:"flammeche",frames:[55,56,57,58,59],frameRate:8,scale:1,position:"target"},BURN:{key:"burn",frames:[60,61,62,63],frameRate:8,repeat:Number.POSITIVE_INFINITY,scale:1,depth:ft.SKILL_EFFECT_BELOW_POKEMON,position:"source_ground"},TORGNOLES:{key:"torgnoles",frames:[64],frameRate:8,scale:1,position:"target"},CROCS_FEU:{key:"crocs_feu",frames:[65,66,67,68,69],frameRate:8,scale:1,position:"target"},CROC_DE_MORT:{key:"croc_de_mort",frames:[70,71,72,73],frameRate:8,position:"target_ground"},POUVOIR_ANTIQUE:{key:"pouvoir_antique",frames:[74,75,76,77,78,79],frameRate:8,position:"source_ground"},DESTRUCTION:{key:"destruction",frames:[80,81,82,83],frameRate:8,scale:2,position:"source_ground"},NITROCHARGE_HIT:{key:"nitrocharge_hit",frames:[84,85,86,87,88],frameRate:8,position:"target"},LANCE_SOLEIL:{key:"lance_soleil",frames:[89,90,91,92,93,94,93,94,93,94,93,94,93,94,93,94,93,94,93,94,93,94,93,94,93,94,93,94,93,94,93,94,93,94,93,94,93,94,93,94,93,94,93,94],frameRate:8},CRUAILE:{key:"cruaile",frames:[95,96,97,98],frameRate:8,position:"target"},PIQURE:{key:"piqure",frames:[100,101,102,103],frameRate:8,position:"target"},SECRETION:{key:"secretion",frames:[104,105,106],frameRate:8},POUDRE_TOXIK:{key:"poudre_toxik",frames:[107,108,109,110,111,112,113,114],frameRate:8,scale:1,position:"source_ground"},PARASPORE:{key:"paraspore",frames:[107,108,109,110,111,112,113,114],frameRate:6,scale:1,tint:16750848,position:"source_ground"},PARALYSIE:{key:"paralysie",frames:[115,116,117,118],frameRate:8,repeat:Number.POSITIVE_INFINITY,position:"source_ground"},CHOC_MENTAL:{key:"choc_mental",frames:[119],frameRate:8,delta:8},JET_PIERRES:{key:"jet_pierres",frames:[120],frameRate:8,scale:.5},JET_PIERRES_HIT:{key:"jet_pierres_hit",frames:[120,121,122,123,124],frameRate:8,scale:.5},ECLAIR:{key:"eclair",frames:[125,126,127,128,129],frameRate:16,pattern:"eclair"},CAGE_ECLAIR:{key:"elec_ball",frames:[130,131,132,133,134,135],frameRate:8,repeat:2,position:"source_ground"},VIVE_ATTAQUE:{key:"vive_attaque",frames:[136,137,138,139,140,141,142,143],frameRate:16,position:"target"},POING_KARATE:{key:"poing_karate",frames:[99,144],frameRate:8,position:"target"},DOUBLE_PIED:{key:"double_pied",frames:[145,146],frameRate:8,position:"target"},RAFALE_PSY:{key:"rafale_psy",frames:[147],frameRate:8,scale:1,delta:8},PROVOCATED:{key:"provocated",frames:[148],frameRate:8},MASSDOS:{key:"massdos",frames:[149,150],frameRate:8,repeat:Number.POSITIVE_INFINITY},PROVOCATION:{key:"provocation",frames:[151,152,153,152,153],frameRate:8,scale:1,position:"source_ground",delta:-24},PICPIC:{key:"picpic",frames:[157,156,155,154],frameRate:8,position:"target_ground"},PINCE_MASSE:{key:"pince_masse",frames:[158,159,158],frameRate:8,scale:.5,position:"target",delta:8},FOUET_LIANES:{key:"fouet_lianes",frames:[160,161,162,163,164],frameRate:8,scale:.75,position:"source"},TELEPORT:{key:"teleport",frames:[165,166,167,168,169],frameRate:8,position:"source_ground"},ETINCELLE:{key:"etincelle",frames:[170,171,172,173,174,175,176],frameRate:16,position:"target",delta:4},DETRITUS:{key:"detritus",frames:[177,178,179],frameRate:8},GUILLOTINE:{key:"guillotine",frames:[180,181,182,183],frameRate:4,position:"target"},ULTRASON:{key:"ultrason",frames:[184,185,186,187,188,188,188,188,188,188,188,188,188,188,188,188,188,188,188,188,188,188,188,188,188,188,188,188,188,188],frameRate:8,delta:8},SOMMEIL:{key:"sommeil",frames:[189,190,191,190],frameRate:4,repeat:Number.POSITIVE_INFINITY,position:"source_ground"},GRIFFE:{key:"griffe",frames:[192,193,194,195],frameRate:8,scale:1,position:"target"},MORSURE:{key:"morsure",frames:[198,197,196,197,198,199],frameRate:12,scale:.5,position:"target"},VAMPIRISME:{key:"vampirisme",frames:[200,201,202],frameRate:8,scale:1,position:"source"},SOIN:{key:"soin",frames:[203,204,205,206,207,208,209,210],frameRate:8,repeat:Number.POSITIVE_INFINITY,scale:1,position:"source_ground"},SURF:{key:"surf",frames:[211,212,213,214,215,216,217,218],frameRate:8,repeat:Number.POSITIVE_INFINITY,scale:1},DARD_VENIN:{key:"dard_venin",frames:[219],frameRate:8,scale:1,delta:8},POISON:{key:"poison",frames:[220,221,222,223,224,225,226,227,228,229,230,231],frameRate:10,repeat:Number.POSITIVE_INFINITY,scale:.5,position:"target_ground"},ACIDE:{key:"acide",frames:[232,233,232,234],frameRate:8,repeat:Number.POSITIVE_INFINITY,position:"parabolic_to_target"},ACIDE_HIT:{key:"acide_hit",frames:[235,236,237,238],frameRate:8,depth:ft.SKILL_EFFECT_BELOW_POKEMON,position:"target_ground"},DARD_VENIN_HIT:{key:"dard_venin_hit",frames:[239],frameRate:8},VOL_VIE:{key:"vol_vie",frames:[240,241,242,243],frameRate:8,repeat:Number.POSITIVE_INFINITY,position:"target_to_source"},COUD_BOUE:{key:"coud_boue",frames:[244],frameRate:8,scale:.5},COUD_BOUE_HIT:{key:"coud_boue_hit",frames:[245,246,247,248,249,250],frameRate:8},JET_DE_SABLE:{key:"jet_de_sable",frames:[246,247,248,249,250],frameRate:8,tint:16768400,scale:1.5,position:"target"},BOMB_BEURK:{key:"bomb_beurk",frames:[251,252,253,254,255,256,257,258],frameRate:8,repeat:Number.POSITIVE_INFINITY,position:"parabolic_to_target"},METRONOME:{key:"metronome",frames:[259],frameRate:1,position:"source",delta:16},BOMB_BEURK_HIT:{key:"bomb_beurk_hit",frames:[260,261,262,263,264,265],frameRate:8,depth:ft.SKILL_EFFECT_BELOW_POKEMON},OURAGAN:{key:"ouragan",frames:[266,267,268],frameRate:8,repeat:Number.POSITIVE_INFINITY},DANSE_FLAMMES:{key:"danseflammes",frames:[269,270,271,272],frameRate:8,repeat:5,position:"source_ground"},ARMURE:{key:"armure",frames:[273,274,275,276,277,278,279],frameRate:12,position:"source_ground"},HATE:{key:"hate",frames:[280,281,282],frameRate:8,scale:.5,position:"source_ground"},DANSE_LAMES:{key:"danse_lames",frames:[283,284,285,286,287,288],frameRate:8,position:"source_ground"},FURIE:{key:"furie",frames:[289,290,291,292,293],frameRate:8,position:"source"},DRACORAGE:{key:"dracorage",frames:[294,295,296,297],frameRate:12,repeat:3,depth:ft.SKILL_EFFECT_BELOW_POKEMON,position:"target_ground",tint:11197951},BLIZZARD:{key:"blizzard",frames:[294,295,296,297],frameRate:12,repeat:3,depth:ft.SKILL_EFFECT_BELOW_POKEMON,position:"target_ground"},DRACOCHARGE:{key:"dracocharge",frames:[298,299],frameRate:8,repeat:Number.POSITIVE_INFINITY,delta:8},PEUR:{key:"peur",frames:[300,301,302,301],frameRate:8,repeat:Number.POSITIVE_INFINITY,position:"source_ground"},BERCEUSE:{key:"berceuse",frames:[303,304,305,304],frameRate:8,repeat:5,position:"source_ground"},ENCORE:{key:"encore",frames:[306,307,308,307],frameRate:8,repeat:1,position:"source",delta:12},TONNERRE:{key:"tonnerre",frames:[309,310,311,312,313,314],frameRate:8,position:"source_ground"},ULTIMAPOING:{key:"ultimapoing",frames:[315,316,315,316,317],frameRate:8,position:"target"},BROUILLARD:{key:"brouillard",frames:[318,319,320,321,322,323,324],frameRate:8,position:"source_ground"},BALAYAGE:{key:"balayage",frames:[325,326,327,328],frameRate:8,position:"source",delta:12},E_COQUE:{key:"e_coque",frames:[329,330,331,332,333,334,335,336,337,338,339,340,341,341,341,341],frameRate:8,position:"source_ground"},RUGISSEMENT:{key:"rugissement",frames:[342,343,344,345,346],frameRate:8,position:"source",delta:12},CROCHET_VENIN:{key:"crochet_venin",frames:[347,348,349,350],frameRate:8,position:"target"},KOUD_KORNE:{key:"koud_korne",frames:[351,352,353,354],frameRate:8,position:"target"},MAWASHI_GERI:{key:"mawashi_geri",frames:[355,356,357,358],frameRate:8,position:"source",delta:12},EMPAL_KORNE:{key:"empal_korne",frames:[359,360,361,362,363,364,365,366,367,367,367],frameRate:8,position:"target_ground"},ABRI:{key:"abri",frames:[368,369,370,371,372],frameRate:8,repeat:2,opacity:.3,position:"source_ground"},AMNESIE:{key:"amnesie",frames:[373,374,375,376,377,378,379,379,379],frameRate:8,position:"source_ground",delta:-16},BOMB_OEUF:{key:"bomb_oeuf",frames:[380,381,382,383,384,385,386],frameRate:8,repeat:Number.POSITIVE_INFINITY,scale:1,position:"parabolic_to_target"},PILONNAGE:{key:"pilonnage",frames:[380,381,382,383,384,385,386],frameRate:8,repeat:Number.POSITIVE_INFINITY,scale:.5,position:"parabolic_to_target"},ULTRALASER_START:{key:"ultralaser_start",frames:[387,388],frameRate:8,repeat:2},ULTRALASER_BEAM:{key:"ultralaser_beam",frames:[389,390],frameRate:8,repeat:2},LASER_GLACE_START:{key:"laser_glace_start",frames:[391,392],frameRate:8,repeat:2},LASER_GLACE_BEAM:{key:"laser_glace_beam",frames:[393,394],frameRate:8,repeat:2},JACKPOT_WIN:{key:"jackpot_win",frames:[395,396],frameRate:8,repeat:2},JACKPOT_LOSE:{key:"jackpot_lose",frames:[397,398],frameRate:8,repeat:2},JACKPOT_START:{key:"jackpot_start",frames:[399],frameRate:2,position:"target_to_source"},BOMB_OEUF_HIT:{key:"bomb_oeuf_hit",frames:[400,401,402,403,404,405,406,407],frameRate:8},GROBISOU:{key:"grobisou",frames:[408,409,410,411,409,408],frameRate:8,position:"source",delta:16},METEORES:{key:"meteores",frames:[412,413,414,415,416,417,418,419,420,421,422,423,424,425,426,427],frameRate:8,repeat:Number.POSITIVE_INFINITY},POUVOIR_LUNAIRE:{key:"pouvoir_lunaire",frames:[428,429,430,431,432,433,434,435,436],frameRate:8,position:"target_ground"},EVOLUTION:{key:"evolution",frames:[437,438,439,440,441,442,443,444,445,446,447,448,449,450,451],frameRate:8,depth:ft.SKILL_EFFECT_ABOVE_POKEMON,position:"source_ground"},ADAPTATION:{key:"adaptation",frames:[452,453,454,455,456,457,458,459,460,461,462,463],frameRate:8,depth:ft.SKILL_EFFECT_BELOW_POKEMON,position:"source_ground"},TUNNEL:{key:"tunnel",frames:[464,465,466,467,468,469,469,469,468,467,466,465,464],frameRate:8,depth:ft.SKILL_EFFECT_BELOW_POKEMON,position:"source_ground"},PSYKO:{key:"psyko",frames:[470,471,472,473],frameRate:8,depth:ft.SKILL_EFFECT_BELOW_POKEMON,position:"source_ground",repeat:6},DEFLAGRATION:{key:"deflagration",frames:[474,475,476,477],frameRate:8,depth:ft.SKILL_EFFECT_BELOW_POKEMON,position:"source_ground",repeat:4},ERUPTION_PENDING:{key:"eruption_pending",frames:[478,479],frameRate:8,depth:ft.SKILL_EFFECT_BELOW_POKEMON,position:"source_ground",repeat:Number.POSITIVE_INFINITY},ERUPTION:{key:"eruption",frames:[480,481,482,483,484,483,482,481,480],frameRate:8,depth:ft.SKILL_EFFECT_BELOW_POKEMON,position:"source_ground"},FATAL_FOUDRE:{key:"fatal_foudre",frames:[485,486,487],frameRate:8,depth:ft.SKILL_EFFECT_ABOVE_POKEMON,position:"source_ground",repeat:8},CONFUSION:{key:"confusion",frames:[488,489,490,491],frameRate:8,depth:ft.SKILL_EFFECT_ABOVE_POKEMON,position:"source_ground",repeat:Number.POSITIVE_INFINITY},CASCADE:{key:"cascade_skill",frames:[493,492,493,494,495,496,497,498,499],frameRate:8,depth:ft.SKILL_EFFECT_ABOVE_POKEMON,position:"target_ground"},TRIPLATTAQUE:{key:"triplattaque",frames:[500,501,502,503,504,505,506,507],frameRate:8},TRIPLATTAQUE_HIT:{key:"triplattaque_hit",frames:[508,509,510,511,512],frameRate:8}},Xd={ref:"abri",attackRange:9,behavior:ht.SPECIAL,type:$.NORMAL,effect:rt.ABRI,power:0,hitDelay:0,selfAlteration:{type:at.INVULNERABLE,stacks:20}},kd={ref:"acide",type:$.POISON,attackRange:3,behavior:ht.AREA_OF_EFFECT,getTilesImpacted(E,A){const[C,R]=[A.x,A.y];return[[C-1,R],[C,R],[C+1,R]]},power:40,effect:rt.ACIDE,hitDelay:500,hitEffect:rt.ACIDE_HIT,hitAlteration:{type:at.ACIDE,stacks:100}},Kd={ref:"adaptation",attackRange:9,behavior:ht.SPECIAL,type:$.NORMAL,effect:rt.ADAPTATION,power:0,hitDelay:0,selfAlteration:{type:at.ADAPTATION,stacks:60}},Jd={ref:"amnesie",attackRange:9,effect:rt.AMNESIE,behavior:ht.SPECIAL,power:0,type:$.PSY,triggerSpecial:"amnesie"},jd={ref:"armure",attackRange:9,behavior:ht.SPECIAL,type:$.ROCHE,effect:rt.ARMURE,power:0,hitDelay:0,selfAlteration:{type:at.ARMURE,stacks:1,keepStacks:!0}},Zd={ref:"balayage",attackRange:1,behavior:ht.AREA_OF_EFFECT,type:$.COMBAT,getTilesImpacted(E,A){const[C,R]=[A.x,A.y];return A.x===E.x?[[C-1,R],[C,R],[C+1,R]]:[[C,R-1],[C,R],[C,R+1]]},effect:rt.BALAYAGE,power:100,hitDelay:100,rotateSprite:!0},$d={ref:"belier",type:$.NORMAL,behavior:ht.DIRECT_HIT,hitDelay:150,hitEffect:rt.CHARGE_HIT,chargeDelta:12,power:120,selfDamage:30,rotateSprite:!1,attackRange:1},Qd={ref:"berceuse",attackRange:1,behavior:ht.AREA_OF_EFFECT,type:$.NORMAL,getTilesImpacted(E){const[A,C]=[E.x,E.y];return[[A-1,C-1],[A,C-1],[A+1,C-1],[A-1,C],[A+1,C],[A-1,C+1],[A,C+1],[A+1,C+1]]},effect:rt.BERCEUSE,power:0,hitDelay:1e3,hitAlteration:{type:at.SOMMEIL,stacks:40}},qd={ref:"blizzard",attackRange:9,effect:rt.BLIZZARD,behavior:ht.SPECIAL,hitDelay:100,power:200,type:$.GLACE,triggerSpecial:"blizzard"},yh={ref:"blizzard",behavior:ht.PROJECTILE,effect:rt.GRELON,hitEffect:rt.GRELON_HIT,power:300,travelSpeed:5,rotateProjectile:!1,projectileRadius:8,type:$.GLACE,attackRange:9},_d={ref:"bomb_beurk",type:$.POISON,attackRange:4,behavior:ht.AREA_OF_EFFECT,getTilesImpacted(E,A){const[C,R]=[A.x,A.y];return[[C-1,R],[C,R],[C+1,R]]},power:80,effect:rt.BOMB_BEURK,hitDelay:750,hitEffect:rt.BOMB_BEURK_HIT,hitAlteration:{type:at.POISON,stacks:80}},tc={ref:"bomb_oeuf",type:$.NORMAL,attackRange:4,behavior:ht.AREA_OF_EFFECT,getTilesImpacted(E,A){const[C,R]=[A.x,A.y];return[[C-1,R-1],[C,R-1],[C+1,R-1],[C-1,R],[C,R],[C+1,R],[C-1,R+1],[C,R+1],[C+1,R+1]]},power:200,effect:rt.BOMB_OEUF,hitDelay:1e3,hitEffect:rt.BOMB_OEUF_HIT},ec={ref:"brouillard",attackRange:1,behavior:ht.AREA_OF_EFFECT,type:$.NORMAL,getTilesImpacted(E){const[A,C]=[E.x,E.y];return[[A-1,C-1],[A,C-1],[A+1,C-1],[A-1,C],[A+1,C],[A-1,C+1],[A,C+1],[A+1,C+1]]},effect:rt.BROUILLARD,power:0,hitDelay:200,hitAlteration:{type:at.AVEUGLE,stacks:50}},ic={ref:"bulles_d_o",type:$.EAU,effect:rt.BULLES_D_O,behavior:ht.PROJECTILE,travelSpeed:2,attackRange:3,power:65,projectileRadius:8,rotateProjectile:!1,hitEffect:rt.BULLES_D_O_HIT},sc={ref:"cage_eclair",attackRange:1,behavior:ht.AREA_OF_EFFECT,type:$.ELECTRIQUE,getTilesImpacted(E){const[A,C]=[E.x,E.y];return[[A-1,C-1],[A,C-1],[A+1,C-1],[A-1,C],[A+1,C],[A-1,C+1],[A,C+1],[A+1,C+1]]},effect:rt.CAGE_ECLAIR,power:0,hitDelay:100,hitAlteration:{type:at.PARALYSIE,stacks:100}},nc={ref:"cascade",type:$.EAU,effect:rt.CASCADE,behavior:ht.DIRECT_HIT,hitDelay:500,power:220,rotateSprite:!1,attackRange:1,knockback:!0},rc={ref:"charge",type:$.NORMAL,behavior:ht.DIRECT_HIT,hitDelay:150,hitEffect:rt.CHARGE_HIT,chargeDelta:12,power:40,rotateSprite:!1,attackRange:1},ac={ref:"choc_mental",type:$.PSY,effect:rt.CHOC_MENTAL,behavior:ht.PROJECTILE,travelSpeed:8,projectileRadius:8,rotateProjectile:!0,power:50,attackRange:4},oc={ref:"coud_boue",type:$.SOL,effect:rt.COUD_BOUE,behavior:ht.PROJECTILE,travelSpeed:5,attackRange:3,power:20,projectileRadius:8,rotateProjectile:!1,hitEffect:rt.COUD_BOUE_HIT,hitAlteration:{type:at.AVEUGLE,stacks:10}},lc={ref:"croc_de_mort",type:$.NORMAL,effect:rt.CROC_DE_MORT,behavior:ht.DIRECT_HIT,hitDelay:200,hitAlteration:{type:at.PEUR,stacks:30},power:250,rotateSprite:!1,attackRange:1,chargeDelta:0},hc={ref:"crochet_venin",type:$.POISON,effect:rt.CROCHET_VENIN,behavior:ht.DIRECT_HIT,hitDelay:150,hitAlteration:{type:at.POISON,stacks:10},power:50,rotateSprite:!1,attackRange:1,chargeDelta:8},uc={ref:"crocs_feu",type:$.FEU,effect:rt.CROCS_FEU,behavior:ht.DIRECT_HIT,power:100,hitDelay:200,hitAlteration:{type:at.BRULURE,stacks:100},rotateSprite:!1,attackRange:1,chargeDelta:10},fc={ref:"cruaile",type:$.VOL,effect:rt.CRUAILE,behavior:ht.DIRECT_HIT,hitDelay:200,power:60,rotateSprite:!1,attackRange:1,chargeDelta:4},dc={ref:"danse_flammes",attackRange:1,behavior:ht.AREA_OF_EFFECT,type:$.FEU,getTilesImpacted(E){const[A,C]=[E.x,E.y];return[[A-1,C-1],[A,C-1],[A+1,C-1],[A-1,C],[A+1,C],[A-1,C+1],[A,C+1],[A+1,C+1]]},effect:rt.DANSE_FLAMMES,power:50,hitDelay:0,hitAlteration:{type:at.BRULURE,stacks:50}},cc={ref:"danse_lames",attackRange:1,behavior:ht.AREA_OF_EFFECT,type:$.NORMAL,getTilesImpacted(E){const[A,C]=[E.x,E.y];return[[A-1,C-1],[A,C-1],[A+1,C-1],[A-1,C],[A+1,C],[A-1,C+1],[A,C+1],[A+1,C+1]]},effect:rt.DANSE_LAMES,power:80,hitDelay:100},vc={ref:"dard_venin",type:$.POISON,effect:rt.DARD_VENIN,behavior:ht.PROJECTILE,travelSpeed:6,power:30,projectileRadius:5,hitEffect:rt.DARD_VENIN_HIT,hitAlteration:{type:at.POISON,stacks:30},rotateProjectile:!0,attackRange:2},pc={ref:"deflagration",attackRange:9,effect:rt.DEFLAGRATION,behavior:ht.SPECIAL,power:300,type:$.FEU,triggerSpecial:"deflagration",hitDelay:200},mc={ref:"destruction",attackRange:1,behavior:ht.AREA_OF_EFFECT,type:$.NORMAL,getTilesImpacted(E){const[A,C]=[E.x,E.y];return[[A-1,C-1],[A,C-1],[A+1,C-1],[A-1,C],[A+1,C],[A-1,C+1],[A,C+1],[A+1,C+1]]},effect:rt.DESTRUCTION,power:300,selfDamage:99999,hitDelay:50},gc={ref:"detritus",type:$.POISON,effect:rt.DETRITUS,behavior:ht.PROJECTILE,travelSpeed:3,attackRange:3,power:30,hitAlteration:{type:at.POISON,stacks:20},hitEffect:rt.DETRITUS_HIT,projectileRadius:6,rotateProjectile:!0},xc={ref:"devoreve",type:$.SPECTRE,effect:rt.DEVOREVE,behavior:ht.DIRECT_HIT,hitDelay:350,power:100,rotateSprite:!1,attackRange:4,hitAlteration:{type:at.PEUR,stacks:30}},yc={ref:"double_pied",type:$.COMBAT,effect:rt.DOUBLE_PIED,behavior:ht.DIRECT_HIT,hitDelay:150,power:40,rotateSprite:!1,attackRange:1,chargeDelta:4},Ec={ref:"dracocharge",type:$.DRAGON,effect:rt.DRACOCHARGE,hitEffect:rt.BULLES_D_O_HIT,behavior:ht.PROJECTILE,travelSpeed:8,projectileRadius:6,rotateProjectile:!0,power:50,attackRange:3},Tc={ref:"dracorage",attackRange:2,behavior:ht.AREA_OF_EFFECT,type:$.DRAGON,getTilesImpacted(E,A){const[C,R]=[A.x,A.y];return[[C-1,R-1],[C,R-1],[C+1,R-1],[C-1,R],[C,R],[C+1,R],[C-1,R+1],[C,R+1],[C+1,R+1]]},effect:rt.DRACORAGE,power:0,hitDelay:0,hitAlteration:{type:at.DAMAGE_OVER_TIME,stacks:30}},Sc={ref:"e_coque",attackRange:9,effect:rt.E_COQUE,behavior:ht.SPECIAL,power:0,type:$.PSY,triggerSpecial:"e-coque",triggerSpecialDelay:250},Ac={ref:"eclair",type:$.ELECTRIQUE,behavior:ht.SPECIAL,attackRange:9,power:250,effect:rt.ECLAIR,triggerSpecial:"eclair"},Cc={ref:"empal_korne",type:$.SOL,effect:rt.EMPAL_KORNE,behavior:ht.DIRECT_HIT,hitDelay:400,power:120,rotateSprite:!1,triggerAlteration:{type:at.TOURBILLON,stacks:14},attackRange:2},Pc={ref:"encore",attackRange:9,effect:rt.ENCORE,behavior:ht.SPECIAL,power:0,type:$.NORMAL,triggerSpecial:"encore"},Rc={ref:"etincelle",type:$.ELECTRIQUE,effect:rt.ETINCELLE,behavior:ht.DIRECT_HIT,hitDelay:100,triggerAlteration:{type:at.PARALYSIE,stacks:15},power:65,rotateSprite:!0,attackRange:1,chargeDelta:4},Lc={ref:"evolution",attackRange:9,effect:rt.EVOLUTION,behavior:ht.SPECIAL,power:0,type:$.NORMAL,triggerSpecial:"evolution",triggerSpecialDelay:1e3},Oc={ref:"fatal_foudre",attackRange:9,effect:rt.FATAL_FOUDRE,behavior:ht.SPECIAL,power:200,type:$.ELECTRIQUE,triggerSpecial:"fatal_foudre",hitDelay:100},Mc={ref:"flammeche",type:$.FEU,effect:rt.FLAMMECHE,behavior:ht.DIRECT_HIT,hitDelay:100,triggerAlteration:{type:at.BRULURE,stacks:12},power:40,rotateSprite:!0,attackRange:1},Ic={ref:"fouet_lianes",type:$.PLANTE,effect:rt.FOUET_LIANES,behavior:ht.DIRECT_HIT,hitDelay:250,power:45,rotateSprite:!0,attackRange:1},Fc={ref:"furie",type:$.NORMAL,attackRange:9,effect:rt.FURIE,behavior:ht.AREA_OF_EFFECT,getTilesImpacted(){return[]},power:0,hitDelay:0,selfAlteration:{type:at.FURIE,stacks:1,keepStacks:!0}},wc={ref:"griffe",type:$.NORMAL,effect:rt.GRIFFE,behavior:ht.DIRECT_HIT,hitDelay:100,power:40,rotateSprite:!0,attackRange:1,chargeDelta:8},Dc={ref:"grobisou",type:$.PSY,effect:rt.GROBISOU,behavior:ht.DIRECT_HIT,hitDelay:200,hitAlteration:{type:at.GEL,stacks:80},power:0,rotateSprite:!1,attackRange:2},Nc={ref:"guillotine",type:$.NORMAL,effect:rt.GUILLOTINE,behavior:ht.DIRECT_HIT,hitDelay:250,hitAlteration:{type:at.EXECUTION,stacks:1},power:150,rotateSprite:!1,attackRange:1,chargeDelta:6},bc={ref:"hate",attackRange:9,behavior:ht.AREA_OF_EFFECT,type:$.PSY,getTilesImpacted(){return[]},effect:rt.HATE,power:0,hitDelay:0,selfAlteration:{type:at.HATE,stacks:1,keepStacks:!0}},Bc={ref:"hydrocanon",type:$.EAU,effect:rt.HYDROCANON,behavior:ht.DIRECT_HIT,hitDelay:2e3,power:300,rotateSprite:!1,triggerAlteration:{type:at.TOURBILLON,stacks:30},attackRange:4},Gc={ref:"hypnose",type:$.PSY,effect:rt.HYPNOSE,behavior:ht.DIRECT_HIT,hitDelay:500,hitAlteration:{type:at.SOMMEIL,stacks:70},power:0,rotateSprite:!1,attackRange:4},Uc={ref:"jackpot",attackRange:1,behavior:ht.SPECIAL,type:$.NORMAL,effect:rt.JACKPOT_START,power:0,triggerSpecial:"jackpot",triggerSpecialDelay:250},Vc={ref:"jet_pierres",type:$.ROCHE,effect:rt.JET_PIERRES,behavior:ht.PROJECTILE,travelSpeed:6,power:50,projectileRadius:5,hitEffect:rt.JET_PIERRES_HIT,rotateProjectile:!1,attackRange:3},Yc={ref:"jet_de_sable",type:$.SOL,effect:rt.JET_DE_SABLE,behavior:ht.DIRECT_HIT,hitDelay:100,power:10,rotateSprite:!1,attackRange:1,chargeDelta:4,hitAlteration:{type:at.AVEUGLE,stacks:80}},zc={ref:"koud_korne",type:$.NORMAL,effect:rt.KOUD_KORNE,behavior:ht.DIRECT_HIT,hitDelay:100,power:40,rotateSprite:!0,attackRange:1,chargeDelta:8},Wc={ref:"lance_flammes",type:$.FEU,effect:rt.LANCE_FLAMMES,behavior:ht.DIRECT_HIT,hitDelay:300,triggerAlteration:{type:at.BRULURE,stacks:100},power:200,rotateSprite:!0,attackRange:1},Hc={ref:"lance_soleil",type:$.PLANTE,effect:rt.LANCE_SOLEIL,behavior:ht.PROJECTILE,power:120,travelSpeed:2,pierceThrough:!0,projectileRadius:8,hitAlteration:{type:at.BRULURE,stacks:10},rotateProjectile:!1,attackRange:4},Xc={ref:"laser_glace",type:$.GLACE,behavior:ht.SPECIAL,attackRange:1,power:80,triggerSpecial:"laser_glace"},kc={ref:"lechouille",type:$.SPECTRE,effect:rt.LECHOUILLE,behavior:ht.DIRECT_HIT,hitDelay:200,hitAlteration:{type:at.PARALYSIE,stacks:20},power:35,rotateSprite:!0,attackRange:1},Kc={ref:"ligotage",type:$.NORMAL,effect:rt.LIGOTAGE,behavior:ht.DIRECT_HIT,hitDelay:300,power:15,rotateSprite:!1,triggerAlteration:{type:at.LIGOTAGE,stacks:120},attackRange:4},Jc={ref:"massdos",type:$.SOL,effect:rt.MASSDOS,behavior:ht.PROJECTILE,travelSpeed:4,power:65,projectileRadius:5,hitEffect:rt.CHARGE_HIT,rotateProjectile:!1,attackRange:3},jc={ref:"mawashi_geri",attackRange:1,behavior:ht.AREA_OF_EFFECT,type:$.COMBAT,getTilesImpacted(E,A){const C=[[A.x,A.y]];return A.x===E.x-1&&C.push([A.x+2,A.y]),A.x===E.x+1&&C.push([A.x-2,A.y]),A.y===E.y-1&&C.push([A.x,A.y+2]),A.y===E.y+1&&C.push([A.x,A.y-2]),C},effect:rt.MAWASHI_GERI,power:100,hitDelay:100,rotateSprite:!0},Zc={ref:"meteores",type:$.NORMAL,effect:rt.METEORES,behavior:ht.PROJECTILE,travelSpeed:4,projectileRadius:8,pierceThrough:!0,rotateProjectile:!0,power:50,precision:10,attackRange:9},$c={ref:"metronome",attackRange:9,effect:rt.METRONOME,behavior:ht.SPECIAL,power:0,type:$.NORMAL,triggerSpecial:"metronome"},Qc={ref:"morphing",attackRange:9,effect:rt.EVOLUTION,behavior:ht.SPECIAL,power:0,type:$.NORMAL,triggerSpecial:"morphing",triggerSpecialDelay:1e3},qc={ref:"morsure",type:$.NORMAL,effect:rt.MORSURE,behavior:ht.DIRECT_HIT,hitDelay:140,power:50,rotateSprite:!1,attackRange:1,chargeDelta:10},_c={ref:"nitrocharge",type:$.FEU,behavior:ht.DIRECT_HIT,hitDelay:150,hitEffect:rt.NITROCHARGE_HIT,hitAlteration:{type:at.BRULURE,stacks:30},chargeDelta:12,power:100,selfDamage:30,rotateSprite:!1,attackRange:1},tv={ref:"ouragan",type:$.DRAGON,effect:rt.OURAGAN,behavior:ht.PROJECTILE,power:120,travelSpeed:2,pierceThrough:!0,projectileRadius:12,rotateProjectile:!1,attackRange:4,hitAlteration:{type:at.TOURBILLON,stacks:15}},ev={ref:"paraspore",attackRange:1,behavior:ht.AREA_OF_EFFECT,type:$.PLANTE,getTilesImpacted(E){const[A,C]=[E.x,E.y];return[[A-1,C-1],[A,C-1],[A+1,C-1],[A-1,C],[A+1,C],[A-1,C+1],[A,C+1],[A+1,C+1]]},effect:rt.PARASPORE,power:0,hitDelay:300,hitAlteration:{type:at.PARALYSIE,stacks:100}},iv={ref:"picpic",type:$.VOL,effect:rt.PICPIC,behavior:ht.DIRECT_HIT,hitDelay:100,power:35,rotateSprite:!0,attackRange:1,chargeDelta:8},sv={ref:"pilonnage",type:$.NORMAL,effect:rt.PILONNAGE,behavior:ht.PROJECTILE,travelSpeed:6,power:30,projectileRadius:6,hitEffect:rt.CHARGE_HIT,rotateProjectile:!0,attackRange:4},nv={ref:"pince_masse",type:$.EAU,effect:rt.PINCE_MASSE,behavior:ht.DIRECT_HIT,hitDelay:100,power:40,rotateSprite:!1,attackRange:1,chargeDelta:8},rv={ref:"piqure",type:$.INSECTE,effect:rt.PIQURE,behavior:ht.DIRECT_HIT,hitDelay:100,power:60,rotateSprite:!0,attackRange:1,chargeDelta:10},av={ref:"pistolet_a_o",type:$.EAU,effect:rt.PISTOLET_A_O,behavior:ht.PROJECTILE,travelSpeed:3,power:40,projectileRadius:3,hitEffect:rt.PISTOLET_A_O_HIT,rotateProjectile:!1,attackRange:3},ov={ref:"poing_karate",type:$.COMBAT,effect:rt.POING_KARATE,behavior:ht.DIRECT_HIT,hitDelay:10,power:50,rotateSprite:!1,attackRange:1,chargeDelta:8},lv={ref:"poudre_toxik",attackRange:1,behavior:ht.AREA_OF_EFFECT,type:$.PLANTE,getTilesImpacted(E){const[A,C]=[E.x,E.y];return[[A-1,C-1],[A,C-1],[A+1,C-1],[A-1,C],[A+1,C],[A-1,C+1],[A,C+1],[A+1,C+1]]},effect:rt.POUDRE_TOXIK,power:0,hitDelay:400,hitAlteration:{type:at.POISON,stacks:100}},hv={ref:"poudreuse",type:$.GLACE,effect:rt.POUDREUSE,behavior:ht.DIRECT_HIT,hitDelay:200,power:40,rotateSprite:!0,attackRange:1,chargeDelta:2},uv={ref:"pouvoir_antique",attackRange:1,behavior:ht.AREA_OF_EFFECT,type:$.ROCHE,getTilesImpacted(E){const[A,C]=[E.x,E.y];return[[A-1,C-1],[A,C-1],[A+1,C-1],[A-1,C],[A+1,C],[A-1,C+1],[A,C+1],[A+1,C+1]]},effect:rt.POUVOIR_ANTIQUE,power:60,hitDelay:200,selfAlteration:{type:at.POUVOIR_ANTIQUE,stacks:1,keepStacks:!0}},fv={ref:"pouvoir_lunaire",type:$.FEE,effect:rt.POUVOIR_LUNAIRE,behavior:ht.DIRECT_HIT,hitDelay:200,power:120,rotateSprite:!1,attackRange:4},dv={ref:"provoc",attackRange:9,effect:rt.PROVOCATION,behavior:ht.SPECIAL,power:0,type:$.COMBAT,triggerSpecial:"provoc"},cv={ref:"psyko",attackRange:9,effect:rt.PSYKO,behavior:ht.SPECIAL,power:120,hitDelay:4e3,type:$.PSY,triggerSpecial:"psyko"},vv={ref:"rafale_psy",type:$.PSY,effect:rt.RAFALE_PSY,behavior:ht.PROJECTILE,travelSpeed:6,projectileRadius:16,pierceThrough:!0,rotateProjectile:!0,power:100,attackRange:4},pv={ref:"repos",attackRange:9,behavior:ht.SPECIAL,power:0,type:$.NORMAL,selfAlteration:{type:at.REPOS,stacks:100}},mv={ref:"rugissement",attackRange:1,behavior:ht.AREA_OF_EFFECT,type:$.NORMAL,getTilesImpacted(E){const[A,C]=[E.x,E.y];return[[A-1,C-1],[A,C-1],[A+1,C-1],[A-1,C],[A+1,C],[A-1,C+1],[A,C+1],[A+1,C+1]]},effect:rt.RUGISSEMENT,power:0,hitDelay:50,hitAlteration:{type:at.RUGISSEMENT,stacks:100}},gv={ref:"secretion",type:$.INSECTE,effect:rt.SECRETION,behavior:ht.PROJECTILE,travelSpeed:4,attackRange:4,power:50,projectileRadius:3,rotateProjectile:!0,hitEffect:rt.SECRETION_HIT,hitAlteration:{type:at.SECRETION,stacks:100}},xv={ref:"surf",type:$.EAU,effect:rt.SURF,behavior:ht.PROJECTILE,travelSpeed:4,projectileRadius:16,pierceThrough:!0,rotateProjectile:!0,power:100,attackRange:9,knockback:!0},yv={ref:"teleport",attackRange:9,effect:rt.TELEPORT,behavior:ht.SPECIAL,power:0,type:$.PSY,triggerSpecial:"teleport"},Ev={ref:"tonnerre",attackRange:1,behavior:ht.AREA_OF_EFFECT,type:$.ELECTRIQUE,getTilesImpacted(E){const[A,C]=[E.x,E.y];return[[A-1,C-1],[A,C-1],[A+1,C-1],[A-1,C],[A+1,C],[A-1,C+1],[A,C+1],[A+1,C+1]]},effect:rt.TONNERRE,power:95,hitDelay:250,triggerAlteration:{type:at.PARALYSIE,stacks:10}},Tv={ref:"torgnoles",type:$.NORMAL,effect:rt.TORGNOLES,behavior:ht.DIRECT_HIT,hitDelay:10,power:35,rotateSprite:!1,attackRange:1,chargeDelta:8},Sv={ref:"trempette",behavior:ht.SPECIAL,type:$.EAU,power:0,effect:rt.TREMPETTE,attackRange:9},Av={ref:"triplattaque",type:$.NORMAL,effect:rt.TRIPLATTAQUE,behavior:ht.PROJECTILE,travelSpeed:3,attackRange:3,power:65,projectileRadius:7,rotateProjectile:!0,hitEffect:rt.TRIPLATTAQUE_HIT,get hitAlteration(){const E=Math.random();if(E<1/15)return{type:at.PARALYSIE,stacks:15};if(E<2/15)return{type:at.BRULURE,stacks:15};if(E<3/15)return{type:at.GEL,stacks:15}}},Cv={ref:"tunnel",attackRange:9,effect:rt.TUNNEL,behavior:ht.SPECIAL,power:100,type:$.SOL,triggerSpecial:"tunnel",hitDelay:500},Pv={ref:"ultimapoing",type:$.COMBAT,effect:rt.ULTIMAPOING,behavior:ht.DIRECT_HIT,hitDelay:100,power:250,rotateSprite:!1,attackRange:1,chargeDelta:12},Rv={ref:"ultralaser",type:$.DRAGON,behavior:ht.SPECIAL,attackRange:1,power:200,triggerSpecial:"ultralaser"},Lv={ref:"ultrason",type:$.NORMAL,effect:rt.ULTRASON,behavior:ht.PROJECTILE,travelSpeed:4,projectileRadius:8,pierceThrough:!0,rotateProjectile:!0,power:0,hitAlteration:{type:at.CONFUSION,stacks:30},attackRange:2},Ov={ref:"vampirisme",type:$.INSECTE,effect:rt.VAMPIRISME,behavior:ht.DIRECT_HIT,hitDelay:150,chargeDelta:0,power:35,rotateSprite:!0,selfAlteration:{type:at.SOIN,stacks:5},attackRange:1},Mv={ref:"vive_attaque",type:$.NORMAL,effect:rt.VIVE_ATTAQUE,behavior:ht.DIRECT_HIT,hitDelay:20,power:40,rotateSprite:!0,attackRange:1,chargeDelta:10},Iv={ref:"vol_vie",type:$.PLANTE,effect:rt.VOL_VIE,behavior:ht.DIRECT_HIT,hitDelay:400,chargeDelta:0,power:20,rotateSprite:!0,selfAlteration:{type:at.SOIN,stacks:10},attackRange:3},Q={CHARGE:rc,FOUET_LIANES:Ic,LANCE_SOLEIL:Hc,FLAMMECHE:Mc,NITROCHARGE:_c,GRIFFE:wc,PISTOLET_A_O:av,BULLES_D_O:ic,HYDROCANON:Bc,LANCE_FLAMMES:Wc,TREMPETTE:Sv,POUDREUSE:hv,PIQURE:rv,SECRETION:gv,CHOC_MENTAL:ac,POUDRE_TOXIK:lv,PARASPORE:ev,MORSURE:qc,LIGOTAGE:Kc,HYPNOSE:Gc,TELEPORT:yv,ETINCELLE:Rc,CAGE_ECLAIR:sc,MASSDOS:Jc,VIVE_ATTAQUE:Mv,ECLAIR:Ac,RAFALE_PSY:vv,CROCS_FEU:uc,CROC_DE_MORT:lc,VAMPIRISME:Ov,REPOS:pv,PROVOC:dv,SURF:xv,CASCADE:nc,POUVOIR_ANTIQUE:uv,DARD_VENIN:vc,ACIDE:kd,CRUAILE:fc,VOL_VIE:Iv,COUD_BOUE:oc,JET_DE_SABLE:Yc,DETRITUS:gc,GUILLOTINE:Nc,PINCE_MASSE:nv,OURAGAN:tv,BOMB_BEURK:_d,LECHOUILLE:kc,DEVOREVE:xc,BELIER:$d,JET_PIERRES:Vc,ARMURE:jd,HATE:bc,DANSE_LAMES:cc,PICPIC:iv,DESTRUCTION:mc,FURIE:Fc,DRACORAGE:Tc,DRACOCHARGE:Ec,DANSE_FLAMMES:dc,ULTRASON:Lv,TORGNOLES:Tv,BERCEUSE:Qd,ENCORE:Pc,METRONOME:$c,TONNERRE:Ev,POING_KARATE:ov,DOUBLE_PIED:yc,ULTIMAPOING:Pv,BROUILLARD:ec,BALAYAGE:Zd,E_COQUE:Sc,RUGISSEMENT:mv,CROCHET_VENIN:hc,KOUD_KORNE:zc,EMPAL_KORNE:Cc,MAWASHI_GERI:jc,ABRI:Xd,AMNESIE:Jd,PILONNAGE:sv,BOMB_OEUF:tc,ULTRALASER:Rv,LASER_GLACE:Xc,JACKPOT:Uc,GROBISOU:Dc,METEORES:Zc,POUVOIR_LUNAIRE:fv,MORPHING:Qc,EVOLUTION:Lc,TRIPLATTAQUE:Av,ADAPTATION:Kd,TUNNEL:Cv,PSYKO:cv,DEFLAGRATION:pc,BLIZZARD:qd,FATAL_FOUDRE:Oc},_i={ref:"arbok",maxPV:60,maxPP:20,attack:95,defense:69,speed:65,types:[$.POISON],rank:2,baseSkill:Q.CROCHET_VENIN,ppSkill:Q.LIGOTAGE,wildEncounterChance:0,portraitCropY:5},Jn={ref:"abo",maxPV:35,maxPP:20,attack:60,defense:44,speed:55,types:[$.POISON],evolution:_i,evolutionLevel:22,rank:1,baseSkill:Q.CROCHET_VENIN,ppSkill:Q.LIGOTAGE,wildEncounterChance:1,portraitCropY:14},na={ref:"alakazam",maxPV:55,maxPP:10,attack:40,defense:45,speed:120,types:[$.PSY],rank:3,baseSkill:Q.CHOC_MENTAL,ppSkill:Q.TELEPORT,wildEncounterChance:0},Mr={ref:"kadabra",maxPV:40,maxPP:10,attack:35,defense:30,speed:105,types:[$.PSY],evolution:na,evolutionLevel:33,rank:2,baseSkill:Q.CHOC_MENTAL,ppSkill:Q.TELEPORT,wildEncounterChance:0},ts={ref:"abra",maxPV:25,maxPP:10,attack:20,defense:15,speed:90,types:[$.PSY],evolution:Mr,evolutionLevel:16,rank:1,baseSkill:Q.CHOC_MENTAL,ppSkill:Q.TELEPORT,wildEncounterChance:1,portraitCropY:13},Ri={ref:"aeromite",maxPV:70,maxPP:10,attack:65,defense:60,speed:90,types:[$.INSECTE,$.POISON],rank:2,baseSkill:Q.VAMPIRISME,ppSkill:Q.RAFALE_PSY,wildEncounterChance:0},ra={ref:"akwakwak",maxPV:80,maxPP:16,attack:82,defense:78,speed:85,types:[$.EAU,$.PSY],rank:2,baseSkill:Q.CHOC_MENTAL,ppSkill:Q.SURF,wildEncounterChance:0,portraitCropY:14},Xo={ref:"amonistar",maxPV:70,maxPP:20,attack:60,defense:125,speed:55,types:[$.EAU,$.ROCHE],rank:3,baseSkill:Q.PISTOLET_A_O,ppSkill:Q.POUVOIR_ANTIQUE,wildEncounterChance:0,portraitCropY:26},Fu={ref:"amonita",maxPV:35,maxPP:20,attack:40,defense:100,speed:35,types:[$.EAU,$.ROCHE],evolution:Xo,evolutionLevel:40,rank:1,baseSkill:Q.PISTOLET_A_O,ppSkill:Q.POUVOIR_ANTIQUE,wildEncounterChance:.1,portraitCropY:25},fi={ref:"evoli",maxPV:55,maxPP:40,attack:55,defense:50,speed:55,types:[$.NORMAL],rank:1,baseSkill:Q.VIVE_ATTAQUE,ppSkill:Q.EVOLUTION,wildEncounterChance:1},ze={ref:"aquali",maxPV:130,maxPP:20,attack:65,defense:60,speed:65,types:[$.EAU],devolution:fi,rank:1,baseSkill:Q.PISTOLET_A_O,ppSkill:Q.HYDROCANON,wildEncounterChance:1,portraitCropY:24},ko={ref:"arcanin",maxPV:90,maxPP:20,attack:110,defense:80,speed:95,types:[$.FEU],rank:2,baseSkill:Q.MORSURE,ppSkill:Q.CROCS_FEU,wildEncounterChance:0,portraitCropY:10},yo={ref:"artikodin",maxPV:90,maxPP:30,attack:95,defense:100,speed:85,types:[$.VOL,$.GLACE],rank:5,baseSkill:Q.POUDREUSE,ppSkill:Q.BLIZZARD,wildEncounterChance:0,portraitCropY:7},Ko={ref:"dardargnan",maxPV:65,maxPP:10,attack:80,defense:40,speed:75,types:[$.INSECTE,$.POISON],rank:3,baseSkill:Q.DARD_VENIN,ppSkill:Q.FURIE,wildEncounterChance:0},Jo={ref:"coconfort",maxPV:45,maxPP:20,attack:25,defense:50,speed:35,types:[$.INSECTE,$.POISON],evolution:Ko,evolutionLevel:10,rank:2,baseSkill:Q.DARD_VENIN,ppSkill:Q.ARMURE,wildEncounterChance:0},aa={ref:"aspicot",maxPV:40,maxPP:20,attack:35,defense:30,speed:50,types:[$.INSECTE,$.POISON],evolution:Jo,evolutionLevel:7,rank:1,baseSkill:Q.DARD_VENIN,ppSkill:Q.SECRETION,wildEncounterChance:1,portraitCropY:23},jo={ref:"empiflor",maxPV:80,maxPP:20,attack:105,defense:65,speed:70,types:[$.PLANTE,$.POISON],rank:3,baseSkill:Q.FOUET_LIANES,ppSkill:Q.ACIDE,wildEncounterChance:0},oa={ref:"boustiflor",maxPV:65,maxPP:20,attack:90,defense:50,speed:55,types:[$.PLANTE,$.POISON],evolution:jo,evolutionLevel:38,rank:2,baseSkill:Q.FOUET_LIANES,ppSkill:Q.ACIDE,wildEncounterChance:0,portraitCropY:26},Zo={ref:"florizarre",maxPV:80,maxPP:20,attack:82,defense:83,speed:80,types:[$.PLANTE,$.POISON],rank:3,baseSkill:Q.FOUET_LIANES,ppSkill:Q.LANCE_SOLEIL,wildEncounterChance:0,portraitCropY:38},$o={ref:"herbizarre",maxPV:60,maxPP:20,attack:62,defense:63,speed:60,types:[$.PLANTE,$.POISON],evolution:Zo,evolutionLevel:32,rank:2,baseSkill:Q.FOUET_LIANES,ppSkill:Q.LANCE_SOLEIL,wildEncounterChance:0,portraitCropY:24},jn={ref:"bulbizarre",maxPV:45,maxPP:20,attack:49,defense:49,speed:45,types:[$.PLANTE,$.POISON],evolution:$o,evolutionLevel:16,rank:1,baseSkill:Q.FOUET_LIANES,ppSkill:Q.LANCE_SOLEIL,wildEncounterChance:1,portraitCropY:24},wu={ref:"canarticho",maxPV:52,maxPP:15,attack:90,defense:55,speed:60,types:[$.NORMAL,$.VOL],rank:1,baseSkill:Q.PICPIC,ppSkill:Q.DANSE_LAMES,wildEncounterChance:1,portraitCropY:19},Ms={ref:"caninos",maxPV:55,maxPP:20,attack:70,defense:45,speed:60,types:[$.FEU],evolution:ko,evolutionLevel:30,rank:1,baseSkill:Q.MORSURE,ppSkill:Q.CROCS_FEU,wildEncounterChance:1},Du={ref:"tortank",maxPV:79,maxPP:20,attack:83,defense:80,speed:58,types:[$.EAU],rank:3,baseSkill:Q.PISTOLET_A_O,ppSkill:Q.HYDROCANON,wildEncounterChance:0,portraitCropY:8},Nu={ref:"carabaffe",maxPV:59,maxPP:20,attack:63,defense:80,speed:58,types:[$.EAU],evolution:Du,evolutionLevel:36,rank:2,baseSkill:Q.PISTOLET_A_O,ppSkill:Q.HYDROCANON,wildEncounterChance:0},Zn={ref:"carapuce",maxPV:44,maxPP:20,attack:48,defense:65,speed:43,types:[$.EAU],evolution:Nu,evolutionLevel:16,rank:1,baseSkill:Q.PISTOLET_A_O,ppSkill:Q.HYDROCANON,wildEncounterChance:1},Is={ref:"papillusion",maxPV:45,maxPP:30,attack:49,defense:49,speed:45,types:[$.INSECTE,$.VOL],rank:3,baseSkill:Q.CHOC_MENTAL,ppSkill:Q.POUDRE_TOXIK,wildEncounterChance:0,portraitCropY:22},bu={ref:"chrysacier",maxPV:50,maxPP:20,attack:20,defense:55,speed:30,types:[$.INSECTE],evolution:Is,evolutionLevel:10,rank:2,baseSkill:Q.PIQURE,ppSkill:Q.SECRETION,wildEncounterChance:0,portraitCropY:18},la={ref:"chenipan",maxPV:45,maxPP:20,attack:30,defense:35,speed:45,types:[$.INSECTE],evolution:bu,evolutionLevel:7,rank:1,baseSkill:Q.PIQURE,ppSkill:Q.SECRETION,wildEncounterChance:1},$n={ref:"chetiflor",maxPV:50,maxPP:20,attack:75,defense:35,speed:40,types:[$.PLANTE,$.POISON],evolution:oa,evolutionLevel:21,rank:1,baseSkill:Q.FOUET_LIANES,ppSkill:Q.ACIDE,wildEncounterChance:1,portraitCropY:11},Qo={ref:"colossinge",maxPV:65,maxPP:20,attack:105,defense:60,speed:95,types:[$.COMBAT],rank:2,baseSkill:Q.GRIFFE,ppSkill:Q.PROVOC,wildEncounterChance:0},qo={ref:"crustabri",maxPV:50,maxPP:20,attack:95,defense:180,speed:70,types:[$.EAU,$.GLACE],rank:3,baseSkill:Q.PISTOLET_A_O,ppSkill:Q.ABRI,wildEncounterChance:0,portraitCropY:21},Bu={ref:"dodrio",maxPV:60,maxPP:10,attack:110,defense:70,speed:110,types:[$.NORMAL,$.VOL],rank:2,baseSkill:Q.TRIPLATTAQUE,ppSkill:Q.FURIE,wildEncounterChance:0},Gu={ref:"doduo",maxPV:35,maxPP:10,attack:85,defense:45,speed:75,types:[$.NORMAL,$.VOL],evolution:Bu,evolutionLevel:31,rank:1,baseSkill:Q.VIVE_ATTAQUE,ppSkill:Q.FURIE,wildEncounterChance:1},_o={ref:"dracaufeu",maxPV:78,maxPP:20,attack:84,defense:78,speed:100,types:[$.FEU,$.DRAGON],rank:3,baseSkill:Q.FLAMMECHE,ppSkill:Q.LANCE_FLAMMES,wildEncounterChance:0,portraitCropY:8},tl={ref:"dracolosse",maxPV:91,maxPP:20,attack:134,defense:95,speed:80,types:[$.DRAGON,$.VOL],rank:3,baseSkill:Q.CRUAILE,ppSkill:Q.ULTRALASER,wildEncounterChance:0,portraitCropY:1},Ir={ref:"draco",maxPV:61,maxPP:20,attack:84,defense:65,speed:70,types:[$.DRAGON],evolution:tl,evolutionLevel:55,rank:2,baseSkill:Q.DRACOCHARGE,ppSkill:Q.OURAGAN,wildEncounterChance:0,portraitCropY:10},Fr={ref:"ectoplasma",maxPV:60,maxPP:16,attack:65,defense:60,speed:110,types:[$.SPECTRE,$.POISON],rank:3,baseSkill:Q.LECHOUILLE,ppSkill:Q.DEVOREVE,wildEncounterChance:0,portraitCropY:23},Eo={ref:"electhor",maxPV:90,maxPP:30,attack:90,defense:85,speed:100,types:[$.VOL,$.ELECTRIQUE],rank:5,baseSkill:Q.ETINCELLE,ppSkill:Q.FATAL_FOUDRE,wildEncounterChance:0},el={ref:"electrode",maxPV:60,maxPP:50,attack:50,defense:70,speed:150,types:[$.ELECTRIQUE],rank:2,baseSkill:Q.CHARGE,ppSkill:Q.DESTRUCTION,wildEncounterChance:0,portraitCropY:24},sn={ref:"elektek",maxPV:65,maxPP:20,attack:83,defense:57,speed:105,types:[$.ELECTRIQUE],rank:2,baseSkill:Q.ETINCELLE,ppSkill:Q.TONNERRE,wildEncounterChance:.5},Uu={ref:"excelangue",maxPV:50,maxPP:20,attack:105,defense:79,speed:76,types:[$.NORMAL],rank:2,baseSkill:Q.LECHOUILLE,ppSkill:Q.ULTRASON,wildEncounterChance:1},wr={ref:"spectrum",maxPV:45,maxPP:16,attack:50,defense:45,speed:95,types:[$.SPECTRE,$.POISON],evolution:Fr,evolutionLevel:40,rank:2,baseSkill:Q.LECHOUILLE,ppSkill:Q.DEVOREVE,wildEncounterChance:0,portraitCropY:19},li={ref:"fantominus",maxPV:30,maxPP:16,attack:35,defense:30,speed:80,types:[$.SPECTRE,$.POISON],evolution:wr,evolutionLevel:25,rank:1,baseSkill:Q.LECHOUILLE,ppSkill:Q.DEVOREVE,wildEncounterChance:1,portraitCropY:26},il={ref:"ferosinge",maxPV:40,maxPP:20,attack:80,defense:35,speed:70,types:[$.COMBAT],evolution:Qo,evolutionLevel:28,rank:1,baseSkill:Q.GRIFFE,ppSkill:Q.PROVOC,wildEncounterChance:1},ha={ref:"feunard",maxPV:73,maxPP:20,attack:76,defense:75,speed:100,types:[$.FEU],rank:3,baseSkill:Q.FLAMMECHE,ppSkill:Q.DANSE_FLAMMES,wildEncounterChance:0,portraitCropY:13},sl={ref:"flagadoss",maxPV:95,maxPP:20,attack:75,defense:110,speed:30,types:[$.EAU,$.PSY],rank:2,baseSkill:Q.PISTOLET_A_O,ppSkill:Q.AMNESIE,wildEncounterChance:0},nl={ref:"galopa",maxPV:65,maxPP:20,attack:100,defense:70,speed:105,types:[$.FEU],rank:2,baseSkill:Q.CHARGE,ppSkill:Q.NITROCHARGE,wildEncounterChance:0,portraitCropY:9},ua={ref:"goupix",maxPV:38,maxPP:20,attack:41,defense:40,speed:65,types:[$.FEU],evolution:ha,evolutionLevel:20,rank:1,baseSkill:Q.FLAMMECHE,ppSkill:Q.DANSE_FLAMMES,wildEncounterChance:1},fa={ref:"grolem",maxPV:80,maxPP:20,attack:120,defense:130,speed:45,types:[$.ROCHE,$.SOL],rank:3,baseSkill:Q.JET_PIERRES,ppSkill:Q.ARMURE,wildEncounterChance:0,portraitCropY:20},rl={ref:"gravalanch",maxPV:55,maxPP:20,attack:95,defense:115,speed:35,types:[$.ROCHE,$.SOL],evolution:fa,evolutionLevel:38,rank:2,baseSkill:Q.JET_PIERRES,ppSkill:Q.ARMURE,wildEncounterChance:0,portraitCropY:20},al={ref:"grodoudou",maxPV:140,maxPP:20,attack:70,defense:45,speed:45,types:[$.FEE],rank:2,baseSkill:Q.TORGNOLES,ppSkill:Q.BERCEUSE,wildEncounterChance:0,portraitCropY:14},nn={ref:"grotadmorv",maxPV:105,maxPP:20,attack:105,defense:75,speed:50,types:[$.POISON],rank:2,baseSkill:Q.COUD_BOUE,ppSkill:Q.BOMB_BEURK,wildEncounterChance:0},Dr={ref:"hypnomade",maxPV:85,maxPP:20,attack:73,defense:70,speed:67,types:[$.PSY],rank:2,baseSkill:Q.CHOC_MENTAL,ppSkill:Q.HYPNOSE,wildEncounterChance:0,portraitCropY:17},ol={ref:"hypocean",maxPV:55,maxPP:20,attack:65,defense:95,speed:85,types:[$.EAU],rank:2,baseSkill:Q.BULLES_D_O,ppSkill:Q.OURAGAN,wildEncounterChance:0},da={ref:"hypotrempe",maxPV:30,maxPP:20,attack:40,defense:70,speed:60,types:[$.EAU],evolution:ol,evolutionLevel:32,rank:1,baseSkill:Q.BULLES_D_O,ppSkill:Q.OURAGAN,wildEncounterChance:1},Nr={ref:"insecateur",maxPV:70,maxPP:10,attack:110,defense:80,speed:105,types:[$.INSECTE,$.VOL],rank:3,baseSkill:Q.VIVE_ATTAQUE,ppSkill:Q.DANSE_LAMES,wildEncounterChance:.5,portraitCropY:20},ll={ref:"kabutops",maxPV:60,maxPP:20,attack:115,defense:105,speed:70,types:[$.EAU,$.ROCHE],rank:3,baseSkill:Q.GRIFFE,ppSkill:Q.POUVOIR_ANTIQUE,wildEncounterChance:0,portraitCropY:18},hl={ref:"kabuto",maxPV:30,maxPP:20,attack:80,defense:90,speed:55,types:[$.EAU,$.ROCHE],evolution:ll,evolutionLevel:40,rank:1,baseSkill:Q.GRIFFE,ppSkill:Q.POUVOIR_ANTIQUE,wildEncounterChance:.1,portraitCropY:19},ul={ref:"kangourex",maxPV:105,maxPP:20,attack:95,defense:80,speed:90,types:[$.NORMAL],rank:2,baseSkill:Q.MORSURE,ppSkill:Q.ULTIMAPOING,wildEncounterChance:1,portraitCropY:8},br={ref:"kicklee",maxPV:50,maxPP:12,attack:120,defense:53,speed:87,types:[$.COMBAT],rank:2,baseSkill:Q.DOUBLE_PIED,ppSkill:Q.MAWASHI_GERI,wildEncounterChance:.75},Di={ref:"kokiyas",maxPV:30,maxPP:20,attack:65,defense:100,speed:40,types:[$.EAU],evolution:qo,evolutionLevel:27,rank:1,baseSkill:Q.PISTOLET_A_O,ppSkill:Q.ABRI,wildEncounterChance:1,portraitCropY:24},Vu={ref:"krabboss",maxPV:55,maxPP:30,attack:130,defense:115,speed:75,types:[$.EAU],rank:2,baseSkill:Q.PINCE_MASSE,ppSkill:Q.GUILLOTINE,wildEncounterChance:0,portraitCropY:21},Fs={ref:"krabby",maxPV:30,maxPP:30,attack:105,defense:90,speed:50,types:[$.EAU],evolution:Vu,evolutionLevel:28,rank:1,baseSkill:Q.PINCE_MASSE,ppSkill:Q.GUILLOTINE,wildEncounterChance:1,portraitCropY:18},Br={ref:"lamantine",maxPV:90,maxPP:20,attack:70,defense:80,speed:70,types:[$.EAU,$.GLACE],rank:2,baseSkill:Q.POUDREUSE,ppSkill:Q.LASER_GLACE,wildEncounterChance:0,portraitCropY:8},fl={ref:"leveinard",maxPV:250,maxPP:20,attack:5,defense:5,speed:50,types:[$.NORMAL],rank:3,baseSkill:Q.TORGNOLES,ppSkill:Q.E_COQUE,wildEncounterChance:.5},rn={ref:"leviator",maxPV:95,maxPP:25,attack:125,defense:79,speed:81,types:[$.EAU,$.VOL],rank:3,baseSkill:Q.MORSURE,ppSkill:Q.DRACORAGE,wildEncounterChance:0,portraitCropY:22},ca={ref:"lippoutou",maxPV:65,maxPP:20,attack:50,defense:35,speed:95,types:[$.GLACE,$.PSY],rank:2,baseSkill:Q.POUDREUSE,ppSkill:Q.GROBISOU,wildEncounterChance:1},es={ref:"lokhlass",maxPV:130,maxPP:16,attack:85,defense:80,speed:60,types:[$.EAU,$.GLACE],rank:3,baseSkill:Q.PISTOLET_A_O,ppSkill:Q.SURF,wildEncounterChance:.5,portraitCropY:6},dl={ref:"mackogneur",maxPV:90,maxPP:20,attack:130,defense:80,speed:55,types:[$.COMBAT],rank:3,baseSkill:Q.POING_KARATE,ppSkill:Q.BALAYAGE,wildEncounterChance:0,portraitCropY:8},cl={ref:"machopeur",maxPV:80,maxPP:20,attack:100,defense:70,speed:45,types:[$.COMBAT],evolution:dl,evolutionLevel:40,rank:2,baseSkill:Q.POING_KARATE,ppSkill:Q.BALAYAGE,wildEncounterChance:0,portraitCropY:12},ws={ref:"machoc",maxPV:70,maxPP:20,attack:80,defense:50,speed:35,types:[$.COMBAT],evolution:cl,evolutionLevel:28,rank:1,baseSkill:Q.POING_KARATE,ppSkill:Q.BALAYAGE,wildEncounterChance:1,portraitCropY:12},Ds={ref:"magicarpe",maxPV:20,maxPP:0,attack:10,defense:55,speed:80,types:[$.EAU],evolution:rn,evolutionLevel:20,rank:1,baseSkill:Q.TREMPETTE,wildEncounterChance:1,portraitCropY:21},Qn={ref:"magmar",maxPV:65,maxPP:20,attack:95,defense:57,speed:93,types:[$.FEU],rank:2,baseSkill:Q.FLAMMECHE,ppSkill:Q.BROUILLARD,wildEncounterChance:.5,portraitCropY:12},va={ref:"magneton",maxPV:50,maxPP:20,attack:60,defense:95,speed:70,types:[$.ELECTRIQUE],rank:2,baseSkill:Q.ETINCELLE,ppSkill:Q.CAGE_ECLAIR,wildEncounterChance:0,portraitCropY:21},an={ref:"magneti",maxPV:25,maxPP:20,attack:35,defense:70,speed:45,types:[$.ELECTRIQUE],evolution:va,evolutionLevel:30,rank:1,baseSkill:Q.ETINCELLE,ppSkill:Q.CAGE_ECLAIR,wildEncounterChance:1,portraitCropY:22},vl={ref:"melodelfe",maxPV:95,maxPP:20,attack:70,defense:73,speed:60,types:[$.FEE],rank:1,baseSkill:Q.TORGNOLES,ppSkill:Q.POUVOIR_LUNAIRE,wildEncounterChance:0},is={ref:"melofee",maxPV:70,maxPP:20,attack:45,defense:48,speed:35,types:[$.FEE],evolution:vl,evolutionLevel:26,rank:1,baseSkill:Q.TORGNOLES,ppSkill:Q.POUVOIR_LUNAIRE,wildEncounterChance:1},Gr={ref:"metamorph",maxPV:48,maxPP:1,attack:48,defense:48,speed:48,types:[$.NORMAL],rank:2,baseSkill:Q.MORPHING,wildEncounterChance:1},Yu={ref:"mew",maxPV:100,maxPP:5,attack:100,defense:100,speed:100,types:[$.PSY],rank:5,baseSkill:Q.CHOC_MENTAL,ppSkill:Q.METRONOME,wildEncounterChance:.02},To={ref:"mewtwo",maxPV:106,maxPP:20,attack:110,defense:90,speed:130,types:[$.PSY],rank:5,baseSkill:Q.CHOC_MENTAL,ppSkill:Q.PSYKO,wildEncounterChance:0,portraitCropY:5},zu={ref:"persian",maxPV:65,maxPP:20,attack:70,defense:60,speed:115,types:[$.NORMAL],rank:1,baseSkill:Q.GRIFFE,ppSkill:Q.JACKPOT,wildEncounterChance:0,portraitCropY:12},Ni={ref:"miaouss",maxPV:40,maxPP:20,attack:45,defense:35,speed:90,types:[$.NORMAL],evolution:zu,evolutionLevel:28,rank:1,baseSkill:Q.GRIFFE,ppSkill:Q.JACKPOT,wildEncounterChance:1},on={ref:"mimitoss",maxPV:60,maxPP:10,attack:55,defense:50,speed:45,types:[$.INSECTE,$.POISON],evolution:Ri,evolutionLevel:31,rank:1,baseSkill:Q.CHARGE,ppSkill:Q.RAFALE_PSY,wildEncounterChance:1,portraitCropY:20},Ur={ref:"minidraco",maxPV:41,maxPP:20,attack:64,defense:45,speed:50,types:[$.DRAGON],evolution:Ir,evolutionLevel:30,rank:1,baseSkill:Q.DRACOCHARGE,ppSkill:Q.OURAGAN,wildEncounterChance:1},ss={ref:"mrmime",maxPV:40,maxPP:15,attack:45,defense:65,speed:90,types:[$.PSY,$.FEE],rank:1,baseSkill:Q.TORGNOLES,ppSkill:Q.ENCORE,wildEncounterChance:1},ns={ref:"rafflesia",maxPV:75,maxPP:20,attack:80,defense:85,speed:50,types:[$.PLANTE,$.POISON],rank:3,baseSkill:Q.VOL_VIE,ppSkill:Q.POUDRE_TOXIK,wildEncounterChance:0,portraitCropY:19},pl={ref:"ortide",maxPV:60,maxPP:20,attack:65,defense:70,speed:40,types:[$.PLANTE,$.POISON],evolution:ns,evolutionLevel:37,rank:2,baseSkill:Q.VOL_VIE,ppSkill:Q.POUDRE_TOXIK,wildEncounterChance:0,portraitCropY:22},rs={ref:"mystherbe",maxPV:45,maxPP:20,attack:50,defense:55,speed:30,types:[$.PLANTE,$.POISON],evolution:pl,evolutionLevel:21,rank:1,baseSkill:Q.VOL_VIE,ppSkill:Q.POUDRE_TOXIK,wildEncounterChance:1,portraitCropY:28},ml={ref:"nidoking",maxPV:81,maxPP:20,attack:102,defense:77,speed:85,types:[$.POISON,$.SOL],rank:1,baseSkill:Q.DOUBLE_PIED,ppSkill:Q.EMPAL_KORNE,wildEncounterChance:0},gl={ref:"nidoqueen",maxPV:90,maxPP:20,attack:82,defense:87,speed:76,types:[$.POISON,$.SOL],rank:1,baseSkill:Q.DOUBLE_PIED,ppSkill:Q.RUGISSEMENT,wildEncounterChance:0,portraitCropY:9},Wu={ref:"nidorina",maxPV:70,maxPP:20,attack:62,defense:67,speed:56,types:[$.POISON],evolution:gl,evolutionLevel:32,rank:1,baseSkill:Q.DARD_VENIN,ppSkill:Q.RUGISSEMENT,wildEncounterChance:0,portraitCropY:19},Hu={ref:"nidoranf",maxPV:55,maxPP:20,attack:47,defense:52,speed:41,types:[$.POISON],evolution:Wu,evolutionLevel:16,rank:1,baseSkill:Q.GRIFFE,ppSkill:Q.RUGISSEMENT,wildEncounterChance:1},Xu={ref:"nidorino",maxPV:61,maxPP:20,attack:72,defense:57,speed:65,types:[$.POISON],evolution:ml,evolutionLevel:32,rank:1,baseSkill:Q.DARD_VENIN,ppSkill:Q.EMPAL_KORNE,wildEncounterChance:0,portraitCropY:26},xl={ref:"nidoranm",maxPV:46,maxPP:20,attack:57,defense:40,speed:50,types:[$.POISON],evolution:Xu,evolutionLevel:16,rank:1,baseSkill:Q.DARD_VENIN,ppSkill:Q.EMPAL_KORNE,wildEncounterChance:1,portraitCropY:26},Ns={ref:"noadkoko",maxPV:60,maxPP:15,attack:95,defense:85,speed:55,types:[$.PLANTE,$.PSY],rank:2,baseSkill:Q.PILONNAGE,ppSkill:Q.BOMB_OEUF,wildEncounterChance:0,portraitCropY:20},pa={ref:"noeufnoeuf",maxPV:60,maxPP:20,attack:40,defense:80,speed:40,types:[$.PLANTE,$.PSY],evolution:Ns,evolutionLevel:40,rank:1,baseSkill:Q.PILONNAGE,ppSkill:Q.BOMB_OEUF,wildEncounterChance:1},yl={ref:"nosferalto",maxPV:75,maxPP:20,attack:80,defense:70,speed:90,types:[$.VOL,$.POISON],rank:2,baseSkill:Q.VAMPIRISME,ppSkill:Q.ULTRASON,wildEncounterChance:0,portraitCropY:24},ma={ref:"nosferapti",maxPV:40,maxPP:20,attack:45,defense:35,speed:55,types:[$.VOL,$.POISON],evolution:yl,evolutionLevel:25,rank:1,baseSkill:Q.VAMPIRISME,ppSkill:Q.ULTRASON,wildEncounterChance:1,portraitCropY:24},Li={ref:"onix",maxPV:35,maxPP:20,attack:45,defense:160,speed:70,types:[$.ROCHE,$.SOL],rank:1,baseSkill:Q.JET_PIERRES,ppSkill:Q.ARMURE,wildEncounterChance:1,portraitCropY:30},El={ref:"ossatueur",maxPV:60,maxPP:20,attack:80,defense:110,speed:45,types:[$.SOL],rank:2,baseSkill:Q.MASSDOS,ppSkill:Q.RUGISSEMENT,wildEncounterChance:0,portraitCropY:10},ga={ref:"osselait",maxPV:50,maxPP:20,attack:50,defense:95,speed:35,types:[$.SOL],evolution:El,evolutionLevel:28,rank:1,baseSkill:Q.MASSDOS,ppSkill:Q.RUGISSEMENT,wildEncounterChance:1,portraitCropY:14},qn={ref:"otaria",maxPV:65,maxPP:20,attack:45,defense:55,speed:45,types:[$.EAU,$.GLACE],evolution:Br,evolutionLevel:34,rank:1,baseSkill:Q.POUDREUSE,ppSkill:Q.LASER_GLACE,wildEncounterChance:1,portraitCropY:34},Tl={ref:"parasect",maxPV:60,maxPP:20,attack:95,defense:80,speed:30,types:[$.INSECTE,$.PLANTE],rank:2,baseSkill:Q.GRIFFE,ppSkill:Q.PARASPORE,wildEncounterChance:0,portraitCropY:24},_n={ref:"paras",maxPV:35,maxPP:20,attack:70,defense:55,speed:25,types:[$.INSECTE,$.PLANTE],evolution:Tl,evolutionLevel:24,rank:1,baseSkill:Q.GRIFFE,ppSkill:Q.PARASPORE,wildEncounterChance:1,portraitCropY:21},ku={ref:"rapasdepic",maxPV:65,maxPP:10,attack:90,defense:65,speed:100,types:[$.VOL,$.NORMAL],rank:2,baseSkill:Q.CRUAILE,ppSkill:Q.HATE,wildEncounterChance:0,portraitCropY:30},Sl={ref:"piafabec",maxPV:40,maxPP:10,attack:60,defense:30,speed:70,types:[$.VOL,$.NORMAL],evolution:ku,evolutionLevel:20,rank:1,baseSkill:Q.PICPIC,ppSkill:Q.HATE,wildEncounterChance:1},Al={ref:"raichu",maxPV:60,maxPP:30,attack:90,defense:55,speed:100,types:[$.ELECTRIQUE],rank:2,baseSkill:Q.VIVE_ATTAQUE,ppSkill:Q.ECLAIR,wildEncounterChance:0},as={ref:"pikachu",maxPV:35,maxPP:30,attack:55,defense:40,speed:90,types:[$.ELECTRIQUE],evolution:Al,evolutionLevel:22,rank:1,baseSkill:Q.VIVE_ATTAQUE,ppSkill:Q.ECLAIR,wildEncounterChance:1},Ku={ref:"poissoroy",maxPV:80,maxPP:20,attack:92,defense:65,speed:68,types:[$.EAU],rank:2,baseSkill:Q.KOUD_KORNE,ppSkill:Q.CASCADE,wildEncounterChance:0,portraitCropY:14},tr={ref:"poissirene",maxPV:45,maxPP:20,attack:67,defense:60,speed:63,types:[$.EAU],evolution:Ku,evolutionLevel:33,rank:1,baseSkill:Q.KOUD_KORNE,ppSkill:Q.CASCADE,wildEncounterChance:1,portraitCropY:27},Cl={ref:"ponyta",maxPV:50,maxPP:20,attack:85,defense:55,speed:90,types:[$.FEU],evolution:nl,evolutionLevel:40,rank:1,baseSkill:Q.CHARGE,ppSkill:Q.NITROCHARGE,wildEncounterChance:1,portraitCropY:13},xa={ref:"porygon",maxPV:65,maxPP:20,attack:60,defense:70,speed:40,types:[$.NORMAL],rank:2,baseSkill:Q.TRIPLATTAQUE,ppSkill:Q.ADAPTATION,wildEncounterChance:1,portraitCropY:15},Oi={ref:"psykokwak",maxPV:50,maxPP:16,attack:52,defense:48,speed:55,types:[$.EAU,$.PSY],evolution:ra,evolutionLevel:33,rank:1,baseSkill:Q.CHOC_MENTAL,ppSkill:Q.SURF,wildEncounterChance:1},Pl={ref:"ptera",maxPV:80,maxPP:20,attack:105,defense:65,speed:130,types:[$.DRAGON,$.ROCHE],rank:3,baseSkill:Q.CRUAILE,ppSkill:Q.POUVOIR_ANTIQUE,wildEncounterChance:.1,portraitCropY:22},Rl={ref:"tartard",maxPV:90,maxPP:20,attack:95,defense:95,speed:70,types:[$.EAU],rank:3,baseSkill:Q.TORGNOLES,ppSkill:Q.HYPNOSE,wildEncounterChance:0,portraitCropY:11},Ju={ref:"tetarte",maxPV:65,maxPP:20,attack:65,defense:65,speed:90,types:[$.EAU],evolution:Rl,evolutionLevel:35,rank:2,baseSkill:Q.TORGNOLES,ppSkill:Q.HYPNOSE,wildEncounterChance:0,portraitCropY:13},ya={ref:"ptitard",maxPV:40,maxPP:20,attack:50,defense:40,speed:90,types:[$.EAU],evolution:Ju,evolutionLevel:25,rank:1,baseSkill:Q.BULLES_D_O,ppSkill:Q.HYPNOSE,wildEncounterChance:1},si={ref:"pyroli",maxPV:65,maxPP:20,attack:130,defense:60,speed:65,types:[$.FEU],devolution:fi,rank:1,baseSkill:Q.FLAMMECHE,ppSkill:Q.CROCS_FEU,wildEncounterChance:1,portraitCropY:15},gi={ref:"racaillou",maxPV:40,maxPP:20,attack:80,defense:100,speed:20,types:[$.ROCHE,$.SOL],evolution:rl,evolutionLevel:25,rank:1,baseSkill:Q.JET_PIERRES,ppSkill:Q.ARMURE,wildEncounterChance:1,portraitCropY:25},Ll={ref:"ramoloss",maxPV:90,maxPP:20,attack:65,defense:65,speed:15,types:[$.EAU,$.PSY],evolution:sl,evolutionLevel:37,rank:1,baseSkill:Q.PISTOLET_A_O,ppSkill:Q.AMNESIE,wildEncounterChance:1,portraitCropY:28},ju={ref:"rattatac",maxPV:55,maxPP:20,attack:81,defense:60,speed:97,types:[$.NORMAL],rank:2,baseSkill:Q.MORSURE,ppSkill:Q.CROC_DE_MORT,wildEncounterChance:0,portraitCropY:18},Ea={ref:"rattata",maxPV:30,maxPP:20,attack:56,defense:35,speed:72,types:[$.NORMAL],evolution:ju,evolutionLevel:20,rank:1,baseSkill:Q.MORSURE,ppSkill:Q.CROC_DE_MORT,wildEncounterChance:1,portraitCropY:24},Ol={ref:"reptincel",maxPV:58,maxPP:20,attack:64,defense:58,speed:80,types:[$.FEU],evolution:_o,evolutionLevel:36,rank:2,baseSkill:Q.FLAMMECHE,ppSkill:Q.LANCE_FLAMMES,wildEncounterChance:0},Ta={ref:"rhinoferos",maxPV:105,maxPP:20,attack:130,defense:120,speed:40,types:[$.ROCHE,$.SOL],rank:3,baseSkill:Q.KOUD_KORNE,ppSkill:Q.EMPAL_KORNE,wildEncounterChance:0},os={ref:"rhinocorne",maxPV:80,maxPP:20,attack:85,defense:95,speed:25,types:[$.ROCHE,$.SOL],evolution:Ta,evolutionLevel:42,rank:1,baseSkill:Q.KOUD_KORNE,ppSkill:Q.EMPAL_KORNE,wildEncounterChance:1,portraitCropY:32},ln={ref:"rondoudou",maxPV:115,maxPP:20,attack:45,defense:20,speed:20,types:[$.FEE],evolution:al,evolutionLevel:25,rank:1,baseSkill:Q.TORGNOLES,ppSkill:Q.BERCEUSE,wildEncounterChance:1},Ml={ref:"ronflex",maxPV:160,maxPP:30,attack:110,defense:65,speed:30,types:[$.NORMAL],rank:3,baseSkill:Q.CHARGE,ppSkill:Q.REPOS,wildEncounterChance:1,portraitCropY:8},Zu={ref:"roucarnage",maxPV:83,maxPP:20,attack:80,defense:75,speed:91,types:[$.VOL,$.NORMAL],rank:3,baseSkill:Q.CRUAILE,ppSkill:Q.OURAGAN,wildEncounterChance:0},$u={ref:"roucoups",maxPV:63,maxPP:20,attack:60,defense:55,speed:71,types:[$.VOL,$.NORMAL],evolution:Zu,evolutionLevel:36,rank:2,baseSkill:Q.PICPIC,ppSkill:Q.OURAGAN,wildEncounterChance:0,portraitCropY:8},Il={ref:"roucool",maxPV:40,maxPP:20,attack:45,defense:40,speed:56,types:[$.VOL,$.NORMAL],evolution:$u,evolutionLevel:18,rank:1,baseSkill:Q.PICPIC,ppSkill:Q.OURAGAN,wildEncounterChance:1},Fl={ref:"sablaireau",maxPV:75,maxPP:15,attack:100,defense:110,speed:65,types:[$.SOL],rank:2,baseSkill:Q.GRIFFE,ppSkill:Q.JET_DE_SABLE,wildEncounterChance:0,portraitCropY:15},bs={ref:"sabelette",maxPV:50,maxPP:15,attack:75,defense:85,speed:40,types:[$.SOL],evolution:Fl,evolutionLevel:22,rank:1,baseSkill:Q.GRIFFE,ppSkill:Q.JET_DE_SABLE,wildEncounterChance:1},er={ref:"salameche",maxPV:39,maxPP:20,attack:52,defense:43,speed:65,types:[$.FEU],evolution:Ol,evolutionLevel:16,rank:1,baseSkill:Q.FLAMMECHE,ppSkill:Q.LANCE_FLAMMES,wildEncounterChance:1,portraitCropY:13},ls={ref:"saquedeneu",maxPV:65,maxPP:20,attack:55,defense:115,speed:60,types:[$.PLANTE],rank:3,baseSkill:Q.FOUET_LIANES,ppSkill:Q.LIGOTAGE,wildEncounterChance:1,portraitCropY:22},hn={ref:"scarabrute",maxPV:65,maxPP:25,attack:125,defense:100,speed:85,types:[$.INSECTE],rank:3,baseSkill:Q.GRIFFE,ppSkill:Q.GUILLOTINE,wildEncounterChance:.75,portraitCropY:20},un={ref:"smogogo",maxPV:65,maxPP:20,attack:90,defense:120,speed:60,types:[$.POISON],rank:2,baseSkill:Q.DETRITUS,ppSkill:Q.BROUILLARD,wildEncounterChance:0},hi={ref:"smogo",maxPV:40,maxPP:20,attack:65,defense:95,speed:35,types:[$.POISON],evolution:un,evolutionLevel:35,rank:1,baseSkill:Q.DETRITUS,ppSkill:Q.BROUILLARD,wildEncounterChance:1},fn={ref:"soporifik",maxPV:60,maxPP:20,attack:48,defense:45,speed:42,types:[$.PSY],evolution:Dr,evolutionLevel:26,rank:1,baseSkill:Q.CHOC_MENTAL,ppSkill:Q.HYPNOSE,wildEncounterChance:1},wl={ref:"staross",maxPV:60,maxPP:20,attack:75,defense:85,speed:115,types:[$.EAU,$.PSY],rank:3,baseSkill:Q.PISTOLET_A_O,ppSkill:Q.METEORES,wildEncounterChance:0},Mi={ref:"stari",maxPV:30,maxPP:10,attack:45,defense:55,speed:85,types:[$.EAU],evolution:wl,evolutionLevel:40,rank:1,baseSkill:Q.PISTOLET_A_O,ppSkill:Q.METEORES,wildEncounterChance:1,portraitCropY:22},So={ref:"sulfura",maxPV:90,maxPP:30,attack:100,defense:90,speed:90,types:[$.VOL,$.FEU],rank:5,baseSkill:Q.FLAMMECHE,ppSkill:Q.DEFLAGRATION,wildEncounterChance:0,portraitCropY:31},Ii={ref:"tadmorv",maxPV:80,maxPP:20,attack:80,defense:50,speed:25,types:[$.POISON],evolution:nn,evolutionLevel:38,rank:1,baseSkill:Q.COUD_BOUE,ppSkill:Q.BOMB_BEURK,wildEncounterChance:1},Dl={ref:"triopikeur",maxPV:35,maxPP:15,attack:100,defense:50,speed:120,types:[$.SOL],rank:2,baseSkill:Q.TRIPLATTAQUE,ppSkill:Q.TUNNEL,wildEncounterChance:0,portraitCropY:18},hs={ref:"taupiqueur",maxPV:10,maxPP:15,attack:55,defense:25,speed:95,types:[$.SOL],evolution:Dl,evolutionLevel:26,rank:1,baseSkill:Q.COUD_BOUE,ppSkill:Q.TUNNEL,wildEncounterChance:1,portraitCropY:22},Nl={ref:"tauros",maxPV:75,maxPP:20,attack:100,defense:95,speed:110,types:[$.NORMAL],rank:2,baseSkill:Q.CHARGE,ppSkill:Q.BELIER,wildEncounterChance:1,portraitCropY:22},dn={ref:"tentacruel",maxPV:80,maxPP:20,attack:70,defense:65,speed:100,types:[$.EAU,$.POISON],rank:2,baseSkill:Q.DARD_VENIN,ppSkill:Q.ACIDE,wildEncounterChance:0},Qu={ref:"tentacool",maxPV:40,maxPP:20,attack:40,defense:35,speed:70,types:[$.EAU,$.POISON],evolution:dn,evolutionLevel:30,rank:1,baseSkill:Q.DARD_VENIN,ppSkill:Q.ACIDE,wildEncounterChance:1},Vr={ref:"tygnon",maxPV:50,maxPP:20,attack:105,defense:79,speed:76,types:[$.COMBAT],rank:2,baseSkill:Q.POING_KARATE,ppSkill:Q.ULTIMAPOING,wildEncounterChance:.75},$e={ref:"voltali",maxPV:65,maxPP:20,attack:65,defense:60,speed:130,types:[$.ELECTRIQUE],devolution:fi,rank:2,baseSkill:Q.ETINCELLE,ppSkill:Q.ECLAIR,wildEncounterChance:1,portraitCropY:21},Xi={ref:"voltorbe",maxPV:40,maxPP:50,attack:30,defense:50,speed:100,types:[$.ELECTRIQUE],evolution:el,evolutionLevel:22,rank:1,baseSkill:Q.CHARGE,ppSkill:Q.DESTRUCTION,wildEncounterChance:1,portraitCropY:23};var $s=(E=>(E[E.Holdable=0]="Holdable",E[E.Usable=1]="Usable",E[E.Trade=2]="Trade",E))($s||{});const We={ref:"pokeball",type:2},cn={ref:"baie_sitrus",cost:1,type:0},vn={ref:"baie_ceriz",cost:1,type:0},pn={ref:"baie_oran",cost:1,type:0},mn={ref:"baie_mepo",cost:1,type:0},gn={ref:"attaque+",cost:2,type:0},xn={ref:"defense+",cost:2,type:0},yn={ref:"vitesse+",cost:2,type:0},En={ref:"pv+",cost:2,type:0},Tn={ref:"pokeflute",cost:2,type:0},Sn={ref:"repousse",cost:2,type:1},us={ref:"gemme_draco",cost:3,type:0},fs={ref:"gemme_hydro",cost:3,type:0},ds={ref:"gemme_flamme",cost:3,type:0},cs={ref:"gemme_herbe",cost:3,type:0},vs={ref:"gemme_volt",cost:3,type:0},ps={ref:"gemme_terre",cost:3,type:0},ms={ref:"gemme_insecte",cost:3,type:0},gs={ref:"gemme_pixie",cost:3,type:0},xs={ref:"gemme_ciel",cost:3,type:0},ys={ref:"gemme_poing",cost:3,type:0},Es={ref:"gemme_glace",cost:3,type:0},Ts={ref:"gemme_psy",cost:3,type:0},Ss={ref:"gemme_toxic",cost:3,type:0},As={ref:"gemme_roc",cost:3,type:0},Cs={ref:"gemme_ombre",cost:3,type:0},Ps={ref:"gemme_grise",cost:3,type:0},Fv=[xs,us,ds,Es,Ps,cs,fs,ms,Cs,gs,ys,Ts,As,ps,Ss,vs],An={ref:"grelot_coque",cost:4,type:0},Cn={ref:"boule_fumee",cost:4,type:0},Pn={ref:"multi_exp",cost:4,type:0},Rn={ref:"max_elixir",cost:4,type:0},Ln={ref:"encens_fleur",cost:5,type:0},On={ref:"orbe_toxique",cost:5,type:0},Mn={ref:"orbe_flamme",cost:5,type:0},In={ref:"orbe_foudre",cost:5,type:0},Fn={ref:"super_bonbon",cost:5,type:0},wn={ref:"fossile_amonita",type:2},Dn={ref:"fossile_kabuto",type:2},Nn={ref:"fossile_ptera",type:2},qu=[wn,Dn,Nn],bn={ref:"filet",type:0},Bn={ref:"parapluie",type:0},ke={[We.ref]:We,[vn.ref]:vn,[pn.ref]:pn,[mn.ref]:mn,[cn.ref]:cn,[gn.ref]:gn,[xn.ref]:xn,[yn.ref]:yn,[En.ref]:En,[Tn.ref]:Tn,[Sn.ref]:Sn,[xs.ref]:xs,[us.ref]:us,[ds.ref]:ds,[As.ref]:As,[Es.ref]:Es,[cs.ref]:cs,[fs.ref]:fs,[ms.ref]:ms,[Cs.ref]:Cs,[gs.ref]:gs,[ys.ref]:ys,[Ts.ref]:Ts,[ps.ref]:ps,[Ss.ref]:Ss,[vs.ref]:vs,[Ps.ref]:Ps,[An.ref]:An,[Cn.ref]:Cn,[Pn.ref]:Pn,[Rn.ref]:Rn,[Ln.ref]:Ln,[Mn.ref]:Mn,[On.ref]:On,[In.ref]:In,[Fn.ref]:Fn,[wn.ref]:wn,[Dn.ref]:Dn,[Nn.ref]:Nn,[Bn.ref]:Bn,[bn.ref]:bn};Object.values(ke);const _u=[We,vn,mn,pn,cn,En,yn,gn,xn,Sn,Tn,us,ys,xs,vs,cs,fs,ds,Ss,Ts,ms,As,Cs,Es,Ps,gs,ps,An,Cn,Pn,Rn,Fn,wn,Dn,Nn,Ln,On,Mn,In,bn,Bn];function Ao(E,A){return E.evolution&&E.evolutionLevel&&A>E.evolutionLevel?Ao(E.evolution,A):E.devolution&&A<E.devolution.evolutionLevel?Ao(E.devolution,A):E}class Fi{constructor({entry:A,owner:C,xp:R,level:F,item:B,uid:v,shouldAutoEvolve:y}){ut(this,"uid");ut(this,"owner");ut(this,"pv");ut(this,"pp");ut(this,"item");ut(this,"level");ut(this,"entry");ut(this,"xp");this.uid=v??Vd(),this.owner=C,this.xp=R||Iu(F??1),this.level=Ho(this.xp),this.entry=y?Ao(A,this.level):A,this.item=B??null,this.pv=this.maxPV,this.pp=0}get pokeball(){return Wo[this.entry.rank-1]}get baseXP(){switch(this.entry.rank){case 1:return 60;case 2:return 130;case 3:return 200;case 4:return 260;case 5:default:return 320}}get maxPV(){let A=Math.round(this.entry.maxPV*this.level/50+10);return this.item===En&&(A*=1.2),A}get maxPP(){return this.entry.maxPP}get attack(){return Math.round(this.entry.attack*this.level/50+5)}get defense(){return Math.round(this.entry.defense*this.level/50+5)}get speed(){return Math.round(this.entry.speed*this.level/50+5)}get cost(){return Gd[this.pokeball]}get types(){const A=[...this.entry.types];return this.item===us&&A.push(qt),this.item===fs&&A.push(wt),this.item===ds&&A.push(Ht),this.item===cs&&A.push(kt),this.item===vs&&A.push($t),this.item===ps&&A.push(Vt),this.item===ms&&A.push(Xt),this.item===gs&&A.push(se),this.item===xs&&A.push(Jt),this.item===ys&&A.push(Ut),this.item===Es&&A.push(_t),this.item===Ts&&A.push(Kt),this.item===Ss&&A.push(Qt),this.item===As&&A.push(bt),this.item===Cs&&A.push(Yt),this.item===Ps&&A.push(Ft),A}hasType(A){return this.types.includes(A)}}var Ge=(E=>(E.MOVE="MOVE",E.ATTACK="ATTACK",E.IDLE="IDLE",E.JUMP="JUMP",E))(Ge||{});const De=[jn,$o,Zo,er,Ol,_o,Zn,Nu,Du,la,bu,Is,aa,Jo,Ko,Il,$u,Zu,Ea,ju,Sl,ku,Jn,_i,as,Al,bs,Fl,Hu,Wu,gl,xl,Xu,ml,is,vl,ua,ha,ln,al,ma,yl,rs,pl,ns,_n,Tl,on,Ri,hs,Dl,Ni,zu,Oi,ra,il,Qo,Ms,ko,ya,Ju,Rl,ts,Mr,na,ws,cl,dl,$n,oa,jo,Qu,dn,gi,rl,fa,Cl,nl,Ll,sl,an,va,wu,Gu,Bu,qn,Br,Ii,nn,Di,qo,li,wr,Fr,Li,fn,Dr,Fs,Vu,Xi,el,pa,Ns,ga,El,br,Vr,Uu,hi,un,os,Ta,fl,ls,ul,da,ol,tr,Ku,Mi,wl,ss,Nr,ca,sn,Qn,hn,Nl,Ds,rn,es,Gr,fi,ze,$e,si,xa,Fu,Xo,hl,ll,Pl,Ml,yo,Eo,So,Ur,Ir,tl,To,Yu];De.forEach(E=>{const A=De.find(C=>C.evolution===E);A&&(E.devolution=A)});function tf(E){return De.filter(A=>A.types.includes(E))}function ef(){return De.filter(E=>E.rank<5)}function wv(E){return tf(E).filter(A=>A.rank<5)}function sf(E){return`00${De.indexOf(E)+1}`.slice(-3)}function Sa(E){return`cry${sf(E)}`}function bi(E){E.load.spritesheet("pokemon","assets/sprites/pokemon_gen1.png",{frameWidth:32,frameHeight:32,spacing:0,margin:0}),E.load.spritesheet("pokemon_portraits","assets/sprites/pokemon_portraits.png",{frameWidth:64,frameHeight:64,spacing:1,margin:0}),E.load.spritesheet("effects","assets/sprites/effects.png",{frameWidth:64,frameHeight:64,spacing:0,margin:0}),E.load.spritesheet("pokeball","assets/sprites/pokeballs.png",{frameWidth:64,frameHeight:64,spacing:0,margin:0}),E.load.spritesheet("trainer","assets/sprites/trainers.png",{frameWidth:64,frameHeight:64,spacing:0,margin:0}),E.load.spritesheet("trainers_intros","assets/sprites/trainers_intros.png",{frameWidth:320,frameHeight:128,spacing:0,margin:0}),E.load.spritesheet("gui","assets/sprites/gui.png",{frameWidth:32,frameHeight:32,spacing:0,margin:0}),E.load.spritesheet("icons16x16","assets/sprites/icons_16x16.png",{frameWidth:16,frameHeight:16,spacing:0,margin:0}),E.load.spritesheet("buttons","assets/sprites/buttons.png",{frameWidth:64,frameHeight:32,spacing:0,margin:0}),E.load.spritesheet("buttons_big","assets/sprites/buttons_big.png",{frameWidth:96,frameHeight:32,spacing:0,margin:0}),E.load.spritesheet("texts","assets/sprites/texts.png",{frameWidth:256,frameHeight:64,spacing:0,margin:0}),E.load.spritesheet("map","assets/sprites/map.png",{frameWidth:16,frameHeight:16,spacing:0,margin:0}),E.load.spritesheet("characters","assets/sprites/characters.png",{frameWidth:24,frameHeight:24,spacing:0,margin:0}),E.load.spritesheet("interactions","assets/sprites/interactions.png",{frameWidth:16,frameHeight:16,spacing:0,margin:0}),E.load.spritesheet("collisions","assets/sprites/collisions.png",{frameWidth:16,frameHeight:16,spacing:0,margin:0}),E.load.spritesheet("items","assets/sprites/items.png",{frameWidth:32,frameHeight:32,spacing:1,margin:0})}const bl={ref:"badge_roche",frameIndex:22},ir={ref:"badge_cascade",frameIndex:23},Bl={ref:"badge_foudre",frameIndex:24},Gl={ref:"badge_prisme",frameIndex:25},Ul={ref:"badge_ame",frameIndex:26},Vl={ref:"badge_marais",frameIndex:27},Yl={ref:"badge_volcan",frameIndex:28},Aa={ref:"badge_terre",frameIndex:29},Co=[bl,ir,Bl,Gl,Ul,Vl,Yl,Aa];function Dv(E,A,C,R,F=0,B=-1){E.create({key:C,frames:E.generateFrameNumbers(A,{frames:R}),frameRate:F,repeat:B})}function zl(E,A,C){C.forEach(R=>Dv(E,A,...R))}var mt=(E=>(E.UP="UP",E.DOWN="DOWN",E.LEFT="LEFT",E.RIGHT="RIGHT",E))(mt||{});function Eh(){return{UP:null,DOWN:null,LEFT:null,RIGHT:null}}function Wl(E){const A=Math.PI/2;return E==="DOWN"?A:E==="LEFT"?2*A:E==="UP"?3*A:0}function Ca(E,A){return Hl(new Phaser.Math.Vector2(E,A))}function Hl(E){if(E.length()===0)return null;const A=E.angle(),C=Math.PI/4;return A>=0&&A<1*C?"RIGHT":A>=1*C&&A<3*C?"DOWN":A>=3*C&&A<5*C?"LEFT":A>=5*C&&A<7*C?"UP":A>=7*C&&A<8*C?"RIGHT":null}function Nv(E){const A=Math.PI*2,C=Math.PI/4;return E=(E+A)%A,E>C&&E<3*C?"UP":E>3*C&&E<5*C?"LEFT":E>5*C&&E<7*C?"DOWN":"RIGHT"}function sr(E){return E==="UP"?[0,-1]:E==="DOWN"?[0,1]:E==="LEFT"?[-1,0]:E==="RIGHT"?[1,0]:[0,0]}const nf=[mt.UP,mt.LEFT,mt.DOWN,mt.RIGHT];function Pa(E,A){return E>0?mt.RIGHT:E<0?mt.LEFT:A<0?mt.UP:mt.DOWN}let Th=!1;function Ra(E,A){Th||(rf(E),Bv(E,A),bv(E,A),Gv(E,A),Vv(E),Yv(E),Uv(E,A),Th=!0)}function bv(E,A){Object.values(rt).forEach(C=>{E.create({key:C.key,frames:E.generateFrameNumbers("effects",{frames:C.frames}),frameRate:C.frameRate,repeat:A?-1:C.repeat??0})})}let Sh=!1;function rf(E){Sh||(De.forEach((A,C)=>{E.create({key:`${A.ref}_portrait`,frames:E.generateFrameNumbers("pokemon_portraits",{start:C,end:C})}),nf.forEach((R,F)=>{const B=C%15*2+Math.floor(C/15)*120;E.create({key:`${A.ref}_${R}`,frames:E.generateFrameNumbers("pokemon",{frames:[B+F%2+(F>1?60:0),B+30+F%2+(F>1?60:0)]}),frameRate:5,repeat:-1})})}),Sh=!0)}function Bv(E,A){Wo.forEach((C,R)=>{E.create({key:`${C}_idle`,frames:E.generateFrameNumbers("pokeball",{frames:[R+3*5]})}),E.create({key:`${C}_launch`,frames:E.generateFrameNumbers("pokeball",{frames:Array.from({length:3}).map((F,B)=>B*5+R)}),frameRate:12,repeat:-1}),E.create({key:`${C}_in`,frames:E.generateFrameNumbers("pokeball",{frames:[...Array.from({length:12}).map((F,B)=>(B+3)*5+R),R+3*5]}),frameRate:16,repeat:A?-1:0}),E.create({key:`${C}_jiggle`,frames:E.generateFrameNumbers("pokeball",{frames:Array.from({length:5}).map((F,B)=>(B+15)*5+R)}),frameRate:16,repeat:-1,yoyo:!0}),E.create({key:`${C}_jiggle_once`,frames:E.generateFrameNumbers("pokeball",{frames:[R+17*5,R+16*5,R+15*5,R+16*5,R+3*5]}),frameRate:16,repeat:0}),E.create({key:`${C}_out`,frames:E.generateFrameNumbers("pokeball",{frames:Array.from({length:6}).map((F,B)=>(B+20)*5+R)}),frameRate:16,repeat:A?-1:0}),E.create({key:`${C}_catch`,frames:E.generateFrameNumbers("pokeball",{frames:[...Array.from({length:5}).map((F,B)=>(B+26)*5+R),R+3*5]}),frameRate:16,repeat:A?-1:0})})}function Gv(E,A){E.create({key:"trainer_launch",frames:E.generateFrameNumbers("trainer",{frames:[0,1,2,3,4,0]}),frameRate:8,repeat:A?-1:0}),E.create({key:"trainer_idle",frames:E.generateFrameNumbers("trainer",{frames:[0]})}),E.create({key:"trainer_victory",frames:E.generateFrameNumbers("trainer",{frames:[5]})}),E.create({key:"trainer_defeat",frames:E.generateFrameNumbers("trainer",{frames:[6]})})}function Uv(E,A){E.create({key:"cursor_wave",frames:E.generateFrameNumbers("gui",{frames:[0,1]}),frameRate:8,repeat:A?-1:0}),E.create({key:"cursor_drag",frames:E.generateFrameNumbers("gui",{frames:[2,3,4,5]}),frameRate:16,repeat:A?-1:0}),E.create({key:"cursor_drop",frames:E.generateFrameNumbers("gui",{frames:[5,4,3,2,6]}),frameRate:16,repeat:A?-1:0}),E.create({key:"cursor_click",frames:E.generateFrameNumbers("gui",{frames:[7,8,9,6]}),frameRate:16,repeat:A?-1:0}),E.create({key:"cursor_point",frames:E.generateFrameNumbers("gui",{frames:[6]}),frameRate:8,repeat:A?-1:0}),E.create({key:"stat_attack",frames:E.generateFrameNumbers("gui",{frames:[10]})}),E.create({key:"stat_speed",frames:E.generateFrameNumbers("gui",{frames:[11]})}),E.create({key:"stat_defense",frames:E.generateFrameNumbers("gui",{frames:[12]})}),E.create({key:"stat_range",frames:E.generateFrameNumbers("gui",{frames:[13]})}),Object.values($).forEach(C=>{E.create({key:`type_${C.ref}`,frames:E.generateFrameNumbers("icons16x16",{frames:[C.frameIndex]})})}),Object.values(Co).forEach(C=>{E.create({key:C.ref,frames:E.generateFrameNumbers("icons16x16",{frames:[C.frameIndex]})})}),E.create({key:"icon_pokeball",frames:E.generateFrameNumbers("icons16x16",{frames:[20]})}),E.create({key:"text_victoire",frames:E.generateFrameNumbers("texts",{frames:[0]})}),E.create({key:"text_defaite",frames:E.generateFrameNumbers("texts",{frames:[1]})}),E.create({key:"text_fight",frames:E.generateFrameNumbers("texts",{frames:[2]})}),E.create({key:"text_capture",frames:E.generateFrameNumbers("texts",{frames:[3]})})}function Vv(E,A){zl(E,"map",[["player_idle",[4]],["player_right",[0,1],8,-1],["player_left",[2,3],8,-1],["player_down",[5,6],8,-1],["player_up_idle",[7]],["player_up",[8,9],8,-1],["cascade",[10,11,12,13],8,-1],["boat",[14,15],1,-1],["ronflex",[16]],["highlight",[17,18,19],4,-1],["map_direction_arrow",[20]],["gift",[21]],["safari",[22]],["cave_entrance",[23]],["icon_ligue",[24]]])}function Yv(E,A){zl(E,"interactions",[["interaction_talk",[0,1,2,3],3,-1],["interaction_loot",[4,5,6,7,6,5],6,-1]])}class af extends At.Scene{constructor(){super("TestAnimsScene")}preload(){bi(this)}create(){Ra(this.anims,!0);const A=this.add.graphics();A.setDepth(100);const C=this.add.graphics();De.forEach((R,F)=>{nf.forEach((B,v)=>{const y=30+35*v+150*Math.floor(F/15),t=15+35*(F%15);C.fillStyle(v%2?16711782:6684927).fillRect(y-16,t-16,32,32),this.add.sprite(y,t,"pokemon").play(`${R.ref}_${B}`),A.fillStyle(0,1).fillPoint(y,t,4),A.fillStyle(16777215,1).fillPoint(y,t,2)})}),this.add.sprite(20,550,"effects").play("water_bubble"),this.add.sprite(60,550,"effects").play("water_jet"),this.add.sprite(100,550,"effects").play("water_drop"),this.add.sprite(140,550,"effects").play("water_bubble2"),this.add.sprite(180,550,"effects").play("water_shield"),this.add.sprite(220,550,"effects").play("ice_star"),this.add.sprite(260,550,"effects").play("ice_square"),this.add.sprite(300,550,"effects").play("ice_shard"),this.add.sprite(340,550,"effects").play("ice_tear"),this.add.sprite(380,550,"effects").play("ice_shield"),this.add.sprite(420,550,"effects").play("ice_crystal"),this.add.sprite(460,550,"pokemon").play("dracaufeu_DOWN"),this.add.sprite(460,550,"effects").play("frozen"),this.add.sprite(500,550,"effects").play("fire_ground_explosion"),this.add.sprite(540,550,"effects").play("fire_explosion_circle"),this.add.sprite(580,550,"effects").play("fire_flamethrower"),this.add.sprite(620,550,"effects").play("fire_blaze"),this.add.sprite(660,550,"effects").play("fire_blast"),this.add.sprite(700,550,"effects").play("fire_ball"),this.add.sprite(740,550,"effects").play("fire_arrow"),this.add.sprite(780,550,"effects").play("fire_jet"),this.add.sprite(820,550,"effects").play("fire_claw"),this.add.sprite(860,550,"effects").play("fire_explosion"),this.add.sprite(900,550,"effects").play("fire_pierce"),this.add.sprite(940,550,"effects").play("fire_hit"),this.add.sprite(980,550,"effects").play("fire_slice"),this.add.sprite(1020,550,"effects").play("fire_swurl"),this.add.sprite(1060,550,"effects").play("energy_ball"),this.add.sprite(1100,550,"effects").play("paralyze"),this.add.sprite(1140,550,"effects").play("elec_sparks"),this.add.sprite(1180,550,"effects").play("elec_thunder"),this.add.sprite(1220,550,"effects").play("elec_ball"),this.add.sprite(1300,550,"effects").play("vampire_seed"),this.add.sprite(1340,550,"effects").play("vine_whip"),this.add.sprite(1380,550,"effects").play("thorn_spear"),this.add.sprite(1420,550,"effects").play("roots"),this.add.sprite(1460,550,"effects").play("poison_ball"),this.add.sprite(30,600,"effects").play("dark_slice"),this.add.sprite(60,600,"effects").play("hit_star_big"),this.add.sprite(100,600,"effects").play("hit_star"),this.add.sprite(140,600,"effects").play("claw_left"),this.add.sprite(180,600,"effects").play("claw_right"),this.add.sprite(220,600,"effects").play("fist"),this.add.sprite(260,600,"effects").play("paw"),this.add.sprite(300,600,"effects").play("foot"),this.add.sprite(340,600,"effects").play("hand"),this.add.sprite(380,600,"effects").play("provocation"),this.add.sprite(400,600,"effects").play("provocated"),this.add.sprite(460,600,"effects").play("bone"),this.add.sprite(520,600,"effects").play("sweep"),this.add.sprite(30,950,"gui").play("cursor_point"),this.add.sprite(60,950,"gui").play("cursor_click"),this.add.sprite(90,950,"gui").play("cursor_drag"),this.add.sprite(120,950,"gui").play("cursor_drop"),this.add.sprite(150,950,"gui").play("cursor_wave"),Wo.forEach((R,F)=>{this.add.sprite(30+F*64,700,"pokeball").play(`${R}_launch`),this.add.sprite(30+F*64,750,"pokeball").play(`${R}_in`),this.add.sprite(30+F*64,800,"pokeball").play(`${R}_out`),this.add.sprite(30+F*64,850,"pokeball").play(`${R}_jiggle`),this.add.sprite(30+F*64,900,"pokeball").play(`${R}_catch`)})}}function zv(){document.getElementById("gameboy").remove(),document.getElementById("game").setAttribute("style","width: 1920px; height: 1080px; left: auto; position: static");const E=new At.Game({type:At.AUTO,parent:"game",backgroundColor:"#33A5E7",scale:{width:1920,height:1080,mode:At.Scale.FIT,autoCenter:At.Scale.CENTER_BOTH},scene:[af]});globalThis.game=E}const Pt=E=>typeof E=="string",Hs=()=>{let E,A;const C=new Promise((R,F)=>{E=R,A=F});return C.resolve=E,C.reject=A,C},Ah=E=>E==null?"":""+E,Wv=(E,A,C)=>{E.forEach(R=>{A[R]&&(C[R]=A[R])})},Hv=/###/g,Ch=E=>E&&E.indexOf("###")>-1?E.replace(Hv,"."):E,Ph=E=>!E||Pt(E),Qs=(E,A,C)=>{const R=Pt(A)?A.split("."):A;let F=0;for(;F<R.length-1;){if(Ph(E))return{};const B=Ch(R[F]);!E[B]&&C&&(E[B]=new C),Object.prototype.hasOwnProperty.call(E,B)?E=E[B]:E={},++F}return Ph(E)?{}:{obj:E,k:Ch(R[F])}},Rh=(E,A,C)=>{const{obj:R,k:F}=Qs(E,A,Object);if(R!==void 0||A.length===1){R[F]=C;return}let B=A[A.length-1],v=A.slice(0,A.length-1),y=Qs(E,v,Object);for(;y.obj===void 0&&v.length;)B=`${v[v.length-1]}.${B}`,v=v.slice(0,v.length-1),y=Qs(E,v,Object),y&&y.obj&&typeof y.obj[`${y.k}.${B}`]<"u"&&(y.obj=void 0);y.obj[`${y.k}.${B}`]=C},Xv=(E,A,C,R)=>{const{obj:F,k:B}=Qs(E,A,Object);F[B]=F[B]||[],F[B].push(C)},Yr=(E,A)=>{const{obj:C,k:R}=Qs(E,A);if(C)return C[R]},kv=(E,A,C)=>{const R=Yr(E,C);return R!==void 0?R:Yr(A,C)},of=(E,A,C)=>{for(const R in A)R!=="__proto__"&&R!=="constructor"&&(R in E?Pt(E[R])||E[R]instanceof String||Pt(A[R])||A[R]instanceof String?C&&(E[R]=A[R]):of(E[R],A[R],C):E[R]=A[R]);return E},Vi=E=>E.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var Kv={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const Jv=E=>Pt(E)?E.replace(/[&<>"'\/]/g,A=>Kv[A]):E;class jv{constructor(A){this.capacity=A,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(A){const C=this.regExpMap.get(A);if(C!==void 0)return C;const R=new RegExp(A);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(A,R),this.regExpQueue.push(A),R}}const Zv=[" ",",","?","!",";"],$v=new jv(20),Qv=(E,A,C)=>{A=A||"",C=C||"";const R=Zv.filter(v=>A.indexOf(v)<0&&C.indexOf(v)<0);if(R.length===0)return!0;const F=$v.getRegExp(`(${R.map(v=>v==="?"?"\\?":v).join("|")})`);let B=!F.test(E);if(!B){const v=E.indexOf(C);v>0&&!F.test(E.substring(0,v))&&(B=!0)}return B},Po=function(E,A){let C=arguments.length>2&&arguments[2]!==void 0?arguments[2]:".";if(!E)return;if(E[A])return E[A];const R=A.split(C);let F=E;for(let B=0;B<R.length;){if(!F||typeof F!="object")return;let v,y="";for(let t=B;t<R.length;++t)if(t!==B&&(y+=C),y+=R[t],v=F[y],v!==void 0){if(["string","number","boolean"].indexOf(typeof v)>-1&&t<R.length-1)continue;B+=t-B+1;break}F=v}return F},zr=E=>E&&E.replace("_","-"),qv={type:"logger",log(E){this.output("log",E)},warn(E){this.output("warn",E)},error(E){this.output("error",E)},output(E,A){console&&console[E]&&console[E].apply(console,A)}};class Wr{constructor(A){let C=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.init(A,C)}init(A){let C=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.prefix=C.prefix||"i18next:",this.logger=A||qv,this.options=C,this.debug=C.debug}log(){for(var A=arguments.length,C=new Array(A),R=0;R<A;R++)C[R]=arguments[R];return this.forward(C,"log","",!0)}warn(){for(var A=arguments.length,C=new Array(A),R=0;R<A;R++)C[R]=arguments[R];return this.forward(C,"warn","",!0)}error(){for(var A=arguments.length,C=new Array(A),R=0;R<A;R++)C[R]=arguments[R];return this.forward(C,"error","")}deprecate(){for(var A=arguments.length,C=new Array(A),R=0;R<A;R++)C[R]=arguments[R];return this.forward(C,"warn","WARNING DEPRECATED: ",!0)}forward(A,C,R,F){return F&&!this.debug?null:(Pt(A[0])&&(A[0]=`${R}${this.prefix} ${A[0]}`),this.logger[C](A))}create(A){return new Wr(this.logger,{prefix:`${this.prefix}:${A}:`,...this.options})}clone(A){return A=A||this.options,A.prefix=A.prefix||this.prefix,new Wr(this.logger,A)}}var Qe=new Wr;class La{constructor(){this.observers={}}on(A,C){return A.split(" ").forEach(R=>{this.observers[R]||(this.observers[R]=new Map);const F=this.observers[R].get(C)||0;this.observers[R].set(C,F+1)}),this}off(A,C){if(this.observers[A]){if(!C){delete this.observers[A];return}this.observers[A].delete(C)}}emit(A){for(var C=arguments.length,R=new Array(C>1?C-1:0),F=1;F<C;F++)R[F-1]=arguments[F];this.observers[A]&&Array.from(this.observers[A].entries()).forEach(v=>{let[y,t]=v;for(let h=0;h<t;h++)y(...R)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(v=>{let[y,t]=v;for(let h=0;h<t;h++)y.apply(y,[A,...R])})}}class Lh extends La{constructor(A){let C=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{ns:["translation"],defaultNS:"translation"};super(),this.data=A||{},this.options=C,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(A){this.options.ns.indexOf(A)<0&&this.options.ns.push(A)}removeNamespaces(A){const C=this.options.ns.indexOf(A);C>-1&&this.options.ns.splice(C,1)}getResource(A,C,R){let F=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const B=F.keySeparator!==void 0?F.keySeparator:this.options.keySeparator,v=F.ignoreJSONStructure!==void 0?F.ignoreJSONStructure:this.options.ignoreJSONStructure;let y;A.indexOf(".")>-1?y=A.split("."):(y=[A,C],R&&(Array.isArray(R)?y.push(...R):Pt(R)&&B?y.push(...R.split(B)):y.push(R)));const t=Yr(this.data,y);return!t&&!C&&!R&&A.indexOf(".")>-1&&(A=y[0],C=y[1],R=y.slice(2).join(".")),t||!v||!Pt(R)?t:Po(this.data&&this.data[A]&&this.data[A][C],R,B)}addResource(A,C,R,F){let B=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{silent:!1};const v=B.keySeparator!==void 0?B.keySeparator:this.options.keySeparator;let y=[A,C];R&&(y=y.concat(v?R.split(v):R)),A.indexOf(".")>-1&&(y=A.split("."),F=C,C=y[1]),this.addNamespaces(C),Rh(this.data,y,F),B.silent||this.emit("added",A,C,R,F)}addResources(A,C,R){let F=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{silent:!1};for(const B in R)(Pt(R[B])||Array.isArray(R[B]))&&this.addResource(A,C,B,R[B],{silent:!0});F.silent||this.emit("added",A,C,R)}addResourceBundle(A,C,R,F,B){let v=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{silent:!1,skipCopy:!1},y=[A,C];A.indexOf(".")>-1&&(y=A.split("."),F=R,R=C,C=y[1]),this.addNamespaces(C);let t=Yr(this.data,y)||{};v.skipCopy||(R=JSON.parse(JSON.stringify(R))),F?of(t,R,B):t={...t,...R},Rh(this.data,y,t),v.silent||this.emit("added",A,C,R)}removeResourceBundle(A,C){this.hasResourceBundle(A,C)&&delete this.data[A][C],this.removeNamespaces(C),this.emit("removed",A,C)}hasResourceBundle(A,C){return this.getResource(A,C)!==void 0}getResourceBundle(A,C){return C||(C=this.options.defaultNS),this.options.compatibilityAPI==="v1"?{...this.getResource(A,C)}:this.getResource(A,C)}getDataByLanguage(A){return this.data[A]}hasLanguageSomeTranslations(A){const C=this.getDataByLanguage(A);return!!(C&&Object.keys(C)||[]).find(F=>C[F]&&Object.keys(C[F]).length>0)}toJSON(){return this.data}}var lf={processors:{},addPostProcessor(E){this.processors[E.name]=E},handle(E,A,C,R,F){return E.forEach(B=>{this.processors[B]&&(A=this.processors[B].process(A,C,R,F))}),A}};const Oh={};class Hr extends La{constructor(A){let C=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),Wv(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],A,this),this.options=C,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=Qe.create("translator")}changeLanguage(A){A&&(this.language=A)}exists(A){let C=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};if(A==null)return!1;const R=this.resolve(A,C);return R&&R.res!==void 0}extractFromKey(A,C){let R=C.nsSeparator!==void 0?C.nsSeparator:this.options.nsSeparator;R===void 0&&(R=":");const F=C.keySeparator!==void 0?C.keySeparator:this.options.keySeparator;let B=C.ns||this.options.defaultNS||[];const v=R&&A.indexOf(R)>-1,y=!this.options.userDefinedKeySeparator&&!C.keySeparator&&!this.options.userDefinedNsSeparator&&!C.nsSeparator&&!Qv(A,R,F);if(v&&!y){const t=A.match(this.interpolator.nestingRegexp);if(t&&t.length>0)return{key:A,namespaces:Pt(B)?[B]:B};const h=A.split(R);(R!==F||R===F&&this.options.ns.indexOf(h[0])>-1)&&(B=h.shift()),A=h.join(F)}return{key:A,namespaces:Pt(B)?[B]:B}}translate(A,C,R){if(typeof C!="object"&&this.options.overloadTranslationOptionHandler&&(C=this.options.overloadTranslationOptionHandler(arguments)),typeof C=="object"&&(C={...C}),C||(C={}),A==null)return"";Array.isArray(A)||(A=[String(A)]);const F=C.returnDetails!==void 0?C.returnDetails:this.options.returnDetails,B=C.keySeparator!==void 0?C.keySeparator:this.options.keySeparator,{key:v,namespaces:y}=this.extractFromKey(A[A.length-1],C),t=y[y.length-1],h=C.lng||this.language,p=C.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(h&&h.toLowerCase()==="cimode"){if(p){const f=C.nsSeparator||this.options.nsSeparator;return F?{res:`${t}${f}${v}`,usedKey:v,exactUsedKey:v,usedLng:h,usedNS:t,usedParams:this.getUsedParamsDetails(C)}:`${t}${f}${v}`}return F?{res:v,usedKey:v,exactUsedKey:v,usedLng:h,usedNS:t,usedParams:this.getUsedParamsDetails(C)}:v}const a=this.resolve(A,C);let n=a&&a.res;const r=a&&a.usedKey||v,e=a&&a.exactUsedKey||v,s=Object.prototype.toString.apply(n),o=["[object Number]","[object Function]","[object RegExp]"],i=C.joinArrays!==void 0?C.joinArrays:this.options.joinArrays,l=!this.i18nFormat||this.i18nFormat.handleAsObject,u=!Pt(n)&&typeof n!="boolean"&&typeof n!="number";if(l&&n&&u&&o.indexOf(s)<0&&!(Pt(i)&&Array.isArray(n))){if(!C.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const f=this.options.returnedObjectHandler?this.options.returnedObjectHandler(r,n,{...C,ns:y}):`key '${v} (${this.language})' returned an object instead of string.`;return F?(a.res=f,a.usedParams=this.getUsedParamsDetails(C),a):f}if(B){const f=Array.isArray(n),d=f?[]:{},c=f?e:r;for(const m in n)if(Object.prototype.hasOwnProperty.call(n,m)){const g=`${c}${B}${m}`;d[m]=this.translate(g,{...C,joinArrays:!1,ns:y}),d[m]===g&&(d[m]=n[m])}n=d}}else if(l&&Pt(i)&&Array.isArray(n))n=n.join(i),n&&(n=this.extendTranslation(n,A,C,R));else{let f=!1,d=!1;const c=C.count!==void 0&&!Pt(C.count),m=Hr.hasDefaultValue(C),g=c?this.pluralResolver.getSuffix(h,C.count,C):"",x=C.ordinal&&c?this.pluralResolver.getSuffix(h,C.count,{ordinal:!1}):"",T=c&&!C.ordinal&&C.count===0&&this.pluralResolver.shouldUseIntlApi(),S=T&&C[`defaultValue${this.options.pluralSeparator}zero`]||C[`defaultValue${g}`]||C[`defaultValue${x}`]||C.defaultValue;!this.isValidLookup(n)&&m&&(f=!0,n=S),this.isValidLookup(n)||(d=!0,n=v);const L=(C.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&d?void 0:n,I=m&&S!==n&&this.options.updateMissing;if(d||f||I){if(this.logger.log(I?"updateKey":"missingKey",h,t,v,I?S:n),B){const D=this.resolve(v,{...C,keySeparator:!1});D&&D.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let O=[];const M=this.languageUtils.getFallbackCodes(this.options.fallbackLng,C.lng||this.language);if(this.options.saveMissingTo==="fallback"&&M&&M[0])for(let D=0;D<M.length;D++)O.push(M[D]);else this.options.saveMissingTo==="all"?O=this.languageUtils.toResolveHierarchy(C.lng||this.language):O.push(C.lng||this.language);const w=(D,U,Y)=>{const H=m&&Y!==n?Y:L;this.options.missingKeyHandler?this.options.missingKeyHandler(D,t,U,H,I,C):this.backendConnector&&this.backendConnector.saveMissing&&this.backendConnector.saveMissing(D,t,U,H,I,C),this.emit("missingKey",D,t,U,n)};this.options.saveMissing&&(this.options.saveMissingPlurals&&c?O.forEach(D=>{const U=this.pluralResolver.getSuffixes(D,C);T&&C[`defaultValue${this.options.pluralSeparator}zero`]&&U.indexOf(`${this.options.pluralSeparator}zero`)<0&&U.push(`${this.options.pluralSeparator}zero`),U.forEach(Y=>{w([D],v+Y,C[`defaultValue${Y}`]||S)})}):w(O,v,S))}n=this.extendTranslation(n,A,C,a,R),d&&n===v&&this.options.appendNamespaceToMissingKey&&(n=`${t}:${v}`),(d||f)&&this.options.parseMissingKeyHandler&&(this.options.compatibilityAPI!=="v1"?n=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${t}:${v}`:v,f?n:void 0):n=this.options.parseMissingKeyHandler(n))}return F?(a.res=n,a.usedParams=this.getUsedParamsDetails(C),a):n}extendTranslation(A,C,R,F,B){var v=this;if(this.i18nFormat&&this.i18nFormat.parse)A=this.i18nFormat.parse(A,{...this.options.interpolation.defaultVariables,...R},R.lng||this.language||F.usedLng,F.usedNS,F.usedKey,{resolved:F});else if(!R.skipInterpolation){R.interpolation&&this.interpolator.init({...R,interpolation:{...this.options.interpolation,...R.interpolation}});const h=Pt(A)&&(R&&R.interpolation&&R.interpolation.skipOnVariables!==void 0?R.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let p;if(h){const n=A.match(this.interpolator.nestingRegexp);p=n&&n.length}let a=R.replace&&!Pt(R.replace)?R.replace:R;if(this.options.interpolation.defaultVariables&&(a={...this.options.interpolation.defaultVariables,...a}),A=this.interpolator.interpolate(A,a,R.lng||this.language||F.usedLng,R),h){const n=A.match(this.interpolator.nestingRegexp),r=n&&n.length;p<r&&(R.nest=!1)}!R.lng&&this.options.compatibilityAPI!=="v1"&&F&&F.res&&(R.lng=this.language||F.usedLng),R.nest!==!1&&(A=this.interpolator.nest(A,function(){for(var n=arguments.length,r=new Array(n),e=0;e<n;e++)r[e]=arguments[e];return B&&B[0]===r[0]&&!R.context?(v.logger.warn(`It seems you are nesting recursively key: ${r[0]} in key: ${C[0]}`),null):v.translate(...r,C)},R)),R.interpolation&&this.interpolator.reset()}const y=R.postProcess||this.options.postProcess,t=Pt(y)?[y]:y;return A!=null&&t&&t.length&&R.applyPostProcessor!==!1&&(A=lf.handle(t,A,C,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...F,usedParams:this.getUsedParamsDetails(R)},...R}:R,this)),A}resolve(A){let C=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},R,F,B,v,y;return Pt(A)&&(A=[A]),A.forEach(t=>{if(this.isValidLookup(R))return;const h=this.extractFromKey(t,C),p=h.key;F=p;let a=h.namespaces;this.options.fallbackNS&&(a=a.concat(this.options.fallbackNS));const n=C.count!==void 0&&!Pt(C.count),r=n&&!C.ordinal&&C.count===0&&this.pluralResolver.shouldUseIntlApi(),e=C.context!==void 0&&(Pt(C.context)||typeof C.context=="number")&&C.context!=="",s=C.lngs?C.lngs:this.languageUtils.toResolveHierarchy(C.lng||this.language,C.fallbackLng);a.forEach(o=>{this.isValidLookup(R)||(y=o,!Oh[`${s[0]}-${o}`]&&this.utils&&this.utils.hasLoadedNamespace&&!this.utils.hasLoadedNamespace(y)&&(Oh[`${s[0]}-${o}`]=!0,this.logger.warn(`key "${F}" for languages "${s.join(", ")}" won't get resolved as namespace "${y}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),s.forEach(i=>{if(this.isValidLookup(R))return;v=i;const l=[p];if(this.i18nFormat&&this.i18nFormat.addLookupKeys)this.i18nFormat.addLookupKeys(l,p,i,o,C);else{let f;n&&(f=this.pluralResolver.getSuffix(i,C.count,C));const d=`${this.options.pluralSeparator}zero`,c=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(n&&(l.push(p+f),C.ordinal&&f.indexOf(c)===0&&l.push(p+f.replace(c,this.options.pluralSeparator)),r&&l.push(p+d)),e){const m=`${p}${this.options.contextSeparator}${C.context}`;l.push(m),n&&(l.push(m+f),C.ordinal&&f.indexOf(c)===0&&l.push(m+f.replace(c,this.options.pluralSeparator)),r&&l.push(m+d))}}let u;for(;u=l.pop();)this.isValidLookup(R)||(B=u,R=this.getResource(i,o,u,C))}))})}),{res:R,usedKey:F,exactUsedKey:B,usedLng:v,usedNS:y}}isValidLookup(A){return A!==void 0&&!(!this.options.returnNull&&A===null)&&!(!this.options.returnEmptyString&&A==="")}getResource(A,C,R){let F=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(A,C,R,F):this.resourceStore.getResource(A,C,R,F)}getUsedParamsDetails(){let A=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const C=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],R=A.replace&&!Pt(A.replace);let F=R?A.replace:A;if(R&&typeof A.count<"u"&&(F.count=A.count),this.options.interpolation.defaultVariables&&(F={...this.options.interpolation.defaultVariables,...F}),!R){F={...F};for(const B of C)delete F[B]}return F}static hasDefaultValue(A){const C="defaultValue";for(const R in A)if(Object.prototype.hasOwnProperty.call(A,R)&&C===R.substring(0,C.length)&&A[R]!==void 0)return!0;return!1}}const Va=E=>E.charAt(0).toUpperCase()+E.slice(1);class Mh{constructor(A){this.options=A,this.supportedLngs=this.options.supportedLngs||!1,this.logger=Qe.create("languageUtils")}getScriptPartFromCode(A){if(A=zr(A),!A||A.indexOf("-")<0)return null;const C=A.split("-");return C.length===2||(C.pop(),C[C.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(C.join("-"))}getLanguagePartFromCode(A){if(A=zr(A),!A||A.indexOf("-")<0)return A;const C=A.split("-");return this.formatLanguageCode(C[0])}formatLanguageCode(A){if(Pt(A)&&A.indexOf("-")>-1){if(typeof Intl<"u"&&typeof Intl.getCanonicalLocales<"u")try{let F=Intl.getCanonicalLocales(A)[0];if(F&&this.options.lowerCaseLng&&(F=F.toLowerCase()),F)return F}catch{}const C=["hans","hant","latn","cyrl","cans","mong","arab"];let R=A.split("-");return this.options.lowerCaseLng?R=R.map(F=>F.toLowerCase()):R.length===2?(R[0]=R[0].toLowerCase(),R[1]=R[1].toUpperCase(),C.indexOf(R[1].toLowerCase())>-1&&(R[1]=Va(R[1].toLowerCase()))):R.length===3&&(R[0]=R[0].toLowerCase(),R[1].length===2&&(R[1]=R[1].toUpperCase()),R[0]!=="sgn"&&R[2].length===2&&(R[2]=R[2].toUpperCase()),C.indexOf(R[1].toLowerCase())>-1&&(R[1]=Va(R[1].toLowerCase())),C.indexOf(R[2].toLowerCase())>-1&&(R[2]=Va(R[2].toLowerCase()))),R.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?A.toLowerCase():A}isSupportedCode(A){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(A=this.getLanguagePartFromCode(A)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(A)>-1}getBestMatchFromCodes(A){if(!A)return null;let C;return A.forEach(R=>{if(C)return;const F=this.formatLanguageCode(R);(!this.options.supportedLngs||this.isSupportedCode(F))&&(C=F)}),!C&&this.options.supportedLngs&&A.forEach(R=>{if(C)return;const F=this.getLanguagePartFromCode(R);if(this.isSupportedCode(F))return C=F;C=this.options.supportedLngs.find(B=>{if(B===F)return B;if(!(B.indexOf("-")<0&&F.indexOf("-")<0)&&(B.indexOf("-")>0&&F.indexOf("-")<0&&B.substring(0,B.indexOf("-"))===F||B.indexOf(F)===0&&F.length>1))return B})}),C||(C=this.getFallbackCodes(this.options.fallbackLng)[0]),C}getFallbackCodes(A,C){if(!A)return[];if(typeof A=="function"&&(A=A(C)),Pt(A)&&(A=[A]),Array.isArray(A))return A;if(!C)return A.default||[];let R=A[C];return R||(R=A[this.getScriptPartFromCode(C)]),R||(R=A[this.formatLanguageCode(C)]),R||(R=A[this.getLanguagePartFromCode(C)]),R||(R=A.default),R||[]}toResolveHierarchy(A,C){const R=this.getFallbackCodes(C||this.options.fallbackLng||[],A),F=[],B=v=>{v&&(this.isSupportedCode(v)?F.push(v):this.logger.warn(`rejecting language code not found in supportedLngs: ${v}`))};return Pt(A)&&(A.indexOf("-")>-1||A.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&B(this.formatLanguageCode(A)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&B(this.getScriptPartFromCode(A)),this.options.load!=="currentOnly"&&B(this.getLanguagePartFromCode(A))):Pt(A)&&B(this.formatLanguageCode(A)),R.forEach(v=>{F.indexOf(v)<0&&B(this.formatLanguageCode(v))}),F}}let _v=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kk","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],tp={1:E=>+(E>1),2:E=>+(E!=1),3:E=>0,4:E=>E%10==1&&E%100!=11?0:E%10>=2&&E%10<=4&&(E%100<10||E%100>=20)?1:2,5:E=>E==0?0:E==1?1:E==2?2:E%100>=3&&E%100<=10?3:E%100>=11?4:5,6:E=>E==1?0:E>=2&&E<=4?1:2,7:E=>E==1?0:E%10>=2&&E%10<=4&&(E%100<10||E%100>=20)?1:2,8:E=>E==1?0:E==2?1:E!=8&&E!=11?2:3,9:E=>+(E>=2),10:E=>E==1?0:E==2?1:E<7?2:E<11?3:4,11:E=>E==1||E==11?0:E==2||E==12?1:E>2&&E<20?2:3,12:E=>+(E%10!=1||E%100==11),13:E=>+(E!==0),14:E=>E==1?0:E==2?1:E==3?2:3,15:E=>E%10==1&&E%100!=11?0:E%10>=2&&(E%100<10||E%100>=20)?1:2,16:E=>E%10==1&&E%100!=11?0:E!==0?1:2,17:E=>E==1||E%10==1&&E%100!=11?0:1,18:E=>E==0?0:E==1?1:2,19:E=>E==1?0:E==0||E%100>1&&E%100<11?1:E%100>10&&E%100<20?2:3,20:E=>E==1?0:E==0||E%100>0&&E%100<20?1:2,21:E=>E%100==1?1:E%100==2?2:E%100==3||E%100==4?3:0,22:E=>E==1?0:E==2?1:(E<0||E>10)&&E%10==0?2:3};const ep=["v1","v2","v3"],ip=["v4"],Ih={zero:0,one:1,two:2,few:3,many:4,other:5},sp=()=>{const E={};return _v.forEach(A=>{A.lngs.forEach(C=>{E[C]={numbers:A.nr,plurals:tp[A.fc]}})}),E};class np{constructor(A){let C=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.languageUtils=A,this.options=C,this.logger=Qe.create("pluralResolver"),(!this.options.compatibilityJSON||ip.includes(this.options.compatibilityJSON))&&(typeof Intl>"u"||!Intl.PluralRules)&&(this.options.compatibilityJSON="v3",this.logger.error("Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.")),this.rules=sp(),this.pluralRulesCache={}}addRule(A,C){this.rules[A]=C}clearCache(){this.pluralRulesCache={}}getRule(A){let C=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.shouldUseIntlApi()){const R=zr(A==="dev"?"en":A),F=C.ordinal?"ordinal":"cardinal",B=JSON.stringify({cleanedCode:R,type:F});if(B in this.pluralRulesCache)return this.pluralRulesCache[B];let v;try{v=new Intl.PluralRules(R,{type:F})}catch{if(!A.match(/-|_/))return;const t=this.languageUtils.getLanguagePartFromCode(A);v=this.getRule(t,C)}return this.pluralRulesCache[B]=v,v}return this.rules[A]||this.rules[this.languageUtils.getLanguagePartFromCode(A)]}needsPlural(A){let C=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const R=this.getRule(A,C);return this.shouldUseIntlApi()?R&&R.resolvedOptions().pluralCategories.length>1:R&&R.numbers.length>1}getPluralFormsOfKey(A,C){let R=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.getSuffixes(A,R).map(F=>`${C}${F}`)}getSuffixes(A){let C=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const R=this.getRule(A,C);return R?this.shouldUseIntlApi()?R.resolvedOptions().pluralCategories.sort((F,B)=>Ih[F]-Ih[B]).map(F=>`${this.options.prepend}${C.ordinal?`ordinal${this.options.prepend}`:""}${F}`):R.numbers.map(F=>this.getSuffix(A,F,C)):[]}getSuffix(A,C){let R=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const F=this.getRule(A,R);return F?this.shouldUseIntlApi()?`${this.options.prepend}${R.ordinal?`ordinal${this.options.prepend}`:""}${F.select(C)}`:this.getSuffixRetroCompatible(F,C):(this.logger.warn(`no plural rule found for: ${A}`),"")}getSuffixRetroCompatible(A,C){const R=A.noAbs?A.plurals(C):A.plurals(Math.abs(C));let F=A.numbers[R];this.options.simplifyPluralSuffix&&A.numbers.length===2&&A.numbers[0]===1&&(F===2?F="plural":F===1&&(F=""));const B=()=>this.options.prepend&&F.toString()?this.options.prepend+F.toString():F.toString();return this.options.compatibilityJSON==="v1"?F===1?"":typeof F=="number"?`_plural_${F.toString()}`:B():this.options.compatibilityJSON==="v2"||this.options.simplifyPluralSuffix&&A.numbers.length===2&&A.numbers[0]===1?B():this.options.prepend&&R.toString()?this.options.prepend+R.toString():R.toString()}shouldUseIntlApi(){return!ep.includes(this.options.compatibilityJSON)}}const Fh=function(E,A,C){let R=arguments.length>3&&arguments[3]!==void 0?arguments[3]:".",F=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,B=kv(E,A,C);return!B&&F&&Pt(C)&&(B=Po(E,C,R),B===void 0&&(B=Po(A,C,R))),B},Ya=E=>E.replace(/\$/g,"$$$$");class rp{constructor(){let A=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=Qe.create("interpolator"),this.options=A,this.format=A.interpolation&&A.interpolation.format||(C=>C),this.init(A)}init(){let A=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};A.interpolation||(A.interpolation={escapeValue:!0});const{escape:C,escapeValue:R,useRawValueToEscape:F,prefix:B,prefixEscaped:v,suffix:y,suffixEscaped:t,formatSeparator:h,unescapeSuffix:p,unescapePrefix:a,nestingPrefix:n,nestingPrefixEscaped:r,nestingSuffix:e,nestingSuffixEscaped:s,nestingOptionsSeparator:o,maxReplaces:i,alwaysFormat:l}=A.interpolation;this.escape=C!==void 0?C:Jv,this.escapeValue=R!==void 0?R:!0,this.useRawValueToEscape=F!==void 0?F:!1,this.prefix=B?Vi(B):v||"{{",this.suffix=y?Vi(y):t||"}}",this.formatSeparator=h||",",this.unescapePrefix=p?"":a||"-",this.unescapeSuffix=this.unescapePrefix?"":p||"",this.nestingPrefix=n?Vi(n):r||Vi("$t("),this.nestingSuffix=e?Vi(e):s||Vi(")"),this.nestingOptionsSeparator=o||",",this.maxReplaces=i||1e3,this.alwaysFormat=l!==void 0?l:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const A=(C,R)=>C&&C.source===R?(C.lastIndex=0,C):new RegExp(R,"g");this.regexp=A(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=A(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=A(this.nestingRegexp,`${this.nestingPrefix}(.+?)${this.nestingSuffix}`)}interpolate(A,C,R,F){let B,v,y;const t=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},h=r=>{if(r.indexOf(this.formatSeparator)<0){const i=Fh(C,t,r,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(i,void 0,R,{...F,...C,interpolationkey:r}):i}const e=r.split(this.formatSeparator),s=e.shift().trim(),o=e.join(this.formatSeparator).trim();return this.format(Fh(C,t,s,this.options.keySeparator,this.options.ignoreJSONStructure),o,R,{...F,...C,interpolationkey:s})};this.resetRegExp();const p=F&&F.missingInterpolationHandler||this.options.missingInterpolationHandler,a=F&&F.interpolation&&F.interpolation.skipOnVariables!==void 0?F.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:r=>Ya(r)},{regex:this.regexp,safeValue:r=>this.escapeValue?Ya(this.escape(r)):Ya(r)}].forEach(r=>{for(y=0;B=r.regex.exec(A);){const e=B[1].trim();if(v=h(e),v===void 0)if(typeof p=="function"){const o=p(A,B,F);v=Pt(o)?o:""}else if(F&&Object.prototype.hasOwnProperty.call(F,e))v="";else if(a){v=B[0];continue}else this.logger.warn(`missed to pass in variable ${e} for interpolating ${A}`),v="";else!Pt(v)&&!this.useRawValueToEscape&&(v=Ah(v));const s=r.safeValue(v);if(A=A.replace(B[0],s),a?(r.regex.lastIndex+=v.length,r.regex.lastIndex-=B[0].length):r.regex.lastIndex=0,y++,y>=this.maxReplaces)break}}),A}nest(A,C){let R=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},F,B,v;const y=(t,h)=>{const p=this.nestingOptionsSeparator;if(t.indexOf(p)<0)return t;const a=t.split(new RegExp(`${p}[ ]*{`));let n=`{${a[1]}`;t=a[0],n=this.interpolate(n,v);const r=n.match(/'/g),e=n.match(/"/g);(r&&r.length%2===0&&!e||e.length%2!==0)&&(n=n.replace(/'/g,'"'));try{v=JSON.parse(n),h&&(v={...h,...v})}catch(s){return this.logger.warn(`failed parsing options string in nesting for key ${t}`,s),`${t}${p}${n}`}return v.defaultValue&&v.defaultValue.indexOf(this.prefix)>-1&&delete v.defaultValue,t};for(;F=this.nestingRegexp.exec(A);){let t=[];v={...R},v=v.replace&&!Pt(v.replace)?v.replace:v,v.applyPostProcessor=!1,delete v.defaultValue;let h=!1;if(F[0].indexOf(this.formatSeparator)!==-1&&!/{.*}/.test(F[1])){const p=F[1].split(this.formatSeparator).map(a=>a.trim());F[1]=p.shift(),t=p,h=!0}if(B=C(y.call(this,F[1].trim(),v),v),B&&F[0]===A&&!Pt(B))return B;Pt(B)||(B=Ah(B)),B||(this.logger.warn(`missed to resolve ${F[1]} for nesting ${A}`),B=""),h&&(B=t.reduce((p,a)=>this.format(p,a,R.lng,{...R,interpolationkey:F[1].trim()}),B.trim())),A=A.replace(F[0],B),this.regexp.lastIndex=0}return A}}const ap=E=>{let A=E.toLowerCase().trim();const C={};if(E.indexOf("(")>-1){const R=E.split("(");A=R[0].toLowerCase().trim();const F=R[1].substring(0,R[1].length-1);A==="currency"&&F.indexOf(":")<0?C.currency||(C.currency=F.trim()):A==="relativetime"&&F.indexOf(":")<0?C.range||(C.range=F.trim()):F.split(";").forEach(v=>{if(v){const[y,...t]=v.split(":"),h=t.join(":").trim().replace(/^'+|'+$/g,""),p=y.trim();C[p]||(C[p]=h),h==="false"&&(C[p]=!1),h==="true"&&(C[p]=!0),isNaN(h)||(C[p]=parseInt(h,10))}})}return{formatName:A,formatOptions:C}},Yi=E=>{const A={};return(C,R,F)=>{let B=F;F&&F.interpolationkey&&F.formatParams&&F.formatParams[F.interpolationkey]&&F[F.interpolationkey]&&(B={...B,[F.interpolationkey]:void 0});const v=R+JSON.stringify(B);let y=A[v];return y||(y=E(zr(R),F),A[v]=y),y(C)}};class op{constructor(){let A=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=Qe.create("formatter"),this.options=A,this.formats={number:Yi((C,R)=>{const F=new Intl.NumberFormat(C,{...R});return B=>F.format(B)}),currency:Yi((C,R)=>{const F=new Intl.NumberFormat(C,{...R,style:"currency"});return B=>F.format(B)}),datetime:Yi((C,R)=>{const F=new Intl.DateTimeFormat(C,{...R});return B=>F.format(B)}),relativetime:Yi((C,R)=>{const F=new Intl.RelativeTimeFormat(C,{...R});return B=>F.format(B,R.range||"day")}),list:Yi((C,R)=>{const F=new Intl.ListFormat(C,{...R});return B=>F.format(B)})},this.init(A)}init(A){let C=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};this.formatSeparator=C.interpolation.formatSeparator||","}add(A,C){this.formats[A.toLowerCase().trim()]=C}addCached(A,C){this.formats[A.toLowerCase().trim()]=Yi(C)}format(A,C,R){let F=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const B=C.split(this.formatSeparator);if(B.length>1&&B[0].indexOf("(")>1&&B[0].indexOf(")")<0&&B.find(y=>y.indexOf(")")>-1)){const y=B.findIndex(t=>t.indexOf(")")>-1);B[0]=[B[0],...B.splice(1,y)].join(this.formatSeparator)}return B.reduce((y,t)=>{const{formatName:h,formatOptions:p}=ap(t);if(this.formats[h]){let a=y;try{const n=F&&F.formatParams&&F.formatParams[F.interpolationkey]||{},r=n.locale||n.lng||F.locale||F.lng||R;a=this.formats[h](y,r,{...p,...F,...n})}catch(n){this.logger.warn(n)}return a}else this.logger.warn(`there was no format function for ${h}`);return y},A)}}const lp=(E,A)=>{E.pending[A]!==void 0&&(delete E.pending[A],E.pendingCount--)};class hp extends La{constructor(A,C,R){let F=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};super(),this.backend=A,this.store=C,this.services=R,this.languageUtils=R.languageUtils,this.options=F,this.logger=Qe.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=F.maxParallelReads||10,this.readingCalls=0,this.maxRetries=F.maxRetries>=0?F.maxRetries:5,this.retryTimeout=F.retryTimeout>=1?F.retryTimeout:350,this.state={},this.queue=[],this.backend&&this.backend.init&&this.backend.init(R,F.backend,F)}queueLoad(A,C,R,F){const B={},v={},y={},t={};return A.forEach(h=>{let p=!0;C.forEach(a=>{const n=`${h}|${a}`;!R.reload&&this.store.hasResourceBundle(h,a)?this.state[n]=2:this.state[n]<0||(this.state[n]===1?v[n]===void 0&&(v[n]=!0):(this.state[n]=1,p=!1,v[n]===void 0&&(v[n]=!0),B[n]===void 0&&(B[n]=!0),t[a]===void 0&&(t[a]=!0)))}),p||(y[h]=!0)}),(Object.keys(B).length||Object.keys(v).length)&&this.queue.push({pending:v,pendingCount:Object.keys(v).length,loaded:{},errors:[],callback:F}),{toLoad:Object.keys(B),pending:Object.keys(v),toLoadLanguages:Object.keys(y),toLoadNamespaces:Object.keys(t)}}loaded(A,C,R){const F=A.split("|"),B=F[0],v=F[1];C&&this.emit("failedLoading",B,v,C),!C&&R&&this.store.addResourceBundle(B,v,R,void 0,void 0,{skipCopy:!0}),this.state[A]=C?-1:2,C&&R&&(this.state[A]=0);const y={};this.queue.forEach(t=>{Xv(t.loaded,[B],v),lp(t,A),C&&t.errors.push(C),t.pendingCount===0&&!t.done&&(Object.keys(t.loaded).forEach(h=>{y[h]||(y[h]={});const p=t.loaded[h];p.length&&p.forEach(a=>{y[h][a]===void 0&&(y[h][a]=!0)})}),t.done=!0,t.errors.length?t.callback(t.errors):t.callback())}),this.emit("loaded",y),this.queue=this.queue.filter(t=>!t.done)}read(A,C,R){let F=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,B=arguments.length>4&&arguments[4]!==void 0?arguments[4]:this.retryTimeout,v=arguments.length>5?arguments[5]:void 0;if(!A.length)return v(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:A,ns:C,fcName:R,tried:F,wait:B,callback:v});return}this.readingCalls++;const y=(h,p)=>{if(this.readingCalls--,this.waitingReads.length>0){const a=this.waitingReads.shift();this.read(a.lng,a.ns,a.fcName,a.tried,a.wait,a.callback)}if(h&&p&&F<this.maxRetries){setTimeout(()=>{this.read.call(this,A,C,R,F+1,B*2,v)},B);return}v(h,p)},t=this.backend[R].bind(this.backend);if(t.length===2){try{const h=t(A,C);h&&typeof h.then=="function"?h.then(p=>y(null,p)).catch(y):y(null,h)}catch(h){y(h)}return}return t(A,C,y)}prepareLoading(A,C){let R=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},F=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),F&&F();Pt(A)&&(A=this.languageUtils.toResolveHierarchy(A)),Pt(C)&&(C=[C]);const B=this.queueLoad(A,C,R,F);if(!B.toLoad.length)return B.pending.length||F(),null;B.toLoad.forEach(v=>{this.loadOne(v)})}load(A,C,R){this.prepareLoading(A,C,{},R)}reload(A,C,R){this.prepareLoading(A,C,{reload:!0},R)}loadOne(A){let C=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";const R=A.split("|"),F=R[0],B=R[1];this.read(F,B,"read",void 0,void 0,(v,y)=>{v&&this.logger.warn(`${C}loading namespace ${B} for language ${F} failed`,v),!v&&y&&this.logger.log(`${C}loaded namespace ${B} for language ${F}`,y),this.loaded(A,v,y)})}saveMissing(A,C,R,F,B){let v=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{},y=arguments.length>6&&arguments[6]!==void 0?arguments[6]:()=>{};if(this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(C)){this.logger.warn(`did not save key "${R}" as the namespace "${C}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(R==null||R==="")){if(this.backend&&this.backend.create){const t={...v,isUpdate:B},h=this.backend.create.bind(this.backend);if(h.length<6)try{let p;h.length===5?p=h(A,C,R,F,t):p=h(A,C,R,F),p&&typeof p.then=="function"?p.then(a=>y(null,a)).catch(y):y(null,p)}catch(p){y(p)}else h(A,C,R,F,y,t)}!A||!A[0]||this.store.addResource(A[0],C,R,F)}}}const wh=()=>({debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:E=>{let A={};if(typeof E[1]=="object"&&(A=E[1]),Pt(E[1])&&(A.defaultValue=E[1]),Pt(E[2])&&(A.tDescription=E[2]),typeof E[2]=="object"||typeof E[3]=="object"){const C=E[3]||E[2];Object.keys(C).forEach(R=>{A[R]=C[R]})}return A},interpolation:{escapeValue:!0,format:E=>E,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}),Dh=E=>(Pt(E.ns)&&(E.ns=[E.ns]),Pt(E.fallbackLng)&&(E.fallbackLng=[E.fallbackLng]),Pt(E.fallbackNS)&&(E.fallbackNS=[E.fallbackNS]),E.supportedLngs&&E.supportedLngs.indexOf("cimode")<0&&(E.supportedLngs=E.supportedLngs.concat(["cimode"])),E),pr=()=>{},up=E=>{Object.getOwnPropertyNames(Object.getPrototypeOf(E)).forEach(C=>{typeof E[C]=="function"&&(E[C]=E[C].bind(E))})};class Gn extends La{constructor(){let A=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},C=arguments.length>1?arguments[1]:void 0;if(super(),this.options=Dh(A),this.services={},this.logger=Qe,this.modules={external:[]},up(this),C&&!this.isInitialized&&!A.isClone){if(!this.options.initImmediate)return this.init(A,C),this;setTimeout(()=>{this.init(A,C)},0)}}init(){var A=this;let C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},R=arguments.length>1?arguments[1]:void 0;this.isInitializing=!0,typeof C=="function"&&(R=C,C={}),!C.defaultNS&&C.defaultNS!==!1&&C.ns&&(Pt(C.ns)?C.defaultNS=C.ns:C.ns.indexOf("translation")<0&&(C.defaultNS=C.ns[0]));const F=wh();this.options={...F,...this.options,...Dh(C)},this.options.compatibilityAPI!=="v1"&&(this.options.interpolation={...F.interpolation,...this.options.interpolation}),C.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=C.keySeparator),C.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=C.nsSeparator);const B=p=>p?typeof p=="function"?new p:p:null;if(!this.options.isClone){this.modules.logger?Qe.init(B(this.modules.logger),this.options):Qe.init(null,this.options);let p;this.modules.formatter?p=this.modules.formatter:typeof Intl<"u"&&(p=op);const a=new Mh(this.options);this.store=new Lh(this.options.resources,this.options);const n=this.services;n.logger=Qe,n.resourceStore=this.store,n.languageUtils=a,n.pluralResolver=new np(a,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),p&&(!this.options.interpolation.format||this.options.interpolation.format===F.interpolation.format)&&(n.formatter=B(p),n.formatter.init(n,this.options),this.options.interpolation.format=n.formatter.format.bind(n.formatter)),n.interpolator=new rp(this.options),n.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},n.backendConnector=new hp(B(this.modules.backend),n.resourceStore,n,this.options),n.backendConnector.on("*",function(r){for(var e=arguments.length,s=new Array(e>1?e-1:0),o=1;o<e;o++)s[o-1]=arguments[o];A.emit(r,...s)}),this.modules.languageDetector&&(n.languageDetector=B(this.modules.languageDetector),n.languageDetector.init&&n.languageDetector.init(n,this.options.detection,this.options)),this.modules.i18nFormat&&(n.i18nFormat=B(this.modules.i18nFormat),n.i18nFormat.init&&n.i18nFormat.init(this)),this.translator=new Hr(this.services,this.options),this.translator.on("*",function(r){for(var e=arguments.length,s=new Array(e>1?e-1:0),o=1;o<e;o++)s[o-1]=arguments[o];A.emit(r,...s)}),this.modules.external.forEach(r=>{r.init&&r.init(this)})}if(this.format=this.options.interpolation.format,R||(R=pr),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const p=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);p.length>0&&p[0]!=="dev"&&(this.options.lng=p[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(p=>{this[p]=function(){return A.store[p](...arguments)}}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(p=>{this[p]=function(){return A.store[p](...arguments),A}});const t=Hs(),h=()=>{const p=(a,n)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),t.resolve(n),R(a,n)};if(this.languages&&this.options.compatibilityAPI!=="v1"&&!this.isInitialized)return p(null,this.t.bind(this));this.changeLanguage(this.options.lng,p)};return this.options.resources||!this.options.initImmediate?h():setTimeout(h,0),t}loadResources(A){let R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:pr;const F=Pt(A)?A:this.language;if(typeof A=="function"&&(R=A),!this.options.resources||this.options.partialBundledLanguages){if(F&&F.toLowerCase()==="cimode"&&(!this.options.preload||this.options.preload.length===0))return R();const B=[],v=y=>{if(!y||y==="cimode")return;this.services.languageUtils.toResolveHierarchy(y).forEach(h=>{h!=="cimode"&&B.indexOf(h)<0&&B.push(h)})};F?v(F):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(t=>v(t)),this.options.preload&&this.options.preload.forEach(y=>v(y)),this.services.backendConnector.load(B,this.options.ns,y=>{!y&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),R(y)})}else R(null)}reloadResources(A,C,R){const F=Hs();return typeof A=="function"&&(R=A,A=void 0),typeof C=="function"&&(R=C,C=void 0),A||(A=this.languages),C||(C=this.options.ns),R||(R=pr),this.services.backendConnector.reload(A,C,B=>{F.resolve(),R(B)}),F}use(A){if(!A)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!A.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return A.type==="backend"&&(this.modules.backend=A),(A.type==="logger"||A.log&&A.warn&&A.error)&&(this.modules.logger=A),A.type==="languageDetector"&&(this.modules.languageDetector=A),A.type==="i18nFormat"&&(this.modules.i18nFormat=A),A.type==="postProcessor"&&lf.addPostProcessor(A),A.type==="formatter"&&(this.modules.formatter=A),A.type==="3rdParty"&&this.modules.external.push(A),this}setResolvedLanguage(A){if(!(!A||!this.languages)&&!(["cimode","dev"].indexOf(A)>-1))for(let C=0;C<this.languages.length;C++){const R=this.languages[C];if(!(["cimode","dev"].indexOf(R)>-1)&&this.store.hasLanguageSomeTranslations(R)){this.resolvedLanguage=R;break}}}changeLanguage(A,C){var R=this;this.isLanguageChangingTo=A;const F=Hs();this.emit("languageChanging",A);const B=t=>{this.language=t,this.languages=this.services.languageUtils.toResolveHierarchy(t),this.resolvedLanguage=void 0,this.setResolvedLanguage(t)},v=(t,h)=>{h?(B(h),this.translator.changeLanguage(h),this.isLanguageChangingTo=void 0,this.emit("languageChanged",h),this.logger.log("languageChanged",h)):this.isLanguageChangingTo=void 0,F.resolve(function(){return R.t(...arguments)}),C&&C(t,function(){return R.t(...arguments)})},y=t=>{!A&&!t&&this.services.languageDetector&&(t=[]);const h=Pt(t)?t:this.services.languageUtils.getBestMatchFromCodes(t);h&&(this.language||B(h),this.translator.language||this.translator.changeLanguage(h),this.services.languageDetector&&this.services.languageDetector.cacheUserLanguage&&this.services.languageDetector.cacheUserLanguage(h)),this.loadResources(h,p=>{v(p,h)})};return!A&&this.services.languageDetector&&!this.services.languageDetector.async?y(this.services.languageDetector.detect()):!A&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(y):this.services.languageDetector.detect(y):y(A),F}getFixedT(A,C,R){var F=this;const B=function(v,y){let t;if(typeof y!="object"){for(var h=arguments.length,p=new Array(h>2?h-2:0),a=2;a<h;a++)p[a-2]=arguments[a];t=F.options.overloadTranslationOptionHandler([v,y].concat(p))}else t={...y};t.lng=t.lng||B.lng,t.lngs=t.lngs||B.lngs,t.ns=t.ns||B.ns,t.keyPrefix!==""&&(t.keyPrefix=t.keyPrefix||R||B.keyPrefix);const n=F.options.keySeparator||".";let r;return t.keyPrefix&&Array.isArray(v)?r=v.map(e=>`${t.keyPrefix}${n}${e}`):r=t.keyPrefix?`${t.keyPrefix}${n}${v}`:v,F.t(r,t)};return Pt(A)?B.lng=A:B.lngs=A,B.ns=C,B.keyPrefix=R,B}t(){return this.translator&&this.translator.translate(...arguments)}exists(){return this.translator&&this.translator.exists(...arguments)}setDefaultNamespace(A){this.options.defaultNS=A}hasLoadedNamespace(A){let C=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const R=C.lng||this.resolvedLanguage||this.languages[0],F=this.options?this.options.fallbackLng:!1,B=this.languages[this.languages.length-1];if(R.toLowerCase()==="cimode")return!0;const v=(y,t)=>{const h=this.services.backendConnector.state[`${y}|${t}`];return h===-1||h===0||h===2};if(C.precheck){const y=C.precheck(this,v);if(y!==void 0)return y}return!!(this.hasResourceBundle(R,A)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||v(R,A)&&(!F||v(B,A)))}loadNamespaces(A,C){const R=Hs();return this.options.ns?(Pt(A)&&(A=[A]),A.forEach(F=>{this.options.ns.indexOf(F)<0&&this.options.ns.push(F)}),this.loadResources(F=>{R.resolve(),C&&C(F)}),R):(C&&C(),Promise.resolve())}loadLanguages(A,C){const R=Hs();Pt(A)&&(A=[A]);const F=this.options.preload||[],B=A.filter(v=>F.indexOf(v)<0&&this.services.languageUtils.isSupportedCode(v));return B.length?(this.options.preload=F.concat(B),this.loadResources(v=>{R.resolve(),C&&C(v)}),R):(C&&C(),Promise.resolve())}dir(A){if(A||(A=this.resolvedLanguage||(this.languages&&this.languages.length>0?this.languages[0]:this.language)),!A)return"rtl";const C=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],R=this.services&&this.services.languageUtils||new Mh(wh());return C.indexOf(R.getLanguagePartFromCode(A))>-1||A.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(){let A=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},C=arguments.length>1?arguments[1]:void 0;return new Gn(A,C)}cloneInstance(){let A=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},C=arguments.length>1&&arguments[1]!==void 0?arguments[1]:pr;const R=A.forkResourceStore;R&&delete A.forkResourceStore;const F={...this.options,...A,isClone:!0},B=new Gn(F);return(A.debug!==void 0||A.prefix!==void 0)&&(B.logger=B.logger.clone(A)),["store","services","language"].forEach(y=>{B[y]=this[y]}),B.services={...this.services},B.services.utils={hasLoadedNamespace:B.hasLoadedNamespace.bind(B)},R&&(B.store=new Lh(this.store.data,F),B.services.resourceStore=B.store),B.translator=new Hr(B.services,F),B.translator.on("*",function(y){for(var t=arguments.length,h=new Array(t>1?t-1:0),p=1;p<t;p++)h[p-1]=arguments[p];B.emit(y,...h)}),B.init(F,C),B.translator.options=F,B.translator.backendConnector.services.utils={hasLoadedNamespace:B.hasLoadedNamespace.bind(B)},B}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const Ee=Gn.createInstance();Ee.createInstance=Gn.createInstance;Ee.createInstance;Ee.dir;Ee.init;Ee.loadResources;Ee.reloadResources;Ee.use;Ee.changeLanguage;Ee.getFixedT;Ee.t;Ee.exists;Ee.setDefaultNamespace;Ee.hasLoadedNamespace;Ee.loadNamespaces;Ee.loadLanguages;const{slice:fp,forEach:dp}=[];function cp(E){return dp.call(fp.call(arguments,1),A=>{if(A)for(const C in A)E[C]===void 0&&(E[C]=A[C])}),E}const Nh=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,vp=(E,A,C)=>{const R=C||{};R.path=R.path||"/";const F=encodeURIComponent(A);let B=`${E}=${F}`;if(R.maxAge>0){const v=R.maxAge-0;if(Number.isNaN(v))throw new Error("maxAge should be a Number");B+=`; Max-Age=${Math.floor(v)}`}if(R.domain){if(!Nh.test(R.domain))throw new TypeError("option domain is invalid");B+=`; Domain=${R.domain}`}if(R.path){if(!Nh.test(R.path))throw new TypeError("option path is invalid");B+=`; Path=${R.path}`}if(R.expires){if(typeof R.expires.toUTCString!="function")throw new TypeError("option expires is invalid");B+=`; Expires=${R.expires.toUTCString()}`}if(R.httpOnly&&(B+="; HttpOnly"),R.secure&&(B+="; Secure"),R.sameSite)switch(typeof R.sameSite=="string"?R.sameSite.toLowerCase():R.sameSite){case!0:B+="; SameSite=Strict";break;case"lax":B+="; SameSite=Lax";break;case"strict":B+="; SameSite=Strict";break;case"none":B+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return B},bh={create(E,A,C,R){let F=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{path:"/",sameSite:"strict"};C&&(F.expires=new Date,F.expires.setTime(F.expires.getTime()+C*60*1e3)),R&&(F.domain=R),document.cookie=vp(E,encodeURIComponent(A),F)},read(E){const A=`${E}=`,C=document.cookie.split(";");for(let R=0;R<C.length;R++){let F=C[R];for(;F.charAt(0)===" ";)F=F.substring(1,F.length);if(F.indexOf(A)===0)return F.substring(A.length,F.length)}return null},remove(E){this.create(E,"",-1)}};var pp={name:"cookie",lookup(E){let{lookupCookie:A}=E;if(A&&typeof document<"u")return bh.read(A)||void 0},cacheUserLanguage(E,A){let{lookupCookie:C,cookieMinutes:R,cookieDomain:F,cookieOptions:B}=A;C&&typeof document<"u"&&bh.create(C,E,R,F,B)}},mp={name:"querystring",lookup(E){var R;let{lookupQuerystring:A}=E,C;if(typeof window<"u"){let{search:F}=window.location;!window.location.search&&((R=window.location.hash)==null?void 0:R.indexOf("?"))>-1&&(F=window.location.hash.substring(window.location.hash.indexOf("?")));const v=F.substring(1).split("&");for(let y=0;y<v.length;y++){const t=v[y].indexOf("=");t>0&&v[y].substring(0,t)===A&&(C=v[y].substring(t+1))}}return C}};let Xs=null;const Bh=()=>{if(Xs!==null)return Xs;try{Xs=window!=="undefined"&&window.localStorage!==null;const E="i18next.translate.boo";window.localStorage.setItem(E,"foo"),window.localStorage.removeItem(E)}catch{Xs=!1}return Xs};var gp={name:"localStorage",lookup(E){let{lookupLocalStorage:A}=E;if(A&&Bh())return window.localStorage.getItem(A)||void 0},cacheUserLanguage(E,A){let{lookupLocalStorage:C}=A;C&&Bh()&&window.localStorage.setItem(C,E)}};let ks=null;const Gh=()=>{if(ks!==null)return ks;try{ks=window!=="undefined"&&window.sessionStorage!==null;const E="i18next.translate.boo";window.sessionStorage.setItem(E,"foo"),window.sessionStorage.removeItem(E)}catch{ks=!1}return ks};var xp={name:"sessionStorage",lookup(E){let{lookupSessionStorage:A}=E;if(A&&Gh())return window.sessionStorage.getItem(A)||void 0},cacheUserLanguage(E,A){let{lookupSessionStorage:C}=A;C&&Gh()&&window.sessionStorage.setItem(C,E)}},yp={name:"navigator",lookup(E){const A=[];if(typeof navigator<"u"){const{languages:C,userLanguage:R,language:F}=navigator;if(C)for(let B=0;B<C.length;B++)A.push(C[B]);R&&A.push(R),F&&A.push(F)}return A.length>0?A:void 0}},Ep={name:"htmlTag",lookup(E){let{htmlTag:A}=E,C;const R=A||(typeof document<"u"?document.documentElement:null);return R&&typeof R.getAttribute=="function"&&(C=R.getAttribute("lang")),C}},Tp={name:"path",lookup(E){var F;let{lookupFromPathIndex:A}=E;if(typeof window>"u")return;const C=window.location.pathname.match(/\/([a-zA-Z-]*)/g);return Array.isArray(C)?(F=C[typeof A=="number"?A:0])==null?void 0:F.replace("/",""):void 0}},Sp={name:"subdomain",lookup(E){var F,B;let{lookupFromSubdomainIndex:A}=E;const C=typeof A=="number"?A+1:1,R=typeof window<"u"&&((B=(F=window.location)==null?void 0:F.hostname)==null?void 0:B.match(/^(\w{2,5})\.(([a-z0-9-]{1,63}\.[a-z]{2,6})|localhost)/i));if(R)return R[C]}};function Ap(){return{order:["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"],lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupSessionStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"],convertDetectedLanguage:E=>E}}class hf{constructor(A){let C=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.type="languageDetector",this.detectors={},this.init(A,C)}init(A){let C=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},R=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.services=A||{languageUtils:{}},this.options=cp(C,this.options||{},Ap()),typeof this.options.convertDetectedLanguage=="string"&&this.options.convertDetectedLanguage.indexOf("15897")>-1&&(this.options.convertDetectedLanguage=F=>F.replace("-","_")),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=R,this.addDetector(pp),this.addDetector(mp),this.addDetector(gp),this.addDetector(xp),this.addDetector(yp),this.addDetector(Ep),this.addDetector(Tp),this.addDetector(Sp)}addDetector(A){return this.detectors[A.name]=A,this}detect(A){A||(A=this.options.order);let C=[];return A.forEach(R=>{if(this.detectors[R]){let F=this.detectors[R].lookup(this.options);F&&typeof F=="string"&&(F=[F]),F&&(C=C.concat(F))}}),C=C.map(R=>this.options.convertDetectedLanguage(R)),this.services.languageUtils.getBestMatchFromCodes?C:C.length>0?C[0]:null}cacheUserLanguage(A,C){C||(C=this.options.caches),C&&(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(A)>-1||C.forEach(R=>{this.detectors[R]&&this.detectors[R].cacheUserLanguage(A,this.options)}))}}hf.type="languageDetector";const Cp={COMBAT:"Fighting Pokmon know no fear and have their stats increased with the number of opponents targeting them.",COMBAT2:"+5% ATK and DEF per opponent",COMBAT4:"+10% ATK and DEF per opponent",COMBAT6:"+20% ATK and DEF per opponent",DRAGON:"When a Dragon Pokmon is the last Pokmon of the team on the board, it gains large bonuses to all of its stats.",DRAGON1:"+20% to the stats of the last dragon",DRAGON2:"+40% to the stats of the last dragon",DRAGON3:"+60% to the stats of the last dragon",EAU:"Water Pokmon are immune to Burn. Water moves can push the target back one or more tiles.",EAU2:"Push back one tile",EAU4:"Push back 2 tiles",EAU6:"Push back 3 tiles",ELEC2:"+10% SPD; 2 damage per hit received",ELEC4:"+20% SPD; 4 damage per hit received",ELEC6:"+30% SPD; 6 damage per hit received",ELECTRIQUE:"Electric Pokmon gain Speed and deal Electric damage with each hit they received on contact.",FEE:"Fairy Pokmon gradually gain PP for your entire team.",FEE1:"+1 PP per second",FEE2:"+2 PP per second",FEE3:"+3 PP per second",FEU:"Fire Pokmon are immune to Freeze. Their attacks apply a burn that deals damage over time and reduces the effectiveness of healing by 50%.",FEU2:"2 burns per attack",FEU4:"3 burns per attack",FEU6:"4 burns per attack",GLACE:"Ice Pokmon are surrounded by an aura of frost that slows opponents on adjacent tiles.",GLACE2:"-20% speed",GLACE3:"-30% speed",GLACE4:"-40% speed",INSECTE:"Bug Pokmon grow and evolve faster, and gain bonus experience with each battle.",INSECTE2:"+20% to experience gains",INSECTE4:"+40% to experience gains",INSECTE6:"+60% to experience gains",NORMAL:"Normal Pokmon reduce damage penalties taken from type weaknesses.",NORMAL2:"-30% weakness damage received",NORMAL4:"-60% weakness damage received",NORMAL6:"-90% weakness damage received",PLANTE:"Grass Pokmon cannot be knocked back by enemy skills and regenerate naturally.",PLANTE2:"Regen 1% of max HP per second",PLANTE4:"Regen 2% of max HP per second",PLANTE6:"Regen 3% of max HP per second",POISON:"Poison Pokmon poison their targets, dealing damage over time proportional to their max HP.",POISON2:"Poison damage dealt +40%",POISON4:"Poison damage dealt +80%",POISON6:"Poison damage dealt +120%",PSY:"Psychic Pokmon are immune to Confusion, and their attacks cause their target to lose PP.",PSY2:"Target loses 2 PP per attack",PSY4:"The target loses 4 PP per attack",PSY6:"The target loses 6 PP per attack",ROCHE:"Rock Pokmon reduce damage received from status affliction (poison, burn).",ROCHE2:"-30% affliction damage",ROCHE4:"-60% affliction damage",ROCHE6:"-90% affliction damage",SOL:"Ground Pokmon dig a tunnel to temporarily protect themselves when they fall below a certain HP threshold.",SOL2:"Tunnel at 20% of HP",SOL4:"Tunnel at 20% and 50% of HP",SOL6:"Tunnel at 20%, 50% and 80% of HP",SPECTRE:"Ghost Pokmon cannot be put to sleep and their attacks scare their target, reducing their Attack.",SPECTRE2:"2 stacks of Fear per attack",SPECTRE4:"4 stacks of Fear per attack",SPECTRE6:"6 stacks of Fear per attack",VOL:"Flying Pokmon fly away from the board at the start of the battle, and can dodge incoming attacks.",VOL2:"20% chance to dodge",VOL4:"40% chance to dodge",VOL6:"60% chance to dodge"},Pp={0:"Your team is KO !",1:"You run to the nearest Pokmon Center."},Rp={bed:"This is not the time to go to sleep!",boat:"This is a model of the S.S. Anne, the famous cruise ship.",book:{0:"This is my Pokmon study course notebook.",1:"Normal Pokmon are versatile, but get beaten by Fighting specialists.",2:"Rock-type Pokmon don't like water.",3:"Water Pokmon fear electricity.",4:"Fire-type Pokmon are powerless against water.",5:"Fire is deadly to Grass Pokmon.",6:"Flying Pokmon fear lightning.",7:"Electric Pokmon are neutralized by Ground.",8:"Ice Pokmon are shattered by Rock.",9:"Fighting Pokmon have one weakness: Psychic attacks.",10:"Ground Pokmon are highly resistant to Poison.",11:"Grass Pokmon win against Ground Pokmon in the long run.",12:"Psychic Pokmon are strangely afraid of Bugs.",13:"Bug Pokmon are pecked by birds.",14:"Only a Spectre can truly face another Spectre.",15:"Dragons can be trapped by Ice."},book_insect:{0:"This is a notebook about Pokmon evolutions.",1:"It is written that {{name}} evolves at the level {{level}}",2:"Interesting. I should keep that in mind!"},frigo:{0:"MAM: Are you still hungry? What a glutton!"},map:"This is the map of the Kanto region.",pc_end:{0:"Record the team in the record books?",1:"Registering team...",2:"Congratulations! You and your Pokmon are famous!",3:"... End of session."},pc_record:{0:"Bzzz... Opening the record book...",1:"No data available.",2:`Last league master recorded:
Master in {{nbTours}} tours`,3:`{{nbCaptured}} Pokmon captured
{{nbSeen}} Pokmon seen`,4:"Favorite team:",5:"Bzzz.. The screen went off..."},tv:{0:"The TV broadcasts the news of the day...",1:"BREAKING NEWS!",2:"A Zapdos was spotted at the power plant!",3:"An Articuno has been seen in the Foam Islands!",4:"Mount Ember is said to be the lair of a Moltres!",5:"Our reporters are trying to find out more."}},Lp={ARGENTA:"Pewter City",ARGENTA_ARENA:"Pewter City Arena",ARGENTA_SHOP:"Pewter City Shop",AZURIA:"Cerulean City",AZURIA_ARENA:"Cerulean City Arena",AZURIA_SHOP:"Cerulean City Shop",BOURG_PALETTE:"Pallet Town",BOURG_PALETTE_ROAD:"Pallet Town Road",CAMP_NOMADE:"Nomad Camp",CAMP_NOMADE_ARENA:"Wild Arena",CARMIN:"Vermilion City",CARMIN_ARENA:"Vermilion City Arena",CARMIN_SHOP:"Vermilion City Shop",CAVE_TAUPIQUEUR:"Diglett's Cave",CAVE_TAUPIQUEUR_EAST:"Diglett's Cave (East entrance)",CAVE_TAUPIQUEUR_WEST:"Diglett's Cave (West entrance)",CELADOPOLE:"Celadon City",CELADOPOLE_ARENA:"Celadon City Arena",CELADOPOLE_SHOP:"Celadon City Shop",CENTRALE:"Power plant",CHAMPS_VERDOYANTS:"Green fields",CHEMIN_COLLINE:"Path to the Hill",COLLINE_ROYALE:"Dragon Hill",COL_MONTAGNE:"Mountain Pass",CRAMOISILE:"Cinnabar Island",CRAMOISILE_ARENA:"Cinnabar Island Arena",CRAMOISILE_SHOP:"Cinnabar Island Shop",DOJO:"Dojo",FALAISES:"Cliffs",FORET_JADE:"Viridian Forest",GROTTE_AZUREE:"Cerulean Cave",HOME:"At home",ILES_ECUME:"Seafoam Islands",JADIELLE:"Viridian City",JADIELLE_ARENA:"Viridian City Arena",JADIELLE_SHOP:"Viridian City Shop",LABO_CHEN:"Prof. Oak Laboratory",LAVANVILLE:"Lavender Town",LAVANVILLE_ARENA:"Lavender Town Arena",LAVANVILLE_SHOP:"Lavender Town Shop",LIGUE:"Indigo League",LIGUE_FLOOR1:"Indigo League - 1st floor",LIGUE_FLOOR2:"Indigo League - 2nd floor",LIGUE_FLOOR3:"Indigo League - 3rd floor",LIGUE_FLOOR4:"Indigo League - 4th floor",LIGUE_FLOOR5:"Indigo League - Top floor",LIGUE_HALL:"Indigo League Hall",MAISON_PSY:"Mr. Psychic's House",MONT_BRAISE:"Mt. Ember",MONT_SELENITE:"Mt. Moon",OCEANE:"S.S. Anne",OCEANE_DECK:"On the S.S. Anne",PARC_SAFARI:"Safari Zone",PARMANIE:"Fuchsia City",PARMANIE_ARENA:"Fuchsia City Arena",PARMANIE_SHOP:"Fuchsia City Shop",PENSION:"Pokmon Day Care",PISTE_CYCLABLE:"Cycling Road",ROUTE_VICTOIRE:"Victory Road",ROUTE_VICTOIRE_ENTREE:"Victory Road (Entrance)",ROUTE_VICTOIRE_SORTIE:"Victory Road (Exit)",SAFRANIA:"Saffron City",SAFRANIA_ARENA:"Saffron City Arena",SAFRANIA_SHOP:"Saffron City Shop",TOUR_POKEMON:"Pokmon Tower"},Op={ARENA:"Arena",BOURG_PALETTE:"Mom",CAPTURE:"Capture",CONSEIL_DES_4:"Elite Four",FIGHT:"Fight",SAFARI:"Catch'em all",fast_travel:"Fast travel",fast_travel_AZURIA:"Fast travel to Cerulean City",fast_travel_CARMIN:"Fast travel to Vermilion City",fast_travel_CRAMOISILE:"Fast travel to Cinnabar Island"},Mp=JSON.parse(`{"aftercapture":{"0":"The wild {{name}} shares his experience before being released.","1":"Your {{name}} gains {{xp}} XP"},"agatha":{"defeat":{"0":"You have talent, but it's not enough!"},"start":{"0":"Gnnn... Hello my little one.","1":"I'm Agatha from the Elite Four!","2":"Oak has high hopes for you, son!","3":"Do you know that this old thing was once a handsome boy?","4":"Well... A long time ago!","5":"He just wants to show off his Pokedex!","6":"But that's stupid! Pokmon are for fighting!","7":"I'll show you how great Trainers fight!"},"victory":{"0":"Mmmm... I see why Oak likes you so much!","1":"My shadows have lost. You can pass."}},"aldo":{"defeat":{"0":"Bang! In the teeth!"},"start":{"0":"My name is Bruno from the Elite Four!","1":"My passion for me and my Pokmon is bodybuilding!","2":"To show off on the beach or to box the midgets,","3":"nothing like a dream body!","4":"Your team... I'm going to make yogurt out of it! Let's eat!"},"victory":{"0":"Well done, kiddo! The next one is waiting for you!"}},"assistant1":{"0":"I put the square root, I retain five...","1":"Hmm? What's that for?","q1":"Who are you ?","q2":"Where am I?","q3":"What are you doing ?","r1":"I assist PROF. OAK. So I am his... ASSISTANT!","r2":"You are at the Pokmon Lab in Pallet Town.","r3":"Here we study the different species of Pokmon from Kanto.","r4":"I'm gathering the latest data collected by trainers like you.","r5":"By studying your battles, we collect information about Pokmon.","r6":"This information is then grouped into the Pokdex.","r7":"This is useful for our research, but also for your combat strategies."},"assistant2":{"0":"This machine keeps track of the Pokmon teams that have distinguished themselves","1":"by defeating the Pokmon League Elite Four.","2":"Analyzing the best teams allows us to learn a lot!","3":"If you manage to beat the league, we will happily add your team."},"assistant_tuto":{"defeat":{"0":"Next time, use my Pokballs!","1":"You will significantly increase your chances of victory!"},"start":{"0":"Wait a minute! If you want to build a team, you need Pokballs!","1":"Here are 5 Pokballs to catch your first Pokmon.","2":"Do you know how to use it?","no0":"You can capture a wild Pokmon instead of battling it.","no1":"The more powerful the Pokmon, the more Pokballs you will need to capture it.","no2":"A captured Pokmon joins your box, which can contain up to 8 Pokmon.","no3":"You can then move them from your box to the field for them to fight.","no4":"Go ahead, try to capture these wild Pokmon!","yes0":"Alright, then catch these wild Pokmon. Or knock them out, whatever you want!"},"step2":{"0":"Your Pokmon become stronger by gaining experience after a battle.","1":"But there is another way to increase the experience of a Pokmon.","2":"All you need to do is capture a wild Pokmon of the same species.","3":"They will share his experience with your Pokmon before being released.","4":"Here, try it right now. Try to capture my {{name}} ."},"step3":{"0":"The higher the level of the captured Pokmon, the more experience they will give.","1":"Remember, this only works if the Pokmon are the same species!","2":"Well, you know everything. Have a good trip and good luck!"},"victory":{"0":"Well, you seem to be doing great!"}},"auguste":{"defeat":{"0":"Now you know what I'm made of!"},"start":{"0":"Greetings. My name is... Blaine!","1":"I am the Champion of the Cinnabar Island!","2":"My fiery Pokmon will burn you to ashes!","3":"Haha! It's going to be very hot soon!"},"victory":{"0":"Phew! I got vaporized!","1":"You have earned the VOLCANO BADGE!","2":"The more badges you have, the tougher the fights!","3":"This is the price to pay to climb up the League!"}},"bob":{"defeat":{"0":"Ha! Your defeat was lightning fast!","1":"A word of advice, kid! Electricity is very powerful!","2":"But it is powerless against Ground Pokmon !"},"start":{"0":"Hey, kid! What are you doing here?","1":"You wouldn't last long in war!","2":"I'll tell you, my Electric Pokmon saved my life!","3":"Yeah! They paralyzed my enemies with their lightning!","4":"A real butchery! The same thing will happen to you!","5":"Count your teeth! You're going to suffer!"},"victory":{"0":"Whoo! Watch out! You're tough, little guy!","1":"Alright, take the LIGHTNING BADGE!","2":"You'll need it to enter the Pokmon League."}},"chen":{"0":"Hello Red! So today is the big day!","1":"The day of your initiatory journey as a Pokmon trainer!","2":"You will travel throughout Kanto, capturing Pokmon,","3":"build a team and face the 8 gym leaders.","4":"Maybe even take on the Pokemon League if you're up for it!","5":"But first, you need to adopt your first Pokmon.","6":"We caught three of them in the pokeballs behind me.","7":"There's one for you. Come on! Pick one!","8":"Go ahead, you can take one of the pokeballs on the table behind me.","9":"{{pokemon}} ? Excellent choice!","10":"Your Pokmon will protect you from wild Pokmon.","11":"But alone he will be no match for the gym leaders!","12":"You will need to capture wild Pokmon to form a team.","13":"Each species of Pokmon has its strengths and weaknesses. Remember this:","14":"The key to victory is a balanced and well-positioned team.","15":"You should go to a nearby town to catch more Pokmon.","16":"Have a good trip and good luck!","17":"Go ahead, save your team on the computer for posterity!","18":"Hum-hum! Congratulations!","19":"This floor is reserved for Pokmon trainers celebrities!","20":"The Champions League are consecrated here!","21":"Their Pokmon are registered as Celebrities!","22":"Your journey to victory was long! Well done again."},"dresseur_argenta":{"defeat":{"0":"You sink like a stone !"},"start":{"0":"You defeated Brock, but I am as solid as a rock!"},"victory":{"0":"I think I have a pebble in my shoe..."}},"dresseur_azuria":{"defeat":{"0":"Keep your head above water!"},"start":{"0":"You won against Misty, but that's water under the bridge!","1":"I'm fresher than ever! Expect a tidal wave!"},"victory":{"0":"Man, I'm washed up!"}},"dresseur_camp_nomade":{"defeat":{"0":"Your Pokmon dropped like flies!"},"start":{"0":"Wait a minute butterfly!","1":"You look like you have ants in your pants.","2":"Let me show you my insect collection!"},"victory":{"0":"Ouch! I got bitten by a mosquito!"}},"dresseur_carmin":{"defeat":{"0":"This is rock'n roll baby!!!"},"start":{"0":"Hey, did you come to my concert? The atmosphere is electric here!","1":"What do you mean, no? You've never listened to my CD?!","2":"I'm not gonna let you ruin the party!"},"victory":{"0":"That's it, you've ruined the mood!"}},"dresseur_cave_taupiqueur":{"defeat":{"0":"That'll teach you to come snooping around in dark corners!"},"start":{"0":"Huh? No, it's not me!","1":"I have an alibi! I was at the movies!"},"victory":{"0":"No need to get upset! Here, take these Pokballs!","1":"And... they say you've never seen me, okay?"}},"dresseur_celadopole":{"defeat":{"0":"Finally I don't really want us to hang out together anymore, haha!"},"start":{"0":"I've seen you around town before, right?","1":"I can get you into the fanciest trainer clubs here!","2":"But first you have to prove you deserve it! Attack!"},"victory":{"0":"But uh! You were supposed to let me win!","1":"Countryside people have no manners!"}},"dresseur_centrale":{"defeat":{"0":"It was a lightning victory!"},"start":{"0":"Hey, did you blacked out ?","1":"This is not a place for children!","2":"My Electric Pokmon team will blast you!"},"victory":{"0":"I'm shocked! You made me blow a fuse!"}},"dresseur_champs_verdoyants":{"defeat":{"0":"I'm going to do you a favor and give you some advice:","1":"Even the most beautiful roses need thorns.","2":"You need a good attack if you want to win."},"start":{"0":"Hey? Who are you little flower?","1":"This is my garden! I'll send you pushing up daisies!"},"victory":{"0":"Looks like my team is in need of some pruning!","1":"Well played, you're a real gardener!"}},"dresseur_col_de_montagne":{"defeat":{"0":"Another feather in my cap!"},"start":{"0":"Hey kid, are you lost! Well, I rule the roost here!","1":"A little birdie told me youre about to lose this fight","2":"Let me show you how FLY my bird pokemon are!"},"victory":{"0":"Ouch, I'm dead as a dodo ! Bye, flying away!"}},"dresseur_colline_royale":{"defeat":{"0":"My dragons are so strong! so terrifying!","1":"so powerful! so... ah, he's gone."},"start":{"0":"Are you looking for Dragon Pokmon?","1":"Me too! Me too!","2":"They are so big! so beautiful! so majestic!","3":"They're mine! Do you hear me? Mine alone!"},"victory":{"0":"The dragon's ancestral force has abandoned me!"}},"dresseur_cramoisile":{"defeat":{"0":"Eureka!"},"start":{"0":"Ah, a new subject for experiment!","1":"Let me show you the fruit of my research..."},"victory":{"0":"My calculations are wrong!"}},"dresseur_dojo":{"defeat":{"0":"Your training is not enough yet! Ayaaaaa!"},"start":{"0":"Little weakling! I am the GRAND MASTER of KARATE!","1":"Are you provoking me? Do you want to fight?","2":"Are you looking for close combat? HAHAHA! Ayaaaaa!"},"victory":{"0":"STOP! You beat me! I'm ashamed!","1":"Okay, you win! You fought tooth and nail!"}},"dresseur_falaises":{"defeat":{"0":"So, you still have to learn the ropes!"},"start":{"0":"Hey little guy! I'm the greatest climber in Kanto!","1":"And I fully intend to rise to the top!","2":"Hang on tight cuz it's gonna get bumpy!"},"victory":{"0":"That battle rocked! I can see you climb the league!"}},"dresseur_foret_jade":{"defeat":{"0":"Yeeeesss I won for the first time!"},"start":{"0":"Are you a Pokemon trainer? Me too!","1":"I caught a lot of bug Pokmon!","2":"Now we have to have a fight, that's the rule!"},"victory":{"0":"I'll tell my mother!"}},"dresseur_grotte_azuree":{"defeat":{"0":"Hmm... Your team got cold feet.","1":"What are you still doing here? Are you waiting for the thaw?"},"start":{"0":"Hmmm... Strange place for a meeting.","1":"Let me break the ice. On guard!"},"victory":{"0":"My defense melted like snow in the sun!"}},"dresseur_iles_ecume":{"defeat":{"0":"Ive got you now! Youre hooked!"},"start":{"0":"Don't make any noise, you'll scare away the fish!"},"victory":{"0":"Aw, man! My line snapped!"}},"dresseur_lavanville":{"defeat":{"0":"Go and rest. Continue to believe in your dreams!"},"start":{"0":"Sally has told me a lot about you.","1":"Will you do me the honor of a fight?"},"victory":{"0":"It was a magical fight, I couldn't have dreamed of anything better."}},"dresseur_mont_braise":{"defeat":{"0":"You see what it's like to be caught in the crossfire!"},"start":{"0":"Well what is a young boy doing in a place like this?","1":"You're in hot water, kid!","2":"Hey Ron, how about we give him a baptism by fire?"},"victory":{"0":"Ceasefire! Come on Ron, let's go!"}},"dresseur_mont_selenite":{"defeat":{"0":"You won't live long here, you'd better leave."},"start":{"0":"I'm looking for fossils, have you seen any?"},"victory":{"0":"It seems I'm the fossil..."}},"dresseur_oceane":{"defeat":{"0":"Loser has to walk the plank!","1":"Ha ha, I'm just kidding!"},"start":{"0":"Ahoy, a challenger ahead!","1":"The crossing is going to be long...","2":"Let's have a fight to pass the time!","3":"Ready? Drop the anchors, it's time to battle!"},"victory":{"0":"I'll just get back to setting the sails for our next destination..."}},"dresseur_parmanie":{"defeat":{"0":"To protect the world from devastation...\`, \`To unite all peoples within our nation..."},"start":{"0":"Get out you dirty brat!","1":"Team Rocket is conducting covert operations here!"},"victory":{"0":"Team Rocket is blasting off again!"}},"dresseur_pension":{"bye":{"0":"I'll take care of your Pokmon while you're away!","1":"Come back whenever you want!"},"start":{"0":"Hey, it's you! You want us to train some of your Pokmon?","1":"Ah, there you are again! Your Pokmon have grown up a lot, look!","2":"Welcome to the Pokmon Day Care!","3":"Here we take care of Pokmon when their owners have to go away.","4":"You can lend us some of your Pokmon if you want.","5":"There are also Pokmon that are just looking to be adopted!","6":"Their type is ordinary so they don't interest other trainers..."}},"dresseur_piste_cyclable":{"defeat":{"0":"You were just a bump in the road. See you loser!"},"start":{"0":"Come on kid, show me what you got! I'm gonna roll you over!","1":"Don't try to run away! Check out my bike!","2":"You won't get far with your little bicycle!"},"victory":{"0":"Raaah you scratched the bodywork! Quick, to the garage!"}},"dresseur_safrania":{"defeat":{"0":"Brute force is no match for the power of intellect!"},"start":{"0":"You dare to come back here? Have you lost your mind?","1":"We Psychic fight with our mental !","2":"My power will make your head spin!"},"victory":{"0":"You gave me a migraine!"}},"dresseur_tour_pokemon":{"defeat":{"0":"Did it...? Did it work?","1":"Demons don't usually take hits..."},"start":{"0":"Back off, demon!!!"},"victory":{"0":"AaAaaaAaaah!!! Run for your lives!!!"}},"erika":{"defeat":{"0":"Losing always hurts a little but...","1":"Fighting a good opponent is stimulating... ","2":"Come on, don't take root here!"},"start":{"0":"Hello and welcome. The weather is nice, isn't it?","1":"I love life. I love flowers and songs. It's cute, isn't it?","2":"I'm ERIKA, the Champion of the Celadon Arena.","3":"Flower arrangement is my specialty.","4":"My Pokmon are grass type.","5":"It was very cold yesterday, so I put on a sweater.","6":"Huh? You want to fight? Well... Say it, then!","7":"You know what? You're gonna lose!"},"victory":{"0":"Oh! I lost? Well done. It's deserved.","1":"I entrust you with the PRISM BADGE.","2":"Each badge you earn makes you face stronger Pokmon.","3":"Did you notice?"}},"evolve":"{{old}} evolves into {{new}} !","exitlab":{"0":"Professor Oak promised to give me my first Pokmon today.","1":"I don't plan on leaving here without him!"},"find":"find","giovanni":{"defeat":{"0":"You raise your Pokmon too carefully.","1":"A kid like you can't understand my plans!"},"start":{"0":"I have to say I'm surprised you made it this far!","1":"Here you are in my lair! I plan to reform Team Rocket here!","2":"You dare to challenge me, the great Giovanni? You're going to suffer!"},"victory":{"0":"Ah! Now that's what I call a fight! You won!","1":"As a reward, here is the EARTH BADGE!","2":"Once you have obtained all 8 badges, you can compete in the Pokmon League.","3":"You can access it via Victory Road west of here.","4":"I'm not worthy of being the leader of Team Rocket!","5":"So his existence ends with my defeat!","6":"I'm going to retreat, far away, as a hermit, to study Pokmon!","7":"One day our paths will cross again! Goodbye!"}},"guide":{"argenta":{"0":"The mountain that peaks above Pewter City is Mount Moon.","1":"This is one of the oldest regions in Kanto!","2":"It is said that many fossils of extinct Pokmon can be found there.","3":"Imagine if we could bring them back to life..."},"azuria":{"0":"This boat, there, is the S.S. Anne!","1":"What a beauty, huh?","2":"It goes on a permanent cruise between Cerulean, Vermillion and Cinnabar Island.","3":"If you want to get in at the right time, you should memorize this roadmap !"},"carmin":{"0":"I took the shortcut through Diglett's cave to get here faster.","1":"But I still missed the boat departure, so I'm waiting here..."},"celadopole":{"0":"The Dragon Hill overlooking Celadon is a legendary place.","1":"It is said that you can come across Dragon Pokmon there!","2":"But the path is blocked by a huge sleeping Pokmon...","3":"If only we could find a way to wake him up..."},"cramoisile":{"0":"I work at Dr. Fuji's Pokmon Research Lab.","1":"I study rare Pokmon fossils.","2":"What? You found a fossil?","3":"Show it to me, come on show it!","4":"Amazing! It's in perfect condition!","5":"Maybe I could even... bring him back to life!","6":"What do you say? Can I take it?","7":"Excellent! I'll be back soon!","8":"Amazing !","9":"It's a {{name}} ! I thought they were gone!","10":"Hmm? What?","11":"Ah, yes, I guess it's yours...","12":"You receive a {{ name }} brought back to life!\`,","13":"Come back to me if you find any more specimens!","14":"But... but... it's for science!","15":"I built a Pokemon Fossil Resurrection Machine!","16":"But I don't have any specimens of good enough quality yet."},"jadielle":{"0":"I wanted to go to the Victory Road to the west, but they wouldn't let me pass...","1":"Only those with all eight Arena Badges can access the Indigo League.","2":"It's not fair! I want to go see the Elite Four!"},"lavanville":{"0":"Lavender Town is a rather quiet town, stuck between the mountains...","1":"But there are some places of interest, like the Pokmon Tower or the Power Plant."},"ligue":{"0":"Ah, so you want information on the League champions?","1":"To claim the title of Pokmon League Master,","2":"You will have to face the Elite Four one after the other.","3":"First you will face Lorelei, the Ice Queen!","4":"Get rid of her quickly before your team is turned into ice cubes.","5":"Next comes Bruno, a specialist in combat and brute force.","6":"His Pokmon are tough, you'll have to be cunning to defeat him!","7":"Third, the terrifying Agatha and her Ghost Pokmon!","8":"They confuse your team, so refine your placement.","9":"Finally you will face Lance, master of the Dragons.","10":"Dragons are very tenacious. You'll have to give it your all!","11":"Well, I don't know what's next. I could never go any further!","12":"Ah, I thought that... no, never mind."},"parmanie":{"0":"The Safari Zone is the big attraction of Fuschia City.","1":"It attracts lots of Pokmon trainers from all over Kanto!","2":"There is a wide variety of Pokmon of all types.","3":"But fighting is forbidden there to preserve their tranquility."},"safrania":{"0":"I left my Pokemon at the Day Care in the north for a few days.","1":"After that, I found him in great shape, stronger than ever!","2":"The breeder at the Day Care really does a remarkable job."}},"healer":{"0":"Battles in the League are very exhausting for your Pokmon.","1":"But we take care to heal your entire team between each fight."},"hector":{"defeat":{"0":"Bug Pokmon have hidden abilities.","1":"It will take some time to discover them all.","2":"Study them carefully."},"start":{"0":"Hey, did you find my camp? I'm Bugsy!","1":"I came to study the Bug Pokmon of this region.","2":"No one knows Bug Pokmon better than me!","3":"When I grow up, I'll be a great expert in Bug Pokmon!","4":"Do you want me to show you?","5":"Prepare yourself to admire the result of my research!"},"victory":{"0":"Wow, wow! You really know Pokmon!","1":"Ah, I still have a lot to learn! ... ","2":"Yes, I know! Take my insect net as a reward!","3":"You'll see, it will be very useful to you!","4":"Well, I'm going to break camp. I've finished what I had to do here.","5":"This area is full of exotic Pokmon, you should come back!"}},"item_no_use":"It won't work here...","item_received":"You {{verb}} : {{label}} {{quantity}}","item_use":"Use {{item}}?","koga":{"defeat":{"0":"Ha ha! It's time to teach you that some Pokmon","1":"cannot be defeated by pure force!"},"start":{"0":"Gwahahaha! A dwarf dares to challenge me?","1":"Me, the big, the handsome, the terrible Koga?","2":"By hell, by blood, by steel, I will win!","3":"May the grip of my poisons petrify your little Pokmon with fear!"},"victory":{"0":"Gwaha... huh? You've proven your worth!","1":"Open your hand, for here is... the SOUL BADGE!","2":"I fought with all my strength...","3":"But... I'm not strong enough.","4":"Go to the next arena! Explore your limits!","5":"Good luck !"}},"levelup":"{{name}} is now level {{level}}","mom":{"after_gift":"Good luck in your adventure!","gift1":"Here, before you go... I found this under your bed.","gift10":"It allows you to add a new type to one of your Pokmon!","gift11":"I hope this is useful to you.","gift12":"You've been gone for a while. Have you made any new friends?","gift13":"I stopped by the store and found something for you.","gift14":"The seller told me that all the best trainers had one!","gift15":"But you have to choose the right Pokmon to give it to.","gift16":"It's been so long since you left home!","gift17":"You must have a lot of stories to tell.","gift18":"For your return, I would like to offer you a gift:","gift19":"All the savings went into it! But it's a special occasion.","gift2":"You haven't been gone long. How are you?","gift20":"You are so close to your goal! I believe in you my darling!","gift3":"I picked some berries from the garden. Your Pokmon will love them!","gift4":"How is your adventure going?","gift5":"Hey, I found this for you at Prof. Oak's Lab.","gift6":"Is the trip going well?","gift7":"Have you caught a lot of Pokmon?","gift8":"Here, I have something to offer you.","gift9":"This is a very rare gem.","hello":"Hello, my dear!"},"morgane":{"defeat":{"0":"This is exactly what I predicted."},"start":{"0":"I predicted your arrival!","1":"I have had psychic powers since childhood.","2":"I learned to bend spoons by the power of my mind.","3":"It's not super useful, but it looks cool!","4":"I don't like fighting, but if you insist, I'll show you my powers!"},"victory":{"0":"Ha! I'm surprised! You won.","1":"That's right, I didn't do my best!","2":"You deserve your victory! You win the MARSH BADGE!","3":"The Marsh Badge strengthens occult powers...","4":"And that... It's not a small thing.","5":"You will become a Master! I feel it!"}},"mr_psy":{"defeat":{"0":"What a disappointment!","1":"Come back to me and I'll let you catch more Psychic Pokmon.","2":"Your team needs to improve its mental!"},"start":{"0":"Ah, here you are again! So, have you trained your Pokmon's minds?","1":"It's time for... the Mr Psychic exam!"},"victory":{"0":"That's a 10/10! You graduated from Mr. Psychic's school!"}},"olga":{"defeat":{"0":"Zis is not enough!"},"start":{"0":"Welcome to the Pokmon League!","1":"I am Lorelei of ze Elite Four!","2":"I am the master of Ize Pokmon!","3":"And the Ize... It'z really ztrong!","4":"Your Pokemon will be frozen to my mercy!","5":"Ach! Ach! Ach! Letz go!"},"victory":{"0":"You are ztrong. It's good.","1":"But the Pokmon League has other zurprizes for you!"}},"ondine":{"defeat":{"0":"Haha, looks like your team took on water!","1":"You're going to have to find another tactic."},"start":{"0":"Hi! Are you new?","1":"If you want to be a real trainer, you need a strategy!","2":"What is your tactic for capturing wild Pokmon?","3":"I'm charging into them with my water Pokmon!"},"victory":{"0":"Whoa! You're super strong! Very good!","1":"I give you the CASCADE BADGE for beating me!","2":"This badge opens the way to the cave north of Cerulean City."}},"peter":{"defeat":{"0":"I never give up. What about you?"},"start":{"0":"Ah! Finally... I heard about you!","1":"I reign over the Elite Four!","2":"My name is Lance the Dragon Trainer!","3":"Dragons are mystical Pokmon!","4":"Capturing and training them is difficult but their powers are superior!","5":"They are almost invincible!","6":"The bell of defeat and shame tolls for you...","7":"Do you hear it?"},"victory":{"0":"How could my dragons succumb to your attacks?","1":"You are now the Master of the Pokmon League!","2":"Well... not quite.","3":"A final test you must still pass...","4":"Another great Trainer awaits you.","5":"He defeated the Elite Four before you!","6":"He's the real Master of the Pokmon League!"}},"pierre":{"defeat":{"0":"Your Pokmon couldn't get past my rock defense...","1":"Train them and come back and fight me when you're strong enough."},"start":{"0":"I am Brock! I am the Champion of Pewter City!","1":"I believe in the great resistance of stone!","2":"That's why my Pokmon are stone elementals!","3":"You still want to fight me? Fine. On guard!"},"victory":{"0":"Hmm... Nice fight.","1":"You seem to be an exceptional Trainer!","2":"In recognition of your victory, here is the ROCK BADGE!","3":"This is an official Pokmon League Badge!","4":"You will need eight of them to be able to face the Elite Four."}},"receive":"receive","relacher":"Release {{name}} and retrieve {{cost}} Pokball?","rival":{"defeat":{"0":"You amused me a little!","1":"You're really a loser!","2":"But I think you're starting to know, you loser!"},"start":{"0":"Hi, loser. I've been waiting for you for ages!","1":"Your duty as a rival is to train my Pokmon.","2":"While improving my Pokdex, I searched for the overpowered Pokmon!","3":"I created the ultimate team, effective against all types of Pokmon!","4":"That impresses you, doesn't it?","5":"I am the Master! Do you know what that means?","6":"I'm the most powerful trainer in the world! Yaaa!"},"victory":{"0":"Wha... Com... Huh? Me? Why? WHAAAAAAAAAAA!","1":"I trained my Pokmon to perfection... Oh my!","2":"You're the new Master! So that... That blows my mind"}},"sally":{"defeat":{"0":"Its beautiful, the energy of youth.","1":"But the power of the attacks is not everything...","2":"Are you finally beginning to understand what magic is?"},"start":{"0":"Well, well. I've heard of you, my child.","1":"I am Sally, the Ballonlea Gym Leader in the Galar region.","2":"I came to Lavenderville to visit an old friend...","3":"This place has something magical to it for me.","4":"Well, how about a fight?","5":"I'd be interested to see how you fight..."},"victory":{"0":"Congratulations on this victory! I had a blast!","1":"Even though I'm too old for that kind of thing...","2":"You remind me of my husband in his younger years.","3":"You know what? You should get that umbrella.","4":"It was very useful to me during my travels.","5":"Come on, get out! You have a League to face!"}},"salut":"Hi ?","sbire_rocket":{"defeat":{"0":"Mouahaha! It's the rebirth of Team Rocket!"},"start":{"0":"Giovanni may be gone, but Team Rocket never dies!","1":"I intend to take his seat! Let's battle!"},"victory":{"0":"Looks like Team Rocket's blasting off again!"}},"sbire_rocket_tuto":{"defeat":{"0":"Come on, get out of here, little one, and come back when you have a real team!"},"start":{"0":"Hey you, what are you doing here?","1":"This is the territory of Giovanni, our master and gym leader!","2":"What? You're going to compete with him? Let me laugh!","3":"I'll show you the power of Team Rocket!"},"victory":{"0":"Hmpff! You're tougher than you look... ","1":"But it doesn't change anything! Giovanni will settle your score!","2":"Come back later when you have a real team."}},"sellerf":{"hello":"Hello! What do you want?"},"sellerm":{"hello":"Hello! Are you interested in something?"},"shop":{"confirm_one":"1 {{item}} for {{count}} ball, right?","confirm_other":"1 {{item}} for {{count}} balls, right?","nomoney":"You don't have enough Pokballs, kid!"},"sleeping_pokemon":{"0":"A sleeping Pokmon is blocking the path.","1":"Wake it up with the Pok Flute?"},"starter":{"after":"Maybe I should have taken {{name}} ...","choose":"Choose {{name}} as starter?","chosen":"You choose {{name}} !"},"trader":{"aftertrade":"So cool, a {{name}} !","nopokemon":{"0":"Hi, do you want to trade Pokemon?","1":"If you have any Pokmon in reserve in your box, we can trade them!"},"tradeaccepted":"You exchange {{ given }} for {{ received }} !","tradepropose":"Hi, do you want to trade your {{ given }} for my {{ received }} ?","traderefused":"Ah, well, too bad."}}`),Ip={caught:"Taken: {{number}}",duree:"Game duration: {{duree}} rounds",seen:"Seen: {{number}}"},Fp={controls:"Controls",description:{0:"Pokchess is the game prototype Curry was working on before joining Pokemon Auto Chess team. It was intended as a fangame remake of Pokemon Red/Blue as an autobattler.",1:"Although the game simulates a Gameboy to play on nostalgia, it does not respect the screen resolution and hardware constraints of the original Gameboy Color, and the game is also playable with keyboard, gamepad or mouse for convenience.",2:"Your progression is automatically saved every time you reached the overworld map.",3:"This project quickly demonstrated the limitations of the Gameboy format for a genre as complex as the autobattler, but also allowed the exploration of some ideas that were later used in Pokmon Auto Chess."},gamepad:"Gamepad",keyboard:"Keyboard",language:"Language",mouse:"Mouse",music:"Music",sfx:"Sound effects",volume:"Volume"},wp={"attaque+":"X Attack",baie_ceriz:"Cheri Berry",baie_mepo:"Leppa Berry",baie_oran:"Oran Berry",baie_sitrus:"Sitrus Berry",boule_fumee:"Smoke Ball","defense+":"X Dfense",encens_fleur:"Rose Incense",filet:"Hector's net",fossile_amonita:"Helix Fossil",fossile_kabuto:"Dome Fossil",fossile_ptera:"Old Amber",gemme_ciel:"Sky Gem",gemme_draco:"Draco Gem",gemme_flamme:"Flame Gem",gemme_glace:"Ice Gem",gemme_grise:"Grey Gem",gemme_herbe:"Grass Gem",gemme_hydro:"Hydro Gem",gemme_insecte:"Bug Gem",gemme_ombre:"Shadow Gem",gemme_pixie:"Pixie Gem",gemme_poing:"Battle Gem",gemme_psy:"Psy Gem",gemme_roc:"Rock Gem",gemme_terre:"Earth Gem",gemme_toxic:"Toxic Gem",gemme_volt:"Volt Gem",grelot_coque:"Shell Bell",max_elixir:"Max Elixir",multi_exp:"Exp. Share",orbe_flamme:"Flame Orb",orbe_foudre:"Lightning Orb",orbe_toxique:"Toxic Orb",parapluie:"Sally's umbrella",pokeball:"Pokball",pokeflute:"Pok Flute","pv+":"HP Up",repousse:"Repel",super_bonbon:"Rare Candy","vitesse+":"X Speed"},Dp={"attaque+":"+20% Attack",baie_ceriz:"Consumed on first status affliction suffered - Heals afflictions for 10 seconds",baie_mepo:"Consumed on first hit received - Gain 2 extra PP per hit received",baie_oran:"Def +30% - Consumed when HP falls below 50% the first time",baie_sitrus:"Heals 25% of max HP - Consumed when HP drops below 50% the first time",boule_fumee:"Makes the Pokmon untargetable for 3s when HP drops below 30%.","defense+":"+20% Defense",encens_fleur:"Heals 1% of the wearer's and allies' max HP on an adjacent tile every second",filet:"Collects one Pokball for each Pokmon eliminated by its holder",fossile_amonita:"An ancient snail-shaped Pokmon fossil",fossile_kabuto:"An ancient Pokmon shell-shaped fossil",fossile_ptera:"An ancient Pokmon egg-shaped fossil",gemme_ciel:"Gives the wearer the Flying type",gemme_draco:"Gives the wearer the Dragon type",gemme_flamme:"Gives the wearer the Fire type",gemme_glace:"Gives the wearer the Ice type",gemme_grise:"Gives the wearer the Normal type",gemme_herbe:"Gives the wearer the Grass type",gemme_hydro:"Gives the wearer the Water type",gemme_insecte:"Gives the wearer the Bug type",gemme_ombre:"Gives the wearer the Ghost type",gemme_pixie:"Gives the wearer the Fairy type",gemme_poing:"Gives the wearer the Fighting type",gemme_psy:"Gives the wearer the Psychic type",gemme_roc:"Gives the wearer the Rock type",gemme_terre:"Gives the wearer the Ground type",gemme_toxic:"Gives the wearer the Poison type",gemme_volt:"Gives the wearer the Electric type",grelot_coque:"Restores 20% of damage dealt as HP",max_elixir:"Gain 4PP on each attack",multi_exp:"Increases experience gains by 30%",orbe_flamme:"Inflicts the Burn affliction on every hit received or landed",orbe_foudre:"Inflicts the Paralysis affliction on every hit received or landed",orbe_toxique:"Inflicts the Poison affliction on every hit received or landed",parapluie:"Protects the wearer from all alterations",pokeball:"The capture tool for any trainer and currency in stores",pokeflute:"Wakes up the most deeply sleeping Pokmon","pv+":"+20% HP",repousse:"Scares away wild Pokmon and brings back new ones",super_bonbon:"Gain an additional level at the end of each fight","vitesse+":"+20% Speed"},Np={change_place:"Change place",no_item:"{{ name }} does not hold an object",quit:"Quit",release_pokemon:"Release {{name}}",remove_pokemon:"Remove {{name}}",retrieve_item:"Retrieve {{item}}",see_pokemon:"See {{name}}",stock_item:"Stock {{item}}"},bp="New game",Bp="NO",Gp="Pokedex",Up={abo:"Ekans",abra:"Abra",aeromite:"Venomoth",akwakwak:"Golduck",alakazam:"Alakazam",amonistar:"Omastar",amonita:"Omanyte",aquali:"Vaporeon",arbok:"Arbok",arcanin:"Arcanine",artikodin:"Articuno",aspicot:"Weedle",boustiflor:"Weepinbell",bulbizarre:"Bulbasaur",canarticho:"Farfetch'd",caninos:"Growlithe",carabaffe:"Wartortle",carapuce:"Squirtle",chenipan:"Caterpie",chetiflor:"Bellsprout",chrysacier:"Metapod",coconfort:"Kakuna",colossinge:"Primeape",crustabri:"Cloyster",dardargnan:"Beedrill",dodrio:"Dodrio",doduo:"Doduo",dracaufeu:"Charizard",draco:"Dragonair",dracolosse:"Dragonite",ectoplasma:"Gengar",electhor:"Zapdos",electrode:"Electrode",elektek:"Electabuzz",empiflor:"Victreebel",evoli:"Eevee",excelangue:"Lickitung",fantominus:"Gastly",ferosinge:"Mankey",feunard:"Ninetales",flagadoss:"Slowbro",florizarre:"Venusaur",galopa:"Rapidash",goupix:"Vulpix",gravalanch:"Graveler",grodoudou:"Wigglytuff",grolem:"Golem",grotadmorv:"Muk",herbizarre:"Ivysaur",hypnomade:"Hypno",hypocean:"Seadra",hypotrempe:"Horsea",insecateur:"Scyther",kabuto:"Kabuto",kabutops:"Kabutops",kadabra:"Kadabra",kangourex:"Kangaskhan",kicklee:"Hitmonlee",kokiyas:"Shellder",krabboss:"Kingler",krabby:"Krabby",lamantine:"Dewgong",leveinard:"Chansey",leviator:"Gyarados",lippoutou:"Jynx",lokhlass:"Lapras",machoc:"Machop",machopeur:"Machoke",mackogneur:"Machamp",magicarpe:"Magikarp",magmar:"Magmar",magneti:"Magnemite",magneton:"Magneton",melodelfe:"Clefable",melofee:"Clefairy",metamorph:"Ditto",mew:"Mew",mewtwo:"Mewtwo",miaouss:"Meowth",mimitoss:"Venonat",minidraco:"Dratini",mrmime:"Mr. Mime",mystherbe:"Oddish",nidoking:"Nidoking",nidoqueen:"Nidoqueen",nidoranf:"Nidoran ",nidoranm:"Nidoran ",nidorina:"Nidorina",nidorino:"Nidorino",noadkoko:"Exeggutor",noeufnoeuf:"Exeggcute",nosferalto:"Golbat",nosferapti:"Zubat",onix:"Onix",ortide:"Gloom",ossatueur:"Marowak",osselait:"Cubone",otaria:"Seel",papillusion:"Butterfree",paras:"Paras",parasect:"Parasect",persian:"Persian",piafabec:"Spearow",pikachu:"Pikachu",poissirene:"Goldeen",poissoroy:"Seaking",ponyta:"Ponyta",porygon:"Porygon",psykokwak:"Psyduck",ptera:"Aerodactyl",ptitard:"Poliwag",pyroli:"Flareon",racaillou:"Geodude",rafflesia:"Vileplume",raichu:"Raichu",ramoloss:"Slowpoke",rapasdepic:"Fearow",rattata:"Rattata",rattatac:"Raticate",reptincel:"Charmeleon",rhinocorne:"Rhyhorn",rhinoferos:"Rhydon",rondoudou:"Jigglypuff",ronflex:"Snorlax",roucarnage:"Pidgeot",roucool:"Pidgey",roucoups:"Pidgeotto",sabelette:"Sandshrew",sablaireau:"Sandslash",salameche:"Charmander",saquedeneu:"Tangela",scarabrute:"Pinsir",smogo:"Koffing",smogogo:"Weezing",soporifik:"Drowzee",spectrum:"Haunter",stari:"Staryu",staross:"Starmie",sulfura:"Moltres",tadmorv:"Grimer",tartard:"Poliwrath",taupiqueur:"Diglett",tauros:"Tauros",tentacool:"Tentacool",tentacruel:"Tentacruel",tetarte:"Poliwhirl",tortank:"Blastoise",triopikeur:"Dugtrio",tygnon:"Hitmonchan",voltali:"Jolteon",voltorbe:"Voltorb"},Vp={home:"Home",ligueendroom:"Indigo League - Pantheon",oaklab:"Prof. Oak's Lab"},Yp={abri:"Protect",acide:"Acid",adaptation:"Conversion",amnesie:"Amnesia",armure:"Harden",balayage:"Low Kick",belier:"Take Down",berceuse:"Sing",blizzard:"Blizzard",bomb_beurk:"Sludge Bomb",bomb_oeuf:"Egg Bomb",brouillard:"Smokescreen",bulles_d_o:"Bubble Beam",cage_eclair:"Thunder Wave",cascade:"Waterfall",charge:"Tackle",choc_mental:"Confusion",coud_boue:"Mud-Slap",croc_de_mort:"Hyper Fang",crochet_venin:"Poison Fang",crocs_feu:"Fire Fang",cruaile:"Wing Attack",danse_flammes:"Fire Spin",danse_lames:"Swords Dance",dard_venin:"Poison Sting",deflagration:"Fire Blast",destruction:"Self-Destruct",detritus:"Sludge",devoreve:"Dream Eater",double_pied:"Double Kick",dracocharge:"Dragon Rush",dracorage:"Dragon Rage",e_coque:"Soft-Boiled",eclair:"Thunder Shock",eclat_glace:"Ice Shard",empal_korne:"Horn Drill",encore:"Encore",etincelle:"Spark",evolution:"Evolution",fatal_foudre:"Thunder",flammeche:"Ember",fouet_lianes:"Vine Whip",furie:"Fury Attack",griffe:"Scratch",grobisou:"Lovely Kiss",guillotine:"Guillotine",hate:"Agility",hydrocanon:"Hydro Pump",hypnose:"Hypnosis",jackpot:"Pay Day",jet_de_sable:"Sand Attack",jet_pierres:"Rock Throw",koud_korne:"Horn Attack",lance_flammes:"Flamethrower",lance_soleil:"Solar Beam",laser_glace:"Ice Beam",lechouille:"Lick",ligotage:"Wrap",massdos:"Bone Club",mawashi_geri:"Rolling Kick",meteores:"Swift",metronome:"Metronome",morphing:"Transform",morsure:"Bite",nitrocharge:"Flame Charge",ouragan:"Twister",paraspore:"Stun Spore",picpic:"Peck",pilonnage:"Barrage",pince_masse:"Crabhammer",piqure:"Bug Bite",pistolet_a_o:"Water Gun",poing_karate:"Karate Chop",poudre_dodo:"Sleep Powder",poudre_toxik:"Poison Powder",poudreuse:"Powder Snow",pouvoir_antique:"Ancient Power",pouvoir_lunaire:"Moonblast",provoc:"Taunt",psyko:"Psychic",rafale_psy:"Psybeam",repos:"Rest",rugissement:"Growl",secretion:"String Shot",surf:"Surf",teleport:"Teleport",tonnerre:"Thunderbolt",torgnoles:"Double Slap",trempette:"Splash",triplattaque:"Tri Attack",tunnel:"Dig",ultimapoing:"Mega Punch",ultralaser:"Hyper Beam",ultrason:"Supersonic",vampirisme:"Leech Life",vive_attaque:"Quick Attack",vol_vie:"Absorb"},zp={abri:"Makes the user invulnerable for a short time.",acide:"Gastric juice jet greatly reducing the targets defense",adaptation:"Temporarily changes its type to that of the attacks received.",amnesie:"Heals all current ailments of the caster",armure:"Increases the user's defense until the end of the fight - Stackable",balayage:"Wide attack that can hit up to 3 opponents in front",belier:"A violent charge that also injures the caster",berceuse:"Puts opponents around the user to sleep",blizzard:"Freezes all enemies and rains devastating hailstones",bomb_beurk:"Toxic bomb poisoning the area where it falls",bomb_oeuf:"Throws an explosive egg that deals damage in a wide area",brouillard:"Reduces the accuracy of opponents around the caster",cage_eclair:"Paralyzes all opponents around the user",cascade:"Drops a torrent of water that pushes the opponent back.",coud_boue:"Reduces target accuracy",croc_de_mort:"Powerful bite that scares the target for 3 seconds",crocs_feu:"A bite inflicting severe burns",danse_flammes:"Inflicts burns on all opponents around the user",danse_lames:"Circular attack dealing damage to all enemies around",deflagration:"Ignites the entire field and triggers eruptions on 8 random tiles",destruction:"Self-destruction pulverizing everything around",devoreve:"Terrifies the opponent with nightmare visions",dracorage:"Summons a storm that deals true damage in the area",e_coque:"Releases a magic egg that heals your entire team",eclair:"Lightning strikes a randomly selected opponent",empal_korne:"Impales the target with a stalagmite that rises from the ground",encore:"Reproduces the last special attack observed on the field",evolution:"Temporarily evolves into Flareon, Jolteon or Vaporeon depending on the target's type",fatal_foudre:"Causes lightning to strike 3 enemies and paralyzes all others",furie:"Increases the user's attack until the end of the battle - Stackable",grobisou:"An icy kiss that temporarily freezes the target",guillotine:"Deadly blow executing the target if less than 30% of their max HP",hate:"Increases the caster's speed until the end of the fight - Stackable",hydrocanon:"Geyser propelling the opponent into the air",hypnose:"Puts the target to deep sleep",jackpot:"Has a 50% chance of getting you a Pokball",jet_de_sable:"Blinds the enemy and reduces their accuracy by 50% for 8 seconds",lance_flammes:"Flame jet inflicting severe burns on the target",lance_soleil:"Absorbs solar energy then releases it in a powerful orb",laser_glace:"Freezes opponents for a short time on a straight line",ligotage:"Prevents the target from moving and deals damage over time",mawashi_geri:"A roundhouse kick that also hits the opponent behind the caster",meteores:"A shower of stars that hits every time",metronome:"Triggers a random ability from all existing ones",morphing:"Transforms into a copy of the target Pokmon - Keeps the same level and item",nitrocharge:"A violent flaming charge that also injures the caster",ouragan:"A tornado lifting all opponents in its path",paraspore:"Cloud of spores that paralyzes all enemies around the user",poudre_dodo:"Projects a powder that puts all nearby opponents to sleep",poudre_toxik:"Toxins poisoning all opponents around the caster",pouvoir_antique:"A prehistoric attack that increases all of the user's stats",pouvoir_lunaire:"Taunts all opponents within a 2-square radius",provoc:"Taunts all opponents within a 2-square radius",psyko:"Confuses the entire enemy team for 4 seconds before dealing heavy Psy damage",rafale_psy:"Psy energy wave passing through opponents",repos:"Falls asleep and regains a large portion of his HP while asleep",rugissement:"Temporarily reduces the attack of all nearby opponents",secretion:"Creates a sticky trap that slows the opponent's speed",surf:"Creates a giant wave that sweeps away everything in its path",teleport:"Teleports the user to a random tile on the board",tonnerre:"Deals heavy electrical damage around the user",trempette:"But nothing happened.",tunnel:"Dig a tunnel to a free tile on the board, attacking from the ground as you go",ultimapoing:"A devastating uppercut",ultralaser:"A powerful laser that pulverizes everything in a line",ultrason:"Sound wave that confuses affected Pokmon"},Wp={agatha:"Agatha",aldo:"Bruno",assistant_tuto:"Prof Oak Assistant",auguste:"Blaine",major_bob:"Lt. Surge",dresseur_argenta:"Roche the geologist",dresseur_azuria:"Anya the Swimmer",dresseur_camp_nomade:"Nancy the scout",dresseur_carmin:"Elton the Rocker",dresseur_cave_taupiqueur:"Joe the Burglar",dresseur_celadopole:"Valentine the City Girl",dresseur_centrale:"George the Mechanic",dresseur_champs_verdoyants:"Isabella the Florist",dresseur_col_de_montagne:"Bird Keeper Bret",dresseur_colline_royale:"Norbert the Dragon Fan",dresseur_cramoisile:"Isaac the Scientist",dresseur_dojo:"Koichi the Karate Master",dresseur_falaises:"Bob the Mountaineer",dresseur_foret_jade:"Calvin the Kid",dresseur_grotte_azuree:"Ugo the wise old man",dresseur_iles_ecume:"Jerry the Fisherman",dresseur_lavanville:"Henry the Gentleman",dresseur_mont_braise:"Duo Ron & Mya the Daredevils",dresseur_mont_selenite:"Arthur the Paleontologist",dresseur_oceane:"Firmin the Sailor",dresseur_pension:"Gale of the Pension",dresseur_piste_cyclable:"Karl the Thug",dresseur_safrania:"Polo the Physiotherapist",dresseur_tour_pokemon:"Gwen the Exorcist",erika:"Erika",giovanni:"Giovanni",hector:"Bugsy",koga:"Koga",morgane:"Sabrina",mr_psy:"Mister Psychic",olga:"Lorelei",ondine:"Misty",peter:"Lance",pierre:"Brock",rival:"Blue",sally:"Sally",sbire_rocket:"Team Rocket Grunt"},Hp={COMBAT:"Fighting",DRAGON:"Dragon",EAU:"Water",ELECTRIQUE:"Electric",FEE:"Fairy",FEU:"Fire",GLACE:"Ice",INSECTE:"Bug",NORMAL:"Normal",PLANTE:"Grass",POISON:"Poison",PSY:"Psychic",ROCHE:"Rock",SOL:"Ground",SPECTRE:"Ghost",VOL:"Flying"},Xp="You beat {{trainer}} !",kp="Your Pokmon gain {{xp}}xp",Kp="YES",Jp={not_enough_balls:{0:"Not enough",1:"pokeballs!"},box_full:{0:"Pokmon Box",1:"is full!"},capture_with:"Capture with"},jp="Loading...",Zp="Day {{day}}",$p={alliance_desc:Cp,continue:"Continue",defeat:Pp,descriptions:Rp,destination:Lp,destination_subtext:Op,dialog:Mp,gameover:Ip,home:Fp,item:wp,item_desc:Dp,menu:Np,new_game:bp,no:Bp,pokedex:Gp,pokemon:Up,room:Vp,skill:Yp,skill_desc:zp,trainer:Wp,type:Hp,victory:Xp,victory_xp:kp,yes:Kp,capture:Jp,loading:jp,day_number:Zp},Qp={COMBAT:"Les Pokmon Combat ne connaissent pas la peur et ont leurs stats augmentes avec le nombre d'adversaires les ciblant.",COMBAT2:"+5% ATK et DEF par adversaire",COMBAT4:"+10% ATK et DEF par adversaire",COMBAT6:"+20% ATK et DEF par adversaire",DRAGON:"Quand un Pokmon Dragon est le dernier Pokmon de l'quipe sur le plateau, il gagne de gros bonus  toutes ses statistiques.",DRAGON1:"+20% aux stats du dernier dragon",DRAGON2:"+40% aux stats du dernier dragon",DRAGON3:"+60% aux stats du dernier dragon",EAU:"Les Pokmon Eau sont insensibles aux Brlures. Les comptences Eau peuvent repousser la cible d'une ou plusieurs cases.",EAU2:"Repousse d'une case",EAU4:"Repousse de 2 cases",EAU6:"Repousse de 3 cases",ELEC2:"+10% VIT ; 2 dgats par coup reu",ELEC4:"+20% VIT ; 4 dgats par coup reu",ELEC6:"+30% VIT ; 6 dgats par coup reu",ELECTRIQUE:"Les Pokmon Electrique gagnent en Vitesse et infligent des dgats lectriques  chaque coup reu au contact.",FEE:"Les Pokmon Fe font gagner progressivement des PP  toute votre quipe.",FEE1:"+1 PP par seconde",FEE2:"+2 PP par seconde",FEE3:"+3 PP par seconde",FEU:"Les Pokmon Feu sont insensibles au Gel. Leurs attaques appliquent une brlure qui inflige des dgts sur la dure et rduit de 50% l'efficacit des soins.",FEU2:"2 brlures par attaque",FEU4:"3 brlures par attaque",FEU6:"4 brlures par attaque",GLACE:"Les Pokmon Glace sont entours d'une aura de gel qui ralentit les adversaires des cases adjacentes.",GLACE2:"-20% vitesse",GLACE3:"-30% vitesse",GLACE4:"-40% vitesse",INSECTE:"Les Pokmon Insecte grandissent et voluent plus rapidement. Ils gagnent un bonus d'exprience  chaque combat.",INSECTE2:"+20% aux gains d'exprience",INSECTE4:"+40% aux gains d'exprience",INSECTE6:"+60% aux gains d'exprience",NORMAL:"Les Pokmon normaux rduisent les pnalits de dgts reus lis aux faiblesses de types.",NORMAL2:"-30% de dgts de faiblesse reus",NORMAL4:"-60% de dgts de faiblesse reus",NORMAL6:"-90% de dgts de faiblesse reus",PLANTE:"Les Pokmon Plante ne peuvent pas tre repousss par les comptences adverses et se regnrent naturellement.",PLANTE2:"Regen 1% des HP max par seconde",PLANTE4:"Regen 2% des HP max par seconde",PLANTE6:"Regen 3% des HP max par seconde",POISON:"Les Pokmon Poison empoisonnent leurs cibles, infligeant des dgts sur la dure proportionnels  leurs PV max.",POISON2:"Dgts de poison infligs +40%",POISON4:"Dgts de poison infligs +80%",POISON6:"Dgts de poison infligs +120%",PSY:"Les Pokmon Psy sont insensibles  la Confusion, et leurs attaques font perdre des PP  leur cible.",PSY2:"La cible perd 2 PP par attaque",PSY4:"La cible perd 4 PP par attaque",PSY6:"La cible perd 6 PP par attaque",ROCHE:"Les Pokmon Roche rduisent les dgts reus lis aux altrations (poison, brlure).",ROCHE2:"-30% dgats d'altration",ROCHE4:"-60% dgats d'altration",ROCHE6:"-90% dgats d'altration",SOL:"Les Pokmon Sol creusent un tunnel pour se protger temporairement lorsqu'ils tombent sous un certain seuil de PV.",SOL2:"Tunnel  20% des PV",SOL4:"Tunnel  20% et 50% des PV",SOL6:"Tunnel  20%, 50% et 80% des PV",SPECTRE:"Les Pokmon Spectre ne peuvent pas tre endormis et leurs attaques effrayent leur cible, rduisant leur attaque.",SPECTRE2:"2 stacks de Peur par attaque",SPECTRE4:"4 stacks de Peur par attaque",SPECTRE6:"6 stacks de Peur par attaque",VOL:"Les Pokmon Vol s'envolent  l'oppos du plateau au dbut du combat, et peuvent esquiver les attaques reues.",VOL2:"20% de chances d'esquive",VOL4:"40% de chances d'esquive",VOL6:"60% de chances d'esquive"},qp={0:"Votre quipe est KO !",1:"Vous courrez jusqu'au centre Pokmon le plus proche."},_p={bed:"Ce n'est pas le moment d'aller dormir !",boat:"C'est une maquette de l'Ocane, le clbre bateau de croisire.",book:{0:"C'est mon cahier de cours d'tudes des Pokmon",1:"Les Pokmon normaux sont polyvalents, mais se font battre par les spcialistes du Combat.",2:"Les Pokmon de type Roche n'aiment pas l'eau.",3:"Les Pokmon aquatiques craignent l'lectricit.",4:"Les Pokmon de type Feu sont impuissants face  l'eau.",5:"Le feu est mortel pour les pokmon Plante.",6:"Les Pokmon Vol craignent la foudre.",7:"Les Pokmon lectriques sont neutraliss par la Terre.",8:"Les Pokmon Glace sont briss par la Roche.",9:"Les Pokmon Combat ont une faiblesse: les attaques Psy.",10:"Les Pokmon Sol rsistent bien au Poison.",11:"Les Pokmon Plante gagnent contre les Pokmon Sol au long terme.",12:"Les Pokmon Psy ont trangement peur des Insectes.",13:"Les Pokmon Insecte se font picorer par les oiseaux.",14:"Seul un Spectre peut vraiment faire face  un autre Spectre.",15:"Les Dragons peuvent tre pigs par la Glace."},book_insect:{0:"C'est un cahier de notes sur les volutions des Pokmon.",1:"Il est crit que {{name}} volue au niveau {{level}}",2:"Intressant. Je devrais garder a en mmoire !"},frigo:{0:"MAM: Tu as encore faim ? Un vrai estomac sur pattes !"},map:"C'est la carte de la rgion de Kanto.",pc_end:{0:"Enregistrer l'quipe dans le livre des records ?",1:"Enregistrement...",2:"Flicitations ! Vous et vos Pokmon tes clbres !",3:"... Fin de session."},pc_record:{0:"Bzzz... Ouverture du livre des records...",1:"Aucune donne disponible.",2:`Dernier matre de la ligue recens:
Matre en {{nbTours}} tours`,3:`{{nbCaptured}} Pokmon capturs
{{nbSeen}} Pokmon observs`,4:"Equipe de prdilection:",5:"Bzzz.. L'cran s'est teint..."},tv:{0:"La TV diffuse les actualits du jour...",1:"FLASH SPECIAL !",2:"On aurait aperu un Electhor  la centrale !",3:"Un Artikodin a t vu aux les Ecume !",4:"Le Mont Braise serait le repre d'un Sulfura !",5:"Nos journalistes tchent d'en savoir plus."}},tm={ARGENTA:"Argenta",ARGENTA_ARENA:"Arne d'Argenta",ARGENTA_SHOP:"Magasin d'Argenta",AZURIA:"Azuria",AZURIA_ARENA:"Arne d'Azuria",AZURIA_SHOP:"Magasin d'Azuria",BOURG_PALETTE:"Bourg Palette",BOURG_PALETTE_ROAD:"Route de Bourg Palette",CAMP_NOMADE:"Camp Nomade",CAMP_NOMADE_ARENA:"Arne sauvage",CARMIN:"Carmin sur mer",CARMIN_ARENA:"Arne de Carmin s.mer",CARMIN_SHOP:"Magasin de Carmin s.mer",CAVE_TAUPIQUEUR:"Grotte Taupiqueur",CAVE_TAUPIQUEUR_EAST:"Grotte Taupiqueur (Entre Est)",CAVE_TAUPIQUEUR_WEST:"Grotte Taupiqueur (Entre Ouest)",CELADOPOLE:"Cladopole",CELADOPOLE_ARENA:"Arne de Cladopole",CELADOPOLE_SHOP:"Magasin de Cladopole",CENTRALE:"Centrale lectrique",CHAMPS_VERDOYANTS:"Champs verdoyants",CHEMIN_COLLINE:"Chemin vers la Colline",COLLINE_ROYALE:"Colline des Rois",COL_MONTAGNE:"Col de Montagne",CRAMOISILE:"Cramois'le",CRAMOISILE_ARENA:"Arne de Cramois'le",CRAMOISILE_SHOP:"Magasin de Cramois'le",DOJO:"Dojo",FALAISES:"Falaises",FORET_JADE:"Fort de Jade",GROTTE_AZUREE:"Grotte Azure",HOME:"Chez Maman",ILES_ECUME:"les cume",JADIELLE:"Jadielle",JADIELLE_ARENA:"Arne de Jadielle",JADIELLE_SHOP:"Magasin de Jadielle",LABO_CHEN:"Labo du Prof. Chen",LAVANVILLE:"Lavanville",LAVANVILLE_ARENA:"Arne de Lavanville",LAVANVILLE_SHOP:"Maison Pokmon de Lavanville",LIGUE:"Ligue Indigo",LIGUE_FLOOR1:"Ligue Indigo - 1er tage",LIGUE_FLOOR2:"Ligue Indigo - 2me tage",LIGUE_FLOOR3:"Ligue Indigo - 3me tage",LIGUE_FLOOR4:"Ligue Indigo - 4me tage",LIGUE_FLOOR5:"Ligue Indigo - Dernier tage",LIGUE_HALL:"Hall de la Ligue",MAISON_PSY:"Maison de Mr Psy",MONT_BRAISE:"Mont Braise",MONT_SELENITE:"Mont Slnite",OCEANE:"L'Ocane",OCEANE_DECK:"Sur l'Ocane",PARC_SAFARI:"Parc Safari",PARMANIE:"Parmanie",PARMANIE_ARENA:"Arne de Parmanie",PARMANIE_SHOP:"Magasin de Parmanie",PENSION:"Pension Pokmon",PISTE_CYCLABLE:"Piste cyclable",ROUTE_VICTOIRE:"Route Victoire",ROUTE_VICTOIRE_ENTREE:"Route Victoire (Entre)",ROUTE_VICTOIRE_SORTIE:"Route Victoire (Sortie)",SAFRANIA:"Safrania",SAFRANIA_ARENA:"Arne de Safrania",SAFRANIA_SHOP:"Magasin de Safrania",TOUR_POKEMON:"Tour Pokmon"},em={ARENA:"Arne",BOURG_PALETTE:"Maman",CAPTURE:"Capture",CONSEIL_DES_4:"Conseil des 4",FIGHT:"Combat",SAFARI:"Capture  gogo",fast_travel:"Voyage rapide",fast_travel_AZURIA:"Voyage rapide vers Azuria",fast_travel_CARMIN:"Voyage rapide vers Carmin",fast_travel_CRAMOISILE:"Voyage rapide vers Cramois'le"},im=JSON.parse(`{"aftercapture":{"0":"Le {{name}} sauvage partage son exprience avant d'tre relach.","1":"Votre {{name}} gagne {{xp}} XP"},"agatha":{"defeat":{"0":"Tu as du talent, mais c'est insuffisant !"},"start":{"0":"Gnnn... Bonjour mon tout petit.","1":"Je suis Agatha du Conseil des 4 !","2":"Chen mise de grands espoirs sur toi, fiston !","3":"Sais-tu que ce vieux machin tait jadis un beau garon ?","4":"Enfin... Il y a trs longtemps !","5":"Il veut juste frimer avec son Pokdex !","6":"Mais c'est dbile ! Les Pokmon servent  combattre !","7":"Je vais te montrer comment les grands Dresseurs combattent !"},"victory":{"0":"Mmmm... Je vois pourquoi le vieux Chen t'apprcie autant !","1":"Mes ombres ont perdu. Tu peux passer."}},"aldo":{"defeat":{"0":"Vlan ! Dans les dents !"},"start":{"0":"Mon nom est Aldo du Conseil des 4 !","1":"Ma passion  moi et  mes Pokmon, c'est la muscu !","2":"Pour frimer sur la plage ou pour boxer les nabots,","3":"rien de tel qu'un corps de rve !","4":"Ton quipe... J'vais en faire du yaourt ! A table !"},"victory":{"0":"Bien jou, p'tit ! La prochaine t'attend !"}},"assistant1":{"0":"Je pose la racine carre, je retiens cinq...","1":" \\"Hmm ? C'est pour quoi ?\\"","q1":"Qui tes-vous ?","q2":"O suis-je ?","q3":"Que faites-vous ?","r1":"\\"J'assiste le PROF. CHEN. Je suis donc son... ASSISTANT !\\",","r2":"Tu te trouves au labo Pokmon de Bourg Palette.","r3":"Nous tudions ici les diffrentes espces de Pokmon de Kanto.","r4":"Je regroupe les dernires donnes recueillies par les dresseurs comme toi.","r5":"En tudiant vos combats, nous recueillons des informations sur les Pokmon.","r6":"Ces informations sont ensuite regroupes dans le Pokdex.","r7":"C'est utile pour nos recherches, mais aussi pour vos stratgies de combat."},"assistant2":{"0":"Cette machine garde en mmoire les quipes de Pokmon qui se sont illustres","1":"en battant le Conseil des 4 de la Ligue Pokmon.","2":"Analyser les meilleures quipes nous permet d'en apprendre un maximum !","3":"Si tu parviens  battre la ligue, nous ajouterons avec plaisir ton quipe."},"assistant_tuto":{"defeat":{"0":"La prochaine fois, sers-toi de mes Pokballs !","1":"Tu augmenteras nettement tes chances de victoire !"},"start":{"0":"Une minute ! Si tu veux monter une quipe, il te faut des Pokballs !","1":"Tiens, voil 5 Pokballs pour capturer tes premiers Pokmon.","2":"Sais-tu comment on s'en sert ?","no0":"Tu peux capturer un Pokmon sauvage plutt que de l'affronter.","no1":"Plus le Pokmon est puissant, plus il te faudra de Pokballs pour le capturer.","no2":"Un Pokmon captur rejoint ta box, qui peut contenir jusqu' 8 Pokmon.","no3":"Tu peux ensuite les dplacer de ta box vers le terrain pour qu'ils combattent.","no4":"Vas-y, essaie de capturer ces Pokmon sauvages !","yes0":"Trs bien, alors capture ces Pokmon sauvages. Ou mets-les KO, comme tu veux !"},"step2":{"0":"Tes Pokmon deviennnent plus fort en gagnant de l'exprience aprs un combat.","1":"Mais il existe une autre manire de faire monter en exprience un Pokmon.","2":"Il suffit de capturer un Pokmon sauvage de la mme espce.","3":"Il partagera son exprience avec ton Pokmon avant d'tre relch.","4":"Tiens, essaie tout de suite. Essaie de capturer mon {{name}}."},"step3":{"0":"Plus le niveau du Pokmon captur est lev, plus il donnera d'exprience","1":"Rappelle-toi, cela marche uniquement si les Pokmon sont de la mme espce !","2":"Bien, tu sais tout. Bon voyage et bonne chance!"},"victory":{"0":"Bien, tu sembles te dbrouiller comme un chef !"}},"auguste":{"defeat":{"0":"Maintenant tu sais de quel bois je me chauffe !"},"start":{"0":"Salutations. Mon nom est... Auguste !","1":"Je suis le Champion de l'Arne de Cramois'le !","2":"Mes Pokmon flamboyants vont te rduire en cendres !","3":"Haha ! Il va bientt faire trs chaud !"},"victory":{"0":"Vlouff ! Je me suis fait vaporiser !","1":"Tu as gagn le badge Volcan !","2":"Plus tu possdes de badges, plus les combats sont coriaces !","3":"C'est le prix  payer pour monter jusqu' la Ligue !"}},"bob":{"defeat":{"0":"Ha ! Une dfaite foudroyante !","1":"Un p'tit conseil, gamin ! L'lectricit est trs puissante !","2":"Mais elle est impuissante face aux Pokmon de la terre !"},"start":{"0":"H, gamin ! Tu fais quoi l ?","1":"Tu ne rsisterais pas longtemps en temps de guerre !","2":"Je vais te dire, mes Pokmon lectriques m'ont sauv la vie !","3":"Et ouais ! Ils ont paralys mes ennemis avec leurs clairs !","4":"Une vraie boucherie ! Y va t'arriver la mme chose !","5":"Compte tes dents ! Tu vas morfler !"},"victory":{"0":"Whoo ! Gard'vous ! T'es un dur, mon p'tit gars !","1":"Trs bien, prends le BADGE FOUDRE !","2":"T'en auras besoin pour rentrer dans la Ligue Pokmon."}},"chen":{"0":"Bonjour Red ! Alors c'est aujourd'hui le grand jour !","1":"Le jour de ton voyage initiatique comme dresseur Pokmon !","2":"Tu vas voyager  travers tout Kanto, capturer des Pokmon,","3":"monter une quipe et affronter les 8 champions d'arnes.","4":"Peut-tre mme te confronter  la ligue Pokmon si tu en es capable !","5":"Mais d'abord, il te faut adopter ton premier Pokmon.","6":"Nous en avons captur trois dans les pokeballs derrire moi.","7":"Il y en a un pour toi. Allez ! Choisis-en un !","8":"Vas-y, tu peux prendre une des pokballs sur la table derrire moi.","9":"{{pokemon}} ? Excellent choix !","10":"Ton Pokmon te protgera des Pokmon sauvages.","11":"Mais tout seul il ne sera pas de taille face aux champions d'arne!","12":"Il te faudra capturer des Pokmon sauvages pour composer une quipe.","13":"Chaque espce de Pokmon a ses forces et faiblesses. N'oublie pas a:","14":"La cl de la victoire est une quipe quilibre et bien positionne.","15":"Tu devrais te rendre dans une ville voisine pour capturer d'autres Pokmon.","16":"Bon voyage et bonne chance !","17":"Vas-y, enregistre ton quipe sur l'ordinateur pour la postrit !","18":"Hum-hum! Flicitations !","19":"Cet tage est rserv aux clbrits Pokmon !","20":"Les Champions de la Ligue sont consacrs ici !","21":"Leurs Pokmon sont enregistrs en tant que Clbrits !","22":"Long fut ton priple jusqu' la victoire ! Encore bravo."},"dresseur_argenta":{"defeat":{"0":"Alors, on a un coup de calcaire ?"},"start":{"0":"Tu as vaincu Pierre, mais moi je suis solide comme un roc !"},"victory":{"0":"Je crois que j'ai un caillou dans ma chaussure..."}},"dresseur_azuria":{"defeat":{"0":"Alors, ta stratgie a pris l'eau ?"},"start":{"0":"De l'eau a coul sous les ponts depuis ta victoire contre Ondine.","1":"Je suis plus frache que jamais ! Attends-toi  un raz de mare !"},"victory":{"0":"Gloups, j'ai bu la tasse !"}},"dresseur_camp_nomade":{"defeat":{"0":"Alors, tu as des fourmis dans les jambes ?"},"start":{"0":"Minute Papillon !","1":"Je vais te montrer ma collection d'insectes !","2":"Attends-toi  un combat pas piqu des hannetons !"},"victory":{"0":"Ae ! Je me suis fait piquer par un moustique !"}},"dresseur_carmin":{"defeat":{"0":"a c'est du rock !!!"},"start":{"0":"Hey t'es venu pour mon concert ? L'ambiance est lectrique ici !","1":"Comment a, non ? T'as jamais cout mon CD ?!","2":"Je vais pas te laisser gcher la fte !"},"victory":{"0":"a y est t'as ruin l'ambiance !"}},"dresseur_cave_taupiqueur":{"defeat":{"0":"a t'apprendra  venir fouiner dans les coins sombres !"},"start":{"0":"Hein ? Non, c'est pas moi !","1":"J'ai un alibi ! J'tais au cinma !"},"victory":{"0":"Pas la peine de s'nerver ! Tiens, prends ces Pokballs !","1":"Et... on dit que tu ne m'as jamais vu, OK ?"}},"dresseur_celadopole":{"defeat":{"0":"Finalement je n'ai plus trop envie qu'on trane ensemble, hi hi !"},"start":{"0":"Je t'ai dj crois en ville, non ?","1":"Je peux te faire entrer dans les clubs de dresseurs les plus chics ici !","2":"Mais tu dois d'abord prouver que tu le mrites !  l'attaque !"},"victory":{"0":"Mais euh ! Tu tais cens me laisser gagner !","1":"Vous autres provinciaux n'avez aucun savoir vivre !"}},"dresseur_centrale":{"defeat":{"0":"C'tait une victoire clair !"},"start":{"0":"H, t'as pt les plombs ?","1":"C'est pas un endroit pour les enfants ici !","2":"Mon quipe de Pokmon va te foudroyer !"},"victory":{"0":"Je me suis pris un sacr coup de jus !"}},"dresseur_champs_verdoyants":{"defeat":{"0":"Je vais te faire une fleur et te donner un conseil:","1":"Mme les plus belles roses ont besoin d'pines.","2":"Il te faut une bonne attaque si tu veux gagner."},"start":{"0":"Tiens ? Qui es-tu  arriver comme une fleur ?","1":"C'est mon coin ici ! Je vais t'envoyer sur les roses !"},"victory":{"0":"Mon quipe a t envoye dans les pquerettes !","1":"Raaaah tu m'as mis les nerfs  fleur de peau !"}},"dresseur_col_de_montagne":{"defeat":{"0":"Va-t'en  tire-d'aile avant d'y laisser des plumes !"},"start":{"0":"Salut blanc-bec, tu t'es perdu ?","1":"Ne compte pas sur moi pour te prendre sous mon aile !","2":"Moi je cherche plutt la prise de bec !"},"victory":{"0":"Ouille, j'ai du plomb dans l'aile ! Bisous je m'envole !"}},"dresseur_colline_royale":{"defeat":{"0":"Mes dragons sont si forts ! si terrifiants !","1":"si puissants ! si... ah, il est parti."},"start":{"0":"Tu cherches des Pokmon Dragons ?","1":"Moi aussi ! Moi aussi !","2":"Ils sont si grands ! si beaux ! si majestueux !","3":"Ils sont  moi ! Tu m'entends ?  moi seul !"},"victory":{"0":"La force ancestrale du dragon m'a abandonn !"}},"dresseur_cramoisile":{"defeat":{"0":"Eurka !"},"start":{"0":"Ah, un nouveau sujet d'exprience !","1":"Laisse-moi te montrer le fruit de mes recherches..."},"victory":{"0":"Mes calculs ne sont pas bons !"}},"dresseur_dojo":{"defeat":{"0":"Ton entranement n'est pas encore suffisant ! Ayaaaaa !"},"start":{"0":"P'tit faiblard ! Je suis le GRAND MAITRE de KARATE !","1":"Tu me provoques ? Tu veux t'battre ?","2":"Tu cherches le contact ? HAHAHA ! Ayaaaaa !"},"victory":{"0":"STOP ! Tu m'as battu ! J'ai honte !","1":"OK, tu as gagn ! Mais ne va pas le crier sur tous les toits !"}},"dresseur_falaises":{"defeat":{"0":"Alors, on est sur la corde raide ?"},"start":{"0":"Salut petit gars ! Je suis le plus grand grimpeur de Kanto !","1":"Et j'ai bien l'intention de me hisser au sommet !","2":"Un combat ? C'est dans mes cordes !"},"victory":{"0":"Bon, j'ai perdu, on va pas en faire toute une montagne !"}},"dresseur_foret_jade":{"defeat":{"0":"Ouaiiiis j'ai gagn pour la premire fois !"},"start":{"0":"T'es un dresseur Pokmon ? Moi aussi !","1":"J'ai captur plein de Pokmon insectes !","2":"Maintenant on doit faire un combat, c'est la rgle !"},"victory":{"0":"Je vais le dire  ma mre !"}},"dresseur_grotte_azuree":{"defeat":{"0":"Hmm... Ton quipe s'est fait refroidir.","1":"Que fais-tu encore ici ? Tu attends le dgel ?"},"start":{"0":"Hmmm... Drle d'endroit pour une rencontre.","1":"Laisse moi briser la glace. En garde !"},"victory":{"0":"Ma dfense a fondu comme neige au soleil !"}},"dresseur_iles_ecume":{"defeat":{"0":"Je suis frais comme un gardon !"},"start":{"0":"Fais pas de bruit, tu fais fuir les poissons !"},"victory":{"0":"J'aurais pas de belles prises aujourd'hui..."}},"dresseur_lavanville":{"defeat":{"0":"Allez vous reposer, la nuit porte conseil. Et croyez en vos rves !"},"start":{"0":"Sally m'a beaucoup parl de vous.","1":"Me ferez-vous l'honneur d'un combat ?"},"victory":{"0":"C'tait un combat magique, je n'aurais pas rv mieux."}},"dresseur_mont_braise":{"defeat":{"0":"Tu vois ce que a fait d'tre pris entre deux feux !"},"start":{"0":"Eh bien que fait un jeune garon dans un endroit pareil ?","1":"Tu n'as pas froid aux yeux, toi !","2":"H Ron, si on lui faisait un baptme du feu ?"},"victory":{"0":"Cessez-le-feu ! Viens Ron, on s'en va !"}},"dresseur_mont_selenite":{"defeat":{"0":"Tu ne feras pas de vieux os ici, mieux vaut que tu partes."},"start":{"0":"Je suis  la recherche de fossiles, tu n'en aurais pas vu ?"},"victory":{"0":"Il semblerait que ce soit moi le fossile..."}},"dresseur_oceane":{"defeat":{"0":"J'ai le vent en poupe aujourd'hui !","1":"Allez, les perdants  la cale ! Ha ha, je rigole !"},"start":{"0":"Ahoy, marin d'eau douce !","1":"La traverse va tre longue...","2":"Faisons un combat pour passer le temps !","3":"Prt ? Larguez les amarres !"},"victory":{"0":"Bon, je dois aller souquer les artimuses... Bon vent !"}},"dresseur_parmanie":{"defeat":{"0":"Nous sommes de retour...\`, \`Pour vous jouer un mauvais tour..."},"start":{"0":"Dgage sale morveux !","1":"La Team Rocket mne des oprations secrtes ici !"},"victory":{"0":"La team Rocket s'envole vers d'autres cieux !"}},"dresseur_pension":{"bye":{"0":"Je prendrais soin de tes Pokmon en ton absence !","1":"Reviens quand tu veux !"},"start":{"0":"Tiens, c'est toi ! Tu viens nous confier des Pokmon ?","1":"Ah, te revoil ! Tes Pokmon ont bien grandi, regarde !","2":"Bienvenue  la Pension !","3":"Ici on prend soin des Pokmon quand leur propritaire doit s'absenter.","4":"Tu peux nous confier certains de tes Pokmon si tu veux.","5":"Il y a aussi des Pokmon qui ne cherchent qu' tre adopts !","6":"Leur type est banal alors ils n'intressent pas les autres dresseurs..."}},"dresseur_piste_cyclable":{"defeat":{"0":"Allez, je mets les gaz,  plus gros naze !"},"start":{"0":"Allez gamin, aboule ton quatre heures ! J'ai faim !","1":"Essaie pas de fuir ! Mate un peu ma bcane !","2":"Tu n'iras pas loin avec ta petite bicyclette !"},"victory":{"0":"Raaah t'as ray la carroserie ! Vite, au garage !"}},"dresseur_safrania":{"defeat":{"0":"La force brute ne vaut rien contre la puissance de l'intellect !"},"start":{"0":"Tu oses revenir ici ? Tu as perdu l'esprit ?","1":"Nous autres adeptes Psy nous battons  la force du mental !","2":"Ma puissance va te faire tourner la tte !"},"victory":{"0":"Tu m'as donn la migraine !"}},"dresseur_tour_pokemon":{"defeat":{"0":"a... ? a a march ?","1":"Les dmons ne prennent pas les coups d'habitude..."},"start":{"0":"Arrire, dmon !!!"},"victory":{"0":"AaAaaaAaaah !!! Fuyez pour vos vies !!!"}},"erika":{"defeat":{"0":"Perdre fait toujours un peu mal mais...","1":"Combattre un bon adversaire est stimulant... ","2":"Allez, ne reste pas plant l !"},"start":{"0":"Bonjour et sois le bienvenu. Il fait beau, n'est-ce pas?","1":"J'aime la vie. J'aime les fleurs et les chansons. C'est chou, non?","2":"Moi, c'est ERIKA, la Championne de l'arne de Cladopole.","3":"L'arrangement floral est ma spcialit.","4":"Mes Pokmon sont du type plante.","5":"Il fit grand froid hier, alors j'ai mis un pull.","6":"Hein? Tu veux te battre? Bah... Dis-le, mon vieux !","7":"Tu sais quoi? Tu vas perdre!"},"victory":{"0":"Oh! J'ai perdu? Bien jou. C'est mrit.","1":"Je te confie le BADGE PRISME.","2":"Chaque badge obtenu te fait affronter des Pokmon plus forts.","3":"Tu l'avais remarqu ?"}},"evolve":"{{old}} volue en {{new}} !","exitlab":{"0":"Le prof Chen m'a promis de me confier mon premier Pokmon aujourd'hui.","1":"Je ne compte pas repartir d'ici sans lui !"},"find":"trouvez","giovanni":{"defeat":{"0":"Tu lves tes Pokmon trop soigneusement.","1":"Un gosse comme toi ne peut pas comprendre mes plans !"},"start":{"0":"Je dois dire que je suis surpris que tu sois arriv jusqu'ici !","1":"Te voici dans mon repaire ! Je compte reformer la Team Rocket ici !","2":"Tu oses me dfier, moi, le grand Giovanni ? Tu vas dguster !"},"victory":{"0":"Ah ! Voil ce que j'appelle du combat ! Tu as gagn !","1":"En rcompense voici le badge Terre !","2":"Une fois les 8 badges obtenus, tu peux te confronter  la Ligue Pokmon.","3":"Tu peux y accder par la Route Victoire  l'ouest d'ici.","4":"Je ne suis pas digne d'tre le chef de la Team Rocket !","5":"Ainsi, son existence s'achve avec ma dfaite !","6":"Je vais me retirer, loin, en ermite, pour tudier les Pokmon !","7":"Un jour, nos chemins se croiseront  nouveau ! Adieu !"}},"guide":{"argenta":{"0":"La montagne qui culmine au dessus d'Argenta est le Mont Slnite.","1":"Il s'agit d'une des rgions les plus anciennes de Kanto !","2":"On dit qu'on peut y trouver de nombreux fossiles de Pokmon disparus.","3":"Imagine si on pouvait leur redonner vie..."},"azuria":{"0":"Ce bateau, l, c'est l'Ocane !","1":"Il est beau, hein ?","2":"Il va en croisire permanente entre Azuria, Carmin sur Mer et Cramois'le.","3":"Si tu veux monter dedans au bon moment, tu devrais mmoriser ce trajet !"},"carmin":{"0":"J'ai pris le raccourci de la Cave Taupiqueur pour venir ici plus vite.","1":"Mais j'ai quand mme rat le dpart du bateau, alors j'attends ici..."},"celadopole":{"0":"La Colline Royale qui surplombe Cladopole est un endroit lgendaire.","1":"On raconte qu'on peut y croiser des Pokmons Dragon !","2":"Mais le chemin est bloqu par un norme Pokmon endormi...","3":"Si seulement on trouvait un moyen de le rveiller..."},"cramoisile":{"0":"Je travaille au Laboratoire d'tude des Pokmon du Dr. Fuji.","1":"J'tudie les fossiles rares de Pokmon.","2":"Comment ? Tu as trouv un fossile ?","3":"Montre-le moi, allez montre-le !","4":"Incroyable ! Il est en parfait tat !","5":"Je pourrais peut-tre mme... le ramener  la vie !","6":"Tu veux bien me le confier ?","7":"Excellent ! Je reviens vite !","8":"Incroyable !","9":"C'est un {{name}} ! Je les croyais disparus !","10":"Hmm ? Quoi ?","11":"Ah, oui, je suppose qu'il est  toi...","12":"Vous recevez un {{ name }} ramen  la vie !\`,","13":"Reviens me voir si tu trouves d'autres spcimens !","14":"Mais... mais... c'est pour la science !","15":"J'ai conu une machine de rsurrection des fossiles Pokmon !","16":"Mais je n'ai pas encore de spcimens d'assez bonne qualit."},"jadielle":{"0":"J'ai voulu aller sur la route Victoire  l'ouest, mais on ne m'a pas laiss passer...","1":"Seuls ceux qui ont les huit badges d'arne peuvent accder au plateau Indigo.","2":"C'est pas juste ! Je veux aller voir les Champions de la Ligue !"},"lavanville":{"0":"Lavanville est une ville plutt tranquille, coince entre les montagnes...","1":"Mais il y a quelques lieux d'intrt, comme la Tour Pokmon ou la Centrale."},"ligue":{"0":"Ah, alors tu veux des infos sur les Champions de la Ligue ?","1":"Pour prtendre au titre de matre de la Ligue Pokmon,","2":"tu devras affronter les 4 membres du Conseil des 4 l'un aprs l'autre.","3":"Tout d'abord tu affronteras Olga, la reine de la glace !","4":"Dbarasse-toi en rapidement avec que ton quipe soit transforme en glaon.","5":"Ensuite vient Aldo, spcialiste du combat et de la force brute.","6":"Ses Pokmon sont costauds, il va falloir ruser pour le vaincre !","7":"En troisime, la terrifiante Agatha et ses Pokmon Spectre !","8":"Ils sment la confusion dans ton quipe, alors peaufine ton placement.","9":"Enfin tu affronteras Peter, matre des Dragons.","10":"Les Dragons sont trs tenaces. Il te faudra donner tout ce que tu as !","11":"Voil, je ne sais pas ce qu'il y a aprs. Je n'ai jamais pu aller plus loin !","12":"Ah, je croyais que... non, laisse tomber."},"parmanie":{"0":"Le Parc Safari est la grande attraction de Parmanie.","1":"Il attire plein de dresseurs Pokmon de tout Kanto !","2":"On y trouve une grande varit de Pokmon de tous types.","3":"Mais les combats y sont interdits pour prserver leur tranquilit."},"safrania":{"0":"J'ai laiss mon Pokmon  la Pension au nord pendant quelques jours.","1":"Je l'ai retrouv en pleine forme, plus fort que jamais !","2":"L'leveur de la Pension fait vraiment un travail remarquable."}},"healer":{"0":"Les combats dans la Ligue sont trs prouvants pour tes Pokmon.","1":"Mais nous prenons soin de soigner toute ton quipe entre chaque combat."},"hector":{"defeat":{"0":"Les Pokmon insecte ont des talents cachs.","1":"Il faudra encore du temps pour tous les dcouvrir.","2":"tudies-les minutieusement."},"start":{"0":"Tiens, tu as trouv mon camp ? Moi, c'est Hector!","1":"Je suis venu tudier les Pokmon Insecte de cette rgion.","2":"Personne ne connait mieux les Pokmon Insecte que moi!","3":"Quand je serai adulte, je serai un grand expert en Pokmon Insecte!","4":"Tu veux que je te montre ?","5":"Prpare toi  admirer le rsultat de mes recherches!"},"victory":{"0":"Wah, a alors ! Tu connais vraiment bien les Pokmon !","1":"Ah, j'ai encore beaucoup  apprendre! ... ","2":"Oui, je sais ! Prends mon filet  insecte comme rcompense !","3":"Tu verras, il te sera trs utile !","4":"Bien, je vais lever le camp. J'ai fini ce que j'avais  faire ici.","5":"Ce coin regorge de Pokmon exotiques, tu devrais y repasser !"}},"item_no_use":"a ne marchera pas ici...","item_received":"Vous {{verb}}: {{label}} {{quantity}}","item_use":"Utiliser {{item}} ?","koga":{"defeat":{"0":"Ha ha ! Il est temps de t'apprendre que certains Pokmon","1":"ne peuvent pas tre vaincus par la force pure !"},"start":{"0":"Gwahahaha ! Un nain ose me dfier ?","1":"Moi, le grand le beau le terrible Koga ?","2":"Par l'enfer, par le sang, par l'acier, j'vais gagner !","3":"Puisse la poigne de mes poisons ptrifier de peur tes petits Pokmon !"},"victory":{"0":"Gwaha... heu ? Tu as prouv ta valeur !","1":"Ouvre ta mimine, car voici... le BADGE ME !","2":"J'ai combattu de toutes mes forces...","3":"Mais... Je ne suis pas assez fort.","4":"Va dans la prochaine arne ! Explore tes limites !","5":"Bonne chance !"}},"levelup":"{{name}} passe au niveau {{level}}","mom":{"after_gift":"Bon courage dans ton aventure !","gift1":"Tiens, avant que tu partes... J'ai retrouv a sous ton lit.","gift10":"Elle permet d'ajouter un nouveau type  un de tes Pokmon !","gift11":"J'espre que a te sera utile.","gift12":"Tu es parti depuis un bon moment. Tu t'es fait de nouveaux amis ?","gift13":"Je suis passe au magasin et j'ai trouv quelque-chose pour toi.","gift14":"Le vendeur m'a dit que tous les meilleurs dresseurs en avaient un !","gift15":"Mais il faut bien choisir le Pokmon  qui le donner.","gift16":"Cela fait si longtemps que tu as quitt la maison !","gift17":"Tu dois avoir beaucoup d'histoires  raconter.","gift18":"Pour ton retour, je voudrais t'offrir un cadeau:","gift19":"Toutes les conomies y sont passes ! Mais c'est une occasion spciale.","gift2":"Tu n'es pas parti longtemps. Comment a va ?","gift20":"Tu es si proche de ton but ! Je crois en toi mon chri !","gift3":"J'ai cueilli des baies au jardin. Tes Pokmon vont adorer !","gift4":"Comment se passe ton aventure ?","gift5":"Tiens, j'ai trouv a pour toi au Labo du Prof Chen.","gift6":"Le voyage se passe bien ?","gift7":"As-tu captur beaucoup de Pokmon ?","gift8":"Tiens, j'ai quelque-chose  t'offrir.","gift9":"C'est une gemme trs rare.","hello":"Bonjour, mon chri !"},"morgane":{"defeat":{"0":"C'est exactement ce que j'avais prdit."},"start":{"0":"J'avais prdit ton arrive !","1":"J'ai des pouvoirs psychiques depuis l'enfance.","2":"J'ai appris  plier les cuillres par la force de mon esprit.","3":"C'est pas super utile, mais a en jette !","4":"Je n'aime pas les combats, mais si tu insistes, je vais te montrer mes pouvoirs !"},"victory":{"0":"Ha! Je suis surprise ! Tu as gagn.","1":"C'est vrai, je n'ai pas fait de mon mieux !","2":"Tu mrites ta victoire ! Tu gagnes le BADGE MARAIS !","3":"Le Badge Marais renforce les pouvoirs occultes...","4":"Et a... C'est pas de la gnognotte.","5":"Tu deviendras un Matre ! Je le sens !"}},"mr_psy":{"defeat":{"0":"Quelle dception !","1":"Reviens me voir et je te laisserai capturer d'autres Pokmon Psy","2":"Ton quipe a besoin d'amliorer son mental !"},"start":{"0":"Ah, te revoil ! Alors, as-tu entran le mental de tes Pokmon ?","1":"C'est l'heure de... l'valuation !"},"victory":{"0":"C'est un 10/10 ! Tu es diplm de l'cole de Monsieur Psy !"}},"olga":{"defeat":{"0":"Comment as-tu oz venir ici ?"},"start":{"0":"Bienvenue  la Ligue Pokmon !","1":"Je zuis Olga du Conzeil des 4 !","2":"Je zuis la matrezze des Pokmon de glaze !","3":"Et la glaze... Z'est drop fort !","4":"Tes Pokmon zeront  ma merzi une fois gels !","5":"Ach ! Ach ! Ach ! Z'est parti !"},"victory":{"0":"Tu es fort. Z'est bien.","1":"Mais la Ligue Pokmon te rzerve d'autre zurprizes !"}},"ondine":{"defeat":{"0":"Haha, on dirait que ton quipe a pris l'eau !","1":"Il va te falloir trouver une autre tactique."},"start":{"0":"Salut ! T'es un nouveau ?","1":"Si tu veux tre un vrai dresseur, il te faut une stratgie !","2":"C'est quoi ta tactique pour capturer les Pokmon sauvages ?","3":"Moi je leur fonce dans le tas avec mes Pokmon aquatiques !"},"victory":{"0":"Whouha ! T'es super fort ! Trs bien !","1":"Je te donne le BADGE CASCADE pour m'avoir battue!","2":"Ce badge t'ouvre le chemin vers la grotte au nord d'Azuria."}},"peter":{"defeat":{"0":"Je n'abandonne jamais. Et toi ?"},"start":{"0":"Ah ! Enfin... J'ai entendu parler de toi !","1":"Je rgne sur le Conseil des 4 !","2":"Mon nom est Peter le Dresseur de Dragons !","3":"Les dragons sont des Pokmon mystiques !","4":"Les capturer et les entraner est difficile mais leurs pouvoirs sont suprieurs !","5":"Ils sont presque invincibles !","6":"Le glas de la dfaite et de la honte sonne pour toi...","7":"L'entends-tu ?"},"victory":{"0":"Comment mes dragons ont-il pu succomber  tes attaques?","1":"Tu es dsormais le Matre de la Ligue Pokmon !","2":"Enfin... Pas tout  fait.","3":"Une preuve doit encore t'tre impose...","4":"Un autre grand Dresseur t'attend.","5":"Il a vaincu le Conseil des 4 avant toi !","6":"C'est le vrai Matre de la Ligue Pokmon !"}},"pierre":{"defeat":{"0":"Tes Pokmon n'ont pas pu passer ma dfense de pierre...","1":"Entrane-les et reviens m'affronter quand tu seras assez fort."},"start":{"0":"Je suis Pierre ! Je suis le Champion d'Argenta !","1":"Je crois en la grande rsistance de la pierre !","2":"C'est pourquoi mes Pokmon sont des lmentaires de pierre !","3":"Tu veux toujours te battre avec moi ? Trs bien. En garde !"},"victory":{"0":"Hmm... Beau combat.","1":"Tu sembles tre un Dresseur d'exception !","2":"En reconnaissance de ta victoire, voici le BADGE ROCHE !","3":"C'est un Badge officiel de la Ligue Pokmon !","4":"Il t'en faudra huit pour pouvoir affronter le Conseil des 4."}},"receive":"recevez","relacher":"Relcher {{name}} et rcuprer {{cost}} Pokball ?","rival":{"defeat":{"0":"Tu m'as amus un peu !","1":"T'es vraiment un minable !","2":"Mais je crois que tu commences  le savoir, minable!"},"start":{"0":"Salut minable. Je t'attends depuis une bonne plombe !","1":"Ton devoir en tant que rival est d'entraner mes Pokmon.","2":"En amliorant mon Pokdex, j'ai recherch les Pokmon surpuissants!","3":"J'ai cr l'quipe ultime, efficace contre tous les types de Pokmon!","4":"a t'pate, hein ?","5":"Je suis le Matre! Tu sais c'que a veut dire?","6":"Je suis le dresseur le plus puissant du monde! Yaaa!"},"victory":{"0":"Qu... Comm... Hein? Moi? Pourquoi? WHAAAAAAAAAAA!","1":"J'ai entran mes Pokmon  la perfection... Et zut alors!","2":"Tu es le nouveau Matre! Alors a... a me la coupe"}},"sally":{"defeat":{"0":"C'est beau, l'nergie de la jeunesse.","1":"Mais la puissance des attaques ne fait pas tout...","2":"Commencerais-tu enfin  comprendre ce qu'est la frie ?"},"start":{"0":"Tiens, tiens. J'ai entendu parler de toi, mon enfant.","1":"Je suis Sally, la championne d'arne de Corrifey de la rgion de Galar.","2":"Je suis venu  Lavanville pour rendre visite  un vieil ami...","3":"Cet endroit a quelque-chose de frique  mes yeux.","4":"Bien, que dirais-tu d'un combat ?","5":"a m'intresserait de voir comment tu te bats..."},"victory":{"0":"Flicitations pour cette victoire! Je me suis follement amuse !","1":"Mme si j'ai pass lge pour ce genre de choses...","2":"Tu me rappelles mon mari dans ces jeunes annes.","3":"Tu sais quoi ? Tu devrais prendre ce parapluie.","4":"Il m'a t trs utile lors de mes voyages","5":"Allez, ouste ! Tu as une Ligue  affronter !"}},"salut":"Salut ?","sbire_rocket":{"defeat":{"0":"Mouahaha ! C'est la renaissance de la team Rocket !"},"start":{"0":"Giovanni est peut-tre parti, mais la Team Rocket ne meurt jamais !","1":"J'ai bien l'intention de prendre sa place ! A l'attaque !"},"victory":{"0":"La Team Rocket s'envole vers d'autres cieux ! "}},"sbire_rocket_tuto":{"defeat":{"0":"Allez, dgage d'ici minus, et reviens quand tu auras une vraie quipe !"},"start":{"0":"Eh toi l, qu'est-ce que tu fiches ici ?","1":"Ici c'est le territoire de Giovanni, notre chef et matre de l'arne !","2":"Quoi ? Tu comptes te mesurer  lui ? Laisse-moi rire !","3":"Je vais te montrer la puissance de la Team Rocket !"},"victory":{"0":"Hmpff ! Tu es plus coriace que tu en as l'air... ","1":"Mais a ne change rien ! Giovanni va te rgler ton compte !","2":"Reviens plus tard quand tu auras une vraie quipe."}},"sellerf":{"hello":"Bonjour ! Que dsirez-vous ?"},"sellerm":{"hello":"Bonjour ! Quelque-chose vous intresse ?"},"shop":{"confirm_one":"1 {{item}} pour {{count}} ball, c'est a ?","confirm_other":"1 {{item}} pour {{count}} balls, c'est a ?","nomoney":"Tu n'as pas assez de Pokballs, gamin !"},"sleeping_pokemon":{"0":"Un Pokmon endormi bloque le chemin.","1":"Le rveiller avec la Pok Flute ?"},"starter":{"after":"J'aurais peut-tre d prendre {{name}}...","choose":"Choisir {{name}} comme starter ?","chosen":"Vous choisissez {{name}} !"},"trader":{"aftertrade":"Trop cool, un {{name}} !","nopokemon":{"0":"Salut, tu veux changer des Pokmon ?","1":"Si tu as des Pokmon en rserve dans ta box, on peut se les changer !"},"tradeaccepted":"Vous changez {{ given }} contre {{ received }} !","tradepropose":"Salut, tu veux changer ton {{ given }} contre mon {{ received }} ?","traderefused":"Ah, bon tant pis."}}`),sm={caught:"Pris: {{number}}",duree:"Dure jeu: {{duree}} tours",seen:"Vus: {{number}}"},nm={controls:"Contrles",description:{0:"Pokchess est le prototype de jeu sur lequel Curry travaillait avant de rejoindre le projet Pokemon Auto Chess. Il s'agit d'un remake fangame de Pokemon Rouge/Bleu en tant qu'autobattler.",1:"Bien que le jeu simule le format et le style d'une gameboy pour jouer sur la corde de la nostalgie, il ne respecte pas la rsolution et les contraintes matrielles de la Gameboy Color, et le jeu est galement jouable au clavier,  la manette ou  la souris pour plus de commodit.",2:"Votre progression est automatiquement sauvegarde chaque fois que vous arrivez sur l'cran de la carte du monde.",3:"Ce projet a rapidement montr les limites du format gameboy pour un genre aussi complexe que l'autobattler, mais a galement permis d'explorer certaines ides qui ont t utilises par la suite dans Pokmon Auto Chess."},gamepad:"Manette",keyboard:"Clavier",language:"Langue",mouse:"Souris",music:"Musique",sfx:"Effets sonores",volume:"Volume"},rm={"attaque+":"Attaque+",baie_ceriz:"Baie Ceriz",baie_mepo:"Baie Mepo",baie_oran:"Baie Oran",baie_sitrus:"Baie Sitrus",boule_fumee:"Boule Fume","defense+":"Dfense+",encens_fleur:"Encens Fleur",filet:"Filet d'Hector",fossile_amonita:"Nautile",fossile_kabuto:"Fossile Dme",fossile_ptera:"Vieil Ambre",gemme_ciel:"Gemme Ciel",gemme_draco:"Gemme Draco",gemme_flamme:"Gemme Flamme",gemme_glace:"Gemme Glace",gemme_grise:"Gemme Grise",gemme_herbe:"Gemme Herbe",gemme_hydro:"Gemme Hydro",gemme_insecte:"Gemme Insecte",gemme_ombre:"Gemme Ombre",gemme_pixie:"Gemme Pixie",gemme_poing:"Gemme Poing",gemme_psy:"Gemme Psy",gemme_roc:"Gemme Roc",gemme_terre:"Gemme Terre",gemme_toxic:"Gemme Toxic",gemme_volt:"Gemme Volt",grelot_coque:"Grelot Coque",max_elixir:"Max Elixir",multi_exp:"Multi Exp",orbe_flamme:"Orbe Flamme",orbe_foudre:"Orbe Foudre",orbe_toxique:"Orbe Toxique",parapluie:"Parapluie de Sally",pokeball:"Pokball",pokeflute:"Pokflute","pv+":"PV Plus",repousse:"Repousse",super_bonbon:"Super Bonbon","vitesse+":"Vitesse+"},am={"attaque+":"+20% Attaque",baie_ceriz:"Consomm  la premire altration subie - Soigne les altrations pendant 10 secondes",baie_mepo:"Consomm au premier coup reu - Gagne 2PP supplmentaires par coup reu",baie_oran:"Def +30% - Consomm quand les PV tombent sous les 50% la premire fois",baie_sitrus:"Soigne 25% des PV max - Consomm quand les PV tombent sous les 50% la premire fois",boule_fumee:"Rend le Pokmon impossible  cibler pendant 3s quand les PV tombent sous les 30%","defense+":"+20% Dfense",encens_fleur:"Soigne chaque seconde 1% des PV max du porteur et des allis sur une case adjacente",filet:"Rcupre une Pokball par Pokmon limin par son porteur",fossile_amonita:"Un fossile de Pokmon antique en forme d'escargot",fossile_kabuto:"Un fossile de Pokmon antique en forme de carapace",fossile_ptera:"Un fossile de Pokmon antique en forme d'oeuf",gemme_ciel:"Donne le type Vol au porteur",gemme_draco:"Donne le type Dragon au porteur",gemme_flamme:"Donne le type Feu au porteur",gemme_glace:"Donne le type Glace au porteur",gemme_grise:"Donne le type Normal au porteur",gemme_herbe:"Donne le type Plante au porteur",gemme_hydro:"Donne le type Eau au porteur",gemme_insecte:"Donne le type Insecte au porteur",gemme_ombre:"Donne le type Spectre au porteur",gemme_pixie:"Donne le type Fe au porteur",gemme_poing:"Donne le type Combat au porteur",gemme_psy:"Donne le type Psy au porteur",gemme_roc:"Donne le type Roche au porteur",gemme_terre:"Donne le type Sol au porteur",gemme_toxic:"Donne le type Poison au porteur",gemme_volt:"Donne le type lectrique au porteur",grelot_coque:"Restaure 20% des dgts infligs en PV",max_elixir:"Gagne 4PP  chaque attaque",multi_exp:"Augmente les gains d'exprience de 30%",orbe_flamme:"Inflige l'altration Brlure  chaque coup reu ou port",orbe_foudre:"Inflige l'altration Paralysie  chaque coup reu ou port",orbe_toxique:"Inflige l'altration Poison  chaque coup reu ou port",parapluie:"Protge le porteur de toutes les altrations",pokeball:"L'outil de capture de tout dresseur et monnaie d'change dans les magasins",pokeflute:"Rveille les Pokmon les plus profondment endormis","pv+":"+20% PV",repousse:"Fait fuir les Pokmon sauvages et en ramne de nouveaux",super_bonbon:"Gagne un niveau supplmentaire  chaque fin de combat","vitesse+":"+20% Vitesse"},om={change_place:"Changer d'endroit",no_item:"{{ name }} ne tient pas d'objet",quit:"Quitter",release_pokemon:"Librer {{name}}",remove_pokemon:"Retirer {{name}}",retrieve_item:"Rcuprer {{item}}",see_pokemon:"Voir {{name}}",stock_item:"Ranger {{item}}"},lm="Nouvelle partie",hm="NON",um="Pokdex",fm={abo:"Abo",abra:"Abra",aeromite:"Aromite",akwakwak:"Akwakwak",alakazam:"Alakazam",amonistar:"Amonistar",amonita:"Amonita",aquali:"Aquali",arbok:"Arbok",arcanin:"Arcanin",artikodin:"Artikodin",aspicot:"Aspicot",boustiflor:"Boustiflor",bulbizarre:"Bulbizarre",canarticho:"Canarticho",caninos:"Caninos",carabaffe:"Carabaffe",carapuce:"Carapuce",chenipan:"Chenipan",chetiflor:"Chtiflor",chrysacier:"Chrysacier",coconfort:"Coconfort",colossinge:"Colossinge",crustabri:"Crustabri",dardargnan:"Dardargnan",dodrio:"Dodrio",doduo:"Doduo",dracaufeu:"Dracaufeu",draco:"Draco",dracolosse:"Dracolosse",ectoplasma:"Ectoplasma",electhor:"Electhor",electrode:"Electrode",elektek:"Elektek",empiflor:"Empiflor",evoli:"Evoli",excelangue:"Excelangue",fantominus:"Fantominus",ferosinge:"Frosinge",feunard:"Feunard",flagadoss:"Flagadoss",florizarre:"Florizarre",galopa:"Galopa",goupix:"Goupix",gravalanch:"Gravalanch",grodoudou:"Grodoudou",grolem:"Grolem",grotadmorv:"Grotadmorv",herbizarre:"Herbizarre",hypnomade:"Hypnomade",hypocean:"Hypocean",hypotrempe:"Hypotrempe",insecateur:"Insecateur",kabuto:"Kabuto",kabutops:"Kabutops",kadabra:"Kadabra",kangourex:"Kangourex",kicklee:"Kicklee",kokiyas:"Kokiyas",krabboss:"Krabboss",krabby:"Krabby",lamantine:"Lamantine",leveinard:"Leveinard",leviator:"Leviator",lippoutou:"Lippoutou",lokhlass:"Lokhlass",machoc:"Machoc",machopeur:"Machopeur",mackogneur:"Mackogneur",magicarpe:"Magicarpe",magmar:"Magmar",magneti:"Magneti",magneton:"Magneton",melodelfe:"Mlodelfe",melofee:"Mlofe",metamorph:"Metamorph",mew:"Mew",mewtwo:"Mewtwo",miaouss:"Miaouss",mimitoss:"Mimitoss",minidraco:"Minidraco",mrmime:"Mr. Mime",mystherbe:"Mystherbe",nidoking:"Nidoking",nidoqueen:"Nidoqueen",nidoranf:"Nidoran ",nidoranm:"Nidoran ",nidorina:"Nidorina",nidorino:"Nidorino",noadkoko:"Noadkoko",noeufnoeuf:"Noeufnoeuf",nosferalto:"Nosferalto",nosferapti:"Nosferapti",onix:"Onix",ortide:"Ortide",ossatueur:"Ossatueur",osselait:"Osselait",otaria:"Otaria",papillusion:"Papilusion",paras:"Paras",parasect:"Parasect",persian:"Persian",piafabec:"Piafabec",pikachu:"Pikachu",poissirene:"Poissirne",poissoroy:"Poissoroy",ponyta:"Ponyta",porygon:"Porygon",psykokwak:"Psykokwak",ptera:"Ptra",ptitard:"Ptitard",pyroli:"Pyroli",racaillou:"Racaillou",rafflesia:"Rafflesia",raichu:"Raichu",ramoloss:"Ramoloss",rapasdepic:"Rapasdepic",rattata:"Rattata",rattatac:"Rattatac",reptincel:"Reptincel",rhinocorne:"Rhinocorne",rhinoferos:"Rhinofros",rondoudou:"Rondoudou",ronflex:"Ronflex",roucarnage:"Roucarnage",roucool:"Roucool",roucoups:"Roucoups",sabelette:"Sabelette",sablaireau:"Sablaireau",salameche:"Salamche",saquedeneu:"Saquedeneu",scarabrute:"Scarabrute",smogo:"Smogo",smogogo:"Smogogo",soporifik:"Soporifik",spectrum:"Spectrum",stari:"Stari",staross:"Staross",sulfura:"Sulfura",tadmorv:"Tadmorv",tartard:"Tartard",taupiqueur:"Taupiqueur",tauros:"Tauros",tentacool:"Tentacool",tentacruel:"Tentacruel",tetarte:"Tetarte",tortank:"Tortank",triopikeur:"Triopikeur",tygnon:"Tygnon",voltali:"Voltali",voltorbe:"Voltorbe"},dm={home:"Maison",ligueendroom:"Ligue Indigo - Panthon",oaklab:"Laboratoire de Chen"},cm={abri:"Abri",acide:"Acide",adaptation:"Adaptation",amnesie:"Amnsie",armure:"Armure",balayage:"Balayage",belier:"Blier",berceuse:"Berceuse",blizzard:"Blizzard",bomb_beurk:"Bomb Beurk",bomb_oeuf:"Bomb'uf",brouillard:"Brouillard",bulles_d_o:"Bulles d'O",cage_eclair:"Cage-clair",cascade:"Cascade",charge:"Charge",choc_mental:"Choc Mental",coud_boue:"Coud'Boue",croc_de_mort:"Croc de Mort",crochet_venin:"Crochet Venin",crocs_feu:"Crocs Feu",cruaile:"Cru-Ailes",danse_flammes:"Danse-Flammes",danse_lames:"Danse-Lames",dard_venin:"Dard-Venin",deflagration:"Dflagration",destruction:"Destruction",detritus:"Dtritus",devoreve:"Dvorve",double_pied:"Double-Pied",dracocharge:"Dracocharge",dracorage:"Draco-Rage",e_coque:"E-Coque",eclair:"clair",eclat_glace:"clats Glace",empal_korne:"Empal'Korne",encore:"Encore",etincelle:"tincelle",evolution:"volution",fatal_foudre:"Fatal Foudre",flammeche:"Flammche",fouet_lianes:"Fouet-Lianes",furie:"Furie",griffe:"Griffe",grobisou:"Grobisou",guillotine:"Guillotine",hate:"Hte",hydrocanon:"Hydrocanon",hypnose:"Hypnose",jackpot:"Jackpot",jet_de_sable:"Jet de Sable",jet_pierres:"Jet-Pierres",koud_korne:"Koud'Korne",lance_flammes:"Lance-Flammes",lance_soleil:"Lance-Soleil",laser_glace:"Laser Glace",lechouille:"Lchouille",ligotage:"Ligotage",massdos:"Massd'Os",mawashi_geri:"Mawashi Geri",meteores:"Mtores",metronome:"Mtronome",morphing:"Morphing",morsure:"Morsure",nitrocharge:"Nitrocharge",ouragan:"Ouragan",paraspore:"Para Spore",picpic:"Picpic",pilonnage:"Pilonnage",pince_masse:"Pince-Masse",piqure:"Piqre",pistolet_a_o:"Pistolet  O",poing_karate:"Poing-Karat",poudre_dodo:"Poudre Dodo",poudre_toxik:"Poudre Toxik",poudreuse:"Poudreuse",pouvoir_antique:"Pouvoir Antique",pouvoir_lunaire:"Pouvoir Lunaire",provoc:"Provoc",psyko:"Psyko",rafale_psy:"Rafale Psy",repos:"Repos",rugissement:"Rugissement",secretion:"Scrtion",surf:"Surf",teleport:"Tlport",tonnerre:"Tonnerre",torgnoles:"Torgnoles",trempette:"Trempette",triplattaque:"Triplattaque",tunnel:"Tunnel",ultimapoing:"Ultimapoing",ultralaser:"Ultralaser",ultrason:"Ultrason",vampirisme:"Vampirisme",vive_attaque:"Vive-Attaque",vol_vie:"Vol-Vie"},vm={abri:"Rend le lanceur invulnrable pendant un court instant",acide:"Jet de suc gastrique rduisant fortement la dfense des cibles",adaptation:"Remplace temporairement son type par celui des attaques reues",amnesie:"Soigne toutes les altrations actuelles du lanceur",armure:"Augmente la dfense du lanceur jusqu' la fin du combat - Accumulable",balayage:"Attaque large pouvant toucher jusqu' 3 adversaires en face",belier:"Une violente charge qui blesse galement le lanceur",berceuse:"Endort les adversaires autour du lanceur",blizzard:"Gle tous les adversaires et fait tomber une pluie de grlons dvastateurs",bomb_beurk:"Bombe toxique empoisonnant la zone o elle tombe",bomb_oeuf:"Lance un oeuf explosif infligeant des dgts dans une large zone",brouillard:"Rduit la prcision des adversaires autour du lanceur",cage_eclair:"Paralyse tous les adversaires autour du lanceur",cascade:"Fait tomber une trombe d'eau qui repousse l'adversaire",coud_boue:"Rduit la prcision de la cible",croc_de_mort:"Puissante morsure qui apeure la cible pendant 3 secondes",crocs_feu:"Une morsure infligeant de grosses brulures",danse_flammes:"Inflige des brlures  tous les adversaires autour du lanceur",danse_lames:"Attaque circulaire infligeant des dgts  tous les adversaires autour",deflagration:"Enflamme tout le terrain et dclenche des ruptions sur 8 cases alatoires",destruction:"Autodestruction pulvrisant tout aux alentours",devoreve:"Appeure l'adversaire avec des visions de cauchemar",dracorage:"Invoque une tempte qui inflige des dgts bruts dans la zone",e_coque:"Libre un oeuf magique qui soigne toute votre quipe",eclair:"La foudre s'abat sur un Pokmon adverse tir au hasard",empal_korne:"Empale la cible avec une stalagmite surgissant du sol",encore:"Reproduit la dernire attaque spciale observe sur le terrain",evolution:"Evolue temporairement en Pyroli, Voltali ou Aquali selon le type de la cible",fatal_foudre:"Fait tomber la foudre sur 3 ennemis et paralyse tous les autres",furie:"Augmente l'attaque du lanceur jusqu' la fin du combat - Accumulable",grobisou:"Un bisou glac qui gle la cible temporairement",guillotine:"Coup mortel excutant l'adversaire s'il a moins de 30% de ses PV max",hate:"Augmente la vitesse du lanceur jusqu' la fin du combat - Accumulable",hydrocanon:"Geyser propulsant l'adversaire dans les airs",hypnose:"Endort profondment la cible",jackpot:"A 50% de chance de vous rapporter une Pokball",jet_de_sable:"Aveugle l'ennemi et rduit sa prcision de 50% pendant 8 secondes",lance_flammes:"Jet de flammes infligeant de grosses brulures  la cible",lance_soleil:"Absorbe l'nergie solaire puis la relche en un puissant orbe",laser_glace:"Gle les adversaires un court instant sur une ligne droite",ligotage:"Empche la cible de bouger et inflige des dgts sur la dure",mawashi_geri:"Un coup de pied circulaire qui touche galement l'adversaire derrire le lanceur",meteores:"Une pluie d'toiles qui touche  tous les coups",metronome:"Dclenche une capacit alatoire parmi toutes celles existantes",morphing:"Se transforme en une copie du Pokmon cible - Garde le mme niveau et objet",nitrocharge:"Une violente charge enflamme qui blesse galement le lanceur",ouragan:"Une tornade soulevant tous les adversaires sur son passage",paraspore:"Nuage de spores qui paralyse tous les adversaires autour du lanceur",poudre_dodo:"Projte un somnifre qui endort tous les adversaires autour",poudre_toxik:"Toxines empoisonnant tous les adversaires autour du lanceur",pouvoir_antique:"Une attaque prhistorique qui augmente toutes les stats du lanceur",pouvoir_lunaire:"Provoque tous les adversaires dans un rayon de 2 cases",provoc:"Provoque tous les adversaires dans un rayon de 2 cases",psyko:"Rend confus toute l'quipe adverse pendant 4 secondes avant d'infliger de lourds dgts Psy",rafale_psy:"Vague d'nergie Psy traversant les adversaires",repos:"S'endort et regagne une grosse partie de ses PV tant qu'il est endormi",rugissement:"Rduit temporairement l'attaque de tous les adversaires autour",secretion:"Cre un pige collant qui ralentit la vitesse de l'adversaire",surf:"Cre une vague gante qui emporte tout sur son passage",teleport:"Tlporte le lanceur sur une case alatoire du plateau",tonnerre:"Inflige de gros dgts lectriques autour du lanceur",trempette:"Mais rien ne se passe.",tunnel:"Creuse un tunnel vers une case libre du plateau, attaquant par le sol au passage",ultimapoing:"Un uppercut dvastateur",ultralaser:"Un laser surpuissant qui pulvrise tout sur une ligne droite",ultrason:"Onde sonore rendant confus les Pokmon touchs"},pm={agatha:"Agatha",aldo:"Aldo",assistant_tuto:"Assistant du Prof Chen",auguste:"Auguste",major_bob:"Major Bob",dresseur_argenta:"Roche le gologue",dresseur_azuria:"Anya la nageuse",dresseur_camp_nomade:"Nancy la scout",dresseur_carmin:"Elton le Rocker",dresseur_cave_taupiqueur:"Joe le Cambrioleur",dresseur_celadopole:"Valentine la Citadine",dresseur_centrale:"Bernard le mcano",dresseur_champs_verdoyants:"Isabelle la Fleuriste",dresseur_col_de_montagne:"Sbastien l'ornithologue",dresseur_colline_royale:"Norbert le Fan de Dragons",dresseur_cramoisile:"Isaac le Scientifique",dresseur_dojo:"Koichi le Karatka",dresseur_falaises:"Maurice le Montagnard",dresseur_foret_jade:"Calvin le Gamin",dresseur_grotte_azuree:"Ugo le vieux sage",dresseur_iles_ecume:"Fabien le Pcheur",dresseur_lavanville:"Henri le gentilhomme",dresseur_mont_braise:"Duo Ron & Mya les Casse-Cous",dresseur_mont_selenite:"Arthur le palontologue",dresseur_oceane:"Firmin le Marin",dresseur_pension:"Gal de la Pension",dresseur_piste_cyclable:"Karl le Loubard",dresseur_safrania:"Polo le Kinsiste",dresseur_tour_pokemon:"Gwen l'Exorciste",erika:"Erika",giovanni:"Giovanni",hector:"Hector",koga:"Koga",morgane:"Morgane",mr_psy:"Monsieur Psy",olga:"Olga",ondine:"Ondine",peter:"Peter",pierre:"Pierre",rival:"Blue",sally:"Sally",sbire_rocket:"Sbire Rocket"},mm={COMBAT:"Combat",DRAGON:"Dragon",EAU:"Eau",ELECTRIQUE:"Electrique",FEE:"Fe",FEU:"Feu",GLACE:"Glace",INSECTE:"Insecte",NORMAL:"Normal",PLANTE:"Plante",POISON:"Poison",PSY:"Psy",ROCHE:"Roche",SOL:"Sol",SPECTRE:"Spectre",VOL:"Vol"},gm="Vous avez vaincu {{trainer}} !",xm="Vos Pokmon gagnent {{xp}}xp",ym="OUI",Em={not_enough_balls:{0:"Pas assez de",1:"pokeballs !"},box_full:{0:"Box Pokmon",1:"pleine !"},capture_with:"Capturer avec"},Tm="Chargement...",Sm="Tour {{day}}",Am={alliance_desc:Qp,continue:"Continuer",defeat:qp,descriptions:_p,destination:tm,destination_subtext:em,dialog:im,gameover:sm,home:nm,item:rm,item_desc:am,menu:om,new_game:lm,no:hm,pokedex:um,pokemon:fm,room:dm,skill:cm,skill_desc:vm,trainer:pm,type:mm,victory:gm,victory_xp:xm,yes:ym,capture:Em,loading:Tm,day_number:Sm},Cm=Ee.use(hf).init({fallbackLng:"en",debug:!1,resources:{en:{translation:$p},fr:{translation:Am}}}),V=Ee.t.bind(Ee),Uh=Ee,Ro=(E,A)=>Math.floor(Math.random()*(A-E))+E;let di=new AudioContext;function Pm(E=440+Ro(-40,40),A={},C=.5){let{voice:R="sawtooth",pitch:F=30,resonance:B=25,volume:v=10}=A,y=di.currentTime,t=di.createOscillator();if(t.frequency.value=E+(F-55)*8,["sine","square","triangle","sawtooth"].includes(R))t.type=R;else if(R in Un)t.setPeriodicWave(Un[R]);else throw new Error(`Unknown voice "${R}". Did you load it first ?`);let h=di.createGain();h.connect(di.destination);let p=.01,a=.1;if(h.gain.cancelScheduledValues(y),h.gain.setValueAtTime(0,y),h.gain.linearRampToValueAtTime(v/100,y+p),h.gain.linearRampToValueAtTime(0,y+p+a),t.connect(h),B>0){let n=di.createGain();n.connect(di.destination);let r=.05+.01*(B/100),e=.02,s=.2+.25*(B/100),o=v/100*(B/200);n.gain.cancelScheduledValues(y),n.gain.setValueAtTime(0,y),n.gain.setValueAtTime(0,r+y),n.gain.linearRampToValueAtTime(o,y+r+e),n.gain.linearRampToValueAtTime(1e-5,y+r+e+s),t.connect(n)}t.start(0),t.stop(di.currentTime+C)}const Un={};async function Rm(){return fetch("voices/index.json").then(E=>E.json())}async function Lm(E){return fetch(`voices/${E}.json`).then(A=>A.json()).then(A=>{let C=A.real.length,R=new Float32Array(C),F=new Float32Array(C);for(let B=0;B<C;B++)R[B]=A.real[B],F[B]=A.imag[B];return Un[E]=di.createPeriodicWave(R,F),Un[E]})}function Xr(E,A={}){if(!(this instanceof Xr))return new Xr(E,A);let{speed:C=30,emotion:R=10,onNote:F,onEnd:B}=A;this.options=Object.assign({speed:C,emotion:R,onNote:F,onEnd:B},A),this.text=E,this.pronouncedText="";let v=E.split(/\b/),y=0,t=100,h=1-C/150,p=[];for(let a=0;a<v.length;a++){let n=v[a];if(/\w/.test(n)){let r=Math.ceil(n.length/3);for(let e=0;e<r;e++){y+=100*h,r===2&&(t-=30*Math.min(R/30,1)),r>=4&&(t+=Ro(-R/4,R/4));let s=440+t+Ro(-R,R);p.push(setTimeout(()=>{Pm(s,this.options,.5*h),this.pronouncedText+=n.slice(e*3,e<r?e*3+3:0),F&&F(this.pronouncedText,y)},y))}}else switch(p.push(setTimeout(()=>{this.pronouncedText+=n,F&&F(this.pronouncedText,y)},y+1)),n.trim()){case"":y+=50*h,t=100-Math.min(R/30,1)*10;break;case",":case";":y+=400*h,t=100;break;case".":case"?":case"!":case`
`:y+=800*h;break;case"...":y+=1200*h;break}}p.push(setTimeout(()=>B&&B(E,y),y)),this.stop=function(){p.forEach(a=>clearTimeout(a)),B&&B(E,y)}}Object.assign(Xr,{loadVoice:Lm,loadVoicesList:Rm,voices:Un});const vi=new Proxy({MUSIC_VOLUME:.2,SFX_VOLUME:.2},{get(E,A){return typeof A=="string"&&localStorage.getItem(A)!=null?JSON.parse(localStorage.getItem(A)):Reflect.get(E,A)},set(E,A,C){return typeof A=="string"&&localStorage.setItem(A,JSON.stringify(C)),Reflect.set(E,A,C)}});function Nt(E,A){const C=k.activeScene;C.cache.audio.has(E)||(C.load.audio(E,[A]),C.load.start())}function Fe(E,A={}){const C=k.activeScene;return new Promise((R,F)=>{var B,v;if(A=Object.assign({volume:vi.MUSIC_VOLUME},A),(B=k.music)!=null&&B.isPlaying){if(k.music.key===E)return;k.music.stop()}try{C.cache.audio.has(E)?(k.music=(v=k.activeScene)==null?void 0:v.sound.add(E,A),k.music.play(),k.music.on(Phaser.Sound.Events.COMPLETE,()=>R())):C.load.once("filecomplete",()=>Fe(E))}catch(y){F(y)}})}let mr=null;function Rs(E){var R;(R=k.music)==null||R.pause(),mr!=null&&mr.stop();const{sound:A,waitEnd:C}=zt(E);mr=A,C.then(()=>{var F;(F=k.music)==null||F.resume(),mr=null})}function zt(E,A={}){var R;A=Object.assign({volume:vi.SFX_VOLUME},A);const C=(R=k.activeScene)==null?void 0:R.sound.add(E,A);return C.play(),{sound:C,waitEnd:new Promise(F=>{C.on(Phaser.Sound.Events.COMPLETE,()=>F())})}}function Om(){const E=document.getElementById("volume_music");E.value=(vi.MUSIC_VOLUME*100).toString(),E.onchange=()=>{var C;vi.MUSIC_VOLUME=+E.value/100,(C=k.music)==null||C.setVolume(vi.MUSIC_VOLUME)};const A=document.getElementById("volume_sfx");A.value=(vi.SFX_VOLUME*100).toString(),A.onchange=()=>{vi.SFX_VOLUME=+A.value/100}}function Mm(E){var A;return Xr(E,Object.assign({onNote(C){var R;(R=k.activeDialog)==null||R.textSprite.setText(C)},onEnd(C){var R,F;(R=k.activeDialog)==null||R.textSprite.setText(C),(F=k.activeDialog)==null||delete F.speech}},(A=k.activeDialog)==null?void 0:A.voice,{volume:vi.SFX_VOLUME*80}))}function gt(E,A,C,R={}){return k.activeScene.add.text(E,A,C,{align:"left",color:"black",fontSize:"12px",fontFamily:"Pokemon",strokeThickness:0,shadow:{offsetX:0,offsetY:0,color:"#000",blur:0,stroke:!1,fill:!1},...R}).setScrollFactor(0)}const Im={steps:[{numberRequired:2,ref:"COMBAT2"},{numberRequired:4,ref:"COMBAT4"},{numberRequired:6,ref:"COMBAT6"}]},Fm={steps:[{numberRequired:1,ref:"DRAGON1"},{numberRequired:2,ref:"DRAGON2"},{numberRequired:3,ref:"DRAGON3"}]},wm={steps:[{numberRequired:2,ref:"EAU2"},{numberRequired:4,ref:"EAU4"},{numberRequired:6,ref:"EAU6"}]},Dm={steps:[{numberRequired:2,ref:"ELEC2"},{numberRequired:4,ref:"ELEC4"},{numberRequired:6,ref:"ELEC6"}]},Nm={steps:[{numberRequired:1,ref:"FEE1"},{numberRequired:2,ref:"FEE2"},{numberRequired:3,ref:"FEE3"}]},bm={steps:[{numberRequired:2,ref:"FEU2"},{numberRequired:4,ref:"FEU4"},{numberRequired:6,ref:"FEU6"}]},Bm={steps:[{numberRequired:2,ref:"GLACE2"},{numberRequired:3,ref:"GLACE3"},{numberRequired:4,ref:"GLACE4"}]},Gm={steps:[{numberRequired:2,ref:"INSECTE2"},{numberRequired:4,ref:"INSECTE4"},{numberRequired:6,ref:"INSECTE6"}]},Um={steps:[{numberRequired:2,ref:"NORMAL2"},{numberRequired:4,ref:"NORMAL4"},{numberRequired:6,ref:"NORMAL6"}]},Vm={steps:[{numberRequired:2,ref:"PLANTE2"},{numberRequired:4,ref:"PLANTE4"},{numberRequired:6,ref:"PLANTE6"}]},Ym={steps:[{numberRequired:2,ref:"POISON2"},{numberRequired:4,ref:"POISON4"},{numberRequired:6,ref:"POISON6"}]},zm={steps:[{numberRequired:2,ref:"PSY2"},{numberRequired:4,ref:"PSY4"},{numberRequired:6,ref:"PSY6"}]},Wm={steps:[{numberRequired:2,ref:"ROCHE2"},{numberRequired:4,ref:"ROCHE4"},{numberRequired:6,ref:"ROCHE6"}]},Hm={steps:[{numberRequired:2,ref:"SOL2"},{numberRequired:4,ref:"SOL4"},{numberRequired:6,ref:"SOL6"}]},Xm={steps:[{numberRequired:2,ref:"SPECTRE2"},{numberRequired:4,ref:"SPECTRE4"},{numberRequired:6,ref:"SPECTRE6"}]},km={steps:[{numberRequired:2,ref:"VOL2"},{numberRequired:4,ref:"VOL4"},{numberRequired:6,ref:"VOL6"}]},uf={[Ut.ref]:Im,[qt.ref]:Fm,[wt.ref]:wm,[$t.ref]:Dm,[se.ref]:Nm,[Ht.ref]:bm,[_t.ref]:Bm,[Xt.ref]:Gm,[Ft.ref]:Um,[kt.ref]:Vm,[Qt.ref]:Ym,[Kt.ref]:zm,[bt.ref]:Wm,[Vt.ref]:Hm,[Yt.ref]:Xm,[Jt.ref]:km};let Cr,je;function Km(E,A){const C=k.activeScene;if(k.activeMenu!=null||Cr===E&&k.stage!==Se.FIGHT)return;Cr!=null&&Xl(),Cr=E,je=C.add.group();const R=20,F=game.scale.width/2,B=C.add.nineslice(F,R,"box1",void 0,200,140,8,8,8,8).setOrigin(.5,0).setScrollFactor(0);je.add(B);const v=gt(F-60,R+16,V(`type.${E.ref}`));je.add(v);const y=C.add.sprite(F-78,R+24,"icons16x16",E.frameIndex);y.setScrollFactor(0),je.add(y);const t=uf[E.ref];let h=R+40;const p=gt(F-86,h,V(`alliance_desc.${E.ref}`),{color:"black",fontSize:"10px",wordWrap:{width:180}});je.add(p);const n=(A===0?k.board.playerAlliances:k.board.otherTeamAlliances).get(E);h+=p.height+10,t.steps.forEach((r,e)=>{var o;const s=gt(F-86,h,`[${r.numberRequired}] ${V(`alliance_desc.${r.ref}`)}`,{color:((o=n.stepReached)==null?void 0:o.ref)===r.ref?"blue":"gray",fontSize:"10px",wordWrap:{width:172}});je.add(s),h+=s.height}),je.setDepth(ft.MENU)}function Xl(){je&&(je.destroy(!0),je=null,Cr=null)}const pi={hello:0,after_hello:1,after_starter_choice:2,end:3},Jm=()=>k.dialogStates.chen===pi.hello?Mt([V("dialog.chen.0"),V("dialog.chen.1"),V("dialog.chen.2"),V("dialog.chen.3"),V("dialog.chen.4"),V("dialog.chen.5"),V("dialog.chen.6"),V("dialog.chen.7")],{speaker:"chen"}).then(()=>{k.dialogStates.chen=pi.after_hello}):k.dialogStates.chen===pi.after_hello?Mt([V("dialog.chen.8")],{speaker:"chen"}):k.dialogStates.chen===pi.after_starter_choice?(k.dialogStates.chen=pi.end,Mt([V("dialog.chen.9",{pokemon:V(`pokemon.${k.player.team[0].entry.ref}`)}),V("dialog.chen.10"),V("dialog.chen.11"),V("dialog.chen.12"),V("dialog.chen.13"),V("dialog.chen.14")],{speaker:"chen"})):Mt([V("dialog.chen.15"),V("dialog.chen.16")],{speaker:"chen"}),jm=()=>k.dialogStates.chen===pi.after_hello?Mt([V("dialog.chen.17")],{speaker:"chen"}):Mt([V("dialog.chen.18"),V("dialog.chen.19"),V("dialog.chen.20"),V("dialog.chen.21"),V("dialog.chen.22")],{speaker:"chen"}).then(()=>{k.dialogStates.chen=pi.after_hello}),Zm=()=>Mt([V("dialog.assistant1.0"),V("dialog.assistant1.1"),{[V("dialog.assistant1.q1")]:()=>[V("dialog.assistant1.r1")],[V("dialog.assistant1.q2")]:()=>[V("dialog.assistant1.r2"),V("dialog.assistant1.r3")],[V("dialog.assistant1.q3")]:()=>[V("dialog.assistant1.r4"),V("dialog.assistant1.r5"),V("dialog.assistant1.r6"),V("dialog.assistant1.r7")]}],{speaker:"assistant1"}),$m=()=>Mt([V("dialog.assistant2.0"),V("dialog.assistant2.1"),V("dialog.assistant2.2"),V("dialog.assistant2.3")],{speaker:"assistant2"}),ff={title:V("room.home"),tilemap:"bourg_palette",tilesets:["tileset_inside"],startAt:"home_exit"};function Bs(E){E.load.image("logo","assets/logo.png"),E.load.image("box1","assets/sprites/box1.png"),E.load.image("box2","assets/sprites/box2.png")}function Oa(E){E.load.image("overworld","assets/maps/Overworld_Tileset.png"),E.load.image("interior","assets/maps/interior_sd.png"),E.load.image("ground","assets/maps/ground.png"),E.load.tilemapTiledJSON("overworld","assets/maps/overworld.json"),E.load.tilemapTiledJSON("labo_chen","assets/maps/labo_chen.json"),E.load.tilemapTiledJSON("foret_de_jade","assets/maps/foret_de_jade.json"),E.load.tilemapTiledJSON("shop_jadielle","assets/maps/shop_jadielle.json")}const df=new Map([[At.Input.Gamepad.Configs.XBOX_360.A,{id:"bouton_A",downColor:"#E71A07",upColor:"#2b2b2b"}],[At.Input.Gamepad.Configs.XBOX_360.B,{id:"bouton_B",downColor:"#00AD3E",upColor:"#2b2b2b"}],[At.Input.Gamepad.Configs.XBOX_360.START,{id:"bouton_START",downColor:"#666",upColor:"#2b2b2b"}],[At.Input.Gamepad.Configs.XBOX_360.BACK,{id:"bouton_SELECT",downColor:"#666",upColor:"#2b2b2b"}],[At.Input.Gamepad.Configs.XBOX_360.UP,{id:"fleche_HAUT",downColor:"#666",upColor:"#3a3a3a"}],[At.Input.Gamepad.Configs.XBOX_360.LEFT,{id:"fleche_GAUCHE",downColor:"#666",upColor:"#3a3a3a"}],[At.Input.Gamepad.Configs.XBOX_360.RIGHT,{id:"fleche_DROITE",downColor:"#666",upColor:"#3a3a3a"}],[At.Input.Gamepad.Configs.XBOX_360.DOWN,{id:"fleche_BAS",downColor:"#666",upColor:"#3a3a3a"}]]),gr=new Map([["f",At.Input.Gamepad.Configs.XBOX_360.A],["e",At.Input.Gamepad.Configs.XBOX_360.A],[" ",At.Input.Gamepad.Configs.XBOX_360.A],["b",At.Input.Gamepad.Configs.XBOX_360.B],["x",At.Input.Gamepad.Configs.XBOX_360.B],["Escape",At.Input.Gamepad.Configs.XBOX_360.B],["Enter",At.Input.Gamepad.Configs.XBOX_360.START],["Backspace",At.Input.Gamepad.Configs.XBOX_360.BACK],["w",At.Input.Gamepad.Configs.XBOX_360.UP],["z",At.Input.Gamepad.Configs.XBOX_360.UP],["a",At.Input.Gamepad.Configs.XBOX_360.LEFT],["q",At.Input.Gamepad.Configs.XBOX_360.LEFT],["s",At.Input.Gamepad.Configs.XBOX_360.DOWN],["d",At.Input.Gamepad.Configs.XBOX_360.RIGHT]]);let Si=null;function Qm(){df.forEach(({id:E},A)=>{const C=document.getElementById(E);C!=null&&(C.addEventListener("pointerdown",()=>{E.startsWith("fleche")&&(Si=E),Vn(A,!0),Lo(A)}),C.addEventListener("pointerup",()=>{Vn(A,!1),E===Si&&(Si=null)}))})}function Vn(E,A){const C=df.get(E);if(C!=null){const R=document.getElementById(C.id);R!=null&&(R.style.fill=A?C.downColor:C.upColor)}}let Ti,js,xr=!1,za;const Vh=3,Yh=300;function nr(E){js=E.input.keyboard.createCursorKeys(),E.input.gamepad.once("connected",A=>{console.log("gamepad connected",A.id)}),E.input.gamepad.on("down",(A,C)=>{Lo(C.index)}),E.input.gamepad.on("up",(A,C)=>{Vn(C.index,!1)}),E.input.keyboard.on("keydown",A=>{A.preventDefault(),gr.has(A.key)&&Lo(gr.get(A.key))}),E.input.keyboard.on("keyup",A=>{A.preventDefault(),gr.has(A.key)&&Vn(gr.get(A.key),!1)}),Ti=E.input.keyboard.addKeys("W,A,S,D,Z,Q"),qm(E)}function qm(E){E.input.setDefaultCursor("none"),E.input.dragDistanceThreshold=Vh,E.input.dragTimeThreshold=Yh,E.add.zone(32,32,320,320),E.input.on("pointerup",A=>{E.input.activePointer.getDuration()<Yh&&E.input.activePointer.getDistance()<Vh&&E.onClick&&E.onClick(A)}),E.input.on("pointermove",A=>{_m(E,A)}),E.input.on("dragstart",(A,C)=>{Na(C)&&zs(C,E)}),E.input.on("dragend",A=>{Ui(E)}),E.input.on("drag",(A,C,R,F)=>{fd(E)})}function kl(E){let A=new At.Math.Vector2(0,0),C=!1;if(E.input.gamepad.total>0){const R=E.input.gamepad.getPad(0);if(R.axes.length){const F=new At.Math.Vector2(R.axes[0].getValue(),R.axes[1].getValue());if(F.length()>.5)return A=F.scale(5),C=!0,{moveVector:A,useAnalogMovement:C}}R.isButtonDown(At.Input.Gamepad.Configs.XBOX_360.LEFT)?A.x=-32:R.isButtonDown(At.Input.Gamepad.Configs.XBOX_360.RIGHT)&&(A.x=32),R.isButtonDown(At.Input.Gamepad.Configs.XBOX_360.UP)?A.y=-32:R.isButtonDown(At.Input.Gamepad.Configs.XBOX_360.DOWN)&&(A.y=32)}return js.left.isDown||Ti.Q.isDown||Ti.A.isDown||Si==="fleche_GAUCHE"?A.x=-32:(js.right.isDown||Ti.D.isDown||Si==="fleche_DROITE")&&(A.x=32),js.up.isDown||Ti.W.isDown||Ti.Z.isDown||Si==="fleche_HAUT"?A.y=-32:(js.down.isDown||Ti.S.isDown||Si==="fleche_BAS")&&(A.y=32),{moveVector:A,useAnalogMovement:C}}function Ma(E){const{moveVector:A,useAnalogMovement:C}=kl(E);return C?Cu(A,E,!1):(A.length()===0?(za&&za.destroy(),xr=!1):A.length()>0&&!xr&&(xr=!0,za=E.time.addEvent({delay:150,callback:()=>{xr=!1}}),k.activeMenu!=null&&k.activeMenu.handleMove!=null?k.activeMenu.handleMove(A):E.scene.key!=="MapScene"&&Cu(A,E,!0)),null)}function Lo(E){switch(Vn(E,!0),E){case(At.Input.Gamepad.Configs.XBOX_360.A??0):t0();break;case(At.Input.Gamepad.Configs.XBOX_360.B??1):e0();break;case(At.Input.Gamepad.Configs.XBOX_360.START??9):i0();break}}function _m(E,A){var C;(C=E.sprites.get("cursor"))==null||C.setPosition(At.Math.Clamp(A.x,0,E.scale.width-15),At.Math.Clamp(A.y,0,E.scale.height-15)),fh()}function t0(){var E;(E=k.activeScene)!=null&&E.onPressA&&k.activeScene.onPressA()}function e0(){var E;(E=k.activeScene)!=null&&E.onPressB&&k.activeScene.onPressB()}function i0(){var E;(E=k.activeScene)!=null&&E.onPressStart&&k.activeScene.onPressStart()}const kr=new Set;function Et(E=0){return new Promise(A=>{const C=setTimeout(()=>{A(),kr.delete(C)},E);kr.add(C)})}function ki(E){return Promise.resolve().then(E)}function cf(){kr.forEach(E=>clearTimeout(E)),kr.clear()}function s0(...E){return E.reduce((A,C)=>A+C,0)}function ni(E,A){return E.splice(E.indexOf(A),1)}function n0(E,A){return Array(Math.ceil(E.length/A)).fill("").map((C,R)=>E.slice(A*R,A*(R+1)))}function Xe(E){return E[Math.floor(Math.random()*E.length)]}function Ia(E,A=1){let C=[],R=[...E],F=0;for(;F<A&&R.length>0;){const B=Math.floor(Math.random()*R.length);C.push(R[B]),R.splice(B,1),F++}return C}function Oo(E,A){const C=E.map(A),R=s0(...C),F=Math.random()*R;for(let B=0,v=0;B<C.length;B++)if(v+=C[B],F<v)return E[B];return E[E.length-1]}function Ce(E,A){return Math.floor(Math.random()*(A-E+1)+E)}function jt(E,A,C){return E<A?A:E>C?C:E}function yr(E,A,C){return E>=A&&E<=C}function vf(E,A){return A.sort((C,R)=>Math.abs(C-E)-Math.abs(R-E))[0]}function r0(E,A){return E.length===A.length&&E.every((C,R)=>A[R]===C)}const St={LEFT:mt.LEFT,RIGHT:mt.RIGHT,UP:mt.UP,DOWN:mt.DOWN,WALKING_LEFT:`WALKING_${mt.LEFT}`,WALKING_RIGHT:`WALKING_${mt.RIGHT}`,WALKING_UP:`WALKING_${mt.UP}`,WALKING_DOWN:`WALKING_${mt.DOWN}`},a0={[St.DOWN]:"_idle_down",[St.UP]:"_idle_up",[St.LEFT]:"_idle_side",[St.RIGHT]:"_idle_side",[St.WALKING_DOWN]:"_walk_down",[St.WALKING_UP]:"_walk_up",[St.WALKING_LEFT]:"_walk_side",[St.WALKING_RIGHT]:"_walk_side"},Er=128,Wa=8;class rr{constructor(A,C,R=St.DOWN,F=1){ut(this,"sprite");ut(this,"state");ut(this,"walkingDirection");ut(this,"isForceMoving");ut(this,"forceMoveTimeout");ut(this,"name");this.name=C;const B=k.activeScene;this.sprite=B.physics.add.sprite(A.x*ye+ye/2,A.y*ye,"characters"),this.sprite.setScale(2),this.state=R,this.sprite.setOrigin(.5,.5),B.physics.world.enable(this.sprite),this.sprite.setBodySize(16,16).setOffset(4,12),this.sprite.setData("character",this),this.sprite.setData("interactionDistance",F),this.walkingDirection=null,this.isForceMoving=!1,this.addAnimations(),rr.prototype.update.call(this)}get isMoving(){return this.walkingDirection!==null}get spriteRowIndex(){if(this.name.startsWith("assistant"))return 3;switch(this.name){case"player":return 0;case"mam":return 1;case"chen":case"chen_end":return 2;case"seller_male":return 4;case"seller_female":return 5;case"trader":return 6+(k.currentDestination.shopId??0)%10;case"healer":return 26;case"info":default:return 16+(k.currentDestination.shopId??0)%10}}get direction(){switch(this.state){case St.LEFT:case St.WALKING_LEFT:return mt.LEFT;case St.RIGHT:case St.WALKING_RIGHT:return mt.RIGHT;case St.UP:case St.WALKING_UP:return mt.UP;case St.DOWN:case St.WALKING_DOWN:default:return mt.DOWN}}update(){this.sprite.play(this.name+a0[this.state],!0),this.sprite.flipX=this.state===St.WALKING_RIGHT||this.state===St.RIGHT}addAnimations(){const A=this.spriteRowIndex*9;zl(this.sprite.anims,"characters",[[`${this.name}_idle_down`,[A]],[`${this.name}_idle_up`,[A+1]],[`${this.name}_idle_side`,[A+2]],[`${this.name}_walk_down`,[A+3,A,A+4,A],Wa],[`${this.name}_walk_up`,[A+5,A+1,A+6,A+1],Wa],[`${this.name}_walk_side`,[A+7,A+2,A+8,A+2],Wa]])}stopMoving(){var A;switch(this.walkingDirection=null,(A=this.sprite.body)==null||A.stop(),this.alignOnGrid(),this.state){case St.WALKING_LEFT:this.state=St.LEFT;break;case St.WALKING_RIGHT:this.state=St.RIGHT;break;case St.WALKING_UP:this.state=St.UP;break;case St.WALKING_DOWN:this.state=St.DOWN;break}}move(A){switch(this.walkingDirection=A,this.alignOnGrid(),A){case mt.DOWN:this.state=St.WALKING_DOWN,this.sprite.setVelocity(0,Er);break;case mt.UP:this.state=St.WALKING_UP,this.sprite.setVelocity(0,-Er);break;case mt.LEFT:this.state=St.WALKING_LEFT,this.sprite.setVelocity(-Er,0);break;case mt.RIGHT:this.state=St.WALKING_RIGHT,this.sprite.setVelocity(Er,0);break}}moveBack(A){let C=mt.UP;switch(this.direction){case mt.LEFT:C=mt.RIGHT;break;case mt.RIGHT:C=mt.LEFT;break;case mt.UP:C=mt.DOWN;break;case mt.DOWN:default:C=mt.UP;break}return this.forceMove(C,A*300)}forceMove(A,C=500){return this.isForceMoving=!0,this.move(A),new Promise(R=>{clearTimeout(this.forceMoveTimeout),this.forceMoveTimeout=setTimeout(()=>{this.isForceMoving=!1,R()},C)})}alignOnGrid(){this.sprite.body!=null&&(this.sprite.body.x=Math.round(this.sprite.body.x),this.sprite.body.y=Math.round(this.sprite.body.y))}}class o0 extends rr{constructor(C,R,F=St.DOWN,B=1){super(C,R,F,B);ut(this,"pokemonToGive");ut(this,"pokemonToReceive");ut(this,"hasExchanged");this.hasExchanged=!1,this.pokemonToGive=Xe(k.player.box.filter(v=>v!=null)),this.pokemonToReceive=Xe(ef())}}class l0{constructor(A){ut(this,"name");ut(this,"sprite");var R;const C=k.activeScene;this.sprite=C.physics.add.sprite(A.x*ri+ye/2,A.y*ri+ye/2,"icons16x16"),this.name=A.name,this.sprite.setSize(A.width,A.height),(R=this.sprite.body)==null||R.setSize(10,10),this.sprite.body&&(this.sprite.body.immovable=!0),this.sprite.type="description",this.sprite.setData("name",this.name),this.sprite.setData("description",this),A.properties.anim?this.sprite.play(A.properties.anim):this.sprite.setAlpha(0)}}function Bi(E){var A,C;return(C=(A=k.activeScene)==null?void 0:A.cameras.main)==null||C.fadeOut(E,202,205,184),Et(E)}function pf(E){var A,C;return(C=(A=k.activeScene)==null?void 0:A.cameras.main)==null||C.fadeIn(E,202,205,184),Et(E)}class h0{constructor(A){ut(this,"sprite");var R;const C=k.activeScene;this.sprite=C.physics.add.sprite(A.x*ri,A.y*ri,"collisions").setOrigin(0,0).setAlpha(0),(R=this.sprite.body)==null||R.setSize(A.width*ri,A.height*ri,!1),this.sprite.setData("type","door"),this.sprite.setData("action",()=>{var F;if(A.properties.to){if(A.properties.to==="exit"&&C.level.canExit()===!1){(F=C.player)==null||F.moveBack(1),setTimeout(()=>{C.disableTriggers=!1},500);return}zt("door"),C.disableTriggers=!0,Bi(250).then(()=>{A.properties.to==="exit"?C.level.exit():(pf(250),C.player.goToDoor(A.properties.to))})}})}}function Pr(E,A){return A.objects[0].objects.filter(C=>{if(C.type===E)return C.tiledY||(C.tiledY=C.y),C.y=C.tiledY-C.height,C.properties=C.properties||{},Object.values(C.properties).forEach(R=>{R&&R.name&&(C.properties[R.name]=R.value)}),C})}function u0(E,A,C){return Pr(A,C).find(R=>R.name===E)}const ri=2,ye=16*ri;class zh{constructor(A){ut(this,"config");ut(this,"tilemap");ut(this,"layer_collisions");ut(this,"layer_ground0");this.config=A}create(){var A,C;this.tilemap=k.activeScene.add.tilemap(this.config.tilemap),this.tilemap.addTilesetImage("interior"),this.layer_collisions=this.tilemap.createLayer("collisions","interior"),(A=this.layer_collisions)==null||A.setVisible(!1).setScale(2),this.layer_ground0=this.tilemap.createLayer("ground0","interior"),(C=this.layer_ground0)==null||C.setScale(2),this.layer_collisions.setCollisionBetween(0,999),this.createGroups(),this.createCharacters(),this.createObjects(),this.createTriggers(),this.config.init&&this.config.init.call(this)}clearTileMap(){var A,C,R;(A=this.tilemap)==null||A.destroy(),(C=this.layer_ground0)==null||C.destroy(),(R=this.layer_collisions)==null||R.destroy()}createGroups(){var C,R;const A=k.activeScene;if((C=A.groups)!=null&&C.render){const F=A.groups.render;setTimeout(()=>F.destroy(),100)}A.groups={},A.groups.characters=A.add.group(),A.groups.characters.enableBody=!0,A.groups.characters.add((R=A.player)==null?void 0:R.sprite),A.groups.objects=A.add.group(),A.groups.objects.enableBody=!0,A.groups.triggers=A.add.group(),A.groups.triggers.enableBody=!0,A.groups.hud=A.add.group()}createCharacters(){const A=k.activeScene;for(const C of Pr("character",this.tilemap)){const R=C.name,F=C.properties.state,B=C.properties.interactionDistance??1;let v;R==="trader"?v=new o0({x:C.x/16,y:C.y/16},R,F,B):v=new rr({x:C.x/16,y:C.y/16},R,F,B),C.sprite=v.sprite,A.groups.characters.add(v.sprite)}}createObjects(){const A=k.activeScene;for(const C of Pr("description",this.tilemap)){const R=new l0(C);A.groups.objects.add(R.sprite)}}createTriggers(){const A=k.activeScene,C=Pr("door",this.tilemap);for(const R of C){const F=new h0(R);A.groups.triggers.add(F.sprite)}}canExit(){return this.config.canExit?this.config.canExit():!0}exit(){var A;this.clearTileMap(),k.activeScene.physics.world.colliders.destroy(),(A=this.config.exit)==null||A.call(this),k.afterEnd(!0)}}let qe=0,Ai=null;function Mo(E){k.activeMenu===null||!k.activeMenu.entries||(qe=(E+k.activeMenu.entries.length)%k.activeMenu.entries.length,Ai==null||Ai.setPosition(k.activeMenu.x+k.activeMenu.entries[qe].x+2,k.activeMenu.y+k.activeMenu.entries[qe].y+12),zt("tick"),k.activeMenu.onSelect&&k.activeMenu.onSelect(k.activeMenu.entries[qe]))}function ar(){var R;if(!k.activeMenu)return!1;let E=null;(R=k.activeMenu)!=null&&R.entries&&(E=k.activeMenu.entries[qe]);const A=k.activeMenu;let C=!1;return A.handleChoice&&E?(C=A.handleChoice(E)!==!1,C&&Le(),!0):(zt(C?"menu_close":"press_ab"),!1)}function Gs(E){E=Object.assign({handleMove:f0,handleCancel:()=>Le(),background:"box2",offset:4},E);const A=k.activeScene;k.activeMenu=E,E.container=A.add.container();const C=A.add.nineslice(E.x,E.y,E.background,void 0,E.width,E.height,E.offset,E.offset,E.offset,E.offset).setOrigin(0,0).setScrollFactor(0);return E.container.add(C),E.draw&&E.draw(E.container),E.entries!=null&&(qe=0,Ai=A.add.sprite(E.x+E.entries[qe].x+2,E.y+E.entries[qe].y+12,"gui",16),A.sprites.set("menuCursor",Ai),Ai.setScrollFactor(0).setScale(.5),E.container.add(Ai),E.entries.forEach((R,F)=>{const B=gt(E.x+8+R.x,E.y+4+R.y,R.label,{color:R.color??"black"});B.setInteractive(),pe(B),B.on("pointerover",()=>Mo(F)),B.on("click",()=>ar()),E.container.add(B)}),E.onSelect&&E.onSelect(E.entries[0])),E.container.setDepth(ft.MENU),E}function Le(){var E,A;!k.activeMenu||!k.activeMenu.container||(zt("menu_close"),(A=(E=k.activeMenu).onClose)==null||A.call(E),k.activeMenu.container.destroy(!0),k.activeMenu=null)}function f0(E){E.y>0?Mo(qe+1):E.y<0&&Mo(qe-1)}const Yn=new Set;function d0(E,A,C,R){if(!E.effect)return console.error("Missing projectile effect",E);const[F,B]=A.position,v=Math.atan2(C.y-A.y,C.x-A.x),y=Math.round(F+Math.cos(v)*12*32),t=Math.round(B+Math.sin(v)*12*32);c0(E,A,F,B,y,t,R)}function c0(E,A,C,R,F,B,v){const y={sprite:ve(E.effect,C,R,v,!0),skill:E,attacker:A,impactedPokemonIds:[]};if(Yn.add(y),E.rotateProjectile){const h=Math.atan2(B-R,F-C);y.sprite.rotation=h}const t=1e3*12/E.travelSpeed;return y.tween=v.tweens.add({targets:y.sprite,x:F,y:B,duration:t,ease:"Linear",onComplete(){Yn.has(y)&&mf(y)}}),y}function mf(E){if(!Yn.has(E))return;const A=k.activeScene;Yn.delete(E),E.tween&&A.tweens.remove(E.tween),E.skill.hitEffect?(E.sprite.setDepth(E.skill.hitEffect.depth??ft.SKILL_EFFECT_ABOVE_POKEMON),E.sprite.play(E.skill.hitEffect.key),E.sprite.once(Phaser.Animations.Events.ANIMATION_COMPLETE,()=>{E.sprite.destroy()})):E.sprite.destroy()}function v0(E){for(const A of Yn){let{x:C,y:R}=A.sprite;C+=8,R+=8;const F=A.skill.projectileRadius,{attacker:B,skill:v}=A,t=B.opponents.filter(h=>{const[p,a]=h.position;return Math.sqrt((p-C)**2+(a-R)**2)<F+10&&!h.untargettable});for(const h of t)if(!A.impactedPokemonIds.includes(h.uid)){A.impactedPokemonIds.push(h.uid);const p=_e(A.skill,h,B);for(const e of B.buffs.onHit)e({target:h,attacker:B,damage:p,skill:v});for(const e of h.buffs.onHitReceived)e({damage:p,attacker:B,skill:v});Ae(p,h,B);const{hitAlteration:a,pierceThrough:n,knockback:r}=A.skill;if(a&&re(h,{...a,attacker:B},E),n||mf(A),r){const e=Math.atan2(B.y-h.y,h.x-B.x);Af(h,e,E)}}}}var Rr={exports:{}},p0=Rr.exports,Wh;function m0(){return Wh||(Wh=1,function(E){(function(){var A,C,R,F,B,v,y,t,h,p,a,n,r,e,s;R=Math.floor,p=Math.min,C=function(o,i){return o<i?-1:o>i?1:0},h=function(o,i,l,u,f){var d;if(l==null&&(l=0),f==null&&(f=C),l<0)throw new Error("lo must be non-negative");for(u==null&&(u=o.length);l<u;)d=R((l+u)/2),f(i,o[d])<0?u=d:l=d+1;return[].splice.apply(o,[l,l-l].concat(i)),i},v=function(o,i,l){return l==null&&(l=C),o.push(i),e(o,0,o.length-1,l)},B=function(o,i){var l,u;return i==null&&(i=C),l=o.pop(),o.length?(u=o[0],o[0]=l,s(o,0,i)):u=l,u},t=function(o,i,l){var u;return l==null&&(l=C),u=o[0],o[0]=i,s(o,0,l),u},y=function(o,i,l){var u;return l==null&&(l=C),o.length&&l(o[0],i)<0&&(u=[o[0],i],i=u[0],o[0]=u[1],s(o,0,l)),i},F=function(o,i){var l,u,f,d,c,m;for(i==null&&(i=C),d=(function(){m=[];for(var g=0,x=R(o.length/2);0<=x?g<x:g>x;0<=x?g++:g--)m.push(g);return m}).apply(this).reverse(),c=[],u=0,f=d.length;u<f;u++)l=d[u],c.push(s(o,l,i));return c},r=function(o,i,l){var u;if(l==null&&(l=C),u=o.indexOf(i),u!==-1)return e(o,0,u,l),s(o,u,l)},a=function(o,i,l){var u,f,d,c,m;if(l==null&&(l=C),f=o.slice(0,i),!f.length)return f;for(F(f,l),m=o.slice(i),d=0,c=m.length;d<c;d++)u=m[d],y(f,u,l);return f.sort(l).reverse()},n=function(o,i,l){var u,f,d,c,m,g,x,T,S;if(l==null&&(l=C),i*10<=o.length){if(d=o.slice(0,i).sort(l),!d.length)return d;for(f=d[d.length-1],x=o.slice(i),c=0,g=x.length;c<g;c++)u=x[c],l(u,f)<0&&(h(d,u,0,null,l),d.pop(),f=d[d.length-1]);return d}for(F(o,l),S=[],m=0,T=p(i,o.length);0<=T?m<T:m>T;0<=T?++m:--m)S.push(B(o,l));return S},e=function(o,i,l,u){var f,d,c;for(u==null&&(u=C),f=o[l];l>i;){if(c=l-1>>1,d=o[c],u(f,d)<0){o[l]=d,l=c;continue}break}return o[l]=f},s=function(o,i,l){var u,f,d,c,m;for(l==null&&(l=C),f=o.length,m=i,d=o[i],u=2*i+1;u<f;)c=u+1,c<f&&!(l(o[u],o[c])<0)&&(u=c),o[i]=o[u],i=u,u=2*i+1;return o[i]=d,e(o,m,i,l)},A=function(){o.push=v,o.pop=B,o.replace=t,o.pushpop=y,o.heapify=F,o.updateItem=r,o.nlargest=a,o.nsmallest=n;function o(i){this.cmp=i??C,this.nodes=[]}return o.prototype.push=function(i){return v(this.nodes,i,this.cmp)},o.prototype.pop=function(){return B(this.nodes,this.cmp)},o.prototype.peek=function(){return this.nodes[0]},o.prototype.contains=function(i){return this.nodes.indexOf(i)!==-1},o.prototype.replace=function(i){return t(this.nodes,i,this.cmp)},o.prototype.pushpop=function(i){return y(this.nodes,i,this.cmp)},o.prototype.heapify=function(){return F(this.nodes,this.cmp)},o.prototype.updateItem=function(i){return r(this.nodes,i,this.cmp)},o.prototype.clear=function(){return this.nodes=[]},o.prototype.empty=function(){return this.nodes.length===0},o.prototype.size=function(){return this.nodes.length},o.prototype.clone=function(){var i;return i=new o,i.nodes=this.nodes.slice(0),i},o.prototype.toArray=function(){return this.nodes.slice(0)},o.prototype.insert=o.prototype.push,o.prototype.top=o.prototype.peek,o.prototype.front=o.prototype.peek,o.prototype.has=o.prototype.contains,o.prototype.copy=o.prototype.clone,o}(),E!==null&&E.exports?E.exports=A:window.Heap=A}).call(p0)}(Rr)),Rr.exports}var Ha,Hh;function Fa(){return Hh||(Hh=1,Ha=m0()),Ha}var Xa,Xh;function Kl(){if(Xh)return Xa;Xh=1;function E(A,C,R){this.x=A,this.y=C,this.walkable=R===void 0?!0:R}return Xa=E,Xa}var ka,kh;function Ve(){if(kh)return ka;kh=1;var E={Always:1,Never:2,IfAtMostOneObstacle:3,OnlyWhenNoObstacles:4};return ka=E,ka}var Ka,Kh;function g0(){if(Kh)return Ka;Kh=1;var E=Kl(),A=Ve();function C(R,F,B){var v;typeof R!="object"?v=R:(F=R.length,v=R[0].length,B=R),this.width=v,this.height=F,this.nodes=this._buildNodes(v,F,B)}return C.prototype._buildNodes=function(R,F,B){var v,y,t=new Array(F);for(v=0;v<F;++v)for(t[v]=new Array(R),y=0;y<R;++y)t[v][y]=new E(y,v);if(B===void 0)return t;if(B.length!==F||B[0].length!==R)throw new Error("Matrix size does not fit");for(v=0;v<F;++v)for(y=0;y<R;++y)B[v][y]&&(t[v][y].walkable=!1);return t},C.prototype.getNodeAt=function(R,F){return this.nodes[F][R]},C.prototype.isWalkableAt=function(R,F){return this.isInside(R,F)&&this.nodes[F][R].walkable},C.prototype.isInside=function(R,F){return R>=0&&R<this.width&&F>=0&&F<this.height},C.prototype.setWalkableAt=function(R,F,B){this.nodes[F][R].walkable=B},C.prototype.getNeighbors=function(R,F){var B=R.x,v=R.y,y=[],t=!1,h=!1,p=!1,a=!1,n=!1,r=!1,e=!1,s=!1,o=this.nodes;if(this.isWalkableAt(B,v-1)&&(y.push(o[v-1][B]),t=!0),this.isWalkableAt(B+1,v)&&(y.push(o[v][B+1]),p=!0),this.isWalkableAt(B,v+1)&&(y.push(o[v+1][B]),n=!0),this.isWalkableAt(B-1,v)&&(y.push(o[v][B-1]),e=!0),F===A.Never)return y;if(F===A.OnlyWhenNoObstacles)h=e&&t,a=t&&p,r=p&&n,s=n&&e;else if(F===A.IfAtMostOneObstacle)h=e||t,a=t||p,r=p||n,s=n||e;else if(F===A.Always)h=!0,a=!0,r=!0,s=!0;else throw new Error("Incorrect value of diagonalMovement");return h&&this.isWalkableAt(B-1,v-1)&&y.push(o[v-1][B-1]),a&&this.isWalkableAt(B+1,v-1)&&y.push(o[v-1][B+1]),r&&this.isWalkableAt(B+1,v+1)&&y.push(o[v+1][B+1]),s&&this.isWalkableAt(B-1,v+1)&&y.push(o[v+1][B-1]),y},C.prototype.clone=function(){var R,F,B=this.width,v=this.height,y=this.nodes,t=new C(B,v),h=new Array(v);for(R=0;R<v;++R)for(h[R]=new Array(B),F=0;F<B;++F)h[R][F]=new E(F,R,y[R][F].walkable);return t.nodes=h,t},Ka=C,Ka}var ei={},Jh;function Gi(){if(Jh)return ei;Jh=1;function E(y){for(var t=[[y.x,y.y]];y.parent;)y=y.parent,t.push([y.x,y.y]);return t.reverse()}ei.backtrace=E;function A(y,t){var h=E(y),p=E(t);return h.concat(p.reverse())}ei.biBacktrace=A;function C(y){var t,h=0,p,a,n,r;for(t=1;t<y.length;++t)p=y[t-1],a=y[t],n=p[0]-a[0],r=p[1]-a[1],h+=Math.sqrt(n*n+r*r);return h}ei.pathLength=C;function R(y,t,h,p){var a=Math.abs,n=[],r,e,s,o,i,l;for(s=a(h-y),o=a(p-t),r=y<h?1:-1,e=t<p?1:-1,i=s-o;n.push([y,t]),!(y===h&&t===p);)l=2*i,l>-o&&(i=i-o,y=y+r),l<s&&(i=i+s,t=t+e);return n}ei.interpolate=R;function F(y){var t=[],h=y.length,p,a,n,r,e,s;if(h<2)return t;for(e=0;e<h-1;++e)for(p=y[e],a=y[e+1],n=R(p[0],p[1],a[0],a[1]),r=n.length,s=0;s<r-1;++s)t.push(n[s]);return t.push(y[h-1]),t}ei.expandPath=F;function B(y,t){var h=t.length,p=t[0][0],a=t[0][1],n=t[h-1][0],r=t[h-1][1],e,s,o,i,l,u,f,d,c,m,g;for(e=p,s=a,l=[[e,s]],u=2;u<h;++u){for(d=t[u],o=d[0],i=d[1],c=R(e,s,o,i),g=!1,f=1;f<c.length;++f)if(m=c[f],!y.isWalkableAt(m[0],m[1])){g=!0;break}g&&(lastValidCoord=t[u-1],l.push(lastValidCoord),e=lastValidCoord[0],s=lastValidCoord[1])}return l.push([n,r]),l}ei.smoothenPath=B;function v(y){if(y.length<3)return y;var t=[],h=y[0][0],p=y[0][1],a=y[1][0],n=y[1][1],r=a-h,e=n-p,s,o,i,l,u,f;for(u=Math.sqrt(r*r+e*e),r/=u,e/=u,t.push([h,p]),f=2;f<y.length;f++)s=a,o=n,i=r,l=e,a=y[f][0],n=y[f][1],r=a-s,e=n-o,u=Math.sqrt(r*r+e*e),r/=u,e/=u,(r!==i||e!==l)&&t.push([s,o]);return t.push([a,n]),t}return ei.compressPath=v,ei}var Ja,jh;function or(){return jh||(jh=1,Ja={manhattan:function(E,A){return E+A},euclidean:function(E,A){return Math.sqrt(E*E+A*A)},octile:function(E,A){var C=Math.SQRT2-1;return E<A?C*E+A:C*A+E},chebyshev:function(E,A){return Math.max(E,A)}}),Ja}var ja,Zh;function Jl(){if(Zh)return ja;Zh=1;var E=Fa(),A=Gi(),C=or(),R=Ve();function F(B){B=B||{},this.allowDiagonal=B.allowDiagonal,this.dontCrossCorners=B.dontCrossCorners,this.heuristic=B.heuristic||C.manhattan,this.weight=B.weight||1,this.diagonalMovement=B.diagonalMovement,this.diagonalMovement||(this.allowDiagonal?this.dontCrossCorners?this.diagonalMovement=R.OnlyWhenNoObstacles:this.diagonalMovement=R.IfAtMostOneObstacle:this.diagonalMovement=R.Never),this.diagonalMovement===R.Never?this.heuristic=B.heuristic||C.manhattan:this.heuristic=B.heuristic||C.octile}return F.prototype.findPath=function(B,v,y,t,h){var p=new E(function(T,S){return T.f-S.f}),a=h.getNodeAt(B,v),n=h.getNodeAt(y,t),r=this.heuristic,e=this.diagonalMovement,s=this.weight,o=Math.abs,i=Math.SQRT2,l,u,f,d,c,m,g,x;for(a.g=0,a.f=0,p.push(a),a.opened=!0;!p.empty();){if(l=p.pop(),l.closed=!0,l===n)return A.backtrace(n);for(u=h.getNeighbors(l,e),d=0,c=u.length;d<c;++d)f=u[d],!f.closed&&(m=f.x,g=f.y,x=l.g+(m-l.x===0||g-l.y===0?1:i),(!f.opened||x<f.g)&&(f.g=x,f.h=f.h||s*r(o(m-y),o(g-t)),f.f=f.g+f.h,f.parent=l,f.opened?p.updateItem(f):(p.push(f),f.opened=!0)))}return[]},ja=F,ja}var Za,$h;function x0(){if($h)return Za;$h=1;var E=Jl();function A(C){E.call(this,C);var R=this.heuristic;this.heuristic=function(F,B){return R(F,B)*1e6}}return A.prototype=new E,A.prototype.constructor=A,Za=A,Za}var $a,Qh;function y0(){if(Qh)return $a;Qh=1;var E=Gi(),A=Ve();function C(R){R=R||{},this.allowDiagonal=R.allowDiagonal,this.dontCrossCorners=R.dontCrossCorners,this.diagonalMovement=R.diagonalMovement,this.diagonalMovement||(this.allowDiagonal?this.dontCrossCorners?this.diagonalMovement=A.OnlyWhenNoObstacles:this.diagonalMovement=A.IfAtMostOneObstacle:this.diagonalMovement=A.Never)}return C.prototype.findPath=function(R,F,B,v,y){var t=[],h=this.diagonalMovement,p=y.getNodeAt(R,F),a=y.getNodeAt(B,v),n,r,e,s,o;for(t.push(p),p.opened=!0;t.length;){if(e=t.shift(),e.closed=!0,e===a)return E.backtrace(a);for(n=y.getNeighbors(e,h),s=0,o=n.length;s<o;++s)r=n[s],!(r.closed||r.opened)&&(t.push(r),r.opened=!0,r.parent=e)}return[]},$a=C,$a}var Qa,qh;function E0(){if(qh)return Qa;qh=1;var E=Jl();function A(C){E.call(this,C),this.heuristic=function(R,F){return 0}}return A.prototype=new E,A.prototype.constructor=A,Qa=A,Qa}var qa,_h;function jl(){if(_h)return qa;_h=1;var E=Fa(),A=Gi(),C=or(),R=Ve();function F(B){B=B||{},this.allowDiagonal=B.allowDiagonal,this.dontCrossCorners=B.dontCrossCorners,this.diagonalMovement=B.diagonalMovement,this.heuristic=B.heuristic||C.manhattan,this.weight=B.weight||1,this.diagonalMovement||(this.allowDiagonal?this.dontCrossCorners?this.diagonalMovement=R.OnlyWhenNoObstacles:this.diagonalMovement=R.IfAtMostOneObstacle:this.diagonalMovement=R.Never),this.diagonalMovement===R.Never?this.heuristic=B.heuristic||C.manhattan:this.heuristic=B.heuristic||C.octile}return F.prototype.findPath=function(B,v,y,t,h){var p=function(I,O){return I.f-O.f},a=new E(p),n=new E(p),r=h.getNodeAt(B,v),e=h.getNodeAt(y,t),s=this.heuristic,o=this.diagonalMovement,i=this.weight,l=Math.abs,u=Math.SQRT2,f,d,c,m,g,x,T,S,P=1,L=2;for(r.g=0,r.f=0,a.push(r),r.opened=P,e.g=0,e.f=0,n.push(e),e.opened=L;!a.empty()&&!n.empty();){for(f=a.pop(),f.closed=!0,d=h.getNeighbors(f,o),m=0,g=d.length;m<g;++m)if(c=d[m],!c.closed){if(c.opened===L)return A.biBacktrace(f,c);x=c.x,T=c.y,S=f.g+(x-f.x===0||T-f.y===0?1:u),(!c.opened||S<c.g)&&(c.g=S,c.h=c.h||i*s(l(x-y),l(T-t)),c.f=c.g+c.h,c.parent=f,c.opened?a.updateItem(c):(a.push(c),c.opened=P))}for(f=n.pop(),f.closed=!0,d=h.getNeighbors(f,o),m=0,g=d.length;m<g;++m)if(c=d[m],!c.closed){if(c.opened===P)return A.biBacktrace(c,f);x=c.x,T=c.y,S=f.g+(x-f.x===0||T-f.y===0?1:u),(!c.opened||S<c.g)&&(c.g=S,c.h=c.h||i*s(l(x-B),l(T-v)),c.f=c.g+c.h,c.parent=f,c.opened?n.updateItem(c):(n.push(c),c.opened=L))}}return[]},qa=F,qa}var _a,tu;function T0(){if(tu)return _a;tu=1;var E=jl();function A(C){E.call(this,C);var R=this.heuristic;this.heuristic=function(F,B){return R(F,B)*1e6}}return A.prototype=new E,A.prototype.constructor=A,_a=A,_a}var to,eu;function S0(){if(eu)return to;eu=1;var E=Gi(),A=Ve();function C(R){R=R||{},this.allowDiagonal=R.allowDiagonal,this.dontCrossCorners=R.dontCrossCorners,this.diagonalMovement=R.diagonalMovement,this.diagonalMovement||(this.allowDiagonal?this.dontCrossCorners?this.diagonalMovement=A.OnlyWhenNoObstacles:this.diagonalMovement=A.IfAtMostOneObstacle:this.diagonalMovement=A.Never)}return C.prototype.findPath=function(R,F,B,v,y){var t=y.getNodeAt(R,F),h=y.getNodeAt(B,v),p=[],a=[],n,r,e,s=this.diagonalMovement,o=0,i=1,l,u;for(p.push(t),t.opened=!0,t.by=o,a.push(h),h.opened=!0,h.by=i;p.length&&a.length;){for(e=p.shift(),e.closed=!0,n=y.getNeighbors(e,s),l=0,u=n.length;l<u;++l)if(r=n[l],!r.closed){if(r.opened){if(r.by===i)return E.biBacktrace(e,r);continue}p.push(r),r.parent=e,r.opened=!0,r.by=o}for(e=a.shift(),e.closed=!0,n=y.getNeighbors(e,s),l=0,u=n.length;l<u;++l)if(r=n[l],!r.closed){if(r.opened){if(r.by===o)return E.biBacktrace(r,e);continue}a.push(r),r.parent=e,r.opened=!0,r.by=i}}return[]},to=C,to}var eo,iu;function A0(){if(iu)return eo;iu=1;var E=jl();function A(C){E.call(this,C),this.heuristic=function(R,F){return 0}}return A.prototype=new E,A.prototype.constructor=A,eo=A,eo}var io,su;function C0(){if(su)return io;su=1,Gi();var E=or(),A=Kl(),C=Ve();function R(F){F=F||{},this.allowDiagonal=F.allowDiagonal,this.dontCrossCorners=F.dontCrossCorners,this.diagonalMovement=F.diagonalMovement,this.heuristic=F.heuristic||E.manhattan,this.weight=F.weight||1,this.trackRecursion=F.trackRecursion||!1,this.timeLimit=F.timeLimit||1/0,this.diagonalMovement||(this.allowDiagonal?this.dontCrossCorners?this.diagonalMovement=C.OnlyWhenNoObstacles:this.diagonalMovement=C.IfAtMostOneObstacle:this.diagonalMovement=C.Never),this.diagonalMovement===C.Never?this.heuristic=F.heuristic||E.manhattan:this.heuristic=F.heuristic||E.octile}return R.prototype.findPath=function(F,B,v,y,t){var h=new Date().getTime(),p=(function(u,f){return this.heuristic(Math.abs(f.x-u.x),Math.abs(f.y-u.y))}).bind(this),a=function(u,f){return u.x===f.x||u.y===f.y?1:Math.SQRT2},n=(function(u,f,d,c,m){if(this.timeLimit>0&&new Date().getTime()-h>this.timeLimit*1e3)return 1/0;var g=f+p(u,e)*this.weight;if(g>d)return g;if(u==e)return c[m]=[u.x,u.y],u;var x,T,S,P,L=t.getNeighbors(u,this.diagonalMovement);for(S=0,x=1/0;P=L[S];++S){if(this.trackRecursion&&(P.retainCount=P.retainCount+1||1,P.tested!==!0&&(P.tested=!0)),T=n(P,f+a(u,P),d,c,m+1),T instanceof A)return c[m]=[u.x,u.y],T;this.trackRecursion&&--P.retainCount===0&&(P.tested=!1),T<x&&(x=T)}return x}).bind(this),r=t.getNodeAt(F,B),e=t.getNodeAt(v,y),s=p(r,e),o,i,l;for(o=0;;++o){if(i=[],l=n(r,0,s,i,0),l===1/0)return[];if(l instanceof A)return i;s=l}return[]},io=R,io}var so,nu;function wa(){if(nu)return so;nu=1;var E=Fa(),A=Gi(),C=or();Ve();function R(F){F=F||{},this.heuristic=F.heuristic||C.manhattan,this.trackJumpRecursion=F.trackJumpRecursion||!1}return R.prototype.findPath=function(F,B,v,y,t){var h=this.openList=new E(function(r,e){return r.f-e.f}),p=this.startNode=t.getNodeAt(F,B),a=this.endNode=t.getNodeAt(v,y),n;for(this.grid=t,p.g=0,p.f=0,h.push(p),p.opened=!0;!h.empty();){if(n=h.pop(),n.closed=!0,n===a)return A.expandPath(A.backtrace(a));this._identifySuccessors(n)}return[]},R.prototype._identifySuccessors=function(F){var B=this.grid,v=this.heuristic,y=this.openList,t=this.endNode.x,h=this.endNode.y,p,a,n,r,e,s=F.x,o=F.y,i,l,u,f,d,c=Math.abs;for(p=this._findNeighbors(F),r=0,e=p.length;r<e;++r)if(a=p[r],n=this._jump(a[0],a[1],s,o),n){if(i=n[0],l=n[1],d=B.getNodeAt(i,l),d.closed)continue;u=C.octile(c(i-s),c(l-o)),f=F.g+u,(!d.opened||f<d.g)&&(d.g=f,d.h=d.h||v(c(i-t),c(l-h)),d.f=d.g+d.h,d.parent=F,d.opened?y.updateItem(d):(y.push(d),d.opened=!0))}},so=R,so}var no,ru;function P0(){if(ru)return no;ru=1;var E=wa(),A=Ve();function C(R){E.call(this,R)}return C.prototype=new E,C.prototype.constructor=C,C.prototype._jump=function(R,F,B,v){var y=this.grid,t=R-B,h=F-v;if(!y.isWalkableAt(R,F))return null;if(this.trackJumpRecursion===!0&&(y.getNodeAt(R,F).tested=!0),y.getNodeAt(R,F)===this.endNode)return[R,F];if(t!==0){if(y.isWalkableAt(R,F-1)&&!y.isWalkableAt(R-t,F-1)||y.isWalkableAt(R,F+1)&&!y.isWalkableAt(R-t,F+1))return[R,F]}else if(h!==0){if(y.isWalkableAt(R-1,F)&&!y.isWalkableAt(R-1,F-h)||y.isWalkableAt(R+1,F)&&!y.isWalkableAt(R+1,F-h))return[R,F];if(this._jump(R+1,F,R,F)||this._jump(R-1,F,R,F))return[R,F]}else throw new Error("Only horizontal and vertical movements are allowed");return this._jump(R+t,F+h,R,F)},C.prototype._findNeighbors=function(R){var F=R.parent,B=R.x,v=R.y,y=this.grid,t,h,p,a,n=[],r,e,s,o;if(F)t=F.x,h=F.y,p=(B-t)/Math.max(Math.abs(B-t),1),a=(v-h)/Math.max(Math.abs(v-h),1),p!==0?(y.isWalkableAt(B,v-1)&&n.push([B,v-1]),y.isWalkableAt(B,v+1)&&n.push([B,v+1]),y.isWalkableAt(B+p,v)&&n.push([B+p,v])):a!==0&&(y.isWalkableAt(B-1,v)&&n.push([B-1,v]),y.isWalkableAt(B+1,v)&&n.push([B+1,v]),y.isWalkableAt(B,v+a)&&n.push([B,v+a]));else for(r=y.getNeighbors(R,A.Never),s=0,o=r.length;s<o;++s)e=r[s],n.push([e.x,e.y]);return n},no=C,no}var ro,au;function R0(){if(au)return ro;au=1;var E=wa(),A=Ve();function C(R){E.call(this,R)}return C.prototype=new E,C.prototype.constructor=C,C.prototype._jump=function(R,F,B,v){var y=this.grid,t=R-B,h=F-v;if(!y.isWalkableAt(R,F))return null;if(this.trackJumpRecursion===!0&&(y.getNodeAt(R,F).tested=!0),y.getNodeAt(R,F)===this.endNode)return[R,F];if(t!==0&&h!==0){if(y.isWalkableAt(R-t,F+h)&&!y.isWalkableAt(R-t,F)||y.isWalkableAt(R+t,F-h)&&!y.isWalkableAt(R,F-h))return[R,F];if(this._jump(R+t,F,R,F)||this._jump(R,F+h,R,F))return[R,F]}else if(t!==0){if(y.isWalkableAt(R+t,F+1)&&!y.isWalkableAt(R,F+1)||y.isWalkableAt(R+t,F-1)&&!y.isWalkableAt(R,F-1))return[R,F]}else if(y.isWalkableAt(R+1,F+h)&&!y.isWalkableAt(R+1,F)||y.isWalkableAt(R-1,F+h)&&!y.isWalkableAt(R-1,F))return[R,F];return this._jump(R+t,F+h,R,F)},C.prototype._findNeighbors=function(R){var F=R.parent,B=R.x,v=R.y,y=this.grid,t,h,p,a,n=[],r,e,s,o;if(F)t=F.x,h=F.y,p=(B-t)/Math.max(Math.abs(B-t),1),a=(v-h)/Math.max(Math.abs(v-h),1),p!==0&&a!==0?(y.isWalkableAt(B,v+a)&&n.push([B,v+a]),y.isWalkableAt(B+p,v)&&n.push([B+p,v]),y.isWalkableAt(B+p,v+a)&&n.push([B+p,v+a]),y.isWalkableAt(B-p,v)||n.push([B-p,v+a]),y.isWalkableAt(B,v-a)||n.push([B+p,v-a])):p===0?(y.isWalkableAt(B,v+a)&&n.push([B,v+a]),y.isWalkableAt(B+1,v)||n.push([B+1,v+a]),y.isWalkableAt(B-1,v)||n.push([B-1,v+a])):(y.isWalkableAt(B+p,v)&&n.push([B+p,v]),y.isWalkableAt(B,v+1)||n.push([B+p,v+1]),y.isWalkableAt(B,v-1)||n.push([B+p,v-1]));else for(r=y.getNeighbors(R,A.Always),s=0,o=r.length;s<o;++s)e=r[s],n.push([e.x,e.y]);return n},ro=C,ro}var ao,ou;function L0(){if(ou)return ao;ou=1;var E=wa(),A=Ve();function C(R){E.call(this,R)}return C.prototype=new E,C.prototype.constructor=C,C.prototype._jump=function(R,F,B,v){var y=this.grid,t=R-B,h=F-v;if(!y.isWalkableAt(R,F))return null;if(this.trackJumpRecursion===!0&&(y.getNodeAt(R,F).tested=!0),y.getNodeAt(R,F)===this.endNode)return[R,F];if(t!==0&&h!==0){if(this._jump(R+t,F,R,F)||this._jump(R,F+h,R,F))return[R,F]}else if(t!==0){if(y.isWalkableAt(R,F-1)&&!y.isWalkableAt(R-t,F-1)||y.isWalkableAt(R,F+1)&&!y.isWalkableAt(R-t,F+1))return[R,F]}else if(h!==0&&(y.isWalkableAt(R-1,F)&&!y.isWalkableAt(R-1,F-h)||y.isWalkableAt(R+1,F)&&!y.isWalkableAt(R+1,F-h)))return[R,F];return y.isWalkableAt(R+t,F)&&y.isWalkableAt(R,F+h)?this._jump(R+t,F+h,R,F):null},C.prototype._findNeighbors=function(R){var F=R.parent,B=R.x,v=R.y,y=this.grid,t,h,p,a,n=[],r,e,s,o;if(F)if(t=F.x,h=F.y,p=(B-t)/Math.max(Math.abs(B-t),1),a=(v-h)/Math.max(Math.abs(v-h),1),p!==0&&a!==0)y.isWalkableAt(B,v+a)&&n.push([B,v+a]),y.isWalkableAt(B+p,v)&&n.push([B+p,v]),y.isWalkableAt(B,v+a)&&y.isWalkableAt(B+p,v)&&n.push([B+p,v+a]);else{var i;if(p!==0){i=y.isWalkableAt(B+p,v);var l=y.isWalkableAt(B,v+1),u=y.isWalkableAt(B,v-1);i&&(n.push([B+p,v]),l&&n.push([B+p,v+1]),u&&n.push([B+p,v-1])),l&&n.push([B,v+1]),u&&n.push([B,v-1])}else if(a!==0){i=y.isWalkableAt(B,v+a);var f=y.isWalkableAt(B+1,v),d=y.isWalkableAt(B-1,v);i&&(n.push([B,v+a]),f&&n.push([B+1,v+a]),d&&n.push([B-1,v+a])),f&&n.push([B+1,v]),d&&n.push([B-1,v])}}else for(r=y.getNeighbors(R,A.OnlyWhenNoObstacles),s=0,o=r.length;s<o;++s)e=r[s],n.push([e.x,e.y]);return n},ao=C,ao}var oo,lu;function O0(){if(lu)return oo;lu=1;var E=wa(),A=Ve();function C(R){E.call(this,R)}return C.prototype=new E,C.prototype.constructor=C,C.prototype._jump=function(R,F,B,v){var y=this.grid,t=R-B,h=F-v;if(!y.isWalkableAt(R,F))return null;if(this.trackJumpRecursion===!0&&(y.getNodeAt(R,F).tested=!0),y.getNodeAt(R,F)===this.endNode)return[R,F];if(t!==0&&h!==0){if(y.isWalkableAt(R-t,F+h)&&!y.isWalkableAt(R-t,F)||y.isWalkableAt(R+t,F-h)&&!y.isWalkableAt(R,F-h))return[R,F];if(this._jump(R+t,F,R,F)||this._jump(R,F+h,R,F))return[R,F]}else if(t!==0){if(y.isWalkableAt(R+t,F+1)&&!y.isWalkableAt(R,F+1)||y.isWalkableAt(R+t,F-1)&&!y.isWalkableAt(R,F-1))return[R,F]}else if(y.isWalkableAt(R+1,F+h)&&!y.isWalkableAt(R+1,F)||y.isWalkableAt(R-1,F+h)&&!y.isWalkableAt(R-1,F))return[R,F];return y.isWalkableAt(R+t,F)||y.isWalkableAt(R,F+h)?this._jump(R+t,F+h,R,F):null},C.prototype._findNeighbors=function(R){var F=R.parent,B=R.x,v=R.y,y=this.grid,t,h,p,a,n=[],r,e,s,o;if(F)t=F.x,h=F.y,p=(B-t)/Math.max(Math.abs(B-t),1),a=(v-h)/Math.max(Math.abs(v-h),1),p!==0&&a!==0?(y.isWalkableAt(B,v+a)&&n.push([B,v+a]),y.isWalkableAt(B+p,v)&&n.push([B+p,v]),(y.isWalkableAt(B,v+a)||y.isWalkableAt(B+p,v))&&n.push([B+p,v+a]),!y.isWalkableAt(B-p,v)&&y.isWalkableAt(B,v+a)&&n.push([B-p,v+a]),!y.isWalkableAt(B,v-a)&&y.isWalkableAt(B+p,v)&&n.push([B+p,v-a])):p===0?y.isWalkableAt(B,v+a)&&(n.push([B,v+a]),y.isWalkableAt(B+1,v)||n.push([B+1,v+a]),y.isWalkableAt(B-1,v)||n.push([B-1,v+a])):y.isWalkableAt(B+p,v)&&(n.push([B+p,v]),y.isWalkableAt(B,v+1)||n.push([B+p,v+1]),y.isWalkableAt(B,v-1)||n.push([B+p,v-1]));else for(r=y.getNeighbors(R,A.IfAtMostOneObstacle),s=0,o=r.length;s<o;++s)e=r[s],n.push([e.x,e.y]);return n},oo=C,oo}var lo,hu;function M0(){if(hu)return lo;hu=1;var E=Ve(),A=P0(),C=R0(),R=L0(),F=O0();function B(v){return v=v||{},v.diagonalMovement===E.Never?new A(v):v.diagonalMovement===E.Always?new C(v):v.diagonalMovement===E.OnlyWhenNoObstacles?new R(v):new F(v)}return lo=B,lo}var ho,uu;function I0(){return uu||(uu=1,ho={Heap:Fa(),Node:Kl(),Grid:g0(),Util:Gi(),DiagonalMovement:Ve(),Heuristic:or(),AStarFinder:Jl(),BestFirstFinder:x0(),BreadthFirstFinder:y0(),DijkstraFinder:E0(),BiAStarFinder:jl(),BiBestFirstFinder:T0(),BiBreadthFirstFinder:S0(),BiDijkstraFinder:A0(),IDAStarFinder:C0(),JumpPointFinder:M0()}),ho}var uo,fu;function F0(){return fu||(fu=1,uo=I0()),uo}var w0=F0();const du=Mu(w0);function Kr(E,A){return Math.sqrt((E.x-A.x)**2+(E.y-A.y)**2)}function gf(E,A=[]){let C=E.opponents.filter(R=>!A.includes(R));return E.hasAlteration(at.CONFUSION)&&(C=E.team.filter(R=>R!==E)),C=C.filter(R=>!R.untargettable),C.length===0?null:C.reduce((R,F)=>Kr(E,R)<Kr(E,F)?R:F)}function xf(E,A,C,R){const F=new du.Grid(_r,Hn),B=k.allPokemonsOnBoard;for(const y of B)y!==E&&y!==A&&F.setWalkableAt(y.x,y.y,!1);return new du.AStarFinder({}).findPath(E.x,E.y,C,R,F)}function yf(E,A){return xf(E,A,A.x,A.y)}function Ef(E,A){const C=gf(E,A);return C===null?null:yf(E,C).length===0?Ef(E,[...A,C]):C}function D0(E,A){let C;switch(Ca(A.x-E.x,A.y-E.y)){case mt.DOWN:C=[mt.DOWN,mt.LEFT,mt.RIGHT,mt.UP];case mt.LEFT:C=[mt.LEFT,mt.DOWN,mt.UP,mt.RIGHT];case mt.UP:C=[mt.UP,mt.LEFT,mt.RIGHT,mt.UP];case mt.RIGHT:default:C=[mt.RIGHT,mt.DOWN,mt.UP,mt.LEFT]}let R=1,F=0,B,v;do{const y=sr(C[F]);[B,v]=[y[0]*R,y[1]*R],F++,F>C.length&&(R++,F=0)}while(Oe(B,v)!=null||!Xn(B,v));return xf(E,null,B,v)}function N0(E,A,C,R){switch(E){case"teleport":return b0(A,R);case"tunnel":return Tf(A,C,R);case"eclair":return B0(A,R);case"provoc":return G0(A,R);case"encore":return V0(A,C,R);case"metronome":return z0(A,C,R);case"e-coque":return W0(A,R);case"amnesie":return H0(A);case"ultralaser":return X0(A,C,R);case"laser_glace":return k0(A,C,R);case"jackpot":return K0(A,R);case"morphing":return J0(A,C,R);case"evolution":return j0(A,C,R);case"psyko":return Z0(A,R);case"deflagration":return $0(A,R);case"blizzard":return Q0(A,R);case"fatal_foudre":return q0(A,R)}}function b0(E,A){const{x:C,y:R}=E;let F,B;do F=Ce(0,6),B=Ce(0,7);while(F===C||B===R||Oe(F,B)!=null);E.makeUntargettable(150);const[v,y]=Ue(F,B),t=ve(rt.TELEPORT,v,y,A);t.once(At.Animations.Events.ANIMATION_COMPLETE,()=>{t.destroy(),yd(E,F,B,A)})}function Tf(E,A,C){const{x:R,y:F}=E;let B,v;do B=Ce(0,6),v=Ce(0,7);while(B===R||v===F||Oe(B,v)!=null);const y=C.sprites.get(E.uid);C.tweens.add({targets:y,scale:0,duration:250,easing:"Linear"}),ve(rt.TUNNEL,y.x,y.y+8,C),Et(150).then(()=>E.makeUntargettable(850)),A&&Et(450).then(()=>{const t=C.sprites.get(A.uid);t&&ve(rt.TUNNEL,t.x,t.y+8,C)}),Et(850).then(()=>{if(!E.alive)return;const[t,h]=Ue(B,v);ve(rt.TUNNEL,t,h,C),yd(E,B,v,C),C.tweens.add({targets:y,scale:1,duration:250,easing:"Linear"})})}function B0(E,A){const C=Xe(k.board.otherTeam),[R,F]=C.position;Sf(E,R,F,A);const B=_e(Q.ECLAIR,C,E);Ae(B,C,E),re(C,{type:at.PARALYSIE,stacks:50,attacker:E},A)}function Sf(E,A,C,R){for(C-=16;C>=0;)ve(rt.ECLAIR,A,C,R),C-=32}function G0(E,A){const C=k.board.otherTeam.filter(R=>Kr(E,R)<=Math.sqrt(8));for(const R of C){const F=ve(rt.PROVOCATED,R.x+8,R.y,A);Et(500).then(()=>F.destroy()),R.nextAction.timer?Et(R.nextAction.timer.getRemaining()).then(()=>{R.resetTarget(E)}):R.resetTarget(E)}}let Zl=Q.TREMPETTE;function U0(E){E!==Q.ENCORE&&(Zl=E)}function V0(E,A,C){return Et(500).then(()=>$l(Zl,E,A,C))}const Y0=Object.values(Q).filter(E=>De.some(A=>A.ppSkill===E));function z0(E,A,C){const R=Xe(Y0);return Zl=R,$l(R,E,A,C)}function W0(E,A){E.team.forEach(C=>re(C,{type:at.SOIN,stacks:60,attacker:E},A))}function H0(E){E.alterations.forEach(A=>lr(E,A))}function X0(E,A,C){const R=Ca(A.x-E.x,A.y-E.y)??mt.UP;let[F,B]=E.position;const[v,y]=sr(R);F+=v*16,B+=y*16;let t=0;for(;B>=0&&B<=C.scale.height&&F>=0&&F<=C.scale.width;){ve(t===0?rt.ULTRALASER_START:rt.ULTRALASER_BEAM,F,B,C).setRotation(Wl(R));const[p,a]=Ws(F,B),n=Oe(p,a);if(n&&n.owner!==E.owner){const r=_e(Q.ULTRALASER,n,E);Ae(r,n,E)}B+=y*32,F+=v*32,t++}}function k0(E,A,C){const R=Ca(A.x-E.x,A.y-E.y)??mt.UP;let[F,B]=E.position;const[v,y]=sr(R);F+=v*16,B+=y*16;let t=0;for(;B>=0&&B<=C.scale.height&&F>=0&&F<=C.scale.width;){ve(t===0?rt.LASER_GLACE_START:rt.LASER_GLACE_BEAM,F,B,C).setRotation(Wl(R));const[p,a]=Ws(F,B),n=Oe(p,a);if(n&&n.owner!==E.owner){const r=_e(Q.LASER_GLACE,n,E);Ae(r,n,E),re(n,{type:at.GEL,stacks:50,attacker:E},C)}B+=y*32,F+=v*32,t++}}function K0(E,A){const C=Math.random()<.5,[R,F]=E.position;ve(C?rt.JACKPOT_WIN:rt.JACKPOT_LOSE,R,F-24,A),C&&(k.player.inventory.pokeball+=1,Ei())}function J0(E,A,C){E.initialEntry=E.entry,E.entry=A.entry,Ba(E,C);const R=yi(E,C);R.play(`${E.entry.ref}_${E.facingDirection}`),C.sprites.set(E.uid,R)}function j0(E,A,C){const R=new Map([[Ut,ze],[qt,$e],[wt,$e],[$t,si],[se,$e],[Ht,ze],[_t,si],[Xt,si],[Ft,$e],[kt,si],[Qt,$e],[Kt,ze],[bt,ze],[Vt,ze],[Yt,si],[Jt,$e]]);E.entry=R.get(A.types[0])??si,Ci(E,.2*E.maxPV),Ba(E,C);const F=yi(E,C);F.play(`${E.entry.ref}_${E.facingDirection}`),C.sprites.set(E.uid,F)}function Z0(E,A){E.opponents.forEach(C=>{A.cameras.main.flash(250,255,0,255),re(C,{type:at.CONFUSION,stacks:40,attacker:E},A),Et(Q.PSYKO.hitDelay).then(()=>{const R=_e(Q.PSYKO,C,E);Ae(R,C,E)})})}function $0(E,A){const C=[];E.opponents.forEach(R=>{re(R,{type:at.BRULURE,stacks:60,attacker:E},A),C.push([R.x,R.y])}),A.cameras.main.flash(250,255,0,0),C.reduce((R,[F,B])=>R.then(()=>{const[v,y]=Ue(F,B),t=ve(rt.ERUPTION_PENDING,v,y-16,A);return Et(1500).then(()=>{t.play(rt.ERUPTION)}).then(()=>Et(100)).then(()=>{const h=Oe(F,B);if(h){const p=_e(Q.DEFLAGRATION,h,E);Ae(p,h,E)}}),Et(100)}),Et(10))}function Q0(E,A){const C=[];return E.opponents.forEach(R=>{re(R,{type:at.GEL,stacks:jt(80-R.speed,20,60),attacker:E},A),C.push([R.x,R.y])}),A.cameras.main.flash(250,64,128,255),C.reduce((R,[F,B])=>{const[v,y]=Ue(F,B),t=v-A.scale.width/2,h=y-A.scale.height;return R.then(()=>Et(100)).then(()=>{const p=ve(rt.GRELON,t,h,A,!0),a=A.tweens.add({targets:p,x:v,y,duration:1500,ease:"Linear",onComplete(){A.tweens.remove(a),yh.hitEffect&&(p.play(yh.hitEffect.key),p.once(At.Animations.Events.ANIMATION_COMPLETE,()=>p.destroy()));const n=Oe(F,B);if(n){const r=_e(Q.BLIZZARD,n,E);Ae(r,n,E)}}})})},Et(10))}function q0(E,A){E.opponents.forEach(F=>{re(F,{type:at.PARALYSIE,stacks:40,attacker:E},A)});const R=Ia(E.opponents,3);return A.cameras.main.flash(255,255,192,192),R.reduce((F,B)=>{const[v,y]=B.position;return F.then(()=>{Sf(E,v,y,A);const t=_e(Q.FATAL_FOUDRE,B,E);Ae(t,B,E)}).then(()=>Et(Ce(300,500)))},Et(250))}function $l(E,A,C,R){if(E.behavior===ht.DIRECT_HIT)return _0(E,A,C,R);if(E.behavior===ht.PROJECTILE)return d0(E,A,C,R);if(E.behavior===ht.SPECIAL)return tg(E,A,C,R);if(E.behavior===ht.AREA_OF_EFFECT)return eg(E,A,C,R);console.error(`Not yet implemented: ${E.ref}`)}function ve(E,A,C,R,F){const B=R.add.sprite(A,C,"effects");return B.scale=(E==null?void 0:E.scale)??1,B.blendMode=Phaser.BlendModes.OVERLAY,B.tint=(E==null?void 0:E.tint)??16777215,B.setDepth(E.depth??ft.SKILL_EFFECT_ABOVE_POKEMON),B.alpha=(E==null?void 0:E.opacity)??1,B.play(E.key),F||B.once(Phaser.Animations.Events.ANIMATION_COMPLETE,()=>{B.destroy()}),B}function Da(E,A,C,R){const F=E.effect;if(!F)return;let[B,v]=C.position,y=0,t=0;const h=Math.atan2(C.y-A.y,C.x-A.x);F.position==="source"||F.position==="parabolic_to_target"?([B,v]=A.position,y=Math.round(Math.cos(h)*(F.delta??8)),t=Math.round(Math.sin(h)*(F.delta??8))):F.position==="target"||F.position==="target_to_source"?(y=Math.round(Math.cos(h+Math.PI)*(F.delta??8)),t=Math.round(Math.sin(h+Math.PI)*(F.delta??8))):F.position==="target_ground"?t=F.delta??0:F.position==="source_ground"&&([B,v]=A.position,t=F.delta??0);const p=ve(F,B+y,v+t,R);if(E.rotateSprite&&(p.rotation=h),F.position==="target_to_source"){const[a,n]=A.position;R.tweens.add({targets:p,x:a,y:n,duration:E.hitDelay??250,ease:"Linear",onComplete(){E.hitEffect||p.destroy()}})}if(F.position==="parabolic_to_target"){const[a,n]=A.position,[r,e]=C.position,s=new Phaser.Math.Vector2(a,n),o=new Phaser.Math.Vector2(a+(r-a)*.2,n-20),i=new Phaser.Math.Vector2(a+(r-a)*.8,e-20),l=new Phaser.Math.Vector2(r,e),u=new Phaser.Curves.CubicBezier(s,o,i,l),f={t:0},d=E.hitDelay??250;R.tweens.add({targets:f,t:1,duration:d,ease:"Linear",onComplete(){E.hitEffect||p.destroy()},onUpdate:(c,m)=>{const g=u.getPoint(m.t);p.x=g.x,p.y=g.y}})}Et(E.hitDelay??0).then(()=>{if(E.hitEffect){const a=E.hitEffect;p.scale=a.scale??1,p.play(a.key),p.setDepth(a.depth??ft.SKILL_EFFECT_ABOVE_POKEMON),p.once(Phaser.Animations.Events.ANIMATION_COMPLETE,()=>{p.destroy()})}if(E.knockback){const a=Math.atan2(A.y-C.y,C.x-A.x);Af(C,a,R)}})}function _0(E,A,C,R){Da(E,A,C,R),E.triggerAlteration&&re(C,{...E.triggerAlteration,attacker:A},R),E.chargeDelta&&sg(A,C,E.chargeDelta,R),Et(E.hitDelay??0).then(()=>{const F=_e(E,C,A);if(yg(A,C,E)){for(const B of A.buffs.onHit)B({target:C,attacker:A,damage:F,skill:E});for(const B of C.buffs.onHitReceived)B({damage:F,attacker:A,skill:E});Ae(F,C,A),E.selfDamage&&Ae(Lf(E,A),A,A)}E.hitAlteration&&re(C,{...E.hitAlteration,attacker:A},R),E.selfAlteration&&re(A,{...E.selfAlteration,attacker:A},R)})}function tg(E,A,C,R){Da(E,A,C,R),E.triggerSpecial&&Et(E.triggerSpecialDelay??0).then(()=>N0(E.triggerSpecial,A,C,R)),E.triggerAlteration&&re(C,{...E.triggerAlteration,attacker:A},R),E.selfAlteration&&re(A,{...E.selfAlteration,attacker:A},R)}function eg(E,A,C,R){Da(E,A,C,R),E.selfAlteration&&re(A,{...E.selfAlteration,attacker:A},R);const F=E.getTilesImpacted(A,C).filter(([v,y])=>Xn(v,y));let B=!1;Et(E.hitDelay??0).then(()=>{for(const[v,y]of F){const t=Oe(v,y);if(t&&t.owner!==A.owner){const h=_e(E,t,A);for(const p of t.buffs.onHitReceived)p({damage:h,attacker:A,skill:E});if(!B){B=!0;for(const p of A.buffs.onHit)p({target:t,attacker:A,damage:h,skill:E})}Ae(h,t,A),E.hitAlteration&&re(t,{...E.hitAlteration,attacker:A},R)}}E.selfDamage&&Ae(Lf(E,A),A,A)})}function ig(E,A,C){const R=C.sprites.get(E.uid);if(!R)return;const[F,B]=E.position,v=new Phaser.Math.Vector2(F,B),y=new Phaser.Math.Vector2(F,B-20),t=new Phaser.Curves.CubicBezier(v,y,y,v),h={t:0},p=250+A*C.gameSpeed;R.anims.resume(),Et(p).then(()=>{E.alive&&R.anims.pause()}),C.tweens.add({targets:h,t:1,duration:p,ease:Phaser.Math.Easing.Circular.InOut,onUpdate:(a,n)=>{const r=t.getPoint(n.t);R.x=r.x,R.y=r.y}})}function sg(E,A,C,R){const F=Math.atan2(A.y-E.y,A.x-E.x),B=R.sprites.get(E.uid);if(!B)return;const{x:v,y}=B,t=1e7/(E.speed+40)/R.gameSpeed;B.anims.resume(),R.tweens.add({targets:B,x:v+C*Math.cos(F),y:y+C*Math.sin(F),duration:Math.min(150,t),ease:Phaser.Math.Easing.Cubic.In,onComplete(){var h;R.tweens.add({targets:B,x:v,y,duration:250,ease:Phaser.Math.Easing.Linear}),E.alive&&((h=B.anims)!=null&&h.isPlaying)&&B.anims.pause()}})}function Af(E,A,C){var e;const R=C.sprites.get(E.uid);let F=((e=E.alliances.get(wt))==null?void 0:e.stepReachedN)??0;if(!R||F===0||E.untargettable)return;const B=Nv(A),[v,y]=sr(B);let{x:t,y:h}=E,p=0;for(;Xn(t+v,h+y)&&Oe(t+v,h+y)==null&&F>0;)t+=v,h+=y,F--,p++;if(p===0)return;const a=p*500;E.makeUntargettable(a),Cf(E,a,C),E.x=t,E.y=h;const[n,r]=Ue(t,h);C.tweens.add({targets:R,x:n,y:r,duration:a,ease:Phaser.Math.Easing.Expo.Out,onComplete(){E.alive&&E.resetAction()}})}function Cf(E,A,C){E.resetAction({type:Ge.IDLE,timer:C.time.addEvent({delay:A,callback:()=>E.resetAction()})})}function ng(E,A){E.alterations.forEach(C=>{if(rg(E,C),C.keepStacks||C.stacks--,C.stacks<=0)lr(E,C);else if(C.effectSprite){const R=A.sprites.get(E.uid);R?C.effectSprite.setPosition(R.x,R.y+(C.effectDelta??0)):C.effectSprite.destroy()}})}function rg(E,A){const C=k.activeScene,R=C.sprites.get(E.uid),F=C.gameSpeed/1e3;switch(A.type){case at.POISON:{const B=Eg(E,A,C);Ae(B,E,A.attacker,!0,!0);break}case at.BRULURE:{const B=Tg(E,C);Ae(B,E,A.attacker,!0,!1);const v=E.alterations.find(y=>y.type===at.GEL);v&&(v.stacks-=3);break}case at.SOMMEIL:R==null||R.anims.pause();break;case at.LIGOTAGE:{const B=E.maxPV*.02*F;Ae(B,E,A.attacker,!0,!1);break}case at.SOIN:Ci(E,.1*F*E.level);break;case at.REPOS:Ci(E,5/100*F*E.maxPV);break;case at.EXECUTION:E.pv<30/100*E.maxPV&&Of(E);break;case at.DAMAGE_OVER_TIME:Ae(5*F,E,A.attacker);break;case at.TOURBILLON:switch(E.facingDirection){case mt.UP:E.facingDirection=mt.RIGHT;break;case mt.RIGHT:E.facingDirection=mt.DOWN;break;case mt.DOWN:E.facingDirection=mt.LEFT;break;case mt.LEFT:default:E.facingDirection=mt.UP;break}R==null||R.play(`${E.entry.ref}_${E.facingDirection}`);break}}function ag(E){return E.hasAlteration(at.TOURBILLON)||E.hasAlteration(at.SOMMEIL)}function re(E,A,C){if(!E.alive||E.unalterable&&[at.BRULURE,at.CONFUSION,at.GEL,at.PARALYSIE,at.PEUR,at.POISON,at.SOMMEIL].includes(A.type))return;E.item===vn&&(E.unalterable=!0,setTimeout(()=>{E.unalterable=!1},10*1e3),E.item=null,zt("heal_ailment"));const R=E.alterations.find(F=>F.type===A.type);if(R){if([at.SOMMEIL,at.PEUR,at.CONFUSION].includes(A.type))return;if(R.stacks+=A.stacks,A.type===at.RAGE){const F=C.sprites.get(E.uid);if(!F)return console.error(`Error, can't find pokemon sprite uid ${E.uid}`);F.setTint(Phaser.Display.Color.GetColor(255,jt(200-A.stacks*40,0,255),jt(128-A.stacks*30,0,255)))}}else{const F=C.sprites.get(E.uid);if(!F)return console.error(`Error, can't find pokemon sprite uid ${E.uid}`);switch(A.type){case at.TOURBILLON:{E.resetAction();const B=A.stacks*C.gameSpeed;E.makeUntargettable(B),Cf(E,B,C),ig(E,A.stacks,C);break}case at.BRULURE:if(E.hasType(wt))return;A.effectSprite=ve(rt.BURN,F.x,F.y,C);break;case at.GEL:if(E.hasType(Ht))return;A.effectSprite=ve(rt.FROZEN,F.x,F.y,C),E.makeUntargettable(A.stacks*C.gameSpeed);break;case at.SOMMEIL:if(E.item===Tn||E.hasType(Yt))return;E.resetAction(),A.effectSprite=ve(rt.SOMMEIL,F.x,F.y,C);break;case at.CONFUSION:if(E.hasType(Kt))return;E.resetAction(),A.effectSprite=ve(rt.CONFUSION,F.x,F.y,C);break;case at.PARALYSIE:A.effectSprite=ve(rt.PARALYSIE,F.x,F.y,C);break;case at.PEUR:if(E.hasType(Ut))return;E.resetAction(),A.effectSprite=ve(rt.PEUR,F.x,F.y,C);break;case at.POISON:A.effectSprite=ve(rt.POISON,F.x,F.y-8,C),A.effectDelta=-8;break;case at.SOIN:case at.REPOS:A.effectSprite=ve(rt.SOIN,F.x,F.y-8,C);break;case at.RAGE:F.setTint(Phaser.Display.Color.GetColor(255,200,200));break}E.alterations.push({...A})}A.type===at.REPOS&&re(E,{type:at.SOMMEIL,stacks:A.stacks,attacker:E},C)}function lr(E,A){if(ni(E.alterations,A),A.effectSprite&&A.effectSprite.destroy(),A.type===at.SOMMEIL){const R=k.activeScene.sprites.get(E.uid);R==null||R.anims.resume();const F=E.alterations.find(B=>B.type===at.REPOS);F&&lr(E,F)}(A.type===at.CONFUSION||A.type===at.GEL)&&E.resetAction()}function og(){k.allPokemonsOnBoard.forEach(E=>{E.alterations.forEach(A=>{lr(E,A)})})}let Ie={pokemons:[],damageDone:new Map,damageReceived:new Map,heal:new Map};function lg(){return Ie}function hg(){Ie={pokemons:k.allPokemonsOnBoard,damageDone:new Map,damageReceived:new Map,heal:new Map}}function ug(){for(const[E,A]of Ie.damageDone)Ie.pokemons.find(R=>R.uid===E)||console.error(`Unknown pokemon UID: ${E}`);for(const[E,A]of Ie.damageReceived)Ie.pokemons.find(R=>R.uid===E)||console.error(`Unknown pokemon UID: ${E}`);for(const[E,A]of Ie.heal)Ie.pokemons.find(R=>R.uid===E)||console.error(`Unknown pokemon UID: ${E}`)}function fg(E,A){Ie.damageDone.set(E.uid,(Ie.damageDone.get(E.uid)??0)+A)}function dg(E,A){Ie.damageReceived.set(E.uid,(Ie.damageReceived.get(E.uid)??0)+A)}function cg(E,A){Ie.heal.set(E.uid,(Ie.heal.get(E.uid)??0)+A)}function Pf(E,A){const C=At.Math.Distance.Snake(E.x,E.y,A.x,A.y),R=C<=E.entry.baseSkill.attackRange||E.entry.ppSkill&&E.pp>=E.entry.maxPP&&C<=E.entry.ppSkill.attackRange,F=E.hasAlteration(at.GEL)||E.hasAlteration(at.PEUR)||E.hasAlteration(at.SOMMEIL);return R&&!F}function vg(E){return!(E.hasAlteration(at.GEL)||E.hasAlteration(at.LIGOTAGE)||E.hasAlteration(at.SOMMEIL)||E.hasAlteration(at.PARALYSIE))}function pg(E,A){if(E.nextAction.timer)return;if(E.nextAction.type===Ge.JUMP)return xg(E,A);if(E.nextAction.type!==Ge.IDLE||!E.alive||ag(E))return;const C=gf(E);C==null||!C.alive?E.resetAction():Pf(E,C)?mg(E,C,A):vg(E)&&Rf(E,C,A)}function cu(E,A,C){const R=C.sprites.get(E.uid);if(R==null)return console.error(`Sprite not found for pokemon ${E.uid}`);E.facingDirection=Pa(A.x-E.x,A.y-E.y),R.play(`${E.entry.ref}_${E.facingDirection}`,!0)}function Rf(E,A,C){const R=C.sprites.get(E.uid);if(R==null){console.error(`Sprite not found for pokemon ${E.uid}`);return}if(A.nextAction.type===Ge.MOVE&&A.nextAction.target===E&&Kr(E,A)<2){E.resetAction({type:Ge.IDLE,target:A});return}let F=yf(E,A);if(F.length===0){const B=Ef(E,[A]);if(B!=null){Rf(E,B,C);return}F=D0(E,A)}if(E.resetAction({type:Ge.MOVE,path:F,target:A}),E.nextAction.path&&E.nextAction.path.length>=3){const[B,v]=E.nextAction.path[1],[y,t]=Ue(B,v);E.facingDirection=Pa(B-E.x,v-E.y),R.play(`${E.entry.ref}_${E.facingDirection}`,!0),R.anims.resume(),E.x=B,E.y=v;const h=25e5/(E.speed+30)/C.gameSpeed;C.tweens.add({targets:R,x:y,y:t,duration:h,ease:"Linear"}),C.time.addEvent({delay:h,callback:()=>{E.alive&&E.resetTarget(A)}})}else E.resetTarget(A)}function mg(E,A,C){if(C.sprites.get(E.uid)==null)return console.error(`Sprite not found for pokemon ${E.uid}`);const F=100+1e7/(E.speed+50)/C.gameSpeed;E.resetAction({type:Ge.ATTACK,target:A}),cu(E,A,C),E.nextAction.timer=C.time.addEvent({delay:F,loop:!0,callback:()=>{if(!E.alive)return;if(!A.alive||A.untargettable||!Pf(E,A))return E.resetAction();E.facingDirection=Pa(A.x-E.x,A.y-E.y),E.pp=Math.min(E.entry.maxPP,E.pp+1),cu(E,A,C);let B=E.entry.baseSkill;E.entry.ppSkill&&E.pp>=E.entry.maxPP&&(B=E.entry.ppSkill,U0(B),E.pp=0),$l(B,E,A,C)}})}function gg(){const E=new Set;for(const A of k.allPokemonsOnBoard){if(!A.hasType(Jt))continue;let C=A.placementX,R=A.owner===xe?0:7,F=1,B=0;for(;Oe(C,R)!=null||E.has([C,R].join(","));){do C+=F,F=-1*(Math.abs(F)+1)*Math.sign(F);while((C<0||C>=7)&&Math.abs(F)<=8);if(Math.abs(F)>8&&(R=A.owner===xe?B:7-B,C=A.placementX,F=1,B++),B>4)return}A.resetAction({type:Ge.JUMP,path:[[C,R]]}),E.add([C,R].join(","))}}function xg(E,A){if(!E.nextAction||!E.nextAction.path)return;const C=A.sprites.get(E.uid);if(C==null)return console.error(`Sprite not found for pokemon ${E.uid}`);const[R,F]=E.nextAction.path[0],[B,v]=Ue(R,F);E.facingDirection=Pa(R-E.x,F-E.y),C.play(`${E.entry.ref}_${E.facingDirection}`),E.x=R,E.y=F;const y=1e3;E.makeUntargettable(y),A.tweens.add({targets:C,x:{value:B,duration:y,ease:At.Math.Easing.Circular.InOut},y:{value:v,duration:y,ease:At.Math.Easing.Circular.InOut},scale:{value:1.25,duration:y/2,ease:At.Math.Easing.Circular.InOut,yoyo:!0}}),E.resetAction({type:Ge.IDLE,timer:A.time.addEvent({delay:y,callback:()=>E.resetAction()})})}function yg(E,A,C){const R=(E.precision-(A.dodge??0))*(C.precision??1);return R>=1?!0:Math.random()<=R}function Ae(E,A,C,R=!1,F=!1){if(!A.hasAlteration(at.INVULNERABLE))if(A.pv=Math.max(0,A.pv-E),C&&C!==A&&fg(C,E),dg(A,E),R||(A.pp=Math.min(A.entry.maxPP,A.pp+jt(E/A.maxPV*25,2,5))),A.pv===0)Of(A),C&&C.item===bn&&C.owner===xe&&(k.player.inventory.pokeball+=1,Ei());else{const B=A.alterations.find(v=>v.type===at.SOMMEIL);if(B&&!F){const v=Math.ceil(E/A.maxPV*200);B.stacks-=v,console.log(`reducing sommeil stacks by ${v}`),B.stacks<=0&&lr(A,B)}}}function _e(E,A,C){let R=A.types;A.hasAlteration(at.ADAPTATION)&&(R=[E.type]);let F=R.map(B=>{var v;return((v=Yd.get(E.type))==null?void 0:v.get(B))??1}).reduce((B,v)=>B*v);if(F>1){const B=A.alliances.get(Ft);B&&(F=Math.max(1,F-.3*B.stepReachedN))}return C.attack*(1+E.power/50)*F/A.defense}function Lf(E,A){return A.attack*(1+(E.selfDamage??0)/100)/A.defense}function Eg(E,A,C){const R=C.gameSpeed/1e3;let F=jt(A.stacks,1,300)*R*(.025/100)*E.maxPV;const B=E.alliances.get(bt),v=E.owner===xe?k.board.otherTeamAlliances.get(Qt):k.board.playerAlliances.get(Qt);let y=1;return E.hasType(Qt)&&(y-=.5),v&&(y+=.4*v.stepReachedN),B&&(y-=.3*B.stepReachedN),F*=jt(y,0,10),F}function Tg(E,A){let R=.1*(A.gameSpeed/1e3)*E.level,F=1;const B=E.alliances.get(bt);return B&&(F-=.3*B.stepReachedN),R*=F,R}function Of(E){const A=k.board,C=E.owner===1?A.playerTeam:A.otherTeam,R=C.indexOf(E);R!==-1&&(zt(Sa(E.entry)),Io(E),C.splice(R,1),C.length===0&&k.stage===Se.FIGHT&&k.endFight(E.owner))}function Io(E){const A=k.activeScene,C=A.sprites.get(E.uid);if(C==null)return console.error(`Sprite not found for pokemon ${E.uid}`);const R=A.add.sprite(C.x,C.y,"pokeball");R.play(`${E.pokeball}_in`),R.once(At.Animations.Events.ANIMATION_COMPLETE,()=>{R.destroy()}),E.alterations.filter(F=>F.effectSprite!=null).forEach(F=>{var B;return(B=F.effectSprite)==null?void 0:B.destroy()}),Ba(E,A)}function Ci(E,A){(E.hasAlteration(at.BRULURE)||E.hasAlteration(at.RAGE))&&(A*=.5),E.pv=Math.min(E.maxPV,E.pv+A),cg(E,A)}function Mf(E,A){const C=k.activeScene,R=E.level;let F=1;const B=E.owner===xe?k.board.playerAlliances.get(Xt):k.board.otherTeamAlliances.get(Xt);if(E.hasType(Xt)&&B&&(F+=.2*B.stepReachedN),E.item===Pn&&(F+=.3),E.xp+=A*F,E.level=Ho(E.xp),E.item===Fn&&(E.level++,E.xp=Iu(E.level)),R!==E.level){Rs("level_up");const v=[V("dialog.levelup",{name:V(`pokemon.${E.entry.ref}`),level:E.level})];return E.entry.evolution&&E.level>=(E.entry.evolutionLevel??50)&&v.push(()=>{const y=E.entry;E.entry=E.entry.evolution,Rs("success");const t=C.sprites.get(E.uid);if(t!=null){const h=k.board.playerTeam.find(r=>r.uid===E.uid);Da(Q.EVOLUTION,h,h,C);const{x:p,y:a}=t;Ba(h,C);const n=yi(h,C);n.setPosition(p,a),n.play(`${E.entry.ref}_${h.facingDirection}`),C.sprites.set(E.uid,n),(k.stage===Se.PLACEMENT||k.stage===Se.CAPTURE)&&(n.anims.pause(),n.setAlpha(.5))}return V("dialog.evolve",{old:V(`pokemon.${y.ref}`),new:V(`pokemon.${E.entry.ref}`)})}),Mt(v,{speaker:"system"})}return Promise.resolve(E.level)}function Sg(){const E=k.activeScene;E.cameras.main.flash(250,255,0,0),zt("rage");for(const A of k.allPokemonsOnBoard)re(A,{type:at.RAGE,stacks:1,keepStacks:!0},E)}const If={ref:"pierre",frameIndex:8,introFrameIndex:0,dialogs:{start:[V("dialog.pierre.start.0"),V("dialog.pierre.start.1"),V("dialog.pierre.start.2"),V("dialog.pierre.start.3")],victory:[V("dialog.pierre.victory.0"),V("dialog.pierre.victory.1"),V("dialog.pierre.victory.2"),()=>(k.receiveBadge(bl),V("dialog.pierre.victory.3")),V("dialog.pierre.victory.4")],defeat:[V("dialog.pierre.defeat.0"),V("dialog.pierre.defeat.1")]}},Ff={ref:"ondine",frameIndex:9,introFrameIndex:1,dialogs:{start:[V("dialog.ondine.start.0"),V("dialog.ondine.start.1"),V("dialog.ondine.start.2"),V("dialog.ondine.start.3")],victory:[V("dialog.ondine.victory.0"),V("dialog.ondine.victory.1"),()=>(k.receiveBadge(ir),V("dialog.ondine.victory.2"))],defeat:[V("dialog.ondine.defeat.0"),V("dialog.ondine.defeat.1")]}},wf={ref:"major_bob",frameIndex:10,introFrameIndex:2,dialogs:{start:[V("dialog.bob.start.0"),V("dialog.bob.start.1"),V("dialog.bob.start.2"),V("dialog.bob.start.3"),V("dialog.bob.start.4"),V("dialog.bob.start.5")],victory:[V("dialog.bob.victory.0"),V("dialog.bob.victory.1"),()=>(k.receiveBadge(Bl),V("dialog.bob.victory.2"))],defeat:[V("dialog.bob.defeat.0"),V("dialog.bob.defeat.1"),V("dialog.bob.defeat.2")]}},Df={ref:"erika",frameIndex:11,introFrameIndex:3,dialogs:{start:[V("dialog.erika.start.0"),V("dialog.erika.start.1"),V("dialog.erika.start.2"),V("dialog.erika.start.3"),V("dialog.erika.start.4"),V("dialog.erika.start.5"),V("dialog.erika.start.6"),V("dialog.erika.start.7")],victory:[V("dialog.erika.victory.0"),V("dialog.erika.victory.1"),()=>(k.receiveBadge(Gl),[V("dialog.erika.victory.2"),V("dialog.erika.victory.3")])],defeat:[V("dialog.erika.defeat.0"),V("dialog.erika.defeat.1"),V("dialog.erika.defeat.2")]}},Nf={ref:"koga",frameIndex:12,introFrameIndex:4,dialogs:{start:[V("dialog.koga.start.0"),V("dialog.koga.start.1"),V("dialog.koga.start.2"),V("dialog.koga.start.3")],victory:[V("dialog.koga.victory.0"),V("dialog.koga.victory.1"),()=>(k.receiveBadge(Ul),[V("dialog.koga.victory.2"),V("dialog.koga.victory.3"),V("dialog.koga.victory.4"),V("dialog.koga.victory.5")])],defeat:[V("dialog.koga.defeat.0"),V("dialog.koga.defeat.1")]}},bf={ref:"morgane",frameIndex:13,introFrameIndex:5,dialogs:{start:[V("dialog.morgane.start.0"),V("dialog.morgane.start.1"),V("dialog.morgane.start.2"),V("dialog.morgane.start.3"),V("dialog.morgane.start.4")],victory:[V("dialog.morgane.victory.0"),V("dialog.morgane.victory.1"),V("dialog.morgane.victory.2"),()=>(k.receiveBadge(Vl),[V("dialog.morgane.victory.3"),V("dialog.morgane.victory.4"),V("dialog.morgane.victory.5")])],defeat:[V("dialog.morgane.defeat.0")]}},Bf={ref:"auguste",frameIndex:14,introFrameIndex:6,dialogs:{start:[V("dialog.auguste.start.0"),V("dialog.auguste.start.1"),V("dialog.auguste.start.2"),V("dialog.auguste.start.3")],victory:[V("dialog.auguste.victory.0"),V("dialog.auguste.victory.1"),()=>(k.receiveBadge(Yl),[V("dialog.auguste.victory.2"),V("dialog.auguste.victory.3")])],defeat:[V("dialog.auguste.defeat.0")]}},Gf={ref:"giovanni",frameIndex:15,introFrameIndex:7,dialogs:{start:[V("dialog.giovanni.start.0"),V("dialog.giovanni.start.1"),V("dialog.giovanni.start.2")],victory:[V("dialog.giovanni.victory.0"),V("dialog.giovanni.victory.1"),()=>(k.receiveBadge(Aa),[V("dialog.giovanni.victory.2"),V("dialog.giovanni.victory.3")]),V("dialog.giovanni.victory.4"),V("dialog.giovanni.victory.5"),V("dialog.giovanni.victory.6"),V("dialog.giovanni.victory.7")],defeat:[V("dialog.giovanni.defeat.0"),V("dialog.giovanni.defeat.1")]}};var Uf=(E=>(E[E.MET=0]="MET",E[E.BEATEN=1]="BEATEN",E))(Uf||{});const Vf={ref:"hector",frameIndex:16,introFrameIndex:8,dialogs:{start:[()=>(k.dialogStates.hector=0,V("dialog.hector.start.0")),V("dialog.hector.start.1"),V("dialog.hector.start.2"),V("dialog.hector.start.3"),V("dialog.hector.start.4"),V("dialog.hector.start.5")],victory:[V("dialog.hector.victory.0"),V("dialog.hector.victory.1"),V("dialog.hector.victory.2"),()=>(k.dialogStates.hector=1,Ye(bn).then(()=>V("dialog.hector.victory.3"))),V("dialog.hector.victory.4"),V("dialog.hector.victory.5")],defeat:[V("dialog.hector.defeat.0"),V("dialog.hector.defeat.1"),V("dialog.hector.defeat.2")]}};var Yf=(E=>(E[E.MET=0]="MET",E[E.BEATEN=1]="BEATEN",E))(Yf||{});const zf={ref:"sally",frameIndex:17,introFrameIndex:9,dialogs:{start:[()=>(k.dialogStates.sally=0,V("dialog.sally.start.0")),V("dialog.sally.start.1"),V("dialog.sally.start.2"),V("dialog.sally.start.3"),V("dialog.sally.start.4"),V("dialog.sally.start.5")],victory:[V("dialog.sally.victory.0"),V("dialog.sally.victory.1"),V("dialog.sally.victory.2"),V("dialog.sally.victory.3"),()=>(k.dialogStates.sally=1,Ye(Bn).then(()=>V("dialog.sally.victory.4"))),V("dialog.sally.victory.5")],defeat:[V("dialog.sally.defeat.0"),V("dialog.sally.defeat.1"),V("dialog.sally.defeat.2")]}},Fo=[If,Ff,wf,Df,Nf,bf,Gf,Bf,zf,Vf],Wf={ref:"olga",frameIndex:45,introFrameIndex:null,dialogs:{start:[V("dialog.olga.start.0"),V("dialog.olga.start.1"),V("dialog.olga.start.2"),V("dialog.olga.start.3"),V("dialog.olga.start.4"),V("dialog.olga.start.5")],victory:[V("dialog.olga.victory.0"),V("dialog.olga.victory.1")],defeat:[V("dialog.olga.defeat.0")]}},Hf={ref:"aldo",frameIndex:46,introFrameIndex:null,dialogs:{start:[V("dialog.aldo.start.0"),V("dialog.aldo.start.1"),V("dialog.aldo.start.2"),V("dialog.aldo.start.3"),V("dialog.aldo.start.4")],victory:[V("dialog.aldo.victory.0")],defeat:[V("dialog.aldo.defeat.0")]}},Xf={ref:"agatha",frameIndex:47,introFrameIndex:null,dialogs:{start:[V("dialog.agatha.start.0"),V("dialog.agatha.start.1"),V("dialog.agatha.start.2"),V("dialog.agatha.start.3"),V("dialog.agatha.start.4"),V("dialog.agatha.start.5"),V("dialog.agatha.start.6"),V("dialog.agatha.start.7")],victory:[V("dialog.agatha.victory.0"),V("dialog.agatha.victory.1")],defeat:[V("dialog.agatha.defeat.0")]}},kf={ref:"peter",frameIndex:48,introFrameIndex:null,dialogs:{start:[V("dialog.peter.start.0"),V("dialog.peter.start.1"),V("dialog.peter.start.2"),V("dialog.peter.start.3"),V("dialog.peter.start.4"),V("dialog.peter.start.5"),V("dialog.peter.start.6"),V("dialog.peter.start.7")],victory:[V("dialog.peter.victory.0"),V("dialog.peter.victory.1"),V("dialog.peter.victory.2"),V("dialog.peter.victory.3"),V("dialog.peter.victory.4"),V("dialog.peter.victory.5"),V("dialog.peter.victory.6")],defeat:[V("dialog.peter.defeat.0")]}},Kf={ref:"rival",frameIndex:49,introFrameIndex:null,dialogs:{start:[V("dialog.rival.start.0"),V("dialog.rival.start.1"),V("dialog.rival.start.2"),V("dialog.rival.start.3"),V("dialog.rival.start.4"),V("dialog.rival.start.5"),V("dialog.rival.start.6")],victory:[V("dialog.rival.victory.0"),V("dialog.rival.victory.1"),V("dialog.rival.victory.2")],defeat:[V("dialog.rival.defeat.0"),V("dialog.rival.defeat.1"),V("dialog.rival.defeat.2")]}},Jf=[Wf,Hf,Xf,kf,Kf],zn={BEFORE_WILD:0,AFTER_WILD:1,AFTER_CAPTURE_SELF:2},Ag={ref:"assistant_tuto",frameIndex:19,introFrameIndex:null,dialogs:{start:[V("dialog.assistant_tuto.start.0"),V("dialog.assistant_tuto.start.1"),()=>(k.dialogStates.assistant_tuto=zn.BEFORE_WILD,Ye(We,5)),V("dialog.assistant_tuto.start.2"),{[V("yes")]:()=>[V("dialog.assistant_tuto.start.yes0")],[V("no")]:()=>[V("dialog.assistant_tuto.start.no0"),V("dialog.assistant_tuto.start.no1"),V("dialog.assistant_tuto.start.no2"),V("dialog.assistant_tuto.start.no3"),V("dialog.assistant_tuto.start.no4")]}],victory:[V("dialog.assistant_tuto.victory.0")],defeat:[()=>{for(const E of k.board.otherTeam)Io(E);return V("dialog.assistant_tuto.defeat.0")},V("dialog.assistant_tuto.defeat.1")],step2:[()=>(Fe("music_guide"),V("dialog.assistant_tuto.step2.0")),V("dialog.assistant_tuto.step2.1"),V("dialog.assistant_tuto.step2.2"),V("dialog.assistant_tuto.step2.3"),()=>{const E=k.player.team[0].entry;for(const A of k.board.otherTeam)Io(A);return k.dialogStates.assistant_tuto=zn.AFTER_WILD,Et(500).then(()=>{const A=k.activeScene;k.stage=Se.CAPTURE,k.board.otherTeam=Vx(E),zo(k.board.otherTeam[0],A)}),V("dialog.assistant_tuto.step2.4",{name:V(`pokemon.${E.ref}`)})}],step3:[V("dialog.assistant_tuto.step3.0"),V("dialog.assistant_tuto.step3.1"),V("dialog.assistant_tuto.step3.2")]}},Cg={ref:"sbire_rocket",frameIndex:18,introFrameIndex:null,dialogs:{start:[V("dialog.sbire_rocket.start.0"),V("dialog.sbire_rocket.start.1")],victory:[V("dialog.sbire_rocket.victory.0")],defeat:[V("dialog.sbire_rocket.defeat.0")]}},Pg={ref:"sbire_rocket",frameIndex:18,introFrameIndex:null,dialogs:{start:[V("dialog.sbire_rocket_tuto.start.0"),V("dialog.sbire_rocket_tuto.start.1"),V("dialog.sbire_rocket_tuto.start.2"),V("dialog.sbire_rocket_tuto.start.3")],victory:[V("dialog.sbire_rocket_tuto.victory.0"),V("dialog.sbire_rocket_tuto.victory.1"),V("dialog.sbire_rocket_tuto.victory.2")],defeat:[V("dialog.sbire_rocket_tuto.defeat.0")]}},Rg={ref:"dresseur_col_de_montagne",frameIndex:20,introFrameIndex:null,dialogs:{start:[V("dialog.dresseur_col_de_montagne.start.0"),V("dialog.dresseur_col_de_montagne.start.1"),V("dialog.dresseur_col_de_montagne.start.2")],victory:[V("dialog.dresseur_col_de_montagne.victory.0")],defeat:[V("dialog.dresseur_col_de_montagne.defeat.0")]}},Lg={ref:"dresseur_dojo",frameIndex:21,introFrameIndex:null,dialogs:{start:[V("dialog.dresseur_dojo.start.0"),V("dialog.dresseur_dojo.start.1"),V("dialog.dresseur_dojo.start.2")],victory:[V("dialog.dresseur_dojo.victory.0"),V("dialog.dresseur_dojo.victory.1")],defeat:[V("dialog.dresseur_dojo.defeat.0")]}},Og={ref:"dresseur_falaises",frameIndex:22,introFrameIndex:null,dialogs:{start:[V("dialog.dresseur_falaises.start.0"),V("dialog.dresseur_falaises.start.1"),V("dialog.dresseur_falaises.start.2")],victory:[V("dialog.dresseur_falaises.victory.0")],defeat:[V("dialog.dresseur_falaises.defeat.0")]}},Mg={ref:"dresseur_safrania",frameIndex:23,introFrameIndex:null,dialogs:{start:[V("dialog.dresseur_safrania.start.0"),V("dialog.dresseur_safrania.start.1"),V("dialog.dresseur_safrania.start.2")],victory:[V("dialog.dresseur_safrania.victory.0")],defeat:[V("dialog.dresseur_safrania.defeat.0")]}},Ig={ref:"dresseur_piste_cyclable",frameIndex:24,introFrameIndex:null,dialogs:{start:[V("dialog.dresseur_piste_cyclable.start.0"),V("dialog.dresseur_piste_cyclable.start.1"),V("dialog.dresseur_piste_cyclable.start.2")],victory:[V("dialog.dresseur_piste_cyclable.victory.0")],defeat:[V("dialog.dresseur_piste_cyclable.defeat.0")]}},Fg={ref:"dresseur_iles_ecume",frameIndex:25,introFrameIndex:null,dialogs:{start:[V("dialog.dresseur_iles_ecume.start.0")],victory:[V("dialog.dresseur_iles_ecume.victory.0")],defeat:[V("dialog.dresseur_iles_ecume.defeat.0")]}},wg={ref:"dresseur_centrale",frameIndex:26,introFrameIndex:null,dialogs:{start:[V("dialog.dresseur_centrale.start.0"),V("dialog.dresseur_centrale.start.1"),V("dialog.dresseur_centrale.start.2")],victory:[V("dialog.dresseur_centrale.victory.0")],defeat:[V("dialog.dresseur_centrale.defeat.0")]}},Dg={ref:"dresseur_foret_jade",frameIndex:27,introFrameIndex:null,dialogs:{start:[V("dialog.dresseur_foret_jade.start.0"),V("dialog.dresseur_foret_jade.start.1"),V("dialog.dresseur_foret_jade.start.2")],victory:[V("dialog.dresseur_foret_jade.victory.0")],defeat:[V("dialog.dresseur_foret_jade.defeat.0")]}},Ng={ref:"dresseur_azuria",frameIndex:28,introFrameIndex:null,dialogs:{start:[V("dialog.dresseur_azuria.start.0"),V("dialog.dresseur_azuria.start.1")],victory:[V("dialog.dresseur_azuria.victory.0")],defeat:[V("dialog.dresseur_azuria.defeat.0")]}},bg={ref:"dresseur_lavanville",frameIndex:29,introFrameIndex:null,dialogs:{start:[V("dialog.dresseur_lavanville.start.0"),V("dialog.dresseur_lavanville.start.1")],victory:[V("dialog.dresseur_lavanville.victory.0")],defeat:[V("dialog.dresseur_lavanville.defeat.0")]}},Bg={ref:"dresseur_mont_selenite",frameIndex:30,introFrameIndex:null,dialogs:{start:[V("dialog.dresseur_mont_selenite.start.0")],victory:[V("dialog.dresseur_mont_selenite.victory.0")],defeat:[V("dialog.dresseur_mont_selenite.defeat.0")]}},Gg={ref:"dresseur_oceane",frameIndex:31,introFrameIndex:null,dialogs:{start:[V("dialog.dresseur_oceane.start.0"),V("dialog.dresseur_oceane.start.1"),V("dialog.dresseur_oceane.start.2"),V("dialog.dresseur_oceane.start.3")],victory:[V("dialog.dresseur_oceane.victory.0")],defeat:[V("dialog.dresseur_oceane.defeat.0"),V("dialog.dresseur_oceane.defeat.1")]}},Ug={ref:"mr_psy",frameIndex:32,introFrameIndex:null,dialogs:{start:[V("dialog.mr_psy.start.0"),V("dialog.mr_psy.start.1")],victory:[V("dialog.mr_psy.victory.0")],defeat:[V("dialog.mr_psy.defeat.0"),V("dialog.mr_psy.defeat.1"),V("dialog.mr_psy.defeat.2")]}},Vg={ref:"dresseur_champs_verdoyants",frameIndex:33,introFrameIndex:null,dialogs:{start:[V("dialog.dresseur_champs_verdoyants.start.0"),V("dialog.dresseur_champs_verdoyants.start.1")],victory:[V("dialog.dresseur_champs_verdoyants.victory.0"),V("dialog.dresseur_champs_verdoyants.victory.1")],defeat:[V("dialog.dresseur_champs_verdoyants.defeat.0"),V("dialog.dresseur_champs_verdoyants.defeat.1"),V("dialog.dresseur_champs_verdoyants.defeat.2")]}},Yg={ref:"dresseur_camp_nomade",frameIndex:34,introFrameIndex:null,dialogs:{start:[V("dialog.dresseur_camp_nomade.start.0"),V("dialog.dresseur_camp_nomade.start.1"),V("dialog.dresseur_camp_nomade.start.2")],victory:[V("dialog.dresseur_camp_nomade.victory.0")],defeat:[V("dialog.dresseur_camp_nomade.defeat.0")]}},zg={ref:"dresseur_celadopole",frameIndex:35,introFrameIndex:null,dialogs:{start:[V("dialog.dresseur_celadopole.start.0"),V("dialog.dresseur_celadopole.start.1"),V("dialog.dresseur_celadopole.start.2")],victory:[V("dialog.dresseur_celadopole.victory.0"),V("dialog.dresseur_celadopole.victory.1")],defeat:[V("dialog.dresseur_celadopole.defeat.0")]}},Wg={ref:"dresseur_argenta",frameIndex:36,introFrameIndex:null,dialogs:{start:[V("dialog.dresseur_argenta.start.0")],victory:[V("dialog.dresseur_argenta.victory.0")],defeat:[V("dialog.dresseur_argenta.defeat.0")]}},Hg={ref:"dresseur_grotte_azuree",frameIndex:37,introFrameIndex:null,dialogs:{start:[V("dialog.dresseur_grotte_azuree.start.0"),V("dialog.dresseur_grotte_azuree.start.1")],victory:[V("dialog.dresseur_grotte_azuree.victory.0")],defeat:[V("dialog.dresseur_grotte_azuree.defeat.0"),V("dialog.dresseur_grotte_azuree.defeat.1")]}},Xg={ref:"dresseur_carmin",frameIndex:38,introFrameIndex:null,dialogs:{start:[V("dialog.dresseur_carmin.start.0"),V("dialog.dresseur_carmin.start.1"),V("dialog.dresseur_carmin.start.2")],victory:[V("dialog.dresseur_carmin.victory.0")],defeat:[V("dialog.dresseur_carmin.defeat.0")]}},kg={ref:"dresseur_tour_pokemon",frameIndex:39,introFrameIndex:null,dialogs:{start:[V("dialog.dresseur_tour_pokemon.start.0")],victory:[V("dialog.dresseur_tour_pokemon.victory.0")],defeat:[V("dialog.dresseur_tour_pokemon.defeat.0"),V("dialog.dresseur_tour_pokemon.defeat.1")]}},zi={hello:0,has_met:1,has_deposed:2},Kg={ref:"dresseur_pension",frameIndex:40,introFrameIndex:null,dialogs:{start(){return k.dialogStates.pension===zi.has_met?[V("dialog.dresseur_pension.start.0")]:k.dialogStates.pension===zi.has_deposed?[V("dialog.dresseur_pension.start.1")]:(k.dialogStates.pension=zi.has_met,[V("dialog.dresseur_pension.start.2"),V("dialog.dresseur_pension.start.3"),V("dialog.dresseur_pension.start.4"),V("dialog.dresseur_pension.start.5"),V("dialog.dresseur_pension.start.6")])},bye(){return k.dialogStates.pension===zi.has_deposed?[V("dialog.dresseur_pension.bye.0")]:[V("dialog.dresseur_pension.bye.1")]}}},Jg={ref:"dresseur_cave_taupiqueur",frameIndex:41,introFrameIndex:null,dialogs:{start:[V("dialog.dresseur_cave_taupiqueur.start.0"),V("dialog.dresseur_cave_taupiqueur.start.1")],victory:[V("dialog.dresseur_cave_taupiqueur.victory.0"),V("dialog.dresseur_cave_taupiqueur.victory.1")],defeat:[V("dialog.dresseur_cave_taupiqueur.defeat.0")]}},jg={ref:"dresseur_colline_royale",frameIndex:42,introFrameIndex:null,dialogs:{start:[V("dialog.dresseur_colline_royale.start.0"),V("dialog.dresseur_colline_royale.start.1"),V("dialog.dresseur_colline_royale.start.2"),V("dialog.dresseur_colline_royale.start.3")],victory:[V("dialog.dresseur_colline_royale.victory.0")],defeat:[V("dialog.dresseur_colline_royale.defeat.0"),V("dialog.dresseur_colline_royale.defeat.1")]}},Zg={ref:"dresseur_mont_braise",frameIndex:43,introFrameIndex:null,dialogs:{start:[V("dialog.dresseur_mont_braise.start.0"),V("dialog.dresseur_mont_braise.start.1"),V("dialog.dresseur_mont_braise.start.2")],victory:[V("dialog.dresseur_mont_braise.victory.0")],defeat:[V("dialog.dresseur_mont_braise.defeat.0")]}},$g={ref:"sbire_rocket",frameIndex:44,introFrameIndex:null,dialogs:{start:[V("dialog.dresseur_parmanie.start.0"),V("dialog.dresseur_parmanie.start.1")],victory:[V("dialog.dresseur_parmanie.victory.0")],defeat:[V("dialog.dresseur_parmanie.defeat.0")]}},Qg={ref:"dresseur_cramoisile",frameIndex:19,introFrameIndex:null,dialogs:{start:[V("dialog.dresseur_cramoisile.start.0"),V("dialog.dresseur_cramoisile.start.1")],victory:[V("dialog.dresseur_cramoisile.victory.0")],defeat:[V("dialog.dresseur_cramoisile.defeat.0")]}};class wo{constructor(A){ut(this,"ref");ut(this,"name");ut(this,"team");ut(this,"box");ut(this,"inventory");ut(this,"badges");this.ref=A,this.name=`Player ${A}`,this.team=[],this.inventory={[We.ref]:0},this.box=[null,null,null,null,null,null,null,null],this.badges=[]}resetTeam(){return this.team.map(A=>A.reset())}get averagePokemonLevel(){const A=[...this.team,...this.box].sort((R,F)=>(F?F.level:0)-(R?R.level:0)).slice(0,8).filter(R=>R instanceof Fi),C=A.reduce((R,F)=>R+F.level,0);return Math.max(1,Math.floor(C/A.length))}get boxScore(){return[...this.team,...this.box].reduce((A,C)=>C?A+C.level:A,0)}get hasBoxFull(){return this.box.every(A=>A!=null)}get boardAndBox(){return[...this.team,...this.box.filter(A=>A!=null)]}}function xi(E){const A=new Set(E.flatMap(C=>C.types));return new Map([...A].map(C=>[C,qg(E,C)]))}function qg(E,A){const C=uf[A.ref],R=E.filter(B=>B.hasType(A)).length,F=[...C.steps].reverse().find(B=>B.numberRequired<=R)||null;return{type:A,ref:F==null?void 0:F.ref,steps:C.steps,stepReached:F,stepReachedN:F?C.steps.indexOf(F)+1:0,numberOfThatTypeInTeam:R}}const Ql="pokechess_save",jf="pokechess_record";function _g(){var A;if(k.dialogStates.assistant_tuto!==zn.AFTER_WILD)return;const E={day:k.day,currentDestinationRef:k.currentDestination.ref,currentRoomIndex:k.currentRoomIndex,roomOrder:k.roomOrder,players:k.players.map(C=>n1(C)),stage:k.stage,dialogStates:k.dialogStates,seed:k.seed,lastCaptureDestinationRef:(A=k.lastCaptureDestination)==null?void 0:A.ref,lastTourMam:k.lastTourMam,pension:k.pension.map(C=>ql(C)),pokedexSeen:[...k.pokedexSeen],pokedexCaptured:[...k.pokedexCaptured],wokeUpRonflex:k.wokeUpRonflex};localStorage.setItem(Ql,JSON.stringify(E))}function t1(){return localStorage.getItem(Ql)!=null}function e1(){const E=localStorage.getItem(Ql);if(!E)return!1;let A;try{A=JSON.parse(E)}catch(C){return console.error(`Corrupted save :${C}`),!1}return k.day=A.day,k.currentDestination=en[A.currentDestinationRef],k.currentRoomIndex=A.currentRoomIndex,k.roomOrder=A.roomOrder,k.players=A.players.map(C=>vu(C)),k.board=cd(vu(A.players[0])),k.stage=A.stage,k.dialogStates=A.dialogStates,k.seed=A.seed,k.lastCaptureDestination=A.lastCaptureDestinationRef?en[A.lastCaptureDestinationRef]:null,k.lastTourMam=A.lastTourMam,k.pension=A.pension.map(C=>_l(C)),k.pokedexCaptured=new Set(A.pokedexCaptured),k.pokedexSeen=new Set(A.pokedexSeen),k.wokeUpRonflex=A.wokeUpRonflex,!0}function i1(){const E=localStorage.getItem(jf);if(!E)return null;let A;try{return A=JSON.parse(E),{team:A.team.map(C=>_l(C)),pokedexSeen:A.pokedexSeen,pokedexCaptured:A.pokedexCaptured,nbTours:A.nbTours}}catch(C){return console.error(`Corrupted record save :${C}`),null}}function s1(){const E={team:k.player.team.map(A=>ql(A)),pokedexSeen:k.pokedexSeen.size,pokedexCaptured:k.pokedexCaptured.size,nbTours:k.day};localStorage.setItem(jf,JSON.stringify(E))}function n1(E){return{ref:E.ref,name:E.name,team:E.team.map(A=>ql(A)),box:E.box.map(A=>A?Zf(A):null),inventory:E.inventory,badges:E.badges}}function vu(E){return Object.assign(new wo(E.ref),{name:E.name,team:E.team.map(A=>_l(A)),box:E.box.map(A=>A?r1(A):null),inventory:E.inventory,badges:E.badges})}function Zf(E){var A;return{ref:E.entry.ref,xp:E.xp,itemRef:(A=E.item)==null?void 0:A.ref,owner:E.owner}}function r1(E){return new Fi({entry:De.find(C=>C.ref===E.ref)??Ds,owner:E.owner,xp:E.xp,item:E.itemRef?ke[E.itemRef]:void 0})}function ql(E){return{...Zf(E),x:E.placementX,y:E.placementY}}function _l(E){return new Tt({entry:De.find(A=>A.ref===E.ref)??Ds,owner:E.owner,xp:E.xp,item:E.itemRef?ke[E.itemRef]:void 0,x:E.x,y:E.y})}let Pi,he;function Us(E){const A=k.activeScene;if(Pi===E&&k.stage!==Se.FIGHT)return;Pi!=null&&ui(),Pi=E,he=A.add.group();const C=E instanceof Tt&&E.y<4,R=C?game.scale.height-42:42,F=C?game.scale.width/2+20:game.scale.width/2,B=A.add.nineslice(F,R,"box1",void 0,280,84,8,8,8,8).setOrigin(.5,.5).setScrollFactor(0);he.add(B);let v=E.entry.ref;E instanceof Tt&&E.initialEntry===Gr&&(v=Gr.ref);const y=gt(F-50,R-28,`${V(`pokemon.${v}`)} Lv${E.level}`);he.add(y);const t=A.add.sprite(F-92,R-1,"pokemon_portraits");t.play(`${E.entry.ref}_portrait`),t.setScrollFactor(0),he.add(t);const h=gt(F-50,R-12,"HP");he.add(h);const p=gt(F+48,R-12,`${Math.ceil(E.pv).toString().padStart(3)} / ${E.maxPV}`);he.add(p);const a=72,n=A.add.graphics();n.setDepth(ft.MENU_OBJECTS).setScrollFactor(0),n.fillStyle(0).fillRoundedRect(F-30,R-8,a+2,6,4),n.fillStyle(13684896,1).fillRoundedRect(F-29,R-7,a,4,2),n.fillStyle(47872).fillRoundedRect(F-29,R-7,Math.ceil(a*E.pv/E.maxPV),4,2);const r=gt(F-50,R-1,"PP");he.add(r);const e=gt(F+48,R-1,`${Math.floor(E.pp).toString().padStart(3)} / ${E.entry.maxPP}`);he.add(e),n.fillStyle(0).fillRoundedRect(F-30,R+2,a+2,6,4),n.fillStyle(13684896,1).fillRoundedRect(F-29,R+3,a,4,2),n.fillStyle(255,1).fillRoundedRect(F-29,R+3,Math.ceil(a*E.pp/E.entry.maxPP),4,2),he.add(n);const s=A.add.sprite(F-50,R+14,"icons16x16",16);s.setAlpha(.25).setOrigin(0,0).setScrollFactor(0),he.add(s);const o=gt(F-30,R+15,E.attack.toFixed(0));he.add(o);const i=A.add.sprite(F-2,R+14,"icons16x16",17);i.setAlpha(.25).setOrigin(0,0).setScrollFactor(0),he.add(i);const l=gt(F+18,R+15,E.defense.toFixed(0));he.add(l);const u=A.add.sprite(F+46,R+14,"icons16x16",18);u.setAlpha(.25).setOrigin(0,0).setScrollFactor(0),he.add(u);const f=gt(F+66,R+15,E.speed.toFixed(0));he.add(f);const d=A.add.sprite(F+94,R+14,"icons16x16",19);d.setAlpha(.25).setOrigin(0,0).setScrollFactor(0),he.add(d);const c=gt(F+114,R+15,E.entry.baseSkill.attackRange.toFixed(0));he.add(c);for(let m=0;m<E.types.length;m++){const g=A.add.sprite(F+112-m*20,R-22,"icons16x16",E.types[m].frameIndex);g.setScrollFactor(0),he.add(g)}if(E.item!=null){const m=A.add.sprite(F+110,R-2,"items",_u.indexOf(E.item));m.setScrollFactor(0),he.add(m)}he.setDepth(ft.MENU)}function ui(){he&&(he.destroy(!0),he=null,Pi=null)}function a1(){return Pi}function o1(){Pi&&Us(Pi)}const l1=[jn,er,Zn,xl,la,as,Ur,is,ws,Il,li,bs,qn,Ni,ts,gi];function h1(){return Ia(l1,3)}const fo=E=>A=>k.player.team.length>0?[V("dialog.starter.after",{name:V(`pokemon.${k.starters[E].ref}`)})]:[()=>{const C=k.starters[E];return Us(new Fi({entry:C,owner:Wd,level:5})),V("dialog.starter.choose",{name:V(`pokemon.${C.ref}`)})},{[V("yes")]:()=>{const C=k.starters[E];return No(new Tt({entry:C,owner:xe,level:5,x:3,y:6})),ui(),A.sprite.destroy(!0),k.dialogStates.chen=pi.after_starter_choice,Rs("pokemon_received"),hh(2e3),V("dialog.starter.chosen",{name:V(`pokemon.${C.ref}`)})},[V("no")]:()=>ui()}];function Ye(E,A=1,C=!0,R="trainer"){C&&Rs("item_received"),Object.prototype.hasOwnProperty.call(k.player.inventory,E.ref)||(k.player.inventory[E.ref]=0),k.player.inventory[E.ref]+=A;const F=V(`item.${E.ref}`,{defaultValue:"???"});return E===We&&Ei(),hh(2e3),Mt([V("dialog.item_received",{verb:V(R==="finding"?"dialog.find":"dialog.receive"),label:F,quantity:A>1?`x${A}`:""})],{speaker:"system"})}let Tr=0;const pu={unknown:["..?"],tv:[V("descriptions.tv.0"),V("descriptions.tv.1"),()=>[V("descriptions.tv.2"),V("descriptions.tv.3"),V("descriptions.tv.4")][++Tr%3],V("descriptions.tv.5")],frigo:[V("descriptions.frigo.0")],book:[V("descriptions.book.0"),()=>{const E=[V("descriptions.book.1"),V("descriptions.book.2"),V("descriptions.book.3"),V("descriptions.book.4"),V("descriptions.book.5"),V("descriptions.book.6"),V("descriptions.book.7"),V("descriptions.book.8"),V("descriptions.book.9"),V("descriptions.book.10"),V("descriptions.book.11"),V("descriptions.book.12"),V("descriptions.book.13"),V("descriptions.book.14"),V("descriptions.book.15")];return E[++Tr%E.length]}],book_insect:[V("descriptions.book_insect.0"),()=>{let E=k.player.boardAndBox.map(C=>C.entry).filter(C=>C.evolution!=null);E.length===0&&(E=ef().filter(C=>C.evolution!=null));const A=E[Tr%E.length];return Tr++,V("descriptions.book_insect.1",{name:V(`pokemon.${A.ref}`),level:A.evolutionLevel})},V("descriptions.book_insect.2")],map:[V("descriptions.map")],bed:[V("descriptions.bed")],boat:[V("descriptions.boat")],starter1:fo(0),starter2:fo(1),starter3:fo(2),pc_end:[V("descriptions.pc_end.0"),{[V("yes")]:()=>[V("descriptions.pc_end.1"),()=>(s1(),Et(2e3).then(()=>Bi(2e3)).then(()=>{k.activeScene.scene.start("GameOverScene")}),V("descriptions.pc_end.2"))],[V("no")]:()=>[V("descriptions.pc_end.3")]}],pc_record:[V("descriptions.pc_record.0"),()=>{const E=i1();return E?[V("descriptions.pc_record.2",{nbTours:E.nbTours}),V("descriptions.pc_record.3",{nbCaptured:E.pokedexCaptured,nbSeen:E.pokedexSeen}),V("descriptions.pc_record.4"),...n0(E.team.map(A=>`${V(`pokemon.${A.entry.ref}`)} lvl ${A.level}`),2).map(A=>`${A[0]}
${A[1]}`)]:V("descriptions.pc_record.1")},V("descriptions.pc_record.5")]};let co=null;class u1 extends rr{constructor(){super({x:0,y:0},"player");ut(this,"movesBeforeTp");ut(this,"interactionSprite");this.movesBeforeTp=0,this.sprite.setCollideWorldBounds(!0),this.interactionSprite=k.activeScene.make.sprite({x:0,y:0,key:"interactions"}),this.interactionSprite.setVisible(!1).setDepth(ft.DIALOG),k.activeScene.time.addEvent({delay:300,callback:()=>this.checkInFrontOfPlayer(),loop:!0}),window.player=this}update(){super.update(),this.updateControls();const{x:C=0,y:R=0}=this.sprite.getCenter();this.interactionSprite.setPosition(C+8,R-8)}getWatchingPoint(C=1){let{x:R=0,y:F=0}=this.sprite.getCenter();switch(F+=ye/2,this.state){case St.LEFT:case St.WALKING_LEFT:R-=ye*C;break;case St.RIGHT:case St.WALKING_RIGHT:R+=ye*C;break;case St.UP:case St.WALKING_UP:F-=ye*C;break;case St.DOWN:case St.WALKING_DOWN:default:F+=ye*C;break}return{x:R,y:F}}get canInteract(){return!k.activeDialog&&!k.activeMenu}get canMove(){return!k.activeDialog&&!k.activeMenu&&!this.isForceMoving}checkInFrontOfPlayer(){const C=k.activeScene;if(!C.groups)return;const R=this.getObjectWatched(C.groups.characters),F=this.getObjectWatched(C.groups.objects);this.interactionSprite.setVisible(this.canInteract&&!!(R||F)),R?this.interactionSprite.anims.play("interaction_talk",!0):F&&this.interactionSprite.anims.play("interaction_loot",!0)}updateControls(){const{x:C=0,y:R=0}=this.sprite.body??{},F=yr((C+ye/2)%ye,ye/2-1,ye/2+1)&&yr((R+ye/2)%ye,ye/2-1,ye/2+1),{moveVector:B}=kl(this.sprite.scene),v=Hl(B);v===null&&this.isMoving&&!this.isForceMoving&&F?this.stopMoving():v!=null&&v!==this.walkingDirection&&this.canMove&&F&&this.move(v),this.isMoving&&this.movesBeforeTp>0&&this.movesBeforeTp--}getObjectWatched(C){return C.getChildren().find(F=>{if(F instanceof Phaser.GameObjects.Sprite){let{x:B=0,y:v=0}=F.getBottomCenter();const y=F.getData("interactionDistance")??1,{x:t,y:h}=this.getWatchingPoint(y);return v-=8,yr(t,B-4,B+4)&&yr(h,v-4,v+4)}return!1})}doAction(){if(co)return;if(co=setTimeout(()=>{co=null},250),k.activeDialog)return ur();const C=k.activeScene,R=this.getObjectWatched(C.groups.characters);if(R&&this.canInteract)return xx(R.getData("character"),this.state);const F=this.getObjectWatched(C.groups.objects);if(F&&this.canInteract){let B=pu[F.getData("name")]||pu.unknown;typeof B=="function"&&(B=B(F.getData("description"))),Mt(B,{speaker:F.getData("name")}).then(()=>{})}}goToDoor(C){var v;const R=k.activeScene,F=u0(C,"door",R.level.tilemap);(v=this.sprite.body)==null||v.reset(F.x*ri+ye/2,F.y*ri),this.alignOnGrid();const B=mt[F.properties.outDirection]??mt.UP;R.disableTriggers=!0,this.forceMove(B,350).then(()=>{R.disableTriggers=!1})}}function $f(){const E=k.activeScene,A=k.currentRoom,C=E.add.nineslice(E.scale.width/2,-32,"box2",void 0,160,0,4,4,4,4);C.setOrigin(.5,.5);const R=gt(E.scale.width/2,-30,A.name,{color:"#000"});R.setOrigin(.5,.5),R.setScrollFactor(0),C.setSize(R.width+24,R.height+12),C.setScrollFactor(0),C.setDepth(ft.MENU_TOOLTIPS),R.setDepth(ft.MENU_TOOLTIPS+1),E.add.tween({targets:[C,R],duration:400,y:"+=38",ease:"Linear"}),E.add.tween({targets:[C,R],duration:400,y:-36,ease:"Linear",delay:2e3})}class Vs extends At.Scene{constructor(C){super(C);ut(this,"sprites");ut(this,"objects");ut(this,"graphics");this.sprites=new Map,this.objects=new Map}onPressA(){}onPressB(){}onPressStart(){}onClick(C){}preload(){}create(){}}class Qf extends Vs{constructor(){super("RoomScene");ut(this,"player");ut(this,"groups");ut(this,"level");ut(this,"disableTriggers");this.disableTriggers=!1,this.player=null,this.level=new zh(ff)}preload(){Bs(this),bi(this),Oa(this)}create(){const C=k.currentRoom;this.level=new zh(C.level),k.activeScene=this,nr(this),Ra(this.anims),this.physics.world.setBounds(0,0,1600,1600),this.player=new u1,this.level.create(),this.physics.add.collider(this.player.sprite,this.level.layer_collisions),this.children.bringToTop(this.player.sprite),this.cameras.main.startFollow(this.player.sprite),this.cameras.main.setBackgroundColor("black"),this.disableTriggers=!1,C.level.startAt?(this.disableTriggers=!0,this.player.goToDoor(C.level.startAt)):console.error(`No entrance door found for level ${C.name}`),$f(),Fe(C.music)}update(){var C;this.level&&(Ma(this),!this.disableTriggers&&((C=this.player)!=null&&C.sprite)&&this.physics.overlap(this.groups.triggers,this.player.sprite,this.onTrigger,void 0,this),this.groups.characters.getChildren().forEach(R=>{const F=R.getData("character");R.depth=R.y*.001,F==null||F.update()}))}onTrigger(C){const R=C.getData("action");R&&R()}onPressA(){var C;if(k.activeMenu!=null)return ar();(C=this.player)==null||C.doAction()}onPressB(){k.activeMenu!=null&&k.activeMenu.handleCancel()}}var Ct=(E=>(E.ARENA="ARENA",E.WILD="WILD",E.SPECIAL="SPECIAL",E))(Ct||{}),st=(E=>(E.ARENA="ARENA",E.WILD="WILD",E.FREEWALK="FREEWALK",E.TUTORIAL="TUTORIAL",E.SAFARI="SAFARI",E.PENSION="PENSION",E))(st||{});let Wi;function Ei(){const E=k.activeScene;Wi!=null&&Wi.destroy(!0,!0);let A=game.scale.width-64;[st.TUTORIAL,st.PENSION,st.ARENA].includes(k.currentRoom.type)&&(A=-16);let C=[A,-16],R=[A+40,8];E instanceof Qf&&(R=[28,8],C=[-16,-16]);const F=E.add.sprite(C[0],C[1],"pokeball",0);F.play(`POKEBALL_${Wi?"jiggle_once":"in"}`).once(Phaser.Animations.Events.ANIMATION_COMPLETE,()=>F.play("POKEBALL_idle")).setOrigin(0,0).setScrollFactor(0),E.sprites.set("pokeball",F);const B=gt(R[0],R[1],k.player.inventory.pokeball.toString(),{align:"left",color:"white"});B.setStroke("#000000",3),Wi=E.add.group([F,B])}function f1(){Wi&&Wi.destroy(!0)}let mu=-1,gu=[];const qs=20,Jr=100,d1=248,c1=24,v1=1,jr=8,be=28,mi=4,Te=be+mi;let Re=1;function p1(E){zt("menu_open"),Gs({ref:"box",x:qs,y:Jr,width:d1+16*2,height:c1+16*2,background:"box1",offset:8,draw(A){m1(E,A)},handleMove(A){var B;zt("tick");const C=E.sprites.get("cursor");if(!C)return;let R=C.x,F=C.y;if(A.y>0&&Re===1?(Re=0,F+=16):A.y<0&&Re===0&&F<180?Re=1:A.y>0&&Re===0&&F>260?Re=2:A.y<0&&Re===2?Re=0:A.y<0&&Re===1&&Ot.draggedElem!=null?Re=3:A.y>0&&Re===3&&(Re=1),R+=A.x,F+=A.y,Re===1)mu=jt(Math.round((R-(qs+16+mi))/Te),0,7),R=qs+20+mi+Te*mu,F=Jr+16+mi;else if(Re===0){let[v,y]=Ws(R,F+10);v=jt(v,0,6),y=jt(y,4,7),[R,F]=Ue(v,y),F-=10}else Re===2?[R,F]=[vf(R,[100,160,220]),E.scale.height-24]:Re===3&&(R=E.scale.width/2+24,F=10);(B=E.sprites.get("cursor"))==null||B.setPosition(R,F),fh()}})}function m1(E,A){gu.forEach(B=>dr(B)),gu=[];const C=qs+10+mi,R=Jr+10+mi,F=E.add.graphics().lineStyle(2,0,.1).fillStyle(16772829);for(let B=0;B<v1;B++)for(let v=0;v<jr;v++){const y=B*jr+v;F.fillRect(C+v*Te,R+B*Te,be,be).moveTo(C+v*Te,R+B*Te).lineTo(C+v*Te+be,R+B*Te).lineTo(C+v*Te+ +be,R+B*Te+ +be).lineTo(C+v*Te,R+B*Te+ +be).lineTo(C+v*Te,R+B*Te);const t=E.add.zone(C+v*Te+be/2,R+B*Te+be/2,be,be);t.setData("type","boxTile"),pe(t),t.on("dropReceived",()=>{g1(y,E)}),t.on("click",()=>{Ot.draggedElem!=null&&Ui(E)}),t.on("over",()=>{const h=k.player.box[y];h!=null&&Us(h)}),t.on("out",()=>ui()),A.add(t)}F.stroke().setDepth(ft.MENU_LAYOUT),A.add(F),k.player.box.forEach((B,v)=>{if(B!=null){const y=yi(B,E);qf(y,v)}})}function g1(E,A){var F;const C=(F=Ot.draggedElem)==null?void 0:F.getData("pokemon");if(C==null)return;const R=k.player.box[E];if(R!=null){const B=A.sprites.get(R.uid);B&&Na(B)&&ki(()=>{var v,y;(y=(v=k.activeMenu)==null?void 0:v.container)==null||y.remove(B),zs(B,A)})}hr(C,k.board.playerTeam),Ys(C,E),ba()}function qf(E,A){var F,B;(B=(F=k.activeMenu)==null?void 0:F.container)==null||B.add(E);const C=qs+10+mi+be/2+A%jr*Te,R=Jr+10+mi+be/2+Math.floor(A/jr)*Te;E.anims.pause(),E.setAlpha(1).setScale(1).setDepth(ft.MENU_OBJECTS).setPosition(C,R)}function x1(E,A,C=1e3){return A.setAlpha(0).setScale(0),E.add.timeline([{at:0,tween:{targets:A,scale:1,alpha:1,ease:"Elastic",easeParams:[1.5,.8],duration:400}},{at:C,tween:{targets:A,alpha:0,scale:1,duration:400}}]),Et(C+400)}function y1(E,A,C=400){return E.tweens.add({targets:A instanceof Phaser.GameObjects.Group?A.getChildren():A,alpha:{from:0,to:1},duration:C}),Et(C)}function E1(E,A,C=400){return E.tweens.add({targets:A instanceof Phaser.GameObjects.Group?A.getChildren():A,alpha:{from:1,to:0},duration:C}),Et(C)}function T1(E,A,C=1e3,R=400){return A.setAlpha(0),E.add.timeline([{at:0,tween:{targets:A,alpha:1,duration:R}},{at:C,tween:{targets:A,alpha:0,duration:R}}]),Et(C+R*2)}const Sr=16;function Do(E,A){const C=A.objects.get(`bars_${E.uid}`),R=A.sprites.get(E.uid);if(R!=null&&C!=null){C.setDepth(ft.POKEMON_BARS),C.clear(),C.fillStyle(0,1);const F=R.x-Sr/2,B=R.y-16;C.fillRect(F,B,Sr,2),C.fillStyle(E.owner===1?3211056:16724016,1),C.fillRect(F,B,Math.ceil(E.pv/E.maxPV*Sr),1),C.fillStyle(28927,1),C.fillRect(F,B+1,Math.ceil(E.pp/E.entry.maxPP*Sr),1)}}function S1(E){if(k.stage===Se.FIGHT){for(const A of k.board.playerTeam)Do(A,E);for(const A of k.board.otherTeam)Do(A,E)}}function Zr(E,A){const C=A.add.sprite(A.scale.width/2,A.scale.height/2,"texts");return C.setDepth(ft.CENTER_TEXT).play(E),A.sprites.set("centerText",C),x1(A,C,500)}function xu(E){k.pension.push(E),k.dialogStates.pension=zi.has_deposed}function _f(E){ni(k.pension,E),k.pension.some(A=>A.owner===xe)||(k.dialogStates.pension=zi.has_met)}function A1(){for(const E of k.pension)E.xp+=k.day*100,E.level=Ho(E.xp),E.pv=E.maxPV}function td(E){k.player.inventory.pokeball-=E,Ei()}function Wn(E){return k.player.inventory.pokeball>=E}function Ks(E){return Object.values(ke).filter(A=>A.cost===E)}function C1(E){const A=Ks(1),C=A[(k.seed+E)%A.length],R=Ks(2),F=R[(k.seed>>2+E)%R.length],B=Ks(3),v=B[(k.seed>>4+E)%B.length],y=Ks(4),t=y[(k.seed>>6+E)%y.length],h=Ks(5),p=h[(k.seed>>8+E)%h.length];return{[C.ref]:3,[F.ref]:2,[v.ref]:1,[t.ref]:1,[p.ref]:1}}let Ze;function ed(E){if(Ze&&Ki(),!E)return;const A=k.activeScene;Ze=A.add.group().setOrigin(0,0);const C=64,R=24,F=A.scale.height-C-32,B=A.add.nineslice(R,F,"box1",void 0,A.scale.width-32,C,8,8,8,8).setOrigin(0,0).setScrollFactor(0);Ze.add(B);const v=th(E).setPosition(R+28,F+32).setScrollFactor(0);Ze.add(v),Ze.add(gt(R+56,F+8,V(`item.${E.ref}`),{fontStyle:"strong",color:"blue"})),Ze.add(gt(R+56,F+28,V(`item_desc.${E.ref}`),{wordWrap:{width:A.scale.width-96,useAdvancedWrap:!0}})),Ze.setDepth(ft.MENU)}function Ki(){Ze&&(Ze.destroy(!0),Ze=null)}const Bt={items:[],selectedIndex:0,pageStartIndex:0,numberPerPage:6,get page(){const E=Math.max(0,Bt.pageStartIndex??0);return this.items.slice(E,E+this.numberPerPage)},get selectedItem(){return this.items[this.selectedIndex??0]},get pageSelectedIndex(){return this.page.indexOf(this.selectedItem)}};let oe=null,_s=[],vo=null;function th(E){const A=k.activeScene.add.sprite(0,0,"items",_u.indexOf(E)).setOrigin(.5,.5);return A.setData("item",E),A.setData("type","item"),A}function P1(E){return Bt.items=Object.entries(k.player.inventory).map(([v,y],t)=>({ref:v,label:`${V(`item.${v}`)} x${y}`,quantity:y})).filter(v=>v.quantity>0&&v.ref in ke).sort((v,y)=>y.ref===We.ref?1:v.ref===We.ref?-1:v.label.localeCompare(y.label)),Bt.selectedIndex=0,Bt.pageStartIndex=0,zt("menu_open"),Gs({ref:"items_box",x:184,y:8,width:128,height:130,background:"box1",offset:8,handleMove(v){zt("tick"),v.y>0?Ji(Bt.selectedIndex+1):v.y<0&&Ji(Bt.selectedIndex-1)},handleChoice(){id(Bt.items[Bt.selectedIndex])},draw(v){Bt.selectedIndex=0,oe=E.add.container(184,8),v.add(oe),Ji(0,!1)},onClose(){Ki()}})}function R1(E,A){if(E===Sn){if(k.currentRoom.type!==st.WILD)return Mt([V("dialog.item_no_use")]);k.player.inventory[Sn.ref]-=1,Bx(A)}}function id(E){const A=k.activeScene,C=ke[E.ref];if(C.type===$s.Holdable){Le();const R=th(C);zs(R,A)}else{if(C.type===$s.Usable)return Et(0).then(()=>{const R={[V("yes")](){return R1(C,A),null},[V("no")](){return null}};Mt([V("dialog.item_use",{item:V(`item.${C.ref}`)}),R])}),!0;C.type===$s.Trade&&C===We&&Le()}}function Ji(E,A=!1){var F;const C=k.activeScene;if(E<0||E>=Bt.items.length)return;Bt.selectedIndex=E,E<Bt.pageStartIndex?Bt.pageStartIndex=E:E>Bt.pageStartIndex+Bt.numberPerPage-1&&(Bt.pageStartIndex=E-Bt.numberPerPage+1),L1();const R=ke[Bt.items[Bt.selectedIndex].ref];R?ed(R):Ki(),A&&((F=C.sprites.get("cursor"))==null||F.setPosition(298,20+Bt.pageSelectedIndex*20))}function L1(){const E=k.activeScene;oe&&(oe.removeAll(!0),_s.forEach(A=>dr(A)),_s=[],O1(),vo=E.add.sprite(7,16+Bt.pageSelectedIndex*20,"gui",16),vo.setScale(.5).setDepth(ft.MENU_CURSOR),oe.add(vo),oe.setDepth(ft.MENU),fr(E))}function O1(){const E=k.activeScene;Bt.page.forEach((B,v)=>{const y=E.add.rectangle(64,15+v*20,118,20,v%2?16772829:15654348).setDepth(ft.MENU_LAYOUT);pe(y),_s.push(y),y.on("click",()=>{const p=Bt.items.indexOf(B);p===Bt.selectedIndex?id(Bt.items[p]):Ji(p,!1)});const t=ke[B.ref].type===$s.Trade?"gray":"black",h=gt(16,8+v*20,B.label,{color:t}).setDepth(ft.MENU_OBJECTS).setAlign("left");oe==null||oe.add(y),oe==null||oe.add(h)});const A=E.add.rectangle(64,0,90,6,0).setDepth(ft.MENU_LAYOUT).setAlpha(0);pe(A),_s.push(A),A.on("click",()=>{Ji(Bt.selectedIndex-1,!1)});const C=E.add.sprite(64,0,"gui",16).setScale(.5).setAlpha(Bt.pageStartIndex===0?0:1).setRotation(Phaser.Math.DegToRad(-90));oe==null||oe.add(A),oe==null||oe.add(C);const R=E.add.rectangle(64,130,90,6,0).setDepth(ft.MENU_LAYOUT).setAlpha(0);pe(R),_s.push(R),R.on("click",()=>{Ji(Bt.selectedIndex+1,!1)});const F=E.add.sprite(64,130,"gui",16).setScale(.5).setAlpha(Bt.pageStartIndex+Bt.numberPerPage>=Bt.items.length?0:1).setRotation(Phaser.Math.DegToRad(90));oe==null||oe.add(R),oe==null||oe.add(F)}const yu=36,Eu=30,Lt={allPokemons:De,selectedIndex:0,pageStartIndex:0,numberPerPage:10,get filtered(){return this.allPokemons.filter(E=>ai===null||E.types.includes(ai))},get page(){const E=Math.max(0,Lt.pageStartIndex??0);return this.filtered.slice(E,E+this.numberPerPage)},get selectedPokemon(){return this.filtered[this.selectedIndex??0]},get pageSelectedIndex(){return this.page.indexOf(this.selectedPokemon)}};let Hi=0,ai=null,po=null,Zs=1,pt=null,ji=[];function Tu(E,A){zt("menu_open"),Gs({ref:"pokedex",x:yu,y:Eu,width:280,height:242,background:"box1",offset:8,handleMove(C){var R;zt("tick"),Zs===1&&Lt.selectedIndex!=null&&pt?C.y>0?Zi(Lt.selectedIndex+1):C.y<0&&(Lt.selectedIndex===0?(Zs=0,Lr(Object.keys($).length-1)):(Zi(Lt.selectedIndex-1),(R=E.sprites.get("cursor"))==null||R.setPosition(298,60+Lt.selectedIndex*20))):Zs===0&&pt&&(C.y>0?(Zs=1,Lt.selectedIndex=0,Lt.pageStartIndex=0,Zi(Lt.selectedIndex)):C.x>0?Lr(Hi+1):C.x<0&&Lr(Hi-1)),fr(E)},draw(C){Lt.selectedIndex=0,A!=null&&(Lt.selectedIndex=Lt.filtered.findIndex(R=>R.ref===A.entry.ref),Lt.pageStartIndex=Lt.selectedIndex),pt=E.add.container(yu,Eu),C.add(pt),eh()}})}function eh(){const E=k.activeScene;if(!pt)return;pt.removeAll(!0),ji.forEach(R=>dr(R)),ji=[],pt.add(E.add.line(140,28,0,0,272,0,0).setLineWidth(.5).setDepth(ft.MENU_LAYOUT)),pt.add(E.add.line(179,132,0,0,0,210,0).setLineWidth(.5).setDepth(ft.MENU_LAYOUT));const A=Object.values($),C=Object.values($);ai!=null&&(C.splice(C.indexOf(ai),1),C.push(ai)),C.forEach(R=>{const F=A.indexOf(R);ai===R&&(pt==null||pt.add(E.add.graphics().lineStyle(4,0).strokeCircle(20+F*16,16,8)));const B=E.add.sprite(20+F*16,16,"icons16x16",R.frameIndex);B.setDepth(ft.MENU_OBJECTS),pe(B),ji.push(B),B.on("over",()=>Lr(F,!1)),B.on("click",()=>I1(R)),pt==null||pt.add(B)}),M1(),Lt.filtered.length>0&&Lt.selectedIndex in Lt.filtered&&F1(Lt.selectedPokemon),Zs===1&&Lt.pageSelectedIndex>=0&&(po=E.add.sprite(180,42+Lt.pageSelectedIndex*20,"gui",16),po.setScale(.5).setDepth(ft.MENU_CURSOR),pt.add(po)),pt.setDepth(ft.MENU),fr(E)}function M1(){const E=k.activeScene;Lt.page.forEach((B,v)=>{const y=De.indexOf(B)+1,t=E.add.rectangle(227,42+v*20,94,20,v%2?16772829:15654348).setDepth(ft.MENU_LAYOUT);pe(t),ji.push(t),t.on("click",()=>Zi(Lt.filtered.indexOf(B),!1));const h=gt(188,35+v*20,`${y}. ${V(`pokemon.${B.ref}`).toUpperCase()}`).setDepth(ft.MENU_OBJECTS).setAlign("left");pt==null||pt.add(t),pt==null||pt.add(h)});const A=E.add.rectangle(225,32,90,6,0).setDepth(ft.MENU_LAYOUT).setAlpha(0);pe(A),ji.push(A),A.on("click",()=>{Zi(Lt.selectedIndex-1,!1)});const C=E.add.sprite(228,33,"gui",16).setScale(.5).setAlpha(Lt.pageStartIndex===0?0:.5).setRotation(Phaser.Math.DegToRad(-90));pt==null||pt.add(A),pt==null||pt.add(C);const R=E.add.rectangle(225,234,90,6,0).setDepth(ft.MENU_LAYOUT).setAlpha(0);pe(R),ji.push(R),R.on("click",()=>{Zi(Lt.selectedIndex+1,!1)});const F=E.add.sprite(228,233,"gui",16).setScale(.5).setAlpha(Lt.pageStartIndex+Lt.numberPerPage>=Lt.filtered.length?0:.5).setRotation(Phaser.Math.DegToRad(90));pt==null||pt.add(R),pt==null||pt.add(F)}function Zi(E,A=!0){var R;const C=k.activeScene;E<0||E>=Lt.filtered.length||(Lt.selectedIndex=E,E<Lt.pageStartIndex?Lt.pageStartIndex=E:E>Lt.pageStartIndex+Lt.numberPerPage-1&&(Lt.pageStartIndex=E-Lt.numberPerPage+1),eh(),A&&((R=C.sprites.get("cursor"))==null||R.setPosition(298,63+Lt.pageSelectedIndex*20)))}let Js=null;function Lr(E,A=!0){var R;if(E<0||E>=Object.keys($).length)return;Hi=E;const C=Object.values($)[Hi];Js&&(pt==null||pt.remove(Js,!0)),Js=gt(20+16*Hi,-15,V(`type.${C.ref}`),{color:"white",align:"middle",strokeThickness:4,stroke:"black"}),Js.setOrigin(.5,0).setDepth(ft.MENU_TOOLTIPS),pt==null||pt.add(Js),A&&((R=k.activeScene.sprites.get("cursor"))==null||R.setPosition(50+16*Hi,44))}function I1(E){pt&&(E===ai?ai=null:ai=E,Lt.selectedIndex=0,Lt.pageStartIndex=0,eh(),zt("tick"))}function F1(E){if(!pt)return;const A=k.activeScene;let C=40,R=54;const F=A.add.sprite(C,R,"pokemon_portraits");F.play(`${E.ref}_portrait`),pt.add(F);const B=gt(C+36,R-18,V(`pokemon.${E.ref}`),{fontSize:"14px"});pt.add(B),C+=44;for(let c=0;c<E.types.length;c++){const m=A.add.sprite(C+c*20,R+10,"icons16x16",E.types[c].frameIndex);pt.add(m)}const v=A.add.graphics().fillStyle(0,1);pt.add(v),C=4,R+=24,v.fillRoundedRect(C,R+2,60,9,4),pt.add(gt(C+8,R,"BASE STATS",{fontSize:"10px",color:"white"})),R+=3;const y=gt(C+14,R+10,`HP: ${E.maxPV}`);pt.add(y);const t=4,h=A.add.graphics();h.setDepth(ft.MENU_OBJECTS),h.fillStyle(0).fillRoundedRect(C+4,R+14,t+2,6,4),h.fillStyle(47872,1).fillRoundedRect(C+5,R+15,t,4,2);const p=gt(C+14,R+30,`PP: ${E.maxPP}`);pt.add(p),h.fillStyle(0).fillRoundedRect(C+4,R+34,t+2,6,4),h.fillStyle(255,1).fillRoundedRect(C+5,R+35,t,4,2),pt.add(h);const a=A.add.sprite(C+50,R+10,"icons16x16",16);a.setAlpha(.25).setOrigin(0,0),pt.add(a);const n=gt(C+68,R+10,`ATK: ${E.attack}`);pt.add(n);const r=A.add.sprite(C+50,R+30,"icons16x16",17);r.setAlpha(.25).setOrigin(0,0),pt.add(r);const e=gt(C+68,R+30,`DEF: ${E.defense}`);pt.add(e);const s=A.add.sprite(C+110,R+10,"icons16x16",18);s.setAlpha(.25).setOrigin(0,0),pt.add(s);const o=gt(C+128,R+10,`SPD: ${E.speed}`);pt.add(o);const i=A.add.sprite(C+110,R+30,"icons16x16",19);i.setAlpha(.25).setOrigin(0,0),pt.add(i);const l=gt(C+128,R+30,`RNG: ${E.baseSkill.attackRange}`);pt.add(l),C=10,R+=45,v.fillRoundedRect(C-6,R,60,9,4),pt.add(gt(C+2,R-2,"CAPACITES",{fontSize:"10px",color:"white"}));const u=A.add.sprite(C+10,R+20,"icons16x16",E.baseSkill.type.frameIndex);if(pt.add(u),pt.add(gt(C+22,R+14,V(`skill.${E.baseSkill.ref}`))),E.ppSkill){const c=A.add.sprite(C+10,R+38,"icons16x16",E.ppSkill.type.frameIndex);pt.add(c),pt.add(gt(C+22,R+31,V(`skill.${E.ppSkill.ref}`),{color:"blue"})),pt.add(gt(C+10,R+46,V(`skill_desc.${E.ppSkill.ref}`)??"",{color:"black",fontSize:"10px",wordWrap:{width:160}}))}else pt.add(gt(C+10,R+28,V(`skill_desc.${E.baseSkill.ref}`)??"",{color:"black",fontSize:"10px",wordWrap:{width:160}}));C=10,R+=72,v.fillRoundedRect(C-6,R,60,9,4),pt.add(gt(C+2,R-2,"EVOLUTION",{fontSize:"10px",color:"white"}));let f=[],d=E;for(;d!==void 0;)f.unshift(d),d=d.devolution;for(d=E.evolution;d!==void 0;)f.push(d),d=d.evolution;R+=22,C=32,E===fi&&(f=[ze,$e,si]);for(const c of f){const m=A.add.sprite(C,R,"pokemon");if(m.play(`${c.ref}_RIGHT`),pt.add(m),c.evolution){const g=A.add.sprite(C+30,R,"gui",16);g.setScale(.5),pt.add(g),pt.add(gt(C+20,R+4,`Lv ${c.evolutionLevel??"?"}`,{align:"center",fontSize:"8px"}))}C+=60}}let we;function w1(E){if(k.currentRoom.type===st.SAFARI)return D1(E);if(k.currentRoom.type===st.PENSION)return N1(E);we=E.add.group(),b1(E),ih(E),B1(E);const A=E.add.sprite(295,E.scale.height-12,"buttons_big",0);A.on("over",()=>{A.setFrame(1)}).on("out",()=>{A.setFrame(0)}).on("click",()=>{E.launchFight()}),pe(A),E.sprites.set("fightButton",A),we.add(A),we.setDepth(ft.GUI_BUTTON)}function D1(E){we=E.add.group(),ih(E),Wn(1)&&G1(E);const A=E.add.sprite(295,E.scale.height-12,"buttons_big",2);A.on("over",()=>{A.setFrame(3)}).on("out",()=>{A.setFrame(2)}).on("click",()=>{zt("run"),Bi(400).then(()=>k.exitDestination())}),pe(A),E.sprites.set("quitButton",A),we.add(A),we.setDepth(ft.GUI_BUTTON)}function N1(E){we=E.add.group(),ih(E);const A=E.add.sprite(295,E.scale.height-12,"buttons_big",2);A.on("over",()=>{A.setFrame(3)}).on("out",()=>{A.setFrame(2)}).on("click",async()=>{const C=k.currentRoom;await Mt(C.trainer.dialogs.bye,{speaker:C.trainer.ref}),zt("run"),await Bi(400),k.exitDestination()}),pe(A),E.sprites.set("quitButton",A),we.add(A),we.setDepth(ft.GUI_BUTTON)}function b1(E){const C=E.add.sprite(100,E.scale.height-12,"buttons",2);C.setData("type","pokedexButton");let R;C.on("click",()=>{var F;if(((F=k.activeMenu)==null?void 0:F.ref)==="pokedex")return Le();Le(),Ot.draggedElem!=null?Ui(E):Tu(E)}).on("over",()=>{if(C.setTint(16768477),Ot.draggedElem!=null){const B=Ot.draggedElem.getData("pokemon");B!=null&&(R=gt(100,E.scale.height-30,V("menu.see_pokemon",{name:V(`pokemon.${B.entry.ref}`)}),{align:"center",color:"white",strokeThickness:4,stroke:"black"}).setOrigin(.5))}else R=gt(100,E.scale.height-30,"POKEDEX",{align:"center",color:"white",strokeThickness:4,stroke:"black"}).setOrigin(.5)}).on("out",()=>{C.setTint(16777215),R==null||R.destroy()}).on("dropReceived",F=>{const B=F.getData("pokemon");B!=null&&(Tu(E,B),gd())}),pe(C),we.add(C)}function ih(E){const A=E.scale.width/2,C=E.add.sprite(A,E.scale.height-12,"buttons",0);C.setData("type","boxButton");let R;C.on("click",()=>{var F;if(Ot.draggedElem!=null)Ui(E);else{if(((F=k.activeMenu)==null?void 0:F.ref)==="box")return Le();Le(),p1(E)}}).on("over",()=>{if(C.setTint(13434828),Ot.draggedElem!=null){const B=Ot.draggedElem.getData("pokemon");B!=null&&(R=gt(A,E.scale.height-30,V("menu.remove_pokemon",{name:V(`pokemon.${B.entry.ref}`)}),{align:"center",color:"white",strokeThickness:4,stroke:"black"}).setOrigin(.5))}else R=gt(A,E.scale.height-30,"POKEMONS",{align:"center",color:"white",strokeThickness:4,stroke:"black"}).setOrigin(.5)}).on("out",()=>{C.setTint(16777215),R==null||R.destroy()}).on("dropReceived",F=>{const B=F.getData("pokemon");B!=null&&(R==null||R.destroy(),k.pension.includes(B)?_f(B):hr(B,k.board.playerTeam),Ys(B),ba())}),pe(C),we.add(C)}function B1(E){const C=E.add.sprite(220,E.scale.height-12,"buttons",1);C.setData("type","bagButton");let R;C.on("click",()=>{var F;if(Ot.draggedElem!=null)Ui(E);else{if(((F=k.activeMenu)==null?void 0:F.ref)==="items_box")return Le();Le(),P1(E)}}).on("over",()=>{if(C.setTint(16777164),Ot.draggedElem!=null){const B=Ot.draggedElem.getData("pokemon"),v=Ot.draggedElem.getData("item");B!=null?R=gt(220,E.scale.height-30,B.item?V("menu.retrieve_item",{item:V(`item.${B.item.ref}`)}):V("menu.no_item",{name:V(`pokemon.${B.entry.ref}`)}),{align:"center",color:"white",strokeThickness:4,stroke:"black"}).setOrigin(.5):v!=null&&(R=gt(220,E.scale.height-30,V("menu.stock_item",{item:V(`item.${v.ref}`)}),{align:"center",color:"white",strokeThickness:4,stroke:"black"}).setOrigin(.5))}else R=gt(220,E.scale.height-30,"ITEMS",{align:"center",color:"white",strokeThickness:4,stroke:"black"}).setOrigin(.5)}).on("out",()=>{C.setTint(16777215),R==null||R.destroy()}).on("dropReceived",F=>{const B=F.getData("pokemon"),v=F.getData("item");B!=null?(R==null||R.destroy(),B.item!=null&&(k.player.inventory[B.item.ref]+=1,B.item=null),gd()):v!=null&&(R==null||R.destroy(),F.destroy())}),pe(C),we.add(C)}function G1(E){const C=E.add.sprite(100,E.scale.height-12,"buttons",3);C.setData("type","refreshButton");let R;C.on("click",()=>{var F;if(Wn(1)){k.player.inventory.pokeball-=1,zt("refresh"),E.drawMap();for(const B of k.board.otherTeam)(F=E.sprites.get(B.uid))==null||F.destroy(!0);k.board.otherTeam=k.currentRoom.spawnOtherTeam(),vd(E),Ei(),k.player.inventory.pokeball===0&&C.destroy()}}).on("over",()=>{C.setTint(16777164),R=gt(100,E.scale.height-30,V("menu.change_place"),{align:"center",color:"white",strokeThickness:4,stroke:"black"}).setOrigin(.5)}).on("out",()=>{C.setTint(16777215),R==null||R.destroy()}),pe(C),we.add(C)}function U1(){we.destroy(!0)}function sd(){var A;const E=k.activeScene;(A=E.sprites.get("fightButton"))==null||A.setVisible(E.canLaunchFight)}function V1(E){const A=E.add.sprite(32,E.scale.height-32,"player").setDepth(ft.PLAYER);if(E.sprites.set("player",A),A.play("trainer_idle"),[st.ARENA,st.TUTORIAL,st.PENSION].includes(E.state.currentRoom.type)){const C=E.state.currentRoom,R=E.add.sprite(E.scale.width+40,32,"trainer").setDepth(ft.TRAINER).setFrame(C.trainer.frameIndex);E.add.tween({targets:[R],delay:1e3,duration:600,x:"-=64",ease:"Linear"}),E.sprites.set("opponent",R)}}function Y1(E){const A=k.activeScene;if(E.introFrameIndex===null)return Promise.resolve();const C=A.add.sprite(A.scale.width/2,A.scale.height/2,"trainers_intros");return C.setDepth(ft.CENTER_TEXT).setFrame(E.introFrameIndex),A.sprites.set("centerIntro",C),T1(A,C,2e3)}class nd extends Vs{constructor(){super("GameScene");ut(this,"gameSpeed",100);ut(this,"state");ut(this,"currentTileMap");window.game=this,this.state=k}preload(){Bs(this),bi(this),Oa(this)}create(){k.activeScene=this;const C=k.currentRoom;nr(this),Ra(this.anims),this.drawMap(),this.drawIntro().then(()=>{C.type===st.SAFARI||C.type===st.PENSION?k.stage=Se.CAPTURE:k.stage=Se.PLACEMENT,Ox(this),vd(this)}),C.type===st.SAFARI?k.board=Lx(C):k.board=Rx(k.player,C),Fe(C.music),k.registerPokemonsSeen(k.board.otherTeam)}update(){Ma(this),S1(this)}drawMap(){const C=k.currentRoom;C.maps&&(C.mapIndex=C.mapIndex?C.mapIndex%3+1:Ce(1,C.maps.length),C.map=C.maps[C.mapIndex-1]);const R=this.make.tilemap({key:C.map});this.currentTileMap!=null&&this.currentTileMap.destroy(),this.currentTileMap=R;const F=R.addTilesetImage("ground","ground");if(!F){console.error("Tileset not found");return}R.createLayer("ground0",F),R.createLayer("ground1",F),R.createLayer("top0",F)}drawIntro(){if($f(),V1(this),k.currentRoom.type===st.WILD||k.currentRoom.type===st.SAFARI)return Et(1e3).then(()=>(Ei(),Zr("text_capture",this)));if([st.ARENA,st.TUTORIAL,st.PENSION].includes(k.currentRoom.type)){const C=k.currentRoom;return Y1(C.trainer),Et(2e3).then(()=>Mt(C.trainer.dialogs.start,{speaker:C.trainer.ref}))}return Promise.resolve()}hideCenterText(){var C;(C=this.sprites.get("centerText"))==null||C.destroy(!0),this.sprites.delete("centerText")}get canLaunchFight(){return k.stage===Se.PLACEMENT&&k.board.playerTeam.length<=xd()}launchFight(){if(this.canLaunchFight){U1(),k.initFight(this);const C=this.sprites.get("player");if(Et(500).then(()=>C==null?void 0:C.play("trainer_launch")),Zr("text_fight",this),k.currentRoom.type===st.WILD)Fe("music_battle_wild");else{const R=k.currentRoom.trainer;Fo.includes(R)||Jf.includes(R)?Fe("music_battle_champion"):Fe("music_battle_trainer")}}}onPressStart(){this.launchFight()}onPressA(){k.activeMenu&&ar()||Yo(this)}onPressB(){k.activeMenu!=null&&k.activeMenu.handleCancel()}onClick(){Yo(this)}destroy(){this.currentTileMap.destroy(),delete this.currentTileMap}}function rd(E){var F;const A=k.player.box;A[A.indexOf(E)]=null;const R=k.activeScene.sprites.get(E.uid);(F=k.activeMenu)!=null&&F.container&&k.activeMenu.ref==="box"&&R!=null&&k.activeMenu.container.remove(R)}function Ys(E,A){var B;const C=k.activeScene;A==null&&(A=k.player.box.indexOf(null));const R=k.player.box;E instanceof Tt?E=E.toBoxPokemon(C):R.includes(E)&&(R[R.indexOf(E)]=null),R[A]=E;const F=C.sprites.get(E.uid);((B=k.activeMenu)==null?void 0:B.ref)==="box"&&F!=null?qf(F,A):F!=null&&F.destroy(),Et(0).then(()=>fr(C))}function No(E){E.owner=xe,k.board.playerTeam.push(E),k.player.team.push(E),k.activeScene instanceof nd&&(k.board.playerAlliances=xi(k.board.playerTeam),wi(k.board.playerTeam))}function hr(E,A){ni(A,E),A===k.board.playerTeam&&(ni(k.player.team,E),k.board.playerAlliances=xi(k.board.playerTeam),wi(k.board.playerTeam))}function z1(E){const A=k.activeScene;return Mt([V("dialog.relacher",{name:V(`pokemon.${E.entry.ref}`),cost:E.cost}),{[V("no")](){return Ys(E),!1},[V("yes")](){var C;E instanceof Tt?hr(E,k.board.playerTeam):rd(E),(C=A.sprites.get(E.uid))==null||C.destroy(),zt(Sa(E.entry)),k.player.inventory[We.ref]+=E.cost,Ei()}}])}const W1={title:V("destination.JADIELLE_SHOP"),tilemap:"shop_jadielle",tilesets:["tileset_inside"],startAt:"shop_exit"},H1={title:V("destination.ARGENTA_SHOP"),tilemap:"shop_argenta",tilesets:["tileset_inside"],startAt:"shop_exit"},X1={title:V("destination.AZURIA_SHOP"),tilemap:"shop_azuria",tilesets:["tileset_inside"],startAt:"shop_exit"},k1={title:V("destination.CARMIN_SHOP"),tilemap:"shop_carmin",tilesets:["tileset_inside"],startAt:"shop_exit"},K1={title:V("destination.SAFRANIA_SHOP"),tilemap:"shop_safrania",tilesets:["tileset_inside"],startAt:"shop_exit"},J1={title:V("destination.CELADOPOLE_SHOP"),tilemap:"shop_celadopole",tilesets:["tileset_inside"],startAt:"shop_exit"},j1={title:V("destination.PARMANIE_SHOP"),tilemap:"shop_parmanie",tilesets:["tileset_inside"],startAt:"shop_exit"},Z1={title:V("destination.CRAMOISILE_SHOP"),tilemap:"shop_cramoisile",tilesets:["tileset_inside"],startAt:"shop_exit"},$1={title:V("destination.LAVANVILLE_SHOP"),tilemap:"shop_lavanville",tilesets:["tileset_inside"],startAt:"shop_exit"},Q1={title:V("destination.CAMP_NOMADE"),tilemap:"shop_camp_nomade",tilesets:["tileset_inside"],startAt:"shop_exit"},q1={title:V("destination.LIGUE_HALL"),tilemap:"shop_ligue",tilesets:["tileset_inside"],startAt:"enter"},sh={ref:"ARGENTA",name:V("destination.ARGENTA"),nextDestinations:{FORET_JADE:[[-2,0],[0,4]],COL_DE_MONTAGNE:[[0,-1],[1,0],[0,-1]],COLLINE_ROYALE:[[2,0],[2,0]],CELADOPOLE:[[2,0],[0,2]]},coordinates:[7*16-8,5*16-8],type:Ct.ARENA,icons:["badge_roche","type_ROCHE"],rooms:{arena:{name:V("destination.ARGENTA_ARENA"),type:st.ARENA,trainer:If,badge:bl,map:"arene_argenta",music:"music_argenta_safrania",spawnOtherTeam(){return ti([gi,Li,rl,os,Ta,fa,Xo,ll],[[2,3],[4,3],[3,3],[0,2],[1,2],[6,2],[5,2],[3,0]])}},trainer:{type:st.ARENA,name:V("destination.ARGENTA_ARENA"),map:"arene_argenta",music:"music_argenta_safrania",trainer:Wg,spawnOtherTeam(){return te([gi,Li,os,ul,Ml,hl,Di,Fs,ws])}},shop:{type:st.FREEWALK,name:V("destination.ARGENTA_SHOP"),music:"music_shop",level:H1}},shopId:2,preload(E){E.load.tilemapTiledJSON("shop_argenta","assets/maps/shop_argenta.json"),E.load.tilemapTiledJSON("arene_argenta","assets/maps/arene_argenta.json"),Nt("music_argenta_safrania","assets/audio/music/07 Pewter City's Theme.mp3")}},nh={ref:"AZURIA",name:V("destination.AZURIA"),nextDestinations:{GROTTE_AZUREE:[[0,-2]],COL_DE_MONTAGNE:[[-4,0],[-2,0]],MONT_SELENITE:[[-4,0],[0,-1]],OCEANE_AZURIA:[[2,0],[0,-1],[1,0],[0,-1]],CENTRALE:[[2,0],[0,1],[1,0],[0,1]],PENSION:[[0,2]]},coordinates:[14*16-8,3*16-8],type:Ct.ARENA,icons:["badge_cascade","type_EAU"],rooms:{arena:{type:st.ARENA,name:V("destination.AZURIA_ARENA"),map:"arene_azuria",spawnOtherTeam(){return ti([Mi,wl,Oi,ra,ze,es,rn,ol],[[2,3],[4,3],[3,3],[0,2],[1,2],[6,2],[5,2],[3,0]])},music:"music_azuria",trainer:Ff,badge:ir},trainer:{type:st.ARENA,name:V("destination.AZURIA_ARENA"),map:"arene_azuria",music:"music_azuria",trainer:Ng,spawnOtherTeam(){return te([Mi,Zn,Oi,ya,qn,Di,Fs,da,tr,ze,es])}},shop:{type:st.FREEWALK,name:V("destination.AZURIA_SHOP"),music:"music_shop",level:X1}},shopId:3,preload(E){E.load.tilemapTiledJSON("shop_azuria","assets/maps/shop_azuria.json"),E.load.tilemapTiledJSON("arene_azuria","assets/maps/arene_azuria.json"),Nt("music_azuria","assets/audio/music/08 Cerulean City's Theme.mp3")}},ad={ref:"CARMIN",name:V("destination.CARMIN"),nextDestinations:{MAISON_PSY:[[0,-2.5]],CAVE_TAUPIQUEUR_EST:[[3,0],[0,-1]],OCEANE_CARMIN:[[-2,0]],FALAISES:[[3,0],[2,0]]},coordinates:[14*16-8,11*16-8],type:Ct.ARENA,icons:["badge_foudre","type_ELECTRIQUE"],rooms:{arena:{type:st.ARENA,name:V("destination.CARMIN_ARENA"),map:"arene_carmin",music:"music_carmin",trainer:wf,badge:Bl,spawnOtherTeam(){return ti([Xi,as,Al,an,va,el,sn,$e],[[1,3],[0,2],[6,2],[2,3],[4,3],[5,3],[3,2],[1,2]])}},trainer:{type:st.ARENA,name:V("destination.CARMIN_ARENA"),map:"arene_carmin",music:"music_carmin",trainer:Xg,spawnOtherTeam(){return te([Xi,Xi,sn,as,hi,an,li,Qn,Mi])}},shop:{type:st.FREEWALK,name:V("destination.CARMIN_SHOP"),music:"music_shop",level:k1}},shopId:7,preload(E){E.load.tilemapTiledJSON("arene_carmin","assets/maps/arene_carmin.json"),E.load.tilemapTiledJSON("shop_carmin","assets/maps/shop_carmin.json"),Nt("music_carmin","assets/audio/music/11 Vermilion City's Theme.mp3")}},od={ref:"CELADOPOLE",name:V("destination.CELADOPOLE"),nextDestinations:{ARGENTA:[[0,-2],[-2,0]],COLLINE_ROYALE:[[0,-2],[2,0]],DOJO:[[3,0]],PISTE_CYCLABLE:[[0,5]]},coordinates:[9*16-8,7*16-8],type:Ct.ARENA,icons:["badge_prisme","type_PLANTE"],rooms:{arena:{type:st.ARENA,name:V("destination.CELADOPOLE_ARENA"),map:"arene_celadopole",music:"music_celadopole",trainer:Df,badge:Gl,spawnOtherTeam(){return ti([ls,pl,oa,$o,Ns,ns,jo,Zo],[[2,3],[1,0],[3,3],[4,3],[1,3],[6,0],[6,3],[5,3]])}},trainer:{type:st.ARENA,name:V("destination.CELADOPOLE_ARENA"),map:"arene_celadopole",music:"music_celadopole",trainer:zg,spawnOtherTeam(){return te([rs,rs,jn,$n,pa,_n,Is,ls,hs])}},shop:{type:st.FREEWALK,name:V("destination.CELADOPOLE_SHOP"),music:"music_shop",level:J1}},shopId:6,preload(E){E.load.tilemapTiledJSON("arene_celadopole","assets/maps/arene_celadopole.json"),E.load.tilemapTiledJSON("shop_celadopole","assets/maps/shop_celadopole.json"),Nt("music_celadopole","assets/audio/music/09 Celadon City's Theme.mp3")}},rh={ref:"CRAMOISILE",name:V("destination.CRAMOISILE"),coordinates:[6*16-8,19*16-8],type:Ct.ARENA,icons:["badge_volcan","type_FEU"],nextDestinations:{BOURG_PALETTE:[[0,-2.5],[0,-1.5],[-1,0]],MONT_BRAISE:[[0,-2.5],[-3,.5]],OCEANE_CRAMOISILE:[[-2,0]],ILES_ECUME:[[4,0]]},rooms:{arena:{name:V("destination.CRAMOISILE_ARENA"),type:st.ARENA,map:"cramoisile",music:"music_cramoisile",trainer:Bf,badge:Yl,spawnOtherTeam(){return ti([Ms,ko,Cl,nl,ua,ha,Qn,_o],[[2,3],[4,3],[3,3],[0,2],[1,2],[6,2],[5,2],[3,0]])}},trainer:{name:V("destination.CRAMOISILE_ARENA"),type:st.ARENA,map:"cramoisile",music:"music_cramoisile",trainer:Qg,spawnOtherTeam(){return te([hi,un,Ii,nn,_i,Ri,dn,ns])}},shop:{type:st.FREEWALK,name:V("destination.CRAMOISILE_SHOP"),music:"music_shop",level:Z1}},shopId:9,preload(E){E.load.tilemapTiledJSON("cramoisile","assets/maps/cramoisile.json"),E.load.tilemapTiledJSON("shop_cramoisile","assets/maps/shop_cramoisile.json"),Nt("music_cramoisile","assets/audio/music/10 Cinnabar Island's Theme.mp3")}},_1={type:st.ARENA,map:"arene_jadielle",music:"music_jadielle",name:V("destination.JADIELLE_ARENA"),trainer:Gf,badge:Aa,spawnOtherTeam(){return ti([os,Dl,gl,ml,Ta,El,Li,fa],[[2,3],[4,3],[3,3],[0,2],[1,2],[6,2],[5,2],[3,0]])}},tx={type:st.ARENA,map:"arene_jadielle",music:"music_jadielle",name:V("destination.JADIELLE_ARENA"),trainer:Cg,spawnOtherTeam(){return te([Ni,Jn,hi,Di,Uu,$n,Ds,bs,ga,os,gi])}},ex={type:st.ARENA,map:"arene_jadielle",music:"music_jadielle",name:V("destination.JADIELLE_ARENA"),trainer:Pg,spawnOtherTeam(){return te([Ni,Jn,hi])}},ah={ref:"JADIELLE",name:V("destination.JADIELLE"),nextDestinations:{BOURG_PALETTE:[[0,3]],FORET_JADE:[[0,-3]],CAVE_TAUPIQUEUR_OUEST:[[2,0],[0,-2]],ROUTE_VICTOIRE_ENTREE:[[-3,0],[0,-7]]},coordinates:[5*16-8,12*16-8],type:Ct.ARENA,icons:["badge_terre","type_SOL"],rooms:{arena:_1,tuto_dresseur:ex,trainer:tx,shop:{type:st.FREEWALK,name:V("destination.JADIELLE_SHOP"),music:"music_shop",level:W1}},customRoomOrder(){return k.day<10?["shop","tuto_dresseur"]:k.hasBadge(Aa)?["shop","trainer"]:["shop","arena"]},shopId:1,preload(E){E.load.tilemapTiledJSON("shop_jadielle","assets/maps/shop_jadielle.json"),E.load.tilemapTiledJSON("arene_jadielle","assets/maps/arene_jadielle.json"),Nt("music_jadielle","assets/audio/music/06 Pokemon Gym.mp3")}},oh={ref:"LAVANVILLE",name:V("destination.LAVANVILLE"),nextDestinations:{CENTRALE:[[0,-1],[-1,0],[0,-1],[-1,0]],TOUR_POKEMON:[[-3,0]],FALAISES:[[0,4]]},coordinates:[19*16-8,7*16-8],type:Ct.ARENA,icons:["type_FEE"],rooms:{arena:{type:st.ARENA,name:V("destination.LAVANVILLE_ARENA"),map:"arene_lavanville",spawnOtherTeam(){return ti([is,vl,ln,al,ss,fl,Is,Yu],[[2,3],[4,3],[3,3],[0,2],[1,2],[6,2],[5,2],[3,0]])},music:"music_lavanville",trainer:zf},trainer:{type:st.ARENA,name:V("destination.LAVANVILLE_ARENA"),map:"arene_lavanville",music:"music_lavanville",trainer:bg,spawnOtherTeam(){return te([is,ln,ss,li,Ni,Ms,fi,Nl])}},shop:{type:st.FREEWALK,name:V("destination.LAVANVILLE_SHOP"),music:"music_shop",level:$1}},shopId:4,customRoomOrder(){return k.dialogStates.sally===Yf.BEATEN?["shop","trainer"]:["shop","arena"]},preload(E){E.load.tilemapTiledJSON("arene_lavanville","assets/maps/arene_lavanville.json"),E.load.tilemapTiledJSON("shop_lavanville","assets/maps/shop_lavanville.json"),Nt("music_lavanville","assets/audio/music/12 Lavender Town's Theme.mp3")}},ix={title:V("room.ligueendroom"),tilemap:"endroom",tilesets:["tileset_inside"],startAt:"enter"},sx={type:st.ARENA,map:"arene_ligue1",music:"music_route_victoire",name:V("destination.LIGUE_FLOOR1"),trainer:Wf,spawnOtherTeam(){return[new Tt({entry:Br,owner:Dt,level:54,x:0,y:1}),new Tt({entry:Br,owner:Dt,level:54,x:6,y:1}),new Tt({entry:qo,owner:Dt,level:53,x:3,y:3}),new Tt({entry:sl,owner:Dt,level:54,x:4,y:3}),new Tt({entry:ca,owner:Dt,level:56,x:2,y:3}),new Tt({entry:es,owner:Dt,level:56,x:5,y:2})]}},nx={type:st.ARENA,map:"arene_ligue2",music:"music_route_victoire",name:V("destination.LIGUE_FLOOR2"),trainer:Hf,spawnOtherTeam(){return[new Tt({entry:Li,owner:Dt,level:53,x:0,y:3}),new Tt({entry:Vr,owner:Dt,level:55,x:1,y:3}),new Tt({entry:Qo,owner:Dt,level:56,x:2,y:3}),new Tt({entry:dl,owner:Dt,level:58,x:4,y:3}),new Tt({entry:br,owner:Dt,level:55,x:5,y:3}),new Tt({entry:Li,owner:Dt,level:56,x:6,y:3})]}},rx={type:st.ARENA,map:"arene_ligue3",music:"music_route_victoire",name:V("destination.LIGUE_FLOOR3"),trainer:Xf,spawnOtherTeam(){return[new Tt({entry:Fr,owner:Dt,level:56,x:3,y:3}),new Tt({entry:_i,owner:Dt,level:58,x:1,y:3}),new Tt({entry:yl,owner:Dt,level:56,x:3,y:1}),new Tt({entry:wr,owner:Dt,level:55,x:4,y:2}),new Tt({entry:wr,owner:Dt,level:55,x:2,y:2}),new Tt({entry:Fr,owner:Dt,level:60,x:5,y:3})]}},ax={type:st.ARENA,map:"arene_ligue4",music:"music_route_victoire",name:V("destination.LIGUE_FLOOR4"),trainer:kf,spawnOtherTeam(){return[new Tt({entry:rn,owner:Dt,level:58,x:2,y:2}),new Tt({entry:Pl,owner:Dt,level:60,x:3,y:2}),new Tt({entry:rn,owner:Dt,level:58,x:4,y:2}),new Tt({entry:Ir,owner:Dt,level:56,x:0,y:0}),new Tt({entry:Ir,owner:Dt,level:56,x:6,y:0}),new Tt({entry:tl,owner:Dt,level:62,x:3,y:1})]}},ox={type:st.ARENA,map:"arene_ligue5",music:"music_route_victoire",name:V("destination.LIGUE_FLOOR5"),trainer:Kf,spawnOtherTeam(){return[new Tt({entry:Fl,owner:Dt,level:61,x:0,y:3}),new Tt({entry:na,owner:Dt,level:59,x:1,y:1}),new Tt({entry:va,owner:Dt,level:63,x:3,y:3}),new Tt({entry:ha,owner:Dt,level:61,x:5,y:2}),new Tt({entry:Ns,owner:Dt,level:61,x:6,y:2}),new Tt({entry:ze,owner:Dt,level:65,x:4,y:1})]}},ld={ref:"LIGUE",name:V("destination.LIGUE"),subtext:V("destination_subtext.CONSEIL_DES_4"),nextDestinations:{ROUTE_VICTOIRE_SORTIE:[[0,1],[-1,0],[0,-1]]},coordinates:[2*16-8,3*16-8],type:Ct.ARENA,icons:["icon_ligue"],rooms:{olga:sx,aldo:nx,agatha:rx,peter:ax,rival:ox,shop:{type:st.FREEWALK,name:V("destination.LIGUE_HALL"),music:"music_route_victoire",level:q1},endroom:{type:st.FREEWALK,name:V("destination.LIGUE_FLOOR5"),music:"music_ending",level:ix}},customRoomOrder(){return["shop","olga","aldo","agatha","peter","rival","endroom"]},shopId:10,preload(E){E.load.tilemapTiledJSON("shop_ligue","assets/maps/shop_ligue.json"),E.load.tilemapTiledJSON("arene_ligue1","assets/maps/arene_ligue1.json"),E.load.tilemapTiledJSON("arene_ligue2","assets/maps/arene_ligue2.json"),E.load.tilemapTiledJSON("arene_ligue3","assets/maps/arene_ligue3.json"),E.load.tilemapTiledJSON("arene_ligue4","assets/maps/arene_ligue4.json"),E.load.tilemapTiledJSON("arene_ligue5","assets/maps/arene_ligue5.json"),E.load.tilemapTiledJSON("endroom","assets/maps/endroom.json"),Nt("music_route_victoire","assets/audio/music/22 The Last Road.mp3"),Nt("music_ending","assets/audio/music/30 Ending.mp3")}},lh={ref:"PARMANIE",name:V("destination.PARMANIE"),nextDestinations:{PARC_SAFARI:[[0,-2]],PISTE_CYCLABLE:[[-4,0],[0,-4]],ILES_ECUME:[[0,3],[-3,0]],CHAMPS_VERDOYANTS:[[3,0],[0,-1],[1,0]]},coordinates:[13*16-8,16*16-8],type:Ct.ARENA,icons:["badge_ame","type_POISON"],subtext:"Arne",rooms:{arena:{type:st.ARENA,name:V("destination.PARMANIE_ARENA"),map:"arene_parmanie",music:"music_parmanie",trainer:Nf,badge:Ul,spawnOtherTeam(){return ti([hi,un,Ii,nn,_i,Ri,dn,ns],[[2,3],[4,3],[3,3],[0,2],[1,2],[6,2],[5,2],[3,0]])}},trainer:{type:st.ARENA,name:V("destination.PARMANIE_ARENA"),map:"arene_parmanie",music:"music_parmanie",trainer:$g,spawnOtherTeam(){return te([hi,un,Ii,nn,_i,Ri,dn,ns])}},shop:{type:st.FREEWALK,name:V("destination.PARMANIE_SHOP"),music:"music_shop",level:j1}},shopId:8,preload(E){E.load.tilemapTiledJSON("arene_parmanie","assets/maps/arene_parmanie.json"),E.load.tilemapTiledJSON("shop_parmanie","assets/maps/shop_parmanie.json"),Nt("music_parmanie","assets/audio/music/40 Pokemon Mansion.mp3")}},hd={ref:"SAFRANIA",name:V("destination.SAFRANIA"),nextDestinations:{PENSION:[[0,-2]],DOJO:[[-2,0]],TOUR_POKEMON:[[2,0]],MAISON_PSY:[[0,1.5]]},coordinates:[14*16-8,7*16-8],type:Ct.ARENA,icons:["badge_marais","type_PSY"],rooms:{arena:{name:V("destination.SAFRANIA_ARENA"),type:st.ARENA,map:"arene_safrania",music:"music_argenta_safrania",trainer:bf,badge:Vl,spawnOtherTeam(){return ti([Mr,ss,fn,Dr,na,ca,Ri,Ns],[[2,3],[4,3],[3,3],[0,2],[1,2],[6,2],[5,2],[3,0]])}},trainer:{type:st.ARENA,name:V("destination.SAFRANIA_ARENA"),map:"arene_safrania",music:"music_argenta_safrania",trainer:Mg,spawnOtherTeam(){return te([ts,fn,pa,Mr,Dr,Oi,ra,ss])}},shop:{type:st.FREEWALK,name:V("destination.SAFRANIA_SHOP"),music:"music_shop",level:K1}},shopId:5,preload(E){E.load.tilemapTiledJSON("arene_safrania","assets/maps/arene_safrania.json"),E.load.tilemapTiledJSON("shop_safrania","assets/maps/shop_safrania.json"),Nt("music_argenta_safrania","assets/audio/music/07 Pewter City's Theme.mp3")}},lx=()=>Mt(hx[k.currentDestination.ref]||[V("dialog.salut")],{speaker:`character${16+(k.currentDestination.shopId??0)%10}`}),hx={[ah.ref]:[V("dialog.guide.jadielle.0"),V("dialog.guide.jadielle.1"),V("dialog.guide.jadielle.2")],[sh.ref]:[V("dialog.guide.argenta.0"),V("dialog.guide.argenta.1"),V("dialog.guide.argenta.2"),V("dialog.guide.argenta.3")],[nh.ref]:[V("dialog.guide.azuria.0"),V("dialog.guide.azuria.1"),V("dialog.guide.azuria.2"),V("dialog.guide.azuria.3")],[oh.ref]:[V("dialog.guide.lavanville.0"),V("dialog.guide.lavanville.1")],[hd.ref]:[V("dialog.guide.safrania.0"),V("dialog.guide.safrania.1"),V("dialog.guide.safrania.2")],[od.ref]:[V("dialog.guide.celadopole.0"),V("dialog.guide.celadopole.1"),V("dialog.guide.celadopole.2"),V("dialog.guide.celadopole.3")],[ad.ref]:[V("dialog.guide.carmin.0"),V("dialog.guide.carmin.1")],[lh.ref]:[V("dialog.guide.parmanie.0"),V("dialog.guide.parmanie.1"),V("dialog.guide.parmanie.2"),V("dialog.guide.parmanie.3")],[rh.ref]:[V("dialog.guide.cramoisile.0"),V("dialog.guide.cramoisile.1"),()=>{const E=qu.find(A=>k.player.inventory[A.ref]>0);return E&&k.player.box.some(A=>A===null)?[V("dialog.guide.cramoisile.2"),V("dialog.guide.cramoisile.3"),"...",V("dialog.guide.cramoisile.4"),V("dialog.guide.cramoisile.5"),V("dialog.guide.cramoisile.6"),{[V("yes")]:()=>[V("dialog.guide.cramoisile.7"),()=>{k.activeScene.cameras.main.flash(1e3,0,0,0),k.player.inventory[E.ref]-=1;const A={[wn.ref]:Fu,[Dn.ref]:hl,[Nn.ref]:Pl},C=new Fi({entry:A[E.ref],owner:xe,level:30});return Ys(C),["!!!",V("dialog.guide.cramoisile.8"),V("dialog.guide.cramoisile.9",{name:V(`pokemon.${C.entry.ref}`)}),V("dialog.guide.cramoisile.10"),V("dialog.guide.cramoisile.11"),()=>(Rs("pokemon_received"),Mt([V("dialog.guide.cramoisile.12",{name:V(`pokemon.${C.entry.ref}`)})],{speaker:"system"})),V("dialog.guide.cramoisile.13")]}],[V("no")]:()=>[V("dialog.guide.cramoisile.14")]}]:[V("dialog.guide.cramoisile.15"),V("dialog.guide.cramoisile.16")]}],[ld.ref]:[V("dialog.guide.ligue.0"),{[V("yes")]:()=>[V("dialog.guide.ligue.1"),V("dialog.guide.ligue.2"),V("dialog.guide.ligue.3"),V("dialog.guide.ligue.4"),V("dialog.guide.ligue.5"),V("dialog.guide.ligue.6"),V("dialog.guide.ligue.7"),V("dialog.guide.ligue.8"),V("dialog.guide.ligue.9"),V("dialog.guide.ligue.10"),V("dialog.guide.ligue.11")],[V("no")]:()=>[V("dialog.guide.ligue.12")]}]},ux=()=>Mt([V("dialog.healer.0"),V("dialog.healer.1")],{speaker:"female2"}),bo={hello:0,after_gift:1},fx=()=>{if(k.dialogStates.mam===bo.after_gift)return Mt([V("dialog.mom.after_gift")],{speaker:"mam"});const E=[vn,mn,pn,cn],A=[gn,xn,yn,En],C=[us,ys,xs,vs,cs,fs,ds,Ss,Ts,ms,As,Cs,Es,Ps,gs,ps],R=[An,Cn,Pn,Rn],F=[Ln,On,Mn,In,Fn],B=k.day-k.lastTourMam;return Mt([V("dialog.mom.hello"),()=>{let v;return B<=3?v=[V("dialog.mom.gift1"),()=>Ye(We,jt(B-1,1,3))]:B<9?v=[V("dialog.mom.gift2"),V("dialog.mom.gift3"),()=>Ye(Xe(E),jt(Math.ceil(B/3),1,3))]:B<20?v=[V("dialog.mom.gift4"),V("dialog.mom.gift5"),()=>Ye(Xe(A))]:B<30?v=[V("dialog.mom.gift6"),V("dialog.mom.gift7"),V("dialog.mom.gift8"),()=>Ye(Xe(C)),V("dialog.mom.gift9"),V("dialog.mom.gift10"),V("dialog.mom.gift11")]:B<40?v=[V("dialog.mom.gift12"),V("dialog.mom.gift13"),()=>Ye(Xe(R)),V("dialog.mom.gift14"),V("dialog.mom.gift15")]:v=[V("dialog.mom.gift16"),V("dialog.mom.gift17"),V("dialog.mom.gift18"),()=>Ye(Xe(F)),V("dialog.mom.gift19"),V("dialog.mom.gift20")],v}],{speaker:"mam"}).then(()=>Mt([()=>(k.lastTourMam=k.day,k.dialogStates.mam=bo.after_gift,V("dialog.mom.after_gift"))],{speaker:"mam"}))};function $r(E){if(!k.currentDestination.shopId){console.error("Missing shopId");return}Ei();const A=20,C=144,R=6*A+8,F=320-C-8,B=8,v=C1(k.currentDestination.shopId),y=Object.entries(v).map(([t,h],p)=>({x:4,y:4+p*A,label:V(`item.${t}`),value:t}));return y.push({x:4,y:4+y.length*A,label:V("menu.quit")}),zt("menu_open"),Gs({ref:"shop_buy",x:F,y:B,width:C,height:R,background:"box1",offset:8,entries:y,draw(t){y.forEach((h,p)=>{if(!h.value)return;const a=ke[h.value],n=t.scene.add.sprite(F+114,B+15+p*A,"pokeball",0).play("POKEBALL_idle").setScrollFactor(0),r=gt(292,17+p*A,`x${a.cost}`,{color:Wn(a.cost)?"black":"red"});t.add(n),t.add(r)})},handleChoice(t){if(Ki(),!t.value)return;const h=ke[t.value];h.cost&&(hh(1600),Mt([V("dialog.shop.confirm",{item:V(`item.${h.ref}`),count:h.cost}),{[V("yes")]:()=>Wn(h.cost)?(Go(),td(h.cost),Ye(h,1,!0,"shop").then(()=>{$r(E)})):V("dialog.shop.nomoney"),[V("no")]:()=>Et(100).then(()=>{Go(),$r(E)})}],{speaker:E}))},handleCancel(){Ki(),Le()},onSelect(t){if(!t.value)return;const h=ke[t.value];h?ed(h):Ki()}})}const dx=()=>Mt([V("dialog.sellerm.hello")],{speaker:"seller_male"}).then(()=>$r("seller_male")),cx=()=>Mt([V("dialog.sellerf.hello")],{speaker:"seller_female"}).then(()=>$r("seller_female")),vx=E=>{if(E==null)return Promise.reject("No character provided");const A=E;return Mt([()=>{const C=A.pokemonToGive;if(A.hasExchanged)return V("dialog.trader.aftertrade",{name:V(`pokemon.${A.pokemonToReceive.ref}`)});if(C==null)return[V("dialog.trader.nopokemon.0"),V("dialog.trader.nopokemon.1")];const R=new Fi({entry:A.pokemonToReceive,owner:xe,xp:C.xp,item:C.item??void 0,shouldAutoEvolve:!0});return[V("dialog.trader.tradepropose",{given:V(`pokemon.${C.entry.ref}`),received:V(`pokemon.${R.entry.ref}`)}),{[V("yes")]:()=>[()=>{Rs("pokemon_received");const F=k.player.box.indexOf(C);return delete k.player.box[F],k.player.box[F]=R,A.hasExchanged=!0,Mt([V("dialog.trader.tradeaccepted",{given:V(`pokemon.${C.entry.ref}`),received:V(`pokemon.${R.entry.ref}`)})],{speaker:"system"})},V("dialog.trader.aftertrade",{name:V(`pokemon.${C.entry.ref}`)})],[V("no")]:()=>[V("dialog.trader.traderefused")]}]}],{speaker:`character${6+(k.currentDestination.shopId??0)%10}`})},mo={mam:fx,chen:Jm,chen_end:jm,assistant1:Zm,assistant2:$m,seller_male:dx,seller_female:cx,trader:vx,info:lx,healer:ux},px={voice:"sawtooth",emotion:20,pitch:30,speed:40,resonance:10},Wt={system:{emotion:0,speed:50,pitch:10},chen:{emotion:25,pitch:25,speed:35,resonance:15},mam:{emotion:50,pitch:60,speed:40,resonance:5},red:{volume:0},pierre:{emotion:50,pitch:25,speed:15,resonance:10},ondine:{emotion:70,pitch:50,speed:20,resonance:10},major_bob:{emotion:75,pitch:20,speed:20,resonance:10},erika:{emotion:30,pitch:40,speed:15,resonance:10},koga:{emotion:40,pitch:27,speed:35,resonance:10},morgane:{emotion:80,pitch:55,speed:20,resonance:30},auguste:{emotion:80,pitch:45,speed:20,resonance:10},giovanni:{emotion:90,pitch:20,speed:10,resonance:50},hector:{emotion:50,pitch:38,speed:25,resonance:10},sally:{emotion:70,pitch:43,speed:20,resonance:20},rival:{emotion:90,pitch:33,speed:35,resonance:30},olga:{emotion:70,pitch:47,speed:25,resonance:30},aldo:{emotion:80,pitch:23,speed:30,resonance:30},agatha:{emotion:80,pitch:39,speed:25,resonance:30},peter:{emotion:40,pitch:26,speed:20,resonance:30},sbire_rocket:{emotion:90,pitch:40,speed:30,resonance:30},assistant1:{emotion:10,pitch:30,speed:40,resonance:15},assistant2:{emotion:15,pitch:35,speed:45,resonance:15},assistant_tuto:{emotion:10,pitch:20,speed:30,resonance:5},seller_male:{emotion:15,pitch:22,speed:40,resonance:5},seller_female:{emotion:15,pitch:50,speed:40,resonance:5},pc:{voice:"triangle",emotion:0,pitch:10,speed:30},pc_record:{voice:"triangle",emotion:0,pitch:10,speed:30},male1:{emotion:15,pitch:20,speed:35,resonance:5},male2:{emotion:10,pitch:25,speed:30,resonance:5},male3:{emotion:20,pitch:28,speed:35,resonance:5},female1:{emotion:25,pitch:40,speed:30,resonance:5},female2:{emotion:25,pitch:46,speed:35,resonance:5},female3:{emotion:20,pitch:51,speed:35,resonance:5},kid1:{emotion:35,pitch:55,speed:40,resonance:5},kid2:{emotion:42,pitch:60,speed:40,resonance:5}},Su={0:Wt.red,1:Wt.mam,2:Wt.chen,3:Wt.assistant1,4:Wt.seller_male,5:Wt.seller_female,6:Wt.kid1,7:Wt.kid2,8:Wt.male3,9:Wt.female3,10:Wt.male2,11:Wt.female2,12:Wt.male1,13:Wt.female1,14:Wt.male1,15:Wt.female1,16:Wt.female2,17:Wt.male2,18:Wt.male1,19:Wt.male1,20:Wt.female1,21:Wt.male2,22:Wt.female2,23:Wt.male2,24:Wt.female2,25:Wt.assistant2,26:Wt.female2};for(const E in Su)Wt[`character${E}`]=Su[E];const Bo=[];function Mt(E,A={},C){var e,s;const R=k.activeScene;if(!R)return Promise.reject("No scene");const F=A.speaker??"system",B=Object.assign({},px,Wt[F??"red"],A),v=60,y=R.scale.height-38,t=220,h=34,p=R.add.group().setOrigin(0,0),a=R.add.nineslice(v,y,"box2",void 0,t,h,4,4,4,4).setOrigin(0,0).setScrollFactor(0).setDepth(ft.DIALOG);p.add(a);const n=gt(v+8,y+4,"",{wordWrap:{width:t-8}}).setScrollFactor(0).setResolution(2);(e=p==null?void 0:p.add(n))==null||e.setDepth(ft.DIALOG),typeof E=="function"&&(E=E()),k.activeDialog!=null&&((s=k.activeDialog.dialogGroup)==null||s.destroy(!0,!0),Bo.push({lines:k.activeDialog.lines,params:k.activeDialog.params,onEndCallback:k.activeDialog.onEnd})),k.activeDialog={lines:[...E],params:A,speaker:F,voice:B,dialogGroup:p,textSprite:n,bgSprite:a};const r=new Promise(o=>{k.activeDialog.onEnd=C||(()=>Et(0).then(o))});return ur(),r}function hh(E){k.activeDialog&&(k.activeDialog.waitBeforeNextLine=!0,setTimeout(()=>{k.activeDialog&&(k.activeDialog.waitBeforeNextLine=!1)},E))}async function ur(){if(!k.activeDialog||!k.activeScene||k.activeDialog.waitBeforeNextLine)return;if(k.activeDialog.speech){k.activeDialog.speech.stop(),delete k.activeDialog.speech;return}let E=k.activeDialog.lines.shift();for(;typeof E=="function"||Array.isArray(E)||E instanceof Promise;)typeof E=="function"&&(E=E()),E instanceof Promise&&(E=await E),Array.isArray(E)&&(k.activeDialog.lines.unshift(...E),E=k.activeDialog.lines.shift());typeof E=="string"?mx(E):typeof E=="object"&&E!==null?gx(E):Go()}function mx(E){if(k.activeDialog){if(!["me","system"].includes(k.activeDialog.speaker)&&k.currentRoom.type!==st.FREEWALK&&(k.activeDialog.bgSprite.setPosition(48,2),k.activeDialog.textSprite.setPosition(56,6)),k.activeDialog.voice.skipSpeech){k.activeDialog.textSprite.text=E;return}k.activeDialog.speech=Mm(E)}}function Go(){var E,A,C;if(k.activeDialog&&((E=k.activeDialog.dialogGroup)==null||E.destroy(!0,!0),(C=(A=k.activeDialog).onEnd)==null||C.call(A),k.activeDialog=null,Bo.length>0)){const R=Bo.pop();Et(0).then(()=>Mt(R.lines,R.params,R.onEndCallback))}}function gx(E){const A=Object.keys(E),C=k.activeScene,R=Math.max(...A.map(t=>t.length))*8+16,F=8+16*A.length,B=C.scale.width-R-28,v=C.scale.height-32-F,y=Object.entries(E).map(([t,h],p)=>({label:t,value:h,x:4,y:p*16}));k.activeDialog.choice=Gs({ref:"dialogChoice",x:B,y:v,width:R,height:F,entries:y,handleChoice:Au,handleCancel(){if(V("no")in E){const t=E[V("no")];Au({label:V("no"),value:t,x:0,y:0})}else Le()}})}function Au(E){var A;(A=k.activeDialog)!=null&&A.choice&&(delete k.activeDialog.choice,Le(),k.activeDialog.lines.unshift((E==null?void 0:E.value)||(E==null?void 0:E.label)),ur())}let go=null;function xx(E,A){if(go==null){switch(A){case St.LEFT:case St.WALKING_LEFT:E.state=St.RIGHT;break;case St.RIGHT:case St.WALKING_RIGHT:E.state=St.LEFT;break;case St.UP:case St.WALKING_UP:E.state=St.DOWN;break;case St.DOWN:case St.WALKING_DOWN:E.state=St.UP;break}return k.dialogStates.hasOwnProperty(E.name)||(k.dialogStates[E.name]=0),mo.hasOwnProperty(E.name)||(mo[E.name]=()=>Mt(["..?"])),go=E.name,mo[E.name](E).then(()=>{go=null})}}let $i,Be,oi;const Uo=100,Vo=32;function yx(E,A){var v;if($i===E)return;$i!=null&&uh(A),$i=E;const C=A.sprites.get("cursor");Be=A.add.container(C.x-Uo-8,C.y-Vo-8);const R=A.add.nineslice(0,0,"box2",void 0,Uo,Vo,4,4,4,4).setOrigin(0,0);if(Be.add(R),k.player.inventory.pokeball<E.cost){const y=gt(6,2,V("capture.not_enough_balls.0")),t=gt(6,16,V("capture.not_enough_balls.1"));Be.add(y).add(t)}else if(k.player.hasBoxFull){const y=gt(6,2,V("capture.box_full.0")),t=gt(6,16,V("capture.box_full.1"));Be.add(y).add(t)}else{const y=gt(6,2,V("capture.capture_with")),t=gt(6,16,E.pokeball,{color:Bd[E.pokeball]});Be.add(y).add(t),oi=A.add.sprite(Math.floor(C.x+8),Math.floor(C.y+12),"pokeball"),oi.play(`${E.pokeball}_idle`).setDepth(ft.JUST_BELOW_CURSOR),(v=A.sprites.get("cursor"))==null||v.play("cursor_wave")}const F=A.add.sprite(74,22,"pokeball",25);F.play("POKEBALL_idle");const B=gt(84,16,`x${E.cost}`);Be.add(F).add(B),Be.setDepth(ft.MENU)}function Ex(E){if(!$i)return;const A=E.sprites.get("cursor");Be==null||Be.setPosition(Math.max(2,Math.floor(A.x-Uo-8)),Math.max(0,Math.floor(A.y-Vo-8))),oi==null||oi.setPosition(Math.floor(A.x+8),Math.floor(A.y+12))}function uh(E){var A;Be&&(Be.destroy(!0),Be=null,oi==null||oi.destroy(!0),oi=null,$i=null,(A=E.sprites.get("cursor"))==null||A.play("cursor_point"))}function Tx(){return $i}let ii=0;const Qr=new Set;let tn=[];const Ot={draggedElem:null};function ud(){const E=k.activeScene,[A,C]=Ue(1,6),R=E.add.sprite(A,C,"cursor");R.setDepth(ft.CURSOR),R.setOrigin(0,0),R.play("cursor_point"),E.sprites.set("cursor",R)}function Cu(E,A,C=!1){const R=A.sprites.get("cursor");if(R!=null){let F=R.x,B=R.y;if(F+=E.x,B+=E.y,C)switch(E.x>0&&ii===2?(ii=0,F+=16):E.x<0&&ii===3?(ii=0,F-=16):B>A.scale.height-32?(ii=1,F+=28*Math.sign(E.x)):F<64?(B-=8*Math.sign(E.y),ii=2):F>A.scale.width-64?(ii=3,B-=8*Math.sign(E.y)):ii=0,ii){case 1:[F,B]=[vf(F,[100,160,220,280]),A.scale.height-16];break;case 2:[F,B]=[8,6+Math.round(B/24)*24];break;case 3:[F,B]=[A.scale.width-16,Math.round(B/24)*24];break;case 0:default:{const[v,y]=Ws(F,B+10);[F,B]=Ue(v,y),B-=10;break}}R.x=jt(F,0,A.scale.width-10),R.y=jt(B,0,A.scale.height-10),fh()}}function fh(){const E=k.activeScene;fr(E),fd(E),Ex(E)}function Yo(E){if(k.activeDialog!=null)return ur();if(Ot.draggedElem===null){const A=E.sprites.get("cursor");if(A==null||!A.anims)return;A.play("cursor_click")}tn.filter(A=>A!==Ot.draggedElem).forEach(A=>A.emit("click"))}function fr(E){const A=E.sprites.get("cursor");if(!A||!Qr)return;const C=[...Qr].filter(R=>R.getBounds().contains(A.x+6,A.y+6)).sort((R,F)=>R instanceof At.GameObjects.Zone?1:F instanceof At.GameObjects.Zone?-1:R.depth-F.depth);tn.filter(R=>!C.includes(R)).forEach(R=>R.emit("out")),C.filter(R=>!tn.includes(R)).forEach(R=>R.emit("over")),tn=C}function pe(E){Qr.add(E)}function dr(E){Qr.delete(E)}function zs(E,A){const C=A.sprites.get("cursor");C!=null&&(C.play("cursor_drag"),E.x=C.x,E.y=C.y+16,E.setDepth(ft.SPRITE_DRAGGED),Ot.draggedElem=E,E.emit("dragstart"))}function Ui(E){var R;const A=tn.filter(F=>Sx(F));if(A.length===0)return;const C=E.sprites.get("cursor");C==null||!C.anims||(C.play("cursor_drop"),Ot.draggedElem!=null&&((R=Ot.draggedElem)==null||R.setDepth(ft.POKEMON).emit("drop",C),A.forEach(F=>F.emit("dropReceived",Ot.draggedElem)),Ot.draggedElem=null))}function fd(E){const A=E.sprites.get("cursor");!Ot.draggedElem||!A||(Ot.draggedElem.x=A.x,Ot.draggedElem.y=A.y+16)}function Na(E){var A;return((A=k.activeMenu)==null?void 0:A.ref)==="pokedex"?!1:E.getData("pokemon")!=null?E.getData("pokemon").owner===1&&(k.stage===Se.PLACEMENT||[st.SAFARI,st.PENSION].includes(k.currentRoom.type)):!0}function Sx(E){var R;const A=E.getData("type"),C=(R=Ot.draggedElem)==null?void 0:R.getData("type");if(k.currentRoom.type===st.SAFARI)return A==="boxTile"||A==="releaseZone";if(k.stage!==Se.PLACEMENT&&k.currentRoom.type!==st.PENSION)return!1;switch(A){case"gridTile":{const[F,B]=E.getData("position");if(C==="pokemon")return F>=0&&F<_r&&B>=(k.currentRoom.type===st.PENSION?0:Hn/2)&&B<Hn;if(C==="item"){const v=Oe(F,B);return v!=null&&v.owner===xe}return!1}case"boxTile":case"pokedexButton":case"boxButton":case"releaseZone":return C==="pokemon";case"bagButton":return C==="pokemon"||C==="item"}return!1}let Qi=null,qi=null;function wi(E){const A=k.activeScene,C=E===k.board.playerTeam,F=[...(C?k.board.playerAlliances:k.board.otherTeamAlliances).values()].sort((y,t)=>y.stepReachedN!==t.stepReachedN?t.stepReachedN-y.stepReachedN:t.numberOfThatTypeInTeam-y.numberOfThatTypeInTeam).slice(0,10);C&&Qi?Qi.destroy(!0,!0):!C&&qi&&qi.destroy(!0,!0);const B=A.add.group();C?Qi=B:qi=B;let v=0;F.forEach(y=>{if(!y.stepReached&&(!C||k.stage!==Se.PLACEMENT))return;const t=C?14:A.scale.width-14,h=C?A.scale.height-74-v*24:74+v*24,p=C?1:-1,a=A.add.graphics();a.fillStyle(0,.5).fillCircle(t,h+4,9);const n=C?t+10:t-28;for(let s=0;s<3;s++)a.fillStyle(s<y.stepReachedN?16777215:1118481,1).fillRoundedRect(n+(C?0:12)+(s*6+1)*p,h+9,5,2,1);B.add(a);const r=y.stepReached||y.steps[y.stepReachedN]||y.steps.at(-1);B.add(gt(C?t+10:t-10,h+2,`${y.numberOfThatTypeInTeam}/${r.numberRequired}`,{color:y.stepReached?"white":"#AAAAAA",strokeThickness:2,stroke:"black"}).setOrigin(C?0:1,.5));const e=A.add.sprite(t,h+4,"icons16x16",y.type.frameIndex);y.stepReached||e.setAlpha(.35),B.add(e),pe(e),e.on("over",()=>Km(y.type,C?0:1)).on("out",()=>Xl()),v++})}function Ax(){Qi==null||Qi.destroy(!0),qi==null||qi.destroy(!0),Xl()}let Me,qr=[],ci;const Pu=120,Or=64;function Cx(E){Me!=null&&(dr(ci),ci.destroy(),Me==null||Me.destroy(!0),Me=null);const A=k.activeScene;Me=A.add.container(A.scale.width/2,-66);const C=A.add.nineslice(0,0,"box2",void 0,Pu,Or,4,4,4,4);C.setOrigin(.5,.5),Me.add(C);const R=gt(0,2,V("menu.release_pokemon",{name:V(`pokemon.${E.entry.ref}`)}),{color:"#000"});R.setOrigin(.5,.5),R.setScrollFactor(0),Me.add(R),C.setScrollFactor(0),C.setDepth(ft.MENU_TOOLTIPS),R.setDepth(ft.MENU_TOOLTIPS+1);const F=A.add.sprite(6,20,"pokeball",25);F.play("POKEBALL_idle");const B=gt(-16,14,`+${E.cost}`);Me.add(F).add(B),Me.setDepth(ft.MENU),qr=[C,R,F,B],A.add.tween({targets:qr,duration:400,y:`+=${Or+6}`,ease:"Linear"}),ci=A.add.zone(A.scale.width/2,0,Pu,Or),ci.setData("type","releaseZone"),pe(ci),ci.on("click",()=>{Ot.draggedElem!=null&&Ui(A)}).on("over",()=>{Ot.draggedElem!=null&&(Ot.draggedElem.setTint(16711680),C.setTint(16777164))}).on("out",()=>{Ot.draggedElem!=null&&(Ot.draggedElem.setTint(16777215),C.setTint(16777215))}).on("dropReceived",v=>{const y=v.getData("pokemon");y!=null&&(C.setTint(16777215),Le(),v.destroy(),z1(y))})}function dh(){if(!Me||!qr)return;k.activeScene.add.tween({targets:qr,duration:400,y:-Or-2,ease:"Linear",delay:10,onComplete(){dr(ci),ci.destroy(),Me==null||Me.destroy(!0),Me=null}})}function dd(){return{onHit:[],onHitReceived:[],clock:[],attack:[],defense:[],speed:[],dodge:[]}}function Px(E){const A=k.activeScene,C=E.owner===xe?k.board.playerAlliances:k.board.otherTeamAlliances;if(E.buffs=dd(),E.item===cn){const R=({damage:F})=>{E.pv-F<.5*E.maxPV&&(E.item=null,zt("heal_ailment"),Ci(E,.25*E.maxPV),ki(()=>ni(E.buffs.onHitReceived,R)))};E.buffs.onHitReceived.push(R)}if(E.item===pn){const R=({damage:F})=>{E.pv-F<.5*E.maxPV&&(E.item=null,zt("heal_ailment"),ki(()=>ni(E.buffs.onHitReceived,R)),E.buffs.defense.push(()=>.3))};E.buffs.onHitReceived.push(R)}if(E.item===mn){const R=()=>{E.item=null,zt("heal_ailment"),ki(()=>ni(E.buffs.onHitReceived,R)),E.buffs.onHitReceived.push(()=>{E.pp=Math.min(E.pp+2,E.maxPP)})};E.buffs.onHitReceived.push(R)}if(E.item===gn&&E.buffs.attack.push(()=>.2),E.item===xn&&E.buffs.defense.push(()=>.2),E.item===yn&&E.buffs.speed.push(()=>.2),E.item===An&&E.buffs.onHit.push(({damage:R})=>{Ci(E,R*.2)}),E.item===Cn){const R=({damage:F})=>{if(E.pv-F<.3*E.maxPV){E.makeUntargettable(3e3),zt("fly");const B=A.sprites.get(E.uid);B&&ve(rt.BROUILLARD,B.x,B.y,A),ni(E.buffs.onHitReceived,R)}};E.buffs.onHitReceived.push(R)}E.item===Rn&&E.buffs.onHit.push(()=>{E.pp=Math.min(E.pp+4,E.maxPP)}),E.item===Ln&&E.buffs.clock.push(()=>{const[R,F]=[E.x,E.y];[[R-1,F-1],[R,F-1],[R+1,F-1],[R-1,F],[R,F],[R+1,F],[R-1,F+1],[R,F+1],[R+1,F+1]].filter(([v,y])=>Xn(v,y)).forEach(([v,y])=>{const t=Oe(v,y);t&&t.owner===E.owner&&Ci(t,t.maxPV*(1/100))})}),E.item===On&&(E.buffs.onHit.push(({target:R})=>{re(R,{type:at.POISON,stacks:10},A)}),E.buffs.onHitReceived.push(({attacker:R})=>{re(R,{type:at.POISON,stacks:10},A)})),E.item===Mn&&(E.buffs.onHit.push(({target:R})=>{re(R,{type:at.BRULURE,stacks:10},A)}),E.buffs.onHitReceived.push(({attacker:R})=>{re(R,{type:at.BRULURE,stacks:10},A)})),E.item===In&&(E.buffs.onHit.push(({target:R})=>{re(R,{type:at.PARALYSIE,stacks:10},A)}),E.buffs.onHitReceived.push(({attacker:R})=>{re(R,{type:at.PARALYSIE,stacks:10},A)})),E.item===Bn&&(E.unalterable=!0);for(const R of C){if(E.hasType(Ht)&&R.type===Ht&&R.stepReached){const F=({target:B,attacker:v})=>{const y={type:at.BRULURE,stacks:R.stepReachedN+1,attacker:v};re(B,y,A)};E.buffs.onHit.push(F)}if(E.hasType(Kt)&&R.type===Kt&&R.stepReached){const F=({target:B})=>{B.pp=Math.max(0,B.pp-R.stepReachedN*2)};E.buffs.onHit.push(F)}if(E.hasType(Yt)&&R.type===Yt&&R.stepReached){const F=({target:B,attacker:v})=>{const y={type:at.PEUR,stacks:R.stepReachedN*2,attacker:v};re(B,y,A)};E.buffs.onHit.push(F)}if(E.hasType($t)&&R.type===$t&&R.stepReached){const F=({attacker:B,skill:v})=>{v.attackRange===1&&Ae(R.stepReachedN*2,B,E)};E.buffs.onHitReceived.push(F),E.buffs.speed.push(()=>.1*R.stepReachedN)}if(E.hasType(Jt)&&R.type===Jt&&R.stepReached&&E.buffs.dodge.push(()=>.2*R.stepReachedN),E.hasType(Vt)&&R.type===Vt&&R.stepReached){const F=({damage:B})=>{if(!F.count||F.count<=0)return;const v=[.2,.5,.8][F.count-1];E.pv-B>0&&(E.pv-B)/E.maxPV<v&&(Tf(E,null,A),F.count--)};F.count=R.stepReachedN,E.buffs.onHitReceived.push(F)}if(R.type===se&&R.stepReached&&E.buffs.clock.push(()=>{E.pp=Math.min(E.entry.maxPP,E.pp+R.stepReachedN)}),E.hasType(kt)&&R.type===kt&&R.stepReached&&E.buffs.clock.push(()=>{Ci(E,1/100*R.stepReachedN*E.maxPV)}),E.hasType(Ut)&&R.type===Ut&&R.stepReached){let F=function(){return E.opponents.filter(v=>v.nextAction.target===E).length};const B=[.05,.1,.2];E.buffs.attack.push(()=>F()*B[R.stepReachedN-1]),E.buffs.defense.push(()=>F()*B[R.stepReachedN-1])}if(E.hasType(_t)&&R.type===_t&&R.stepReached&&E.buffs.clock.push(()=>{const[F,B]=[E.x,E.y],y=[[F-1,B-1],[F,B-1],[F+1,B-1],[F-1,B],[F+1,B],[F-1,B+1],[F,B+1],[F+1,B+1]].filter(([t,h])=>Xn(t,h)).map(([t,h])=>Oe(t,h)).filter(t=>t!=null&&t.owner!==E.owner);for(const t of y){const h=[-.2,-.3,-.4],p=()=>h[R.stepReachedN]??0;t.buffs.speed.push(p),setTimeout(()=>ni(t.buffs.speed,p),1e3)}}),E.hasType(qt)&&R.type===qt&&R.stepReached){const F=()=>E.team.length===1;E.buffs.attack.push(()=>F()?.1*R.stepReachedN:0),E.buffs.defense.push(()=>F()?.1*R.stepReachedN:0),E.buffs.speed.push(()=>F()?.1*R.stepReachedN:0)}}}const _r=7,Hn=8;function cd(E){return{playerTeam:[...E.team],playerAlliances:xi(E.team),otherTeam:[],otherTeamAlliances:new Map,activeTile:null}}function Rx(E,A){const C=E.resetTeam(),R=A.spawnOtherTeam();return{playerTeam:C,otherTeam:R,playerAlliances:xi(C),otherTeamAlliances:xi(R),activeTile:null}}function Lx(E){const A=E.spawnOtherTeam();return{playerTeam:[],otherTeam:A,playerAlliances:new Map,otherTeamAlliances:xi(A),activeTile:null}}function Ox(E){w1(E),Fx(),ud(),ba(),[st.ARENA,st.WILD].includes(k.currentRoom.type)&&(wi(k.board.playerTeam),wi(k.board.otherTeam))}function vd(E){if([st.ARENA,st.WILD,st.TUTORIAL,st.PENSION].includes(k.currentRoom.type))for(const A of k.player.team)yi(A,E).setAlpha(.5);for(const A of k.board.otherTeam)yi(A,E).anims.resume()}function Mx(E){var A,C,R;for(const F of k.player.team)(A=E.sprites.get(F.uid))==null||A.destroy();if(k.currentRoom.type===st.ARENA||k.currentRoom.type===st.SAFARI)for(const F of k.board.otherTeam)(C=E.sprites.get(F.uid))==null||C.destroy(!0);(R=E.objects.get("grid"))==null||R.destroy(),dh(),bx(),wi(k.board.playerTeam)}function Ue(E,A){return[32*E+64,32*A+48]}function Ws(E,A){return[Math.floor((E-64)/32),Math.floor((A-48)/32)]}function Oe(E,A){return k.allPokemonsOnBoard.find(C=>C.x===E&&C.y===A)}function Xn(E,A){return E>=0&&E<7&&A>=0&&A<8}function pd(E,A,C,R,F,B=!1){return new Promise(v=>{let y,t;E===1?(y=50,t=280):(y=280,t=40),B&&zt("ball_launch");const h=F.add.sprite(y,t,"pokeball");h.play(`${A}_launch`),h.setRotation(Math.random()*Math.PI*2),F.add.tween({targets:h,x:C,y:R,duration:400+Phaser.Math.Distance.Between(y,t,C,R)*3,ease:"Sine.Out",onComplete:()=>{h.setRotation(0),v(h)}})})}function zo(E,A){const[C,R]=E.position;Px(E),pd(E.owner,E.pokeball,C,R,A).then(F=>{F.play(`${E.pokeball}_out`),F.once(Phaser.Animations.Events.ANIMATION_COMPLETE,()=>{F.destroy(),yi(E,A).play(`${E.entry.ref}_${E.facingDirection}`)})})}async function Ix(E,A,C){ui(),uh(C),E.owner=zd,td(E.cost);const R=C.sprites.get("player");R==null||R.play("trainer_launch"),await Et(400);const[F,B]=E.position,v=await pd(1,E.pokeball,F,B,C,!0);zt("ball_catch"),v.play(`${E.pokeball}_in`),C.add.tween({targets:A,scale:.1,alpha:0,duration:1e3}),v.once(Phaser.Animations.Events.ANIMATION_COMPLETE,async()=>{v.play(`${E.pokeball}_jiggle`),await Et(1100),v.play(`${E.pokeball}_catch`),zt(Sa(E.entry)),a1()===E&&ui(),await Et(500),v.setDepth(ft.SPRITE_DRAGGED),C.add.tween({targets:v,x:C.scale.width/2,y:C.scale.height-10,duration:400}),C.add.tween({targets:v,alpha:0,duration:400,delay:400}),await Et(800),v.destroy(),hr(E,k.board.otherTeam),E.owner=xe;const t=k.player.boardAndBox.find(h=>h.entry.ref===E.entry.ref);t!=null?(await Et(100),await Mt([V("dialog.aftercapture.0",{name:V(`pokemon.${t.entry.ref}`)}),V("dialog.aftercapture.1",{name:V(`pokemon.${t.entry.ref}`),xp:E.xp})]),await Mf(t,E.xp)):Ys(E),k.registerPokemonCaptured(E),k.board.otherTeam.length===0&&await k.endCapture()})}function Fx(){const E=k.activeScene,A=E.add.graphics(),C=[st.SAFARI,st.PENSION].includes(k.currentRoom.type)?0:.1;E.objects.set("grid",A),A.setDepth(ft.GRID),A.lineStyle(1,0,C);for(let F=1;F<=_r+1;F++)A.lineBetween(F*32+16,32,F*32+16,288);for(let F=1;F<=Hn+1;F++)A.lineBetween(48,F*32+32,272,F*32+32);const R=E.add.graphics();E.objects.set("gridActiveTile",R),A.setDepth(ft.GRID_ACTIVE_TILE),A.lineStyle(1,16777215,.25);for(let F=0;F<_r;F++)for(let B=0;B<Hn;B++){const v=E.add.zone(F*32+64,B*32+48,32,32);v.setData("type","gridTile"),v.setData("position",[F,B]),pe(v),v.on("over",()=>wx(v,E)),v.on("out",()=>{const[y,t]=Ws(v.x+16,v.y+16);k.board.activeTile!=null&&k.board.activeTile[0]===y&&k.board.activeTile[1]===t&&md(E)}),v.on("click",()=>{Ot.draggedElem!=null&&Ui(E)}),v.on("dropReceived",y=>{const t=y.getData("type");t==="pokemon"?Dx(y,F,B,E):t==="item"&&Gx(y,F,B,E)})}}function wx(E,A){var t,h,p,a;const{x:C,y:R}=E,[F,B]=Ws(C+16,R+16);if(((t=k.activeMenu)==null?void 0:t.ref)==="pokedex"||((h=k.activeMenu)==null?void 0:h.ref)==="box"&&B>=2&&B<=3)return;k.board.activeTile!=null&&(k.board.activeTile[0]!==F||k.board.activeTile[1]!==B)&&md(A),k.board.activeTile=[F,B];const v=A.objects.get("gridActiveTile");k.stage===Se.PLACEMENT&&v!=null&&B>=4&&v.lineStyle(2,0,.1).moveTo(C-16,R-16).lineTo(C+16,R-16).lineTo(C+16,R+16).lineTo(C-16,R+16).lineTo(C-16,R-16).stroke();const y=Oe(F,B);y==null?(k.activeMenu==null||((p=k.activeMenu)==null?void 0:p.ref)==="box"&&B>4)&&ui():!Ot.draggedElem&&(k.activeMenu==null||((a=k.activeMenu)==null?void 0:a.ref)==="box")&&((y.owner===xe||[st.WILD,st.ARENA,st.TUTORIAL,st.SAFARI,st.PENSION].includes(k.currentRoom.type)||k.stage===Se.FIGHT)&&Us(y),[st.WILD,st.TUTORIAL,st.SAFARI,st.PENSION].includes(k.currentRoom.type)&&y.owner===He&&k.activeMenu==null&&(k.stage===Se.PLACEMENT||k.stage===Se.CAPTURE)&&yx(y,A))}function md(E){if(k.board.activeTile==null)return;const A=E.objects.get("gridActiveTile");A==null||A.clear(),ui(),uh(E),k.board.activeTile=null}function Dx(E,A,C,R){var y;let F;const B=E.getData("pokemon");if(!B)return;const v=Oe(A,C);if(v!=null&&v!==B){const t=R.sprites.get(v.uid);t&&Na(t)&&Et().then(()=>zs(t,R))}B instanceof Tt?(F=B,k.currentRoom.type===st.PENSION&&(C<4?(hr(F,k.board.playerTeam),xu(F),E.setAlpha(1),E.anims.resume()):(_f(F),No(F),E.setAlpha(.5),E.anims.pause()))):(F=new Tt({uid:B.uid,entry:B.entry,owner:B.owner,xp:B.xp,item:B.item??void 0,x:A,y:C}),(y=R.sprites.get(B.uid))==null||y.setData("pokemon",F),k.currentRoom.type===st.PENSION?(xu(F),E.setAlpha(1),E.anims.resume()):No(F)),F.x=A,F.y=C,F.placementX=A,F.placementY=C,E.setData("pokemon",F),E.setPosition(...F.position),Us(F),ba(),dh()}function gd(){if(Ot.draggedElem!=null){const E=Ot.draggedElem.getData("pokemon");if(!E)return;E instanceof Tt?(Ot.draggedElem.setPosition(...E.positionPlacement),Ot.draggedElem.emit("drop"),Ot.draggedElem=null):Ys(E)}}function Nx(){return k.board.otherTeam.reduce((E,A)=>E+Hd(A),0)}function xd(){return 6}function ba(){if([st.PENSION,st.SAFARI].includes(k.currentRoom.type))return;const E=k.activeScene;let A=E.objects.get("teamSizeCounter");A&&A.destroy(),A=E.add.text(E.scale.width/2,E.scale.height*2/3,"",{align:"center",color:"white",stroke:"black",fontSize:"64px",fontFamily:"Pokemon",fontStyle:"italic",strokeThickness:4}),A.setScrollFactor(0),A.setDepth(ft.TEAM_SIZE_COUNTER),A.setOrigin(.5),A.setAlpha(.15),E.objects.set("teamSizeCounter",A);const C=k.board.playerTeam.length,R=xd();A.setText(` ${C} / ${R} `),C>R?(A.setAlpha(.3),A.setVisible(!0),A.setTint(16711680)):(A.setTint(16777215),C<=R&&A.setVisible(!1)),sd()}function bx(){var A;(A=k.activeScene.objects.get("teamSizeCounter"))==null||A.destroy()}function Bx(E){var A;zt("refresh");for(const C of k.board.otherTeam)(A=E.sprites.get(C.uid))==null||A.destroy(!0);k.board.otherTeam=k.currentRoom.spawnOtherTeam(),k.board.otherTeamAlliances=xi(k.board.otherTeam);for(const C of k.board.otherTeam)yi(C,E).anims.resume();[st.ARENA,st.WILD].includes(k.currentRoom.type)&&wi(k.board.otherTeam)}function Gx(E,A,C,R){const F=Oe(A,C);if(F!=null){if(F.item!=null){const B=F.item;ki(()=>{const v=th(B);zs(v,R)})}F.item=E.getData("item"),E.destroy(),k.player.inventory[F.item.ref]-=1,Fv.includes(F.item)&&(k.board.playerAlliances=xi(k.board.playerTeam),wi(k.board.playerTeam)),Us(F)}}class Tt extends Fi{constructor({entry:C,owner:R,xp:F,level:B,item:v,uid:y,x:t,y:h,shouldAutoEvolve:p}){super({entry:C,owner:R,xp:F,level:B,item:v,uid:y,shouldAutoEvolve:p});ut(this,"x");ut(this,"y");ut(this,"placementX");ut(this,"placementY");ut(this,"facingDirection");ut(this,"nextAction");ut(this,"alterations");ut(this,"initialEntry");ut(this,"untargettable");ut(this,"unalterable");ut(this,"buffs");this.x=t,this.y=h,this.placementX=t,this.placementY=h,this.reset()}reset(){return this.x=this.placementX,this.y=this.placementY,this.facingDirection=this.owner===1?mt.UP:mt.DOWN,this.resetAction({type:Ge.IDLE}),this.pv=this.maxPV,this.pp=0,this.alterations=[],this.untargettable=!1,this.unalterable=!1,this.buffs=dd(),this}get position(){return Ue(this.x,this.y)}get positionPlacement(){return Ue(this.placementX,this.placementY)}get attack(){let C=this.buffs.attack.reduce((v,y)=>v+y(),1);const R=this.alterations.find(v=>v.type===at.POUVOIR_ANTIQUE);R&&(C+=.1*jt(R.stacks,0,10));const F=this.alterations.find(v=>v.type===at.FURIE);F&&(C+=.1*jt(F.stacks,0,20));const B=this.alterations.find(v=>v.type===at.RAGE);return B&&(C+=.2*B.stacks),Math.max(1,super.attack*C)}get defense(){let C=this.buffs.defense.reduce((v,y)=>v+y(),1);this.hasAlteration(at.ACIDE)&&(C-=.5);const R=this.alterations.find(v=>v.type===at.POUVOIR_ANTIQUE);R&&(C+=.1*jt(R.stacks,0,10));const F=this.alterations.find(v=>v.type===at.ARMURE);F&&(C+=.1*jt(F.stacks,0,20));const B=this.alterations.find(v=>v.type===at.RAGE);return B&&(C-=.2*B.stacks),Math.max(1,super.defense*C)}get speed(){let C=this.buffs.speed.reduce((y,t)=>y+t(),1);const R=this.alterations.find(y=>y.type===at.PARALYSIE);R&&(C-=jt(.01*R.stacks,0,.5)),this.hasAlteration(at.SECRETION)&&(C-=.5);const F=this.alterations.find(y=>y.type===at.POUVOIR_ANTIQUE);F&&(C+=.1*jt(F.stacks,0,10));const B=this.alterations.find(y=>y.type===at.HATE);B&&(C+=.1*B.stacks);const v=this.alterations.find(y=>y.type===at.RAGE);return v&&(C+=.2*v.stacks),jt(super.speed*C,1,500)}get precision(){return this.hasAlteration(at.AVEUGLE)?.5:1}get dodge(){return jt(this.buffs.dodge.reduce((C,R)=>C+R(),0),0,1)}get alive(){return this.pv>0}get team(){return this.owner===xe?k.board.playerTeam:k.board.otherTeam}get opponents(){return this.owner===xe?k.board.otherTeam:k.board.playerTeam}get alliances(){return this.owner===xe?k.board.playerAlliances:k.board.otherTeamAlliances}toBoxPokemon(C){var F;const R=new Fi({uid:this.uid,entry:this.entry,owner:this.owner,xp:this.xp,item:this.item??void 0});return(F=C.sprites.get(R.uid))==null||F.setData("pokemon",R),R}hasAlteration(C){return this.alterations.some(R=>R.type===C)}makeUntargettable(C){const R=k.board;(this.owner===xe?R.otherTeam:R.playerTeam).filter(B=>B.nextAction.target===this).forEach(B=>B.resetAction()),this.untargettable=!0,Et(C).then(()=>{this.untargettable=!1})}resetAction(C={type:Ge.IDLE}){var R,F;(F=(R=this.nextAction)==null?void 0:R.timer)==null||F.remove(),this.nextAction=C}resetTarget(C){this.resetAction({type:Ge.IDLE,target:C})}resetAfterFight(){this.x=this.placementX,this.y=this.placementY,this.untargettable=!1,this.unalterable=!1,this.initialEntry&&(this.entry=this.initialEntry)}}function yi(E,A){const[C,R]=E instanceof Tt?E.position:[0,0],F=A.add.sprite(C,R,"pokemon");return A.sprites.set(E.uid,F),A.objects.set(`bars_${E.uid}`,A.add.graphics()),F.setData("pokemon",E),F.setData("type","pokemon"),F.play(`${E.entry.ref}_DOWN`),F.setDepth(ft.POKEMON),F.anims.pause(),F.setInteractive(),A.input.setDraggable(F),pe(F),F.on("click",()=>{Ot.draggedElem===null&&Na(F)&&ki(()=>zs(F,A)),Tx()===E&&E instanceof Tt&&Wn(E.cost)&&!k.player.hasBoxFull&&Ix(E,F,A)}),F.on("dragstart",()=>{const B=F.getData("pokemon");B.owner===1&&(F.anims.resume(),F.setAlpha(1),ui(),Cx(B),k.player.box.includes(B)&&rd(B))}),F.on("drop",B=>{var v;F.anims.pause((v=F.anims.currentAnim)==null?void 0:v.getFrameByProgress(0)),F.setAlpha(.5),dh()}),F}function yd(E,A,C,R){var v;E.x=A,E.y=C;const[F,B]=Ue(A,C);(v=R.sprites.get(E.uid))==null||v.setPosition(F,B),Do(E,R)}function Ba(E,A){const C=A.sprites.get(E.uid);C==null||C.destroy(),A.sprites.delete(E.uid);const R=A.objects.get(`bars_${E.uid}`);R!=null&&(R.destroy(),A.objects.delete(E.uid))}function Pe(E){const A=Object.keys(E),C=jt(k.player.boardAndBox.length,3,6),R=[];for(let F=0;F<C;F++){const B=Oo(A,t=>E[t]);let v,y;do v=Ce(0,6),y=Ce(0,3);while(R.some(t=>t.x===v&&t.y===y));R.push(new Tt({entry:Oo(tf($[B]),t=>t.wildEncounterChance),owner:He,level:jt(Math.floor(k.player.averagePokemonLevel*.9)-Ce(0,5),1,50),shouldAutoEvolve:!0,x:v,y}))}return R}function ti(E,A){const C=[],R=Math.min(jt(k.player.boardAndBox.length,3,6),A.length,E.length);for(let F=0;F<R;F++){const[B,v]=A[F];C.push(new Tt({entry:E[F],owner:Dt,level:jt((k.player.badges.length+1)*5+F%5,1,100),x:B,y:v}))}return C}function te(E){const A=[],C=Math.min(jt(k.player.boardAndBox.length,2,6),E.length);for(let R=0;R<C;R++){let F=0,B=0,v,y;do v=Xe(E),y=jt(k.player.averagePokemonLevel+Ce(-4,0),2,50),F=Ce(0,6),B=jt(4-v.baseSkill.attackRange,0,3);while(A.some(t=>t.x===F&&t.y===B));A.push(new Tt({entry:v,level:y,owner:Dt,shouldAutoEvolve:!0,x:F,y:B}))}return A}function Ux(){return Ia([Ea,Hu,$n,ya,il,an,fi,ln,fn,ma],3).map((R,F)=>new Tt({entry:R,owner:He,level:1,x:2*F+1,y:F%2+1}))}function Vx(E){return[new Tt({entry:E,owner:He,level:4,x:3,y:3})]}function Yx(){const A=Array.from({length:8}).map(()=>Oo(De,R=>R.wildEncounterChance)),C=[];for(let R=0;R<8;R++){let F,B;do F=Ce(0,6),B=Ce(0,7);while(C.some(v=>v.x===F&&v.y===B));C.push(new Tt({entry:A[R],level:jt(Math.floor(k.player.averagePokemonLevel*.9)+Ce(-4,4),1,50),owner:He,shouldAutoEvolve:!0,x:F,y:B}))}return C}function zx(){const A=Ia(wv(Ft),5),C=[];for(let R=0;R<5;R++){let F,B;do F=Ce(0,6),B=Ce(0,3);while(C.some(v=>v.x===F&&v.y===B));C.push(new Tt({entry:A[R],level:1,owner:He,shouldAutoEvolve:!0,x:F,y:B}))}return C}const ch={ref:"MONT_SELENITE",name:V("destination.MONT_SELENITE"),nextDestinations:{COL_DE_MONTAGNE:[[0,1],[-2,0]],AZURIA:[[0,1],[4,0]]},coordinates:[10*16-8,2*16-8],type:Ct.SPECIAL,icons:["type_FEE"],subtext:"Palontologie et Capture",rooms:{wild:{type:st.WILD,name:V("destination.MONT_SELENITE"),map:"mont_selenite",music:"music_cave",spawnOtherTeam(){return Pe({[se.ref]:1,[Vt.ref]:.5,[bt.ref]:.5,[wt.ref]:.5,[Yt.ref]:.2})},beforeExit(){return Ye(Xe(qu),1,!0,"finding")}},trainer:{type:st.ARENA,name:V("destination.MONT_SELENITE"),map:"mont_selenite",music:"music_cave",trainer:Bg,spawnOtherTeam(){return te([is,ln,Mi,fi,xa,gi,bs,hs,ga])}}},preload(E){E.load.tilemapTiledJSON("mont_selenite","assets/maps/mont_selenite.json"),Nt("music_cave","assets/audio/music/39 Mt. Moon Cave.mp3")}},vh={type:st.WILD,music:"music_oceane",name:V("destination.OCEANE_DECK"),map:"oceane",spawnOtherTeam(){return Pe({[wt.ref]:1,[Jt.ref]:.2,[Ft.ref]:.1,[Ut.ref]:.1})}};function ph(E){E.load.tilemapTiledJSON("oceane","assets/maps/oceane.json"),Nt("music_oceane","assets/audio/music/13 St. Anne.mp3")}const mh={type:st.ARENA,music:"music_oceane",name:V("destination.OCEANE_DECK"),map:"oceane",trainer:Gg,spawnOtherTeam(){return te([tr,ws,Mi,da,es,Ll,Ds,Fs,qn,Di,Ii])}},kn={ref:"OCEANE_CARMIN",name:V("destination.OCEANE"),nextDestinations:{CARMIN:[[2,0]]},coordinates:[12*16-8,11*16-8],type:Ct.SPECIAL,icons:["boat"],subtext:V("destination_subtext.fast_travel_CRAMOISILE"),rooms:{wild:vh,trainer:mh},preload:ph},Ls={ref:"OCEANE_CRAMOISILE",name:V("destination.OCEANE"),nextDestinations:{CRAMOISILE:[[2,0]]},coordinates:[4*16-8,19*16-8],type:Ct.SPECIAL,icons:["boat"],subtext:V("destination_subtext.fast_travel_AZURIA"),rooms:{wild:vh,trainer:mh},preload:ph},Os={ref:"OCEANE_AZURIA",name:V("destination.OCEANE"),nextDestinations:{AZURIA:[[0,1],[-1,0],[0,1],[-2,0]],CENTRALE:[[0,1],[-1,0],[0,1],[0,1],[1,0],[0,1]]},coordinates:[17*16-8,8],type:Ct.SPECIAL,icons:["boat"],subtext:V("destination_subtext.fast_travel_CARMIN"),rooms:{wild:vh,trainer:mh},preload:ph};function Ga(E){const A=k.activeScene;if(E.preloading){const C=gt(A.scale.width/2,A.scale.height-30,V("loading"),{align:"center",color:"white",strokeThickness:4,stroke:"black"}).setOrigin(.5),R=()=>{E.preloading=!1,C.destroy(),Ga(E),A.load.off("complete",R)};A.load.on("complete",R),A.load.start();return}[kn,Ls,Os].includes(E)?zt("oceane_horn"):zt("door"),k.roomOrder=Wx(E),k.currentDestination=E,k.currentRoomIndex=0,k.activeMenu!=null&&Le(),Bi(250).then(()=>k.initRoom())}function Wx(E){if(E.customRoomOrder)return E.customRoomOrder();if(E.type===Ct.ARENA){const A=E.rooms.arena;return A.badge&&k.hasBadge(A.badge)?["shop","trainer"].filter(C=>C in E.rooms):["shop","arena"].filter(C=>C in E.rooms)}return E.type===Ct.WILD||sy.includes(E)||E===ch?k.lastCaptureDestination===E?(k.lastCaptureDestination=null,["trainer"]):(k.lastCaptureDestination=E,["wild"]):Object.keys(E.rooms)}function Hx(E){return E.subtext?E.subtext:E.type===Ct.ARENA?V("destination_subtext.ARENA"):E.type===Ct.WILD?k.lastCaptureDestination===E?V("destination_subtext.FIGHT"):V("destination_subtext.CAPTURE"):"???"}const Xx={title:V("room.oaklab"),tilemap:"labo_chen",tilesets:["tileset_inside"],startAt:"labo_exit",canExit(){return k.player.team.length===0?(Mt([V("dialog.exitlab.0"),V("dialog.exitlab.1")],{speaker:"red"}),!1):!0},exit(){k.currentDestination=Kn}},Kn={ref:"BOURG_PALETTE",name:V("destination.BOURG_PALETTE"),rooms:{home:{name:V("destination.HOME"),type:st.FREEWALK,level:ff,music:"music_labo_chen"},labo:{name:V("destination.LABO_CHEN"),type:st.FREEWALK,level:Xx,music:"music_labo_chen"},tuto:{name:V("destination.BOURG_PALETTE_ROAD"),type:st.TUTORIAL,map:"foret_de_jade",music:"music_guide",trainer:Ag,spawnOtherTeam(){return Ux()}}},customRoomOrder(){return k.day===0?["labo","tuto"]:(k.dialogStates.mam=bo.hello,["home"])},nextDestinations:{JADIELLE:[[0,-3]],CRAMOISILE:[[1,0],[0,1.5],[0,2.5]],MONT_BRAISE:[[1,0],[0,1.5],[-3,.5]]},coordinates:[5*16-8,15*16-8],type:Ct.SPECIAL,icons:["gift"],subtext:V("destination_subtext.BOURG_PALETTE"),preload(E){E.load.tilemapTiledJSON("bourg_palette","assets/maps/bourg_palette.json")}},kx={ref:"CAMP_NOMADE",name:V("destination.CAMP_NOMADE"),nextDestinations:{CHAMPS_VERDOYANTS:[[-2,0],[0,1]],FALAISES:[[0,-3]]},coordinates:[19*16-8,14*16-8],type:Ct.ARENA,icons:["type_INSECTE"],rooms:{arena:{type:st.ARENA,name:V("destination.CAMP_NOMADE_ARENA"),map:"camp_nomade",music:"music_pension_et_camp_nomade",trainer:Vf,spawnOtherTeam(){return ti([Jo,on,Ri,Ko,Is,Tl,Nr,hn],[[2,3],[4,3],[3,3],[0,2],[1,2],[6,2],[5,2],[3,0]])}},trainer:{type:st.ARENA,name:V("destination.CAMP_NOMADE_ARENA"),map:"camp_nomade",music:"music_pension_et_camp_nomade",trainer:Yg,spawnOtherTeam(){return te([la,hn,_n,aa,on,Nr,oa,Ns,Jn,as])}},shop:{type:st.FREEWALK,name:V("destination.CAMP_NOMADE"),music:"music_shop",level:Q1}},customRoomOrder(){return k.dialogStates.hector===Uf.BEATEN?["shop","trainer"]:["shop","arena"]},preload(E){E.load.tilemapTiledJSON("shop_camp_nomade","assets/maps/shop_camp_nomade.json"),E.load.tilemapTiledJSON("camp_nomade","assets/maps/camp_nomade.json"),Nt("music_pension_et_camp_nomade","assets/audio/music/47 Pikachu's Beach.mp3")}},Ed={type:st.WILD,name:V("destination.CAVE_TAUPIQUEUR"),music:"music_cave",map:"cave_taupiqueur",spawnOtherTeam(){return Pe({[Vt.ref]:1,[bt.ref]:.2,[Xt.ref]:.2,[Yt.ref]:.1})}},Td={type:st.ARENA,name:V("destination.CAVE_TAUPIQUEUR"),music:"music_cave",map:"cave_taupiqueur",trainer:Jg,spawnOtherTeam(){return te([hs,hs,Ii,Qn,bs,li,gi,hi,Ni])}};function Sd(E){Nt("music_cave","assets/audio/music/39 Mt. Moon Cave.mp3"),E.load.tilemapTiledJSON("cave_taupiqueur","assets/maps/cave_taupiqueur.json")}const ta={ref:"CAVE_TAUPIQUEUR_OUEST",name:V("destination.CAVE_TAUPIQUEUR_WEST"),subtext:V("destination_subtext.fast_travel"),nextDestinations:{JADIELLE:[[0,2],[-2,0]]},coordinates:[7*16-8,10*16-8],type:Ct.SPECIAL,icons:["cave_entrance","type_SOL"],rooms:{wild:Ed,trainer:Td},preload:Sd},ea={ref:"CAVE_TAUPIQUEUR_EST",name:V("destination.CAVE_TAUPIQUEUR_EAST"),subtext:V("destination_subtext.fast_travel"),nextDestinations:{CARMIN:[[0,1],[-3,0]],FALAISES:[[0,1],[2,0]]},coordinates:[17*16-8,10*16-8],type:Ct.SPECIAL,icons:["cave_entrance","type_SOL"],rooms:{wild:Ed,trainer:Td},preload:Sd},Ad={ref:"CENTRALE",name:V("destination.CENTRALE"),nextDestinations:{AZURIA:[[0,-1],[-1,0],[0,-1],[-2,0]],OCEANE_AZURIA:[[0,-1],[-1,0],[0,-1],[0,-1],[1,0],[0,-1]],LAVANVILLE:[[1,0],[0,1],[1,0],[0,1]]},coordinates:[17*16-8,5*16-8],type:Ct.WILD,icons:["type_ELECTRIQUE"],rooms:{wild:{type:st.WILD,name:V("destination.CENTRALE"),music:"music_centrale",map:"centrale",spawnOtherTeam(){return!k.pokedexSeen.has(Eo.ref)&&k.day>=20&&Math.random()<10/100?[new Tt({entry:Eo,owner:He,level:50,x:3,y:2})]:Pe({[$t.ref]:1,[Ft.ref]:.5,[wt.ref]:.5,[Ut.ref]:.2})}},trainer:{type:st.ARENA,name:V("destination.CENTRALE"),music:"music_centrale",map:"centrale",trainer:wg,spawnOtherTeam(){return te([an,sn,as,$e,Xi,xa,ws,Gr])}}},preload(E){E.load.tilemapTiledJSON("centrale","assets/maps/centrale.json"),Nt("music_centrale","assets/audio/music/37 Team Rocket Hideout.mp3")}},Kx={ref:"CHAMPS_VERDOYANTS",name:V("destination.CHAMPS_VERDOYANTS"),nextDestinations:{CAMP_NOMADE:[[0,-1],[2,0]],PARMANIE:[[-1,0],[0,1],[-3,0]]},coordinates:[17*16-8,15*16-8],type:Ct.WILD,icons:["type_PLANTE"],rooms:{wild:{type:st.WILD,name:V("destination.CHAMPS_VERDOYANTS"),map:"champs_verdoyants",music:"music_champs_verdoyants",spawnOtherTeam(){return Pe({[kt.ref]:1,[Ft.ref]:.2,[Xt.ref]:.2,[Qt.ref]:.2,[Vt.ref]:.2})}},trainer:{type:st.ARENA,name:V("destination.CHAMPS_VERDOYANTS"),map:"champs_verdoyants",music:"music_champs_verdoyants",trainer:Vg,spawnOtherTeam(){return te([rs,rs,jn,$n,pa,_n,Is,ls,hs])}}},preload(E){E.load.tilemapTiledJSON("champs_verdoyants","assets/maps/champs_verdoyants.json"),Nt("music_champs_verdoyants","assets/audio/music/19 The Road to Viridian City from Pallet.mp3")}},Jx={ref:"COL_DE_MONTAGNE",name:V("destination.COL_MONTAGNE"),nextDestinations:{ARGENTA:[[0,1],[-1,0],[0,1]],MONT_SELENITE:[[2,0]],AZURIA:[[2,0],[4,0]]},coordinates:[8*16-8,3*16-8],type:Ct.WILD,icons:["type_VOL"],rooms:{wild:{type:st.WILD,name:V("destination.COL_MONTAGNE"),music:"music_col_montagne",map:"col_de_montagne",spawnOtherTeam(){return Pe({[Jt.ref]:1,[Ft.ref]:.2,[_t.ref]:.2,[bt.ref]:.2,[wt.ref]:.1})}},trainer:{type:st.ARENA,name:V("destination.COL_MONTAGNE"),map:"col_de_montagne",music:"music_col_montagne",trainer:Rg,spawnOtherTeam(){return te([Il,Sl,Ms,ma,Gu,er,on,wu])}}},preload(E){E.load.tilemapTiledJSON("col_de_montagne","assets/maps/col_de_montagne.json"),Nt("music_col_montagne","assets/audio/music/20 The Road to Cerulean - from Mt. Moon.mp3")}},Cd={ref:"COLLINE_ROYALE",name:V("destination.COLLINE_ROYALE"),nextDestinations:{ARGENTA:[[-2,0],[-2,0]],CELADOPOLE:[[-2,0],[0,2]]},coordinates:[11*16-8,5*16-8],type:Ct.WILD,icons:["type_DRAGON"],rooms:{wild:{type:st.WILD,name:V("destination.COLLINE_ROYALE"),map:"colline_royale",music:"music_colline_royale",spawnOtherTeam(){return Pe({[qt.ref]:1,[Jt.ref]:.5,[Ut.ref]:.2})}},trainer:{type:st.ARENA,name:V("destination.COLLINE_ROYALE"),map:"colline_royale",music:"music_colline_royale",trainer:jg,spawnOtherTeam(){return te([Ur,Ur,Ol])}}},preload(E){E.load.tilemapTiledJSON("ronflex_endormi","assets/maps/ronflex_endormi.json"),E.load.tilemapTiledJSON("colline_royale","assets/maps/colline_royale.json"),Nt("music_colline_royale","assets/audio/music/03 To Bill's Origin - From Cerulean.mp3")}},jx={ref:"RONFLEX_ENDORMI",name:V("destination.CHEMIN_COLLINE"),nextDestinations:{},coordinates:[11*16-8,5*16-8],type:Ct.WILD,icons:["type_NORMAL"],rooms:{wild:{type:st.WILD,name:V("destination.CHEMIN_COLLINE"),map:"ronflex_endormi",music:"music_colline_royale",spawnOtherTeam(){return[new Tt({entry:Ml,owner:He,level:30,x:3,y:3})]}}},preload(E){E.load.tilemapTiledJSON("ronflex_endormi","assets/maps/ronflex_endormi.json")},onExit(){k.wokeUpRonflex=!0,k.currentDestination=Cd}},Zx={ref:"DOJO",name:V("destination.DOJO"),nextDestinations:{SAFRANIA:[[2,0]],CELADOPOLE:[[-3,0]]},coordinates:[12*16-8,7*16-8],type:Ct.WILD,icons:["type_COMBAT"],rooms:{wild:{type:st.WILD,name:V("destination.DOJO"),map:"dojo",music:"music_dojo",spawnOtherTeam(){return Pe({[Ut.ref]:1,[Ft.ref]:.2,[Xt.ref]:.2,[Ht.ref]:.2,[Kt.ref]:.2})}},trainer:{type:st.ARENA,name:V("destination.DOJO"),map:"dojo",music:"music_dojo",trainer:Lg,spawnOtherTeam(){return te([Vr,Vr,br,br,ul,cl,il,Rl])}}},preload(E){E.load.tilemapTiledJSON("dojo","assets/maps/dojo.json"),Nt("music_dojo","assets/audio/music/15 Rival Appears.mp3")}},$x={ref:"FALAISES",name:V("destination.FALAISES"),nextDestinations:{LAVANVILLE:[[0,-4]],CARMIN:[[-2,0],[-3,0]],CAMP_NOMADE:[[0,3]],CAVE_TAUPIQUEUR_EST:[[-2,0],[0,-1]]},coordinates:[19*16-8,11*16-8],type:Ct.WILD,icons:["type_ROCHE"],rooms:{wild:{type:st.WILD,name:V("destination.FALAISES"),map:"falaises",music:"music_falaises",spawnOtherTeam(){return Pe({[bt.ref]:1,[wt.ref]:1,[Jt.ref]:1,[Vt.ref]:.5})}},trainer:{type:st.ARENA,name:V("destination.FALAISES"),map:"falaises",music:"music_falaises",trainer:Og,spawnOtherTeam(){return te([gi,Li,Ms,os,er,Sl,ls,bs])}}},preload(E){E.load.tilemapTiledJSON("falaises","assets/maps/falaises.json"),Nt("music_falaises","assets/audio/music/21 The Road to Lavender Town from Vermilion.mp3")}},Qx={ref:"FORET_JADE",name:V("destination.FORET_JADE"),nextDestinations:{JADIELLE:[[0,3]],ARGENTA:[[0,-4],[2,0]]},coordinates:[5*16-8,9*16-8],type:Ct.WILD,icons:["type_INSECTE"],rooms:{wild:{type:st.WILD,name:V("destination.FORET_JADE"),map:"foret_de_jade",music:"music_foret_jade",spawnOtherTeam(){return Pe({[Xt.ref]:1,[kt.ref]:.2,[Qt.ref]:.2,[se.ref]:.05})}},trainer:{type:st.ARENA,name:V("destination.FORET_JADE"),map:"foret_de_jade",music:"music_foret_jade",trainer:Dg,spawnOtherTeam(){return te([la,hn,_n,aa,on,Nr,ls,rs,jn,Ea])}}},preload(E){E.load.tilemapTiledJSON("foret_de_jade","assets/maps/foret_de_jade.json"),Nt("music_foret_jade","assets/audio/music/38 Viridian Forest.mp3")}},qx={ref:"GROTTE_AZUREE",name:V("destination.GROTTE_AZUREE"),nextDestinations:{AZURIA:[[0,2]]},coordinates:[14*16-8,8],type:Ct.WILD,icons:["type_GLACE"],locked(){return!k.hasBadge(ir)},rooms:{wild:{type:st.WILD,music:"music_grotte_azuree",name:V("destination.GROTTE_AZUREE"),map:"grotte_azuree",spawnOtherTeam(){return!k.pokedexSeen.has(To.ref)&&k.day>=20&&Math.random()<10/100?[new Tt({entry:To,owner:He,level:50,x:3,y:1})]:Pe({[_t.ref]:.5,[wt.ref]:.5,[qt.ref]:.3,[bt.ref]:.2,[Yt.ref]:.1})}},trainer:{type:st.ARENA,name:V("destination.GROTTE_AZUREE"),map:"grotte_azuree",music:"music_grotte_azuree",trainer:Hg,spawnOtherTeam(){return te([Mi,Zn,Oi,ya,qn,Di,Fs,da,tr,ze,es])}}},preload(E){E.load.tilemapTiledJSON("grotte_azuree","assets/maps/grotte_azuree.json"),Nt("music_grotte_azuree","assets/audio/music/40 Pokemon Mansion.mp3")}},Pd={ref:"ILES_ECUME",name:V("destination.ILES_ECUME"),nextDestinations:{CRAMOISILE:[[-4,0]],PARMANIE:[[3,0],[0,-3]]},coordinates:[10*16-8,19*16-8],type:Ct.WILD,icons:["type_EAU"],rooms:{wild:{type:st.WILD,music:"music_iles_ecume",name:"les Ecume",map:"iles_ecume",spawnOtherTeam(){return!k.pokedexSeen.has(yo.ref)&&k.day>=20&&Math.random()<10/100?[new Tt({entry:yo,owner:He,level:50,x:3,y:2})]:Pe({[wt.ref]:1,[Ft.ref]:.2,[kt.ref]:.2})}},trainer:{type:st.ARENA,music:"music_iles_ecume",name:V("destination.ILES_ECUME"),map:"iles_ecume",trainer:Fg,spawnOtherTeam(){return te([tr,Ds,aa,Di,Qu,Fs,Oi,Zn,ze])}}},preload(E){E.load.tilemapTiledJSON("iles_ecume","assets/maps/iles_ecume.json"),Nt("music_iles_ecume","assets/audio/music/35 Ocean.mp3")}},_x={ref:"MAISON_PSY",name:V("destination.MAISON_PSY"),nextDestinations:{SAFRANIA:[[0,-1.5]],CARMIN:[[0,2.5]]},coordinates:[14*16-8,8.5*16-8],type:Ct.WILD,icons:["type_PSY"],rooms:{wild:{type:st.WILD,music:"music_mr_psy",name:V("destination.MAISON_PSY"),map:"maison_mr_psy",spawnOtherTeam(){return Pe({[Kt.ref]:1,[Ft.ref]:.2,[kt.ref]:.2,[Ht.ref]:.2})}},trainer:{type:st.ARENA,music:"music_mr_psy",name:V("destination.MAISON_PSY"),map:"maison_mr_psy",trainer:Ug,spawnOtherTeam(){return te([ts,ts,fn,ss,Oi,fl,ca,Ll,xa,fi])}}},preload(E){E.load.tilemapTiledJSON("maison_mr_psy","assets/maps/maison_mr_psy.json"),Nt("music_mr_psy","assets/audio/music/16 Guide.mp3")}},Rd={ref:"MONT_BRAISE",name:V("destination.MONT_BRAISE"),nextDestinations:{BOURG_PALETTE:[[3,-.5],[0,-1.5],[-1,0]],CRAMOISILE:[[3,-.5],[0,2.5]]},coordinates:[3*16-8,17*16-8],type:Ct.WILD,icons:["type_FEU"],rooms:{wild:{name:V("destination.MONT_BRAISE"),map:"mont_braise",type:st.WILD,music:"music_mont_braise",spawnOtherTeam(){return!k.pokedexSeen.has(So.ref)&&k.day>=20&&Math.random()<10/100?[new Tt({entry:So,owner:He,level:50,x:3,y:1})]:Pe({[Ht.ref]:1,[Vt.ref]:.1,[bt.ref]:.1,[Ft.ref]:.1})}},trainer:{type:st.ARENA,name:V("destination.MONT_BRAISE"),map:"mont_braise",music:"music_mont_braise",trainer:Zg,spawnOtherTeam(){return te([er,Qn,Ms,Cl,si,ua,ws,Nl])}}},preload(E){E.load.tilemapTiledJSON("mont_braise","assets/maps/mont_braise.json"),Nt("music_mont_braise","assets/audio/music/49 Unknown Song.mp3")}},ty={ref:"PARC_SAFARI",name:V("destination.PARC_SAFARI"),nextDestinations:{PARMANIE:[[0,2]]},coordinates:[13*16-8,14*16-8],type:Ct.SPECIAL,icons:["safari"],subtext:V("destination_subtext.SAFARI"),rooms:{safari:{type:st.SAFARI,name:V("destination.PARC_SAFARI"),music:"music_safari",map:"safari1",maps:["safari1","safari2","safari3"],spawnOtherTeam:Yx}},preload(E){E.load.tilemapTiledJSON("safari1","assets/maps/safari1.json"),E.load.tilemapTiledJSON("safari2","assets/maps/safari2.json"),E.load.tilemapTiledJSON("safari3","assets/maps/safari3.json"),Nt("music_safari","assets/audio/music/36 Casino.mp3")}},Ld={ref:"PENSION",name:V("destination.PENSION"),nextDestinations:{AZURIA:[[0,-2]],SAFRANIA:[[0,2]]},coordinates:[14*16-8,5*16-8],type:Ct.SPECIAL,icons:["type_NORMAL"],subtext:"levage",rooms:{pension:{name:V("destination.PENSION"),type:st.PENSION,trainer:Kg,music:"music_pension_et_camp_nomade",map:"pension",spawnOtherTeam(){return k.pension}}},preload(E){E.load.tilemapTiledJSON("pension","assets/maps/pension.json"),Nt("music_pension_et_camp_nomade","assets/audio/music/47 Pikachu's Beach.mp3")}},ey={ref:"PISTE_CYCLABLE",name:V("destination.PISTE_CYCLABLE"),nextDestinations:{CELADOPOLE:[[0,-5]],PARMANIE:[[0,4],[4,0]]},coordinates:[9*16-8,12*16-8],type:Ct.WILD,icons:["type_POISON"],rooms:{wild:{type:st.WILD,name:V("destination.PISTE_CYCLABLE"),map:"piste_cyclable",music:"music_piste_cyclable",spawnOtherTeam(){return Pe({[Qt.ref]:1,[Ft.ref]:.4,[$t.ref]:.4})}},trainer:{type:st.ARENA,name:V("destination.PISTE_CYCLABLE"),map:"piste_cyclable",music:"music_piste_cyclable",trainer:Ig,spawnOtherTeam(){return te([hi,Jn,Ni,Ii,xl,li,hn,sn,Xi])}}},preload(E){E.load.tilemapTiledJSON("piste_cyclable","assets/maps/piste_cyclable.json"),Nt("music_piste_cyclable","assets/audio/music/34 Cycling.mp3")}},Od={type:st.WILD,name:V("destination.ROUTE_VICTOIRE"),music:"music_route_victoire",map:"route_victoire",spawnOtherTeam(){return Pe({[Vt.ref]:1,[bt.ref]:1,[Kt.ref]:1,[Ut.ref]:1,[Ht.ref]:.5,[wt.ref]:.5,[kt.ref]:.5,[$t.ref]:.5,[qt.ref]:.5,[Yt.ref]:.25,[_t.ref]:.25,[se.ref]:.25,[$t.ref]:.25})}},ia={ref:"ROUTE_VICTOIRE_ENTREE",name:V("destination.ROUTE_VICTOIRE_ENTREE"),subtext:V("destination_subtext.fast_travel"),nextDestinations:{JADIELLE:[[0,7],[3,0]]},coordinates:[2*16-8,5*16-8],type:Ct.WILD,icons:["cave_entrance"],rooms:{wild:Od},preload:Md,locked(){return k.player.badges.length<8},customRoomOrder(){return["wild"]}},sa={ref:"ROUTE_VICTOIRE_SORTIE",name:V("destination.ROUTE_VICTOIRE_SORTIE"),subtext:V("destination_subtext.fast_travel"),nextDestinations:{LIGUE:[[0,1],[1,0],[0,-1]]},coordinates:[1*16-8,3*16-8],type:Ct.SPECIAL,icons:["cave_entrance"],rooms:{wild:Od},preload:Md,customRoomOrder(){return["wild"]}};function Md(E){Nt("music_route_victoire","assets/audio/music/22 The Last Road.mp3"),E.load.tilemapTiledJSON("route_victoire","assets/maps/route_victoire.json")}const iy={ref:"TOUR_POKEMON",name:V("destination.TOUR_POKEMON"),nextDestinations:{SAFRANIA:[[-2,0]],LAVANVILLE:[[3,0]]},coordinates:[16*16-8,7*16-8],type:Ct.WILD,icons:["type_SPECTRE"],rooms:{wild:{name:V("destination.TOUR_POKEMON"),type:st.WILD,map:"tour_pokemon",music:"music_tour_pokemon",spawnOtherTeam(){return Pe({[Yt.ref]:1,[Ft.ref]:.2,[Kt.ref]:.2})}},trainer:{type:st.ARENA,name:V("destination.TOUR_POKEMON"),map:"tour_pokemon",music:"music_tour_pokemon",trainer:kg,spawnOtherTeam(){return te([li,li,li,ga,ma,ua,is,ts,Ea])}}},preload(E){E.load.tilemapTiledJSON("tour_pokemon","assets/maps/tour_pokemon.json"),Nt("music_tour_pokemon","assets/audio/music/41 Pokemon Tower.mp3")}},en={BOURG_PALETTE:Kn,JADIELLE:ah,CAVE_TAUPIQUEUR_OUEST:ta,CAVE_TAUPIQUEUR_EST:ea,FORET_JADE:Qx,ARGENTA:sh,COLLINE_ROYALE:Cd,COL_DE_MONTAGNE:Jx,MONT_SELENITE:ch,AZURIA:nh,GROTTE_AZUREE:qx,PENSION:Ld,CENTRALE:Ad,LAVANVILLE:oh,TOUR_POKEMON:iy,SAFRANIA:hd,DOJO:Zx,CELADOPOLE:od,MAISON_PSY:_x,CARMIN:ad,OCEANE_CARMIN:kn,OCEANE_CRAMOISILE:Ls,OCEANE_AZURIA:Os,FALAISES:$x,CAMP_NOMADE:kx,CHAMPS_VERDOYANTS:Kx,PARMANIE:lh,PARC_SAFARI:ty,PISTE_CYCLABLE:ey,ILES_ECUME:Pd,CRAMOISILE:rh,MONT_BRAISE:Rd,ROUTE_VICTOIRE_ENTREE:ia,ROUTE_VICTOIRE_SORTIE:sa,LIGUE:ld},sy=[kn,Ls,Os,ta,ea,ia,sa],Ru=new Map([[Os,kn],[kn,Ls],[Ls,Os],[ta,ea],[ea,ta],[ia,sa],[sa,ia]]),Lu=[{ref:"i1",coordinates:[136,72],nextDestinations:{ARGENTA:[[-2,0]],COLLINE_ROYALE:[[2,0]],CELADOPOLE:[[0,2]]},onReach:ry},{ref:"i2",coordinates:[152,40],nextDestinations:{COL_DE_MONTAGNE:[[-2,0]],AZURIA:[[4,0]],MONT_SELENITE:[[0,-1]]}},{ref:"i3",coordinates:[248,40],nextDestinations:{AZURIA:[[-2,0]],OCEANE_AZURIA:[[0,-1],[1,0],[0,-1]],CENTRALE:[[0,1],[1,0],[0,1]]}},{ref:"i4",coordinates:[264,168],nextDestinations:{CAVE_TAUPIQUEUR_EST:[[0,-1]],FALAISES:[[2,0]],CARMIN:[[-3,0]]}},{ref:"i5",coordinates:[88,252],nextDestinations:{BOURG_PALETTE:[[0,-1.5],[-1,0]],MONT_BRAISE:[[-3,.7]],CRAMOISILE:[[0,2.5]]}}],ny={[Ct.ARENA]:3403519,[Ct.WILD]:3407667,[Ct.SPECIAL]:16777011};function ry(){return new Promise(E=>k.wokeUpRonflex?E(!0):k.player.inventory[Tn.ref]>0?Mt([V("dialog.sleeping_pokemon.0"),V("dialog.sleeping_pokemon.1"),{[V("yes")]:()=>(Ga(jx),E(!0),null),[V("no")]:()=>(E(!1),null)}]):Mt([V("dialog.sleeping_pokemon.0")]).then(()=>E(!1)))}let ge;function ay(){const E=k.activeScene;ge=E.add.group();const A=7,C=50,R=lg(),F=R.pokemons.filter(p=>p.owner===xe).sort((p,a)=>(R.damageDone.get(a.uid)??0)-(R.damageDone.get(p.uid)??0)),B=R.pokemons.filter(p=>p.owner!==xe).sort((p,a)=>(R.damageDone.get(p.uid)??0)-(R.damageDone.get(a.uid)??0)),v=Math.max(...R.damageDone.values()),y=Math.max(...R.damageReceived.values()),t=Math.max(v,y,100);for(let p=0;p<6;p++)h(F[p],C,A+132+5+p*22,!0);for(let p=0;p<6;p++)h(B[p],C,A+5+p*22,!1);function h(p,a,n,r){if(!p)return;const e=r?a:a+220-64,s=n-(p.entry.portraitCropY??16)+1,o=E.add.graphics().setDepth(ft.MENU_LAYOUT);o.fillStyle(15262161).lineStyle(1,5131078).fillRect(e,n,64,22).strokeRect(e,n,64,22),ge==null||ge.add(o);const i=E.add.sprite(e,s,"pokemon_portraits");i.setOrigin(0,0),i.setCrop(0,p.entry.portraitCropY??16,64,21),i.play(`${p.entry.ref}_portrait`),i.setDepth(ft.MENU_OBJECTS),r&&(i.flipX=!0),ge==null||ge.add(i);const l=130,u=R.damageDone.get(p.uid)??0,f=r?a+64:a+220-65,d=E.add.graphics();d.setDepth(ft.MENU_OBJECTS).setScrollFactor(0),ge==null||ge.add(d);const c={color:"white",stroke:"black",strokeThickness:2},m=l*u/t;d.fillStyle(16711680).lineStyle(1,5131078).fillRect(r?f:f-m+1,n+6,m,10).strokeRect(r?f:f-m+1,n+6,m,10);const g=gt(r?f+m+2:f-m-2,n+11,u.toFixed(0),c).setOrigin(r?0:1,.5).setDepth(ft.MENU_TOOLTIPS);ge==null||ge.add(g)}ge.setDepth(ft.MENU),y1(E,ge,500)}function oy(){if(!ge)return;const E=k.activeScene;E1(E,ge,500).then(()=>{ge&&(ge.destroy(!0),ge=null)})}var Se=(E=>(E.CREATION="CREATION",E.PLACEMENT="PLACEMENT",E.CAPTURE="CAPTURE",E.LAUNCH="LAUNCH",E.FIGHT="FIGHT",E.ENDED="ENDED",E))(Se||{});class ly{constructor(){ut(this,"day");ut(this,"currentDestination");ut(this,"currentRoomIndex");ut(this,"roomOrder");ut(this,"players");ut(this,"board");ut(this,"stage");ut(this,"fightTime");ut(this,"fightTimer");ut(this,"fightClock");ut(this,"activeScene");ut(this,"activeMenu");ut(this,"activeDialog");ut(this,"starters");ut(this,"music");ut(this,"dialogStates");ut(this,"seed");ut(this,"lastCaptureDestination");ut(this,"lastTourMam");ut(this,"pension");ut(this,"pokedexSeen");ut(this,"pokedexCaptured");ut(this,"wokeUpRonflex");this.activeScene=null,this.reset(),window.gameState=this}reset(){this.day=0,this.currentDestination=Kn,this.currentRoomIndex=0;const A=new wo(1),C=new wo(2);this.players=[A,C],this.board=cd(A),this.stage="CREATION",this.activeMenu=null,this.activeDialog=null,this.starters=h1(),this.pension=[],this.dialogStates={},this.seed=Ce(1,4**10),this.lastCaptureDestination=null,this.lastTourMam=0,this.pokedexCaptured=new Set,this.pokedexSeen=new Set,this.wokeUpRonflex=!1}get player(){return this.players[0]}get currentRoom(){const A=this.roomOrder[this.currentRoomIndex];return this.currentDestination.rooms[A]}get allPokemonsOnBoard(){return[...k.board.playerTeam,...k.board.otherTeam]}hasBadge(A){return k.player.badges.includes(A.ref)}receiveBadge(A){k.player.badges.includes(A.ref)||k.player.badges.push(A.ref)}initGame(A){!A||!e1()?(k.reset(),this.pension=zx(),Ga(Kn)):this.activeScene.scene.start("MapScene")}goToNextRoom(){const A=this.roomOrder;this.currentRoomIndex++,this.currentRoomIndex>=A.length?k.exitDestination():k.initRoom()}exitDestination(){k.currentDestination.onExit&&k.currentDestination.onExit(),Ru.has(k.currentDestination)&&(k.currentDestination=Ru.get(k.currentDestination),k.lastCaptureDestination!=null&&(k.lastCaptureDestination=k.currentDestination)),this.nextDay(),k.activeScene.scene.start("MapScene")}nextDay(){k.day++,_g(),A1()}initRoom(){cf(),k.currentRoom.type===st.FREEWALK?k.activeScene.scene.start("RoomScene"):k.activeScene.scene.start("GameScene")}initFight(A){this.stage="LAUNCH",Le(),Mx(A),k.board.xpEarned=Nx(),hg(),gg(),A.time.addEvent({delay:900,callback:()=>{A.hideCenterText();for(const C of this.board.playerTeam)zo(C,A);if(k.currentRoom.type===st.ARENA)for(const C of this.board.otherTeam)zo(C,A)}}),A.time.addEvent({delay:2600,callback:()=>{this.stage="FIGHT",this.fightTimer=A.time.addEvent({delay:A.gameSpeed,callback:this.loopFight,callbackScope:this,loop:!0}),this.fightTime=0,this.fightClock=A.time.addEvent({delay:1e3,callback:this.onClockTick,callbackScope:this,loop:!0})}})}loopFight(){const A=k.activeScene;this.stage==="FIGHT"&&(k.allPokemonsOnBoard.forEach(C=>{pg(C,A),ng(C,A)}),v0(A),o1())}async endFight(A){const C=k.activeScene,R=k.currentRoom;this.stage="ENDED",og(),C.time.removeEvent(this.fightTimer),C.time.removeEvent(this.fightClock);const F=C.sprites.get("player"),B=A!==1;B?(F==null||F.play("trainer_victory"),Zr("text_victoire",C),R.type===st.WILD?Fe("music_victory_wild"):Fo.includes(R.trainer)?Fe("music_victory_champion"):Fe("music_victory_trainer")):(F==null||F.play("trainer_defeat"),Zr("text_defaite",C)),Ax(),f1(),Et(750).then(()=>{ug(),ay()});let v=(k.board.xpEarned||0)/k.player.team.length;v=Math.max(1,Math.ceil(v));const y=[];if(B?(R.type===st.ARENA&&R.trainer&&y.push(V("victory",{trainer:V(`trainer.${R.trainer.ref}`)})),y.push(V("victory_xp",{xp:Math.round(v/10)}))):R.type!==st.TUTORIAL&&y.push(V("defeat.0"),V("defeat.1")),k.player.team.forEach(t=>t.resetAfterFight()),await Mt(y),B)for(const t of k.player.team)await Mf(t,v);if(oy(),[st.ARENA,st.TUTORIAL].includes(k.currentRoom.type)){const t=k.currentRoom;if(await Mt(B?t.trainer.dialogs.victory:t.trainer.dialogs.defeat,{speaker:t.trainer.ref}),k.currentRoom.type===st.ARENA){let h=1;B&&(Fo.includes(t.trainer)?h=3:Jf.includes(t.trainer)?h=0:h=2),h>0&&await Ye(We,h,!1,"trainer")}}k.afterEnd(B)}endCapture(){const A=k.activeScene;this.stage="ENDED",A.time.removeEvent(this.fightTimer),A.time.removeEvent(this.fightClock);const C=A.sprites.get("player");return C==null||C.play("trainer_victory"),sd(),Et(100).then(()=>{if(k.currentRoom.type===st.TUTORIAL){const R=k.currentRoom;let F=R.trainer.dialogs.victory;return k.dialogStates.assistant_tuto===zn.AFTER_WILD&&(F=R.trainer.dialogs.step3),Mt(F,{speaker:R.trainer.ref})}}).then(()=>{k.afterEnd(!0)})}afterEnd(A){if(k.currentRoom.type===st.TUTORIAL&&k.dialogStates.assistant_tuto===zn.BEFORE_WILD){const C=k.currentRoom;Mt(C.trainer.dialogs.step2,{speaker:C.trainer.ref})}else(k.currentRoom.beforeExit||(()=>Promise.resolve()))().then(()=>Bi(400)).then(()=>{A?k.goToNextRoom():k.exitDestination()})}onClockTick(){this.fightTime++,this.fightTime>=30&&this.fightTime%10===0&&Sg(),k.allPokemonsOnBoard.forEach(A=>{A.buffs.clock.forEach(C=>C())})}registerPokemonsSeen(A){A.map(C=>C.entry.ref).forEach(C=>this.pokedexSeen.add(C))}registerPokemonCaptured(A){this.pokedexCaptured.add(A.entry.ref)}}const k=new ly;class hy extends Vs{constructor(){super("GameOverScene");ut(this,"canInteract",!1)}preload(){Bs(this),bi(this),Nt("music_ending","assets/audio/music/30 Ending.mp3")}create(){k.activeScene=this,nr(this),this.displayEndScreen(),Fe("music_ending")}onPressStart(){this.handleClick()}onPressA(){this.handleClick()}onClick(){this.handleClick()}handleClick(){this.canInteract&&Bi(2e3).then(()=>this.scene.start("MenuScene"))}async displayEndScreen(){k.player.team.forEach((C,R)=>{Et(3e3*R).then(()=>this.displayEndScreenPokemonInfo(C))}),await Et(18e3),this.displayPlayerResume(),await Et(1e4),this.canInteract=!0}displayEndScreenPokemonInfo(C){const R=this.add.group(),F=game.scale.height+80,B=game.scale.width/2,v=this.add.nineslice(B,F,"box1",void 0,280,84,8,8,8,8).setOrigin(.5,.5).setScrollFactor(0);R.add(v);const y=gt(B-50,F-28,`${V(`pokemon.${C.entry.ref}`)} Lv${C.level}`);R.add(y);const t=this.add.sprite(B-92,F-1,"pokemon_portraits");t.play(`${C.entry.ref}_portrait`),t.setScrollFactor(0),R.add(t);for(let h=0;h<C.types.length;h++){const p=this.add.sprite(B+112-h*20,F-22,"icons16x16",C.types[h].frameIndex);p.setScrollFactor(0),R.add(p)}this.tweens.add({targets:R.getChildren(),y:-80,duration:16e3,ease:"Linear",onComplete(){R.destroy()}}),R.setDepth(ft.MENU)}displayPlayerResume(){const C=this.add.group(),R=game.scale.height+80,F=game.scale.width/2,B=this.add.nineslice(F,R,"box1",void 0,280,84,8,8,8,8).setOrigin(.5,.5).setScrollFactor(0);C.add(B),C.add(gt(F-120,R-20,V("gameover.duree",{duree:k.day}))),C.add(gt(F-120,R+8,V("pokedex"))),C.add(gt(F-50,R+8,V("gameover.seen",{number:k.pokedexSeen.size}))),C.add(gt(F+20,R+8,V("gameover.caught",{number:k.pokedexCaptured.size})));const v=this.add.sprite(F+100,R-1,"trainer").setFrame(7);v.setScrollFactor(0),C.add(v),this.tweens.add({targets:C.getChildren(),y:"-= 240",duration:8e3,ease:"Linear"})}}function uy(E){E.load.audio("music_opening",["assets/audio/music/01 Opening Movie (Red, Green & Blue Version).mp3"]),E.load.audio("music_overworld",["assets/audio/music/02 Opening (part 2).mp3"]),E.load.audio("music_labo_chen",["assets/audio/music/32 Oak Research Lab.mp3"]),E.load.audio("music_guide",["assets/audio/music/16 Guide.mp3"]),E.load.audio("music_shop",["assets/audio/music/05 Pokemon Center.mp3"]),E.load.audio("music_battle_wild",["assets/audio/music/25 Battle (VS Wild Pokemon).mp3"]),E.load.audio("music_battle_trainer",["assets/audio/music/24 Battle (VS Trainer).mp3"]),E.load.audio("music_battle_champion",["assets/audio/music/23 Battle (VS Gym Leader).mp3"]),E.load.audio("music_victory_wild",["assets/audio/music/28 Victory (VS Wild Pokemon).mp3"]),E.load.audio("music_victory_trainer",["assets/audio/music/27 Victory (VS Trainer).mp3"]),E.load.audio("music_victory_champion",["assets/audio/music/29 Victory (VS Gym Leader).mp3"]),E.load.audio("success",["assets/audio/sounds/success.ogg"]),E.load.audio("item_received",["assets/audio/sounds/item_received.ogg"]),E.load.audio("pokemon_received",["assets/audio/sounds/pokemon_received.ogg"]),E.load.audio("level_up",["assets/audio/sounds/level_up.ogg"]),E.load.audio("rage",["assets/audio/sounds/rage.ogg"]),E.load.audio("heal_ailment",["assets/audio/sounds/heal_ailment.ogg"]),E.load.audio("fly",["assets/audio/sounds/fly.ogg"]),E.load.audio("press_ab",["assets/audio/sounds/press_ab.ogg"]),E.load.audio("tick",["assets/audio/sounds/tick.ogg"]),E.load.audio("refresh",["assets/audio/sounds/refresh.ogg"]),E.load.audio("menu_open",["assets/audio/sounds/menu_open.ogg"]),E.load.audio("menu_close",["assets/audio/sounds/menu_close.ogg"]),E.load.audio("ball_launch",["assets/audio/sounds/ball_launch.ogg"]),E.load.audio("ball_catch",["assets/audio/sounds/ball_catch.ogg"]),E.load.audio("door",["assets/audio/sounds/door.ogg"]),E.load.audio("run",["assets/audio/sounds/run.ogg"]),E.load.audio("oceane_horn",["assets/audio/sounds/oceane_horn.ogg"]),fy(E)}function fy(E){De.forEach(A=>{E.load.audio(Sa(A),[`assets/audio/sounds/cries/${sf(A)}.ogg`])})}class dy extends Vs{preload(){k.activeScene=this;const A=gt(game.scale.width/2,game.scale.height-8,V("loading"),{align:"center"});A.setOrigin(.5).setDepth(3);const C=this.add.graphics().fillStyle(6977852),R=this.add.graphics().fillStyle(9869705);R.fillRect(0,game.scale.height-16,game.scale.width,16),this.load.on("progress",F=>{A.setText(`${Math.round(F*100)}%`),C.fillRect(0,game.scale.height-16,game.scale.width*F,16),C.setDepth(2)}),this.load.on("complete",()=>{C.destroy(),R.destroy(),this.scene.start("MenuScene")}),uy(this),Bs(this),bi(this),Oa(this)}}let ue=null;const cy={[Ct.ARENA]:"#006699",[Ct.WILD]:"#669900",[Ct.SPECIAL]:"#996600"};function xo(E,A){ue==null||ue.destroy(!0);const C=32;ue=A.add.container(A.scale.width-8,A.scale.height-6);const R=cy[E.type],F=gt(-4,2,E.name).setOrigin(1,0).setDepth(ft.MENU_TOOLTIPS),B=gt(-6-E.icons.length*16,16,Hx(E),{color:R}).setOrigin(1,0).setDepth(ft.MENU_TOOLTIPS),v=Math.max(F.width,B.width+E.icons.length*16)+12,y=A.add.nineslice(-v,0,"box2",void 0,v,C,4,4,4,4).setOrigin(0,0).setDepth(ft.MENU_LAYOUT);ue==null||ue.add(y),ue==null||ue.add(B),ue==null||ue.add(F),E.icons.forEach((t,h)=>{const p=A.add.sprite(-12-h*16,22,"gui",0);p.play(t).setDepth(ft.MENU_OBJECTS),ue==null||ue.add(p)}),A.tweens.add({targets:[ue],y:"-=34",duration:200})}function Ou(E){ue&&E.tweens.add({targets:[ue],y:"+=40",delay:100,duration:100,onComplete(){ue==null||ue.destroy(!0),ue=null}})}function vy(){const E=k.activeScene,A=E.add.nineslice(E.scale.width/2,-32,"box2",void 0,160,0,4);A.setOrigin(.5,.5);const C=gt(E.scale.width/2,-30,V("day_number",{day:k.day}),{color:"#000"});C.setOrigin(.5,.5),C.setScrollFactor(0),A.setSize(C.width+24,C.height+12),A.setScrollFactor(0),A.setDepth(ft.MENU_TOOLTIPS),C.setDepth(ft.MENU_TOOLTIPS+1),E.add.tween({targets:[A,C],duration:400,y:"+=38",ease:"Linear"}),E.add.tween({targets:[A,C],duration:400,y:-36,ease:"Linear",delay:2e3})}function py(E){let A=0;for(const C of E){const[R,F]=C;A+=Math.abs(R)+Math.abs(F)}return A}class my extends Vs{constructor(){super("MapScene");ut(this,"gameSpeed",100);ut(this,"player");ut(this,"isMoving",!1);ut(this,"origin");ut(this,"originZone");ut(this,"availableDestinations");ut(this,"destinationSelected");ut(this,"destinationReached");ut(this,"intersectionReached");ut(this,"destinationsHighLightGroup");ut(this,"directions");ut(this,"directionsGroup");ut(this,"destinationPanelTween");this.sprites=new Map,this.graphics=new Map,this.availableDestinations=[],this.intersectionReached=null,this.destinationSelected=null,this.destinationsHighLightGroup=null,this.directionsGroup=null,this.origin=k.currentDestination,this.destinationReached=this.origin,this.originZone=null,this.destinationPanelTween=null,this.isMoving=!1,this.directions=Eh()}preload(){Bs(this),bi(this),Oa(this)}create(){k.activeScene=this,this.origin=k.currentDestination,this.intersectionReached=null,this.destinationReached=this.origin,this.destinationsHighLightGroup=this.add.group(),this.directionsGroup=this.add.group(),nr(this),Ra(this.anims),this.drawMap(),this.drawMapObjects(),this.drawBadges(),this.updateDestinations(),this.updateDirections(this.origin.nextDestinations),xo(this.origin,this),vy(),ud(),Fe("music_overworld"),pf(250)}update(){var C,R;if(this.isMoving)this.updatePlayerPosition();else{Ma(this);const{moveVector:F}=kl(this);if(F.length()>1){const B=Hl(F);if(B!=null&&this.directions[B]!=null){const y=(((C=this.intersectionReached)==null?void 0:C.nextDestinations)??((R=this.destinationReached)==null?void 0:R.nextDestinations)??this.origin.nextDestinations)[this.directions[B]];if(y!=null){const t=this.intersectionReached||this.destinationReached||this.origin;this.walkPath(y,t.coordinates)}}}}}onPressA(){if(k.activeMenu!=null)return ar();if(k.activeDialog)return ur();!this.isMoving&&this.destinationReached!=null&&(!this.destinationSelected||this.destinationSelected===this.destinationReached)&&Ga(this.destinationReached)}onPressStart(){}onClick(){Yo(this)}changeOrigin(C){var R;this.origin=C,(R=this.player)==null||R.setPosition(C.coordinates[0],C.coordinates[1]),this.destinationReached=C,this.updateDestinations(),this.updateDirections(this.origin.nextDestinations)}debugIntersections(){const C=this.add.graphics().fillStyle(16711680,.5);this.originZone&&C.fillRect(this.originZone.x-8,this.originZone.y-8,this.originZone.width,this.originZone.height),Lu.forEach(R=>{C.fillCircle(R.coordinates[0],R.coordinates[1],8).setDepth(9999)})}updatePlayerPosition(){var y,t;if(this.player==null)return;const{x:C,y:R}=this.player,F=Lu.find(h=>new Phaser.Geom.Circle(h.coordinates[0],h.coordinates[1],8).contains(C,R));if(F!=null&&!this.intersectionReached&&!this.destinationSelected)return this.destinationReached=null,this.intersectionReached=F,Et(200).then(()=>{var p,a;(p=this.player)==null||p.play("player_idle"),(a=this.player)==null||a.setPosition(F.coordinates[0],F.coordinates[1]),this.isMoving=!1}),(F.onReach||(()=>Promise.resolve(!0)))().then(p=>{p?Et(250).then(()=>{this.updateDirections(F.nextDestinations)}):this.walkPath(F.nextDestinations[this.origin.ref],F.coordinates)});const v=((y=this.originZone)==null?void 0:y.getBounds().contains(C,R+5))?this.origin:((t=this.availableDestinations.map(h=>this.sprites.get(`${h.ref}_highlight`)).find(h=>h==null?void 0:h.getBounds().contains(C,R+5)))==null?void 0:t.getData("destination"))??null;this.destinationReached!==v&&(v==null&&this.destinationReached!=null?Ou(this):v!=null&&(xo(v,this),(!this.destinationSelected||this.destinationSelected===v)&&Et(350).then(()=>{this.updateDirections(v.nextDestinations)})),this.destinationReached=v)}drawMap(){const C=this.make.tilemap({key:"overworld"}),R=C.addTilesetImage("overworld","overworld");R&&(C.createLayer("ground0",R),C.createLayer("ground1",R),C.createLayer("ground2",R),C.createLayer("top0",R))}drawMapObjects(){const[C,R]=k.currentDestination.coordinates;if(this.player=this.add.sprite(C,R,"characters"),this.player.play("player_idle").setDepth(ft.PLAYER),this.sprites.set("player",this.player),!k.hasBadge(ir)){const y=this.add.sprite(216,8,"map").play("cascade");this.sprites.set("cascade",y)}const[F,B]=this.getBoatCoordinates(),v=this.add.sprite(F*16-8,B*16-8,"map").play("boat");if(this.sprites.set("boat",v),!k.wokeUpRonflex){const y=this.add.sprite(136,72,"map").play("ronflex");this.sprites.set("ronflex",y)}}drawBadges(){const C=Co.length;Co.forEach((R,F)=>{const B=48+F%(C/2)*17,v=12+Math.floor(F/(C/2))*17,y=R.frameIndex+(k.hasBadge(R)?0:16),t=this.add.sprite(B,v,"icons16x16").setFrame(y);this.sprites.set(R.ref,t)})}updateDestinations(){var R;(R=this.destinationsHighLightGroup)==null||R.clear(!1,!0);const C=Object.keys(this.origin.nextDestinations).find(F=>!(F in en));if(C)return console.error(`DESTINATION NOT DECLARED: ${C}`);this.availableDestinations=Object.keys(this.origin.nextDestinations).map(F=>en[F]).filter(F=>!F.locked||!F.locked()).concat(this.origin);for(const F of this.availableDestinations){const[B,v]=F.coordinates,y=this.add.sprite(B,v,"map").play("highlight").setDepth(ft.MAP_HIGHLIGHT).setAlpha(.75).setTint(ny[F.type]??16777215);y.setData("destination",F),this.sprites.set(`${F.ref}_highlight`,y),this.registerDestination(F,y),F.preload&&(F.preloading=!0,F.preload(this),this.load.start(),this.load.on("complete",()=>{console.log(`finished preloading destination ${F.ref}`),F.preloading=!1}))}}registerDestination(C,R){var F;pe(R),(F=this.destinationsHighLightGroup)==null||F.add(R),R.on("over",()=>{xo(C,this)}),R.on("out",()=>{Ou(this)}),R.on("click",()=>{if(this.isMoving||this.destinationReached===C)return;this.destinationSelected=C;const B=this.destinationReached||this.intersectionReached||this.origin;if(C.ref in B.nextDestinations){const v=B.nextDestinations[C.ref];this.walkPath(v,B.coordinates)}else if(this.origin.ref in B.nextDestinations){const v=B.nextDestinations[this.origin.ref],y=this.origin.nextDestinations[C.ref];this.walkPath([...v,...y],B.coordinates)}})}updateDirections(C){var R;(R=this.directionsGroup)==null||R.clear(!1,!0),this.directions=Eh(),Object.entries(C).forEach(([F,B])=>{if(this.destinationReached!=null&&this.destinationReached!==this.origin&&F!==this.origin.ref)return;const v=Ca(...B[0]),y=en[F];v!=null&&(!y.locked||!y.locked())&&(this.directions[v]=F)}),Object.entries(this.directions).forEach(([F,B])=>{var h;if(B==null||!this.player)return;const[v,y]=sr(F),t=this.add.sprite(this.player.x+v*12,this.player.y+y*12,"map",20).play("map_direction_arrow");t.setDepth(ft.MENU_OBJECTS).setRotation(Wl(F)),(h=this.directionsGroup)==null||h.add(t),this.tweens.add({targets:[t],duration:300,ease:Phaser.Math.Easing.Sine,x:`+=${v*4}`,y:`+=${y*4}`,yoyo:!0,repeat:-1})})}walkPath(C,R){var y;if(!this.player)return;let B=R[0],v=R[1];this.player.setPosition(B,v),this.isMoving=!0,(y=this.directionsGroup)==null||y.clear(!1,!0),C.reduce(async(t,h)=>{var r,e,s,o;if(await t,this.intersectionReached&&!r0(this.intersectionReached.coordinates,R))return Promise.reject("STOP");const[p,a]=h,n=py([h])*1e3/2.5;return B+=p*16,v+=a*16,this.tweens.add({targets:[this.player],t:1,duration:n,x:`+=${p*16}`,y:`+=${a*16}`}),a>=1?(r=this.player)==null||r.play("player_down",!0):a<=-1?(e=this.player)==null||e.play("player_up",!0):p>=1?(s=this.player)==null||s.play("player_right",!0):p<=-1&&((o=this.player)==null||o.play("player_left",!0)),await Et(n)},Promise.resolve()).then(()=>{var t;this.intersectionReached=null,this.destinationSelected=null,Et(200).then(()=>{this.isMoving=!1}),(t=this.player)==null||t.play("player_idle"),this.updatePlayerPosition()}).catch(t=>{if(t!=="STOP")throw t})}getBoatCoordinates(){return[Kn,ah,Rd,rh,Pd,lh,Ls].includes(k.currentDestination)?[4,19]:[ch,nh,sh,Ad,Ld,oh,Os].includes(k.currentDestination)?[18,1]:[12,11]}}class gy extends Vs{constructor(){super("MenuScene");ut(this,"isIntroAnim",!0)}preload(){Bs(this),bi(this)}create(){k.activeScene=this,rf(this.anims),nr(this),Fe("music_opening"),this.isIntroAnim=!0,this.swipe("salameche",100,"left",120),this.swipe("bulbizarre",800,"right",240),this.swipe("carapuce",1500,"left",140),this.swipe("pikachu",2200,"right",260),this.swipe("minidraco",2900,"left",100),this.swipe("fantominus",3600,"right",220),this.swipeDiag("miaouss",4300,"top-left",1e3),this.swipeDiag("machoc",4800,"bottom-left",1e3),this.swipeDiag("roucool",5300,"bottom-right",1e3),this.swipeDiag("melofee",5800,"top-right",1e3),this.swipe("chenipan",6700,"left",60),this.swipe("racaillou",6700,"right",260),this.swipe("otaria",7400,"left",100),this.swipe("sabelette",7400,"right",220),this.swipe("nidoranm",8100,"left",140),this.swipe("abra",8100,"right",180),this.finalPose(7700)}onPressStart(){this.handleClick()}onPressA(){k.activeMenu!=null?ar():this.handleClick()}onPressB(){}onClick(){this.handleClick()}handleClick(){this.isIntroAnim&&this.skipIntro()}update(){Ma(this)}drawMenu(){const C=[{label:V("new_game"),x:16,y:0,value:"newgame"}];t1()&&(C[0].y=20,C.unshift({label:V("continue"),x:16,y:0,value:"continue"})),Gs({ref:"main_menu",x:100,y:260,width:120,height:44,background:"box2",offset:16,entries:C,handleChoice(R){R.value==="newgame"?k.initGame(!1):R.value==="continue"&&k.initGame(!0)}})}swipe(C,R,F,B){const v=F==="left"?350:-30,y=this.add.sprite(v,B,"pokemon_portraits").play(`${C}_portrait`);this.tweens.add({targets:[y],delay:R,duration:500,ease:"Linear",x:F==="left"?-30:350})}swipeDiag(C,R,F,B=1e3){const v=F==="top-left"||F==="bottom-left"?350:-30,y=F==="top-left"||F==="top-right"?350:-30,t=this.add.sprite(v,y,"pokemon_portraits").play(`${C}_portrait`);this.tweens.add({targets:[t],duration:B,delay:R,ease:"Linear",x:F==="top-left"||F==="bottom-left"?-30:350,y:F==="top-left"||F==="top-right"?-30:350})}skipIntro(){cf(),this.tweens.tweens.forEach(C=>{C.targets.forEach(R=>{C.stop(),R instanceof Phaser.GameObjects.GameObject&&R.destroy()})}),this.finalPose(0,!0)}finalPose(C,R=!1){const F=this.add.sprite(this.scale.width/2,-100,"logo");this.sprites.set("logo",F);const B=this.add.sprite(this.scale.width/2+17,399,"trainer").setFrame(7),v=this.add.sprite(this.scale.width/2-128,396,"pokemon_portraits").play("minidraco_portrait"),y=this.add.sprite(this.scale.width/2-115,408,"pokemon_portraits").play("nidoranm_portrait"),t=this.add.sprite(this.scale.width/2+74,400,"pokemon_portraits").play("abra_portrait"),h=this.add.sprite(this.scale.width/2+50,397,"pokemon_portraits").play("roucool_portrait"),p=this.add.sprite(this.scale.width/2-74,397,"pokemon_portraits").play("melofee_portrait"),a=this.add.sprite(this.scale.width/2-98,422,"pokemon_portraits").play("otaria_portrait"),n=this.add.sprite(this.scale.width/2-23,404,"pokemon_portraits").play("pikachu_portrait"),r=this.add.sprite(this.scale.width/2-8,430,"pokemon_portraits").play("salameche_portrait"),e=this.add.sprite(this.scale.width/2+48,426,"pokemon_portraits").play("bulbizarre_portrait"),s=this.add.sprite(this.scale.width/2+114,402,"pokemon_portraits").play("fantominus_portrait"),o=this.add.sprite(this.scale.width/2-45,412,"pokemon_portraits").play("sabelette_portrait"),i=this.add.sprite(this.scale.width/2-70,425,"pokemon_portraits").play("carapuce_portrait"),l=this.add.sprite(this.scale.width/2+142,408,"pokemon_portraits").play("machoc_portrait"),u=this.add.sprite(this.scale.width/2+82,423,"pokemon_portraits").play("miaouss_portrait"),f=this.add.sprite(this.scale.width/2+120,429,"pokemon_portraits").play("racaillou_portrait"),d=this.add.sprite(this.scale.width/2-138,423,"pokemon_portraits").play("chenipan_portrait");this.tweens.add({targets:[F],y:100,duration:R?0:2e3,delay:R?0:C+2e3,ease:Phaser.Math.Easing.Bounce.Out}),this.tweens.add({targets:[B,r,n,e,i,s,d,y,v,p,h,l,f,a,o,u,t],y:"-=200",duration:R?0:2500,delay:C,ease:"Linear"}),Et(R?0:C+4e3).then(()=>{this.isIntroAnim=!1,Fe("music_overworld"),this.drawMenu()})}}class xy extends At.Game{constructor(C){super(C);ut(this,"state");this.state=k,document.getElementById("infos").innerHTML=`
    <h1>Pokchess v 1.2</h1>
    <p class="description">${V("home.description.0")}</p>
	<p class="description">${V("home.description.1")}</p>
	<p class="description">${V("home.description.2")}</p>
	<p class="description">${V("home.description.3")}</p>
    <div id="options">
      <p>${V("home.controls")}: 
        <img alt="${V("home.gamepad")}" height="24" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBhcmlhLWhpZGRlbj0idHJ1ZSIgcm9sZT0iaW1nIiBjbGFzcz0iaWNvbmlmeSBpY29uaWZ5LS1tZGkiIHdpZHRoPSIxZW0iIGhlaWdodD0iMWVtIiBwcmVzZXJ2ZUFzcGVjdFJhdGlvPSJ4TWlkWU1pZCBtZWV0IiB2aWV3Qm94PSIwIDAgMjQgMjQiPjxwYXRoIGZpbGw9IiM4ODg4ODgiIGQ9Ik03IDZoMTBhNiA2IDAgMCAxIDYgNmE2IDYgMCAwIDEtNiA2Yy0xLjc4IDAtMy4zNy0uNzctNC40Ny0yaC0xLjA2Yy0xLjEgMS4yMy0yLjY5IDItNC40NyAyYTYgNiAwIDAgMS02LTZhNiA2IDAgMCAxIDYtNk02IDl2Mkg0djJoMnYyaDJ2LTJoMnYtMkg4VjlINm05LjUgM2ExLjUgMS41IDAgMCAwLTEuNSAxLjVhMS41IDEuNSAwIDAgMCAxLjUgMS41YTEuNSAxLjUgMCAwIDAgMS41LTEuNWExLjUgMS41IDAgMCAwLTEuNS0xLjVtMy0zYTEuNSAxLjUgMCAwIDAtMS41IDEuNWExLjUgMS41IDAgMCAwIDEuNSAxLjVhMS41IDEuNSAwIDAgMCAxLjUtMS41QTEuNSAxLjUgMCAwIDAgMTguNSA5WiI+PC9wYXRoPjwvc3ZnPg==" />
        <img alt="${V("home.keyboard")}" height="24" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBhcmlhLWhpZGRlbj0idHJ1ZSIgcm9sZT0iaW1nIiBjbGFzcz0iaWNvbmlmeSBpY29uaWZ5LS16b25kaWNvbnMiIHdpZHRoPSIxZW0iIGhlaWdodD0iMWVtIiBwcmVzZXJ2ZUFzcGVjdFJhdGlvPSJ4TWlkWU1pZCBtZWV0IiB2aWV3Qm94PSIwIDAgMjAgMjAiPjxwYXRoIGZpbGw9IiM4ODg4ODgiIGQ9Ik0wIDZjMC0xLjEuOS0yIDItMmgxNmEyIDIgMCAwIDEgMiAydjhhMiAyIDAgMCAxLTIgMkgyYTIgMiAwIDAgMS0yLTJWNnptMiAwdjJoMlY2SDJ6bTEgM3YyaDJWOUgzem0tMSAzdjJoMnYtMkgyem0zIDB2MmgxMHYtMkg1em0xMSAwdjJoMnYtMmgtMnpNNiA5djJoMlY5SDZ6bTMgMHYyaDJWOUg5em0zIDB2MmgyVjloLTJ6bTMgMHYyaDJWOWgtMnpNNSA2djJoMlY2SDV6bTMgMHYyaDJWNkg4em0zIDB2MmgyVjZoLTJ6bTMgMHYyaDRWNmgtNHoiPjwvcGF0aD48L3N2Zz4=" />
        <img alt="${V("home.mouse")}" height="24" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBhcmlhLWhpZGRlbj0idHJ1ZSIgcm9sZT0iaW1nIiBjbGFzcz0iaWNvbmlmeSBpY29uaWZ5LS13cGYiIHdpZHRoPSIxZW0iIGhlaWdodD0iMWVtIiBwcmVzZXJ2ZUFzcGVjdFJhdGlvPSJ4TWlkWU1pZCBtZWV0IiB2aWV3Qm94PSIwIDAgMjYgMjYiPjxwYXRoIGZpbGw9IiM4ODg4ODgiIGQ9Ik0yMC42MjUgMy4yNWMtLjYuMDMzLTEuMTkyLjE4Ni0xLjcxOS40MzhjLTEuNDA1LjY3LTIuNTc2IDEuODU3LTMuNDY4IDIuNzVhLjguOCAwIDEgMCAxLjEyNCAxLjEyNWMuODgtLjg4IDEuOTktMS45MSAzLjAzMi0yLjQwN2MuNTIxLS4yNDguOTkyLS4zNTggMS40MzctLjMxMmMuNDQ1LjA0Ni45MDMuMjE1IDEuNDA3LjcxOGMuODQ5Ljg1Ljg5NyAxLjU2Ni41MyAyLjU2M2MtLjM2NS45OTctMS4yNzcgMi4xODUtMi4zNzQgMy4yODFjLTEuMDUgMS4wNS0xLjgzNCAyLjAyOC0yLjE4OCAzLjA2M2EyLjg4NCAyLjg4NCAwIDAgMCAuNjg4IDNjLjgyMi44MjIgMi4wMTEgMS4wMSAzLjA5My41OTNjMS4wODMtLjQxNiAyLjE2My0xLjI4NyAzLjM3NS0yLjVhLjguOCAwIDEgMC0xLjEyNS0xLjEyNGMtMS4xMzkgMS4xMzktMi4xMiAxLjg1OC0yLjgxMiAyLjEyNGMtLjY5Mi4yNjctLjk2Ny4yMjEtMS40MDYtLjIxOGMtLjQ1LS40NS0uNDk0LS43NTItLjI4Mi0xLjM3NWMuMjEzLS42MjMuODE4LTEuNDc0IDEuNzgyLTIuNDM4YzEuMTc1LTEuMTc0IDIuMjM5LTIuNDUgMi43NS0zLjg0NGMuNTEtMS4zOTIuMzI4LTMuMDE1LS45MDctNC4yNWMtLjcxNC0uNzE1LTEuNTI0LTEuMTAzLTIuMzQzLTEuMTg3YTMuNjc4IDMuNjc4IDAgMCAwLS41OTQgMHptLTEwLjY4OCAzQTYuNDcyIDYuNDcyIDAgMCAwIDUuNzIgOC4xNTZMNC42NTYgOS4yMmw0LjAzMiA0LjAzMWwxLjA5My0xLjA5NGExLjcxNCAxLjcxNCAwIDAgMSAuMzEzLTEuOTY5bDEuMDk0LTEuMDkzYTEuNzEzIDEuNzEzIDAgMCAxIDEuOTY4LS4zMTNsMS4xNTYtMS4xNTZBNi41NiA2LjU2IDAgMCAwIDkuOTM5IDYuMjV6TTE1LjUgOC43ODFMMTQuMjgxIDEwYTEuNjk2IDEuNjk2IDAgMCAxLS4zNzUgMS44MTNsLTEuMDk0IDEuMDkzYTEuNjk2IDEuNjk2IDAgMCAxLTEuODEyLjM3NWwtMS4xNTYgMS4xNTZsNC4wNjIgNC4wMzJsMS4wNjMtMS4wNjNjMi4zNTYtMi4zNTYgMi41MjItNi4wNTkuNTMxLTguNjI1em0tMy4wOTQuODEzYS43MjUuNzI1IDAgMCAwLS41LjIxOWwtMS4wOTQgMS4wOTNhLjcxNS43MTUgMCAwIDAgMCAxbC4yODIuMjgxYS43MTkuNzE5IDAgMCAwIC41LjIyYS43MjMuNzIzIDAgMCAwIC41LS4yMmwxLjA5NC0xLjA5M2EuNzIuNzIgMCAwIDAgLjIxOC0uNWEuNzIzLjcyMyAwIDAgMC0uMjE5LS41bC0uMjgtLjI4MWEuNzEzLjcxMyAwIDAgMC0uNS0uMjJ6bS04LjcxOS41OTRsLTEuNSAxLjQ2OGMtMi41NTUgMi41NTYtMi41NTUgNi43MjUgMCA5LjI4MWE2LjU0IDYuNTQgMCAwIDAgOS4yNSAwbDEuNS0xLjVsLTkuMjUtOS4yNXoiPjwvcGF0aD48L3N2Zz4=" />
      </p>
      <p>
        ${V("home.volume")}:
        <label>${V("home.music")} <input id="volume_music" type="range" min="0" max="100" value="20" /></label>
        <label>${V("home.sfx")} <input id="volume_sfx" type="range" min="0" max="100" value="20" /></label>
      </p>
      <p>
        <label>
          ${V("home.language")}:
          <select id="language_select">
            <option value="en">English</option>
            <option value="fr">Franais</option>
          </select>
        </label>
      </p>
    </div>
    `,Om(),Qm();const R=document.getElementById("language_select");R.value=Uh.language,R.onchange=F=>{Uh.changeLanguage(R.value),window.location.reload()}}}function yy(){const E=new xy({type:At.AUTO,parent:"game",backgroundColor:"#CACDB8",scale:{width:320,height:320,mode:At.Scale.FIT,autoCenter:At.Scale.CENTER_BOTH},input:{gamepad:!0,mouse:!0,touch:!0},render:{pixelArt:!0},physics:{default:"arcade",arcade:{debug:!1}},scene:[dy,gy,Qf,my,nd,hy,af]});globalThis.game=E}Cm.then(()=>{switch(window.location.pathname){case"/debug":zv();break;default:yy();break}});"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("./sw.js",{scope:"./"}).then(E=>{console.log("ServiceWorker registration successful with scope: ",E.scope)},E=>{console.log("ServiceWorker registration failed: ",E)})});
